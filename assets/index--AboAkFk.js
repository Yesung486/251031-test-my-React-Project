(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function l(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=l(r);fetch(r.href,a)}})();var im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function td(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cf={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Q1(){if(lm)return Zs;lm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,r,a){var c=null;if(a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),"key"in r){a={};for(var f in r)f!=="key"&&(a[f]=r[f])}else a=r;return r=a.ref,{$$typeof:n,type:o,key:c,ref:r!==void 0?r:null,props:a}}return Zs.Fragment=e,Zs.jsx=l,Zs.jsxs=l,Zs}var om;function W1(){return om||(om=1,cf.exports=Q1()),cf.exports}var m=W1(),ff={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Z1(){if(sm)return Ye;sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=S&&F[S]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function I(F,J,ee){this.props=F,this.context=J,this.refs=N,this.updater=ee||E}I.prototype.isReactComponent={},I.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},I.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function P(){}P.prototype=I.prototype;function D(F,J,ee){this.props=F,this.context=J,this.refs=N,this.updater=ee||E}var V=D.prototype=new P;V.constructor=D,C(V,I.prototype),V.isPureReactComponent=!0;var A=Array.isArray;function M(){}var L={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function U(F,J,ee){var de=ee.ref;return{$$typeof:n,type:F,key:J,ref:de!==void 0?de:null,props:ee}}function k(F,J){return U(F.type,J,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function O(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ee){return J[ee]})}var j=/\/+/g;function K(F,J){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):J.toString(36)}function Q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(M,M):(F.status="pending",F.then(function(J){F.status==="pending"&&(F.status="fulfilled",F.value=J)},function(J){F.status==="pending"&&(F.status="rejected",F.reason=J)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Y(F,J,ee,de,be){var ce=typeof F;(ce==="undefined"||ce==="boolean")&&(F=null);var he=!1;if(F===null)he=!0;else switch(ce){case"bigint":case"string":case"number":he=!0;break;case"object":switch(F.$$typeof){case n:case e:he=!0;break;case g:return he=F._init,Y(he(F._payload),J,ee,de,be)}}if(he)return be=be(F),he=de===""?"."+K(F,0):de,A(be)?(ee="",he!=null&&(ee=he.replace(j,"$&/")+"/"),Y(be,J,ee,"",function(Ue){return Ue})):be!=null&&(q(be)&&(be=k(be,ee+(be.key==null||F&&F.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+he)),J.push(be)),1;he=0;var ge=de===""?".":de+":";if(A(F))for(var Ne=0;Ne<F.length;Ne++)de=F[Ne],ce=ge+K(de,Ne),he+=Y(de,J,ee,ce,be);else if(Ne=v(F),typeof Ne=="function")for(F=Ne.call(F),Ne=0;!(de=F.next()).done;)de=de.value,ce=ge+K(de,Ne++),he+=Y(de,J,ee,ce,be);else if(ce==="object"){if(typeof F.then=="function")return Y(Q(F),J,ee,de,be);throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return he}function te(F,J,ee){if(F==null)return F;var de=[],be=0;return Y(F,de,"","",function(ce){return J.call(ee,ce,be++)}),de}function oe(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(ee){(F._status===0||F._status===-1)&&(F._status=1,F._result=ee)},function(ee){(F._status===0||F._status===-1)&&(F._status=2,F._result=ee)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var xe=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ue={map:te,forEach:function(F,J,ee){te(F,function(){J.apply(this,arguments)},ee)},count:function(F){var J=0;return te(F,function(){J++}),J},toArray:function(F){return te(F,function(J){return J})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ye.Activity=b,Ye.Children=ue,Ye.Component=I,Ye.Fragment=l,Ye.Profiler=r,Ye.PureComponent=D,Ye.StrictMode=o,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(F){return L.H.useMemoCache(F)}},Ye.cache=function(F){return function(){return F.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(F,J,ee){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var de=C({},F.props),be=F.key;if(J!=null)for(ce in J.key!==void 0&&(be=""+J.key),J)!R.call(J,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&J.ref===void 0||(de[ce]=J[ce]);var ce=arguments.length-2;if(ce===1)de.children=ee;else if(1<ce){for(var he=Array(ce),ge=0;ge<ce;ge++)he[ge]=arguments[ge+2];de.children=he}return U(F.type,be,de)},Ye.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Ye.createElement=function(F,J,ee){var de,be={},ce=null;if(J!=null)for(de in J.key!==void 0&&(ce=""+J.key),J)R.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=J[de]);var he=arguments.length-2;if(he===1)be.children=ee;else if(1<he){for(var ge=Array(he),Ne=0;Ne<he;Ne++)ge[Ne]=arguments[Ne+2];be.children=ge}if(F&&F.defaultProps)for(de in he=F.defaultProps,he)be[de]===void 0&&(be[de]=he[de]);return U(F,ce,be)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(F){return{$$typeof:f,render:F}},Ye.isValidElement=q,Ye.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:oe}},Ye.memo=function(F,J){return{$$typeof:h,type:F,compare:J===void 0?null:J}},Ye.startTransition=function(F){var J=L.T,ee={};L.T=ee;try{var de=F(),be=L.S;be!==null&&be(ee,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(M,xe)}catch(ce){xe(ce)}finally{J!==null&&ee.types!==null&&(J.types=ee.types),L.T=J}},Ye.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ye.use=function(F){return L.H.use(F)},Ye.useActionState=function(F,J,ee){return L.H.useActionState(F,J,ee)},Ye.useCallback=function(F,J){return L.H.useCallback(F,J)},Ye.useContext=function(F){return L.H.useContext(F)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(F,J){return L.H.useDeferredValue(F,J)},Ye.useEffect=function(F,J){return L.H.useEffect(F,J)},Ye.useEffectEvent=function(F){return L.H.useEffectEvent(F)},Ye.useId=function(){return L.H.useId()},Ye.useImperativeHandle=function(F,J,ee){return L.H.useImperativeHandle(F,J,ee)},Ye.useInsertionEffect=function(F,J){return L.H.useInsertionEffect(F,J)},Ye.useLayoutEffect=function(F,J){return L.H.useLayoutEffect(F,J)},Ye.useMemo=function(F,J){return L.H.useMemo(F,J)},Ye.useOptimistic=function(F,J){return L.H.useOptimistic(F,J)},Ye.useReducer=function(F,J,ee){return L.H.useReducer(F,J,ee)},Ye.useRef=function(F){return L.H.useRef(F)},Ye.useState=function(F){return L.H.useState(F)},Ye.useSyncExternalStore=function(F,J,ee){return L.H.useSyncExternalStore(F,J,ee)},Ye.useTransition=function(){return L.H.useTransition()},Ye.version="19.2.3",Ye}var am;function nd(){return am||(am=1,ff.exports=Z1()),ff.exports}var B=nd();const eS=td(B);var df={exports:{}},ea={},hf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function tS(){return rm||(rm=1,(function(n){function e(Y,te){var oe=Y.length;Y.push(te);e:for(;0<oe;){var xe=oe-1>>>1,ue=Y[xe];if(0<r(ue,te))Y[xe]=te,Y[oe]=ue,oe=xe;else break e}}function l(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var te=Y[0],oe=Y.pop();if(oe!==te){Y[0]=oe;e:for(var xe=0,ue=Y.length,F=ue>>>1;xe<F;){var J=2*(xe+1)-1,ee=Y[J],de=J+1,be=Y[de];if(0>r(ee,oe))de<ue&&0>r(be,ee)?(Y[xe]=be,Y[de]=oe,xe=de):(Y[xe]=ee,Y[J]=oe,xe=J);else if(de<ue&&0>r(be,oe))Y[xe]=be,Y[de]=oe,xe=de;else break e}}return te}function r(Y,te){var oe=Y.sortIndex-te.sortIndex;return oe!==0?oe:Y.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,b=null,S=3,v=!1,E=!1,C=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var te=l(h);te!==null;){if(te.callback===null)o(h);else if(te.startTime<=Y)o(h),te.sortIndex=te.expirationTime,e(p,te);else break;te=l(h)}}function A(Y){if(C=!1,V(Y),!E)if(l(p)!==null)E=!0,M||(M=!0,O());else{var te=l(h);te!==null&&Q(A,te.startTime-Y)}}var M=!1,L=-1,R=5,U=-1;function k(){return N?!0:!(n.unstable_now()-U<R)}function q(){if(N=!1,M){var Y=n.unstable_now();U=Y;var te=!0;try{e:{E=!1,C&&(C=!1,P(L),L=-1),v=!0;var oe=S;try{t:{for(V(Y),b=l(p);b!==null&&!(b.expirationTime>Y&&k());){var xe=b.callback;if(typeof xe=="function"){b.callback=null,S=b.priorityLevel;var ue=xe(b.expirationTime<=Y);if(Y=n.unstable_now(),typeof ue=="function"){b.callback=ue,V(Y),te=!0;break t}b===l(p)&&o(p),V(Y)}else o(p);b=l(p)}if(b!==null)te=!0;else{var F=l(h);F!==null&&Q(A,F.startTime-Y),te=!1}}break e}finally{b=null,S=oe,v=!1}te=void 0}}finally{te?O():M=!1}}}var O;if(typeof D=="function")O=function(){D(q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=q,O=function(){K.postMessage(null)}}else O=function(){I(q,0)};function Q(Y,te){L=I(function(){Y(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var oe=S;S=te;try{return Y()}finally{S=oe}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=S;S=Y;try{return te()}finally{S=oe}},n.unstable_scheduleCallback=function(Y,te,oe){var xe=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,Y){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=oe+ue,Y={id:g++,callback:te,priorityLevel:Y,startTime:oe,expirationTime:ue,sortIndex:-1},oe>xe?(Y.sortIndex=oe,e(h,Y),l(p)===null&&Y===l(h)&&(C?(P(L),L=-1):C=!0,Q(A,oe-xe))):(Y.sortIndex=ue,e(p,Y),E||v||(E=!0,M||(M=!0,O()))),Y},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Y){var te=S;return function(){var oe=S;S=te;try{return Y.apply(this,arguments)}finally{S=oe}}}})(pf)),pf}var um;function nS(){return um||(um=1,hf.exports=tS()),hf.exports}var mf={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function iS(){if(cm)return Zt;cm=1;var n=nd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(p,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:p,containerInfo:h,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Zt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(p,h,null,g)},Zt.flushSync=function(p){var h=c.T,g=o.p;try{if(c.T=null,o.p=2,p)return p()}finally{c.T=h,o.p=g,o.d.f()}},Zt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(p,h))},Zt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Zt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?o.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:v}):g==="script"&&o.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);o.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(p)},Zt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,b=f(g,h.crossOrigin);o.d.L(p,g,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);o.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(p)},Zt.requestFormReset=function(p){o.d.r(p)},Zt.unstable_batchedUpdates=function(p,h){return p(h)},Zt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var fm;function lS(){if(fm)return mf.exports;fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=iS(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function oS(){if(dm)return ea;dm=1;var n=nS(),e=nd(),l=lS();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(a(t)!==t)throw Error(o(188))}function h(t){var i=t.alternate;if(!i){if(i=a(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,u=i;;){var x=s.return;if(x===null)break;var T=x.alternate;if(T===null){if(u=x.return,u!==null){s=u;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===s)return p(x),t;if(T===u)return p(x),i;T=T.sibling}throw Error(o(188))}if(s.return!==u.return)s=x,u=T;else{for(var _=!1,H=x.child;H;){if(H===s){_=!0,s=x,u=T;break}if(H===u){_=!0,u=x,s=T;break}H=H.sibling}if(!_){for(H=T.child;H;){if(H===s){_=!0,s=T,u=x;break}if(H===u){_=!0,u=T,s=x;break}H=H.sibling}if(!_)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case U:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case D:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return i=t.displayName||null,i!==null?i:K(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return K(t(i))}catch{}}return null}var Q=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],ue=-1;function F(t){return{current:t}}function J(t){0>ue||(t.current=xe[ue],xe[ue]=null,ue--)}function ee(t,i){ue++,xe[ue]=t.current,t.current=i}var de=F(null),be=F(null),ce=F(null),he=F(null);function ge(t,i){switch(ee(ce,i),ee(be,t),ee(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Np(i),t=Ap(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(de),ee(de,t)}function Ne(){J(de),J(be),J(ce)}function Ue(t){t.memoizedState!==null&&ee(he,t);var i=de.current,s=Ap(i,t.type);i!==s&&(ee(be,t),ee(de,s))}function _e(t){be.current===t&&(J(de),J(be)),he.current===t&&(J(he),Xs._currentValue=oe)}var Se,Re;function Le(t){if(Se===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Se=i&&i[1]||"",Re=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+t+Re}var Oe=!1;function Pe(t,i){if(!t||Oe)return"";Oe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(pe){var fe=pe}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(pe){fe=pe}t.call(ve.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=u.DetermineComponentFrameRoot(),_=T[0],H=T[1];if(_&&H){var Z=_.split(`
`),re=H.split(`
`);for(x=u=0;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;for(;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;if(u===Z.length||x===re.length)for(u=Z.length-1,x=re.length-1;1<=u&&0<=x&&Z[u]!==re[x];)x--;for(;1<=u&&0<=x;u--,x--)if(Z[u]!==re[x]){if(u!==1||x!==1)do if(u--,x--,0>x||Z[u]!==re[x]){var me=`
`+Z[u].replace(" at new "," at ");return t.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",t.displayName)),me}while(1<=u&&0<=x);break}}}finally{Oe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Le(s):""}function yt(t,i){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==i&&i!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Pe(t.type,!1);case 11:return Pe(t.type.render,!1);case 1:return Pe(t.type,!0);case 31:return Le("Activity");default:return""}}function rn(t){try{var i="",s=null;do i+=yt(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,fi=n.unstable_scheduleCallback,Mn=n.unstable_cancelCallback,di=n.unstable_shouldYield,Ci=n.unstable_requestPaint,Rt=n.unstable_now,jt=n.unstable_getCurrentPriorityLevel,_n=n.unstable_ImmediatePriority,nl=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,$n=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,wi=n.log,St=n.unstable_setDisableYieldValue,Bt=null,bt=null;function Rn(t){if(typeof wi=="function"&&St(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Bt,t)}catch{}}var qt=Math.clz32?Math.clz32:rs,ss=Math.log,as=Math.LN2;function rs(t){return t>>>=0,t===0?32:31-(ss(t)/as|0)|0}var Xn=256,il=262144,Ni=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var x=0,T=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var H=u&134217727;return H!==0?(u=H&~T,u!==0?x=Kn(u):(_&=H,_!==0?x=Kn(_):s||(s=H&~t,s!==0&&(x=Kn(s))))):(H=u&~T,H!==0?x=Kn(H):_!==0?x=Kn(_):s||(s=u&~t,s!==0&&(x=Kn(s)))),x===0?0:i!==0&&i!==x&&(i&T)===0&&(T=x&-x,s=i&-i,T>=s||T===32&&(s&4194048)!==0)?i:x}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function us(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),t}function Dl(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function pi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function cs(t,i,s,u,x,T){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var H=t.entanglements,Z=t.expirationTimes,re=t.hiddenUpdates;for(s=_&~s;0<s;){var me=31-qt(s),ve=1<<me;H[me]=0,Z[me]=-1;var fe=re[me];if(fe!==null)for(re[me]=null,me=0;me<fe.length;me++){var pe=fe[me];pe!==null&&(pe.lane&=-536870913)}s&=~ve}u!==0&&ho(t,u,0),T!==0&&x===0&&t.tag!==0&&(t.suspendedLanes|=T&~(_&~i))}function ho(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-qt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function po(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-qt(s),x=1<<u;x&i|t[u]&i&&(t[u]|=i),s&=~x}}function Pl(t,i){var s=i&-i;return s=(s&42)!==0?1:Ul(s),(s&(t.suspendedLanes|i))!==0?0:s}function Ul(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ll(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Kp(t.type))}function mo(t,i){var s=te.p;try{return te.p=t,i()}finally{te.p=s}}var In=Math.random().toString(36).slice(2),w="__reactFiber$"+In,G="__reactProps$"+In,X="__reactContainer$"+In,z="__reactEvents$"+In,W="__reactListeners$"+In,se="__reactHandles$"+In,$="__reactResources$"+In,le="__reactMarker$"+In;function Ee(t){delete t[w],delete t[G],delete t[z],delete t[W],delete t[se]}function Ce(t){var i=t[w];if(i)return i;for(var s=t.parentNode;s;){if(i=s[X]||s[w]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Dp(t);t!==null;){if(s=t[w])return s;t=Dp(t)}return i}t=s,s=t.parentNode}return null}function we(t){if(t=t[w]||t[X]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function $e(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Fe(t){var i=t[$];return i||(i=t[$]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function tt(t){t[le]=!0}var yn=new Set,Me={};function ze(t,i){it(t,i),it(t+"Capture",i)}function it(t,i){for(Me[t]=i,t=0;t<i.length;t++)yn.add(i[t])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kt={},vn={};function De(t){return Vt.call(vn,t)?!0:Vt.call(Kt,t)?!1:nn.test(t)?vn[t]=!0:(Kt[t]=!0,!1)}function xn(t,i,s){if(De(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Wn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function mi(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pa(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ie(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,T=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return x.call(this)},set:function(_){s=""+_,T.call(this,_)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Te(t){if(!t._valueTracker){var i=pa(t)?"checked":"value";t._valueTracker=Ie(t,i,""+t[i])}}function Ke(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=pa(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wt=/[\n"\\]/g;function ct(t){return t.replace(wt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kn(t,i,s,u,x,T,_,H){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Qt(i)):t.value!==""+Qt(i)&&(t.value=""+Qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Zn(t,_,Qt(i)):s!=null?Zn(t,_,Qt(s)):u!=null&&t.removeAttribute("value"),x==null&&T!=null&&(t.defaultChecked=!!T),x!=null&&(t.checked=x&&typeof x!="function"&&typeof x!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?t.name=""+Qt(H):t.removeAttribute("name")}function Sn(t,i,s,u,x,T,_,H){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.type=T),i!=null||s!=null){if(!(T!=="submit"&&T!=="reset"||i!=null)){Te(t);return}s=s!=null?""+Qt(s):"",i=i!=null?""+Qt(i):s,H||i===t.value||(t.value=i),t.defaultValue=i}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=H?t.checked:!!u,t.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Te(t)}function Zn(t,i,s){i==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function rt(t,i,s,u){if(t=t.options,i){i={};for(var x=0;x<s.length;x++)i["$"+s[x]]=!0;for(s=0;s<t.length;s++)x=i.hasOwnProperty("$"+t[s].value),t[s].selected!==x&&(t[s].selected=x),x&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),i=null,x=0;x<t.length;x++){if(t[x].value===s){t[x].selected=!0,u&&(t[x].defaultSelected=!0);return}i!==null||t[x].disabled||(i=t[x])}i!==null&&(i.selected=!0)}}function Gl(t,i,s){if(i!=null&&(i=""+Qt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Qt(s):""}function un(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(o(92));if(Q(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Qt(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),Te(t)}function Wt(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ei=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mi(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||ei.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Bl(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var x in i)u=i[x],i.hasOwnProperty(x)&&s[x]!==u&&Mi(t,x,u)}else for(var T in i)i.hasOwnProperty(T)&&Mi(t,T,i[T])}function gi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dn(t){return Ln.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var fs=null;function _i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,go=null;function wd(t){var i=we(t);if(i&&(t=i.stateNode)){var s=t[G]||null;e:switch(t=i.stateNode,i.type){case"input":if(kn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var x=u[G]||null;if(!x)throw Error(o(90));kn(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&Ke(u)}break e;case"textarea":Gl(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&rt(t,!!s.multiple,i,!1)}}}var ru=!1;function Nd(t,i,s){if(ru)return t(i,s);ru=!0;try{var u=t(i);return u}finally{if(ru=!1,(Ri!==null||go!==null)&&(tr(),Ri&&(i=Ri,t=go,go=Ri=null,wd(i),t)))for(i=0;i<t.length;i++)wd(t[i])}}function ds(t,i){var s=t.stateNode;if(s===null)return null;var u=s[G]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Ii)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){uu=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{uu=!1}var sl=null,cu=null,ma=null;function Ad(){if(ma)return ma;var t,i=cu,s=i.length,u,x="value"in sl?sl.value:sl.textContent,T=x.length;for(t=0;t<s&&i[t]===x[t];t++);var _=s-t;for(u=1;u<=_&&i[s-u]===x[T-u];u++);return ma=x.slice(t,1<u?1-u:void 0)}function ga(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ya(){return!0}function Md(){return!1}function cn(t){function i(s,u,x,T,_){this._reactName=s,this._targetInst=x,this.type=u,this.nativeEvent=T,this.target=_,this.currentTarget=null;for(var H in t)t.hasOwnProperty(H)&&(s=t[H],this[H]=s?s(T):T[H]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ya:Md,this.isPropagationStopped=Md,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),i}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=cn(Ol),ps=b({},Ol,{view:0,detail:0}),Xv=cn(ps),fu,du,ms,xa=b({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ms&&(ms&&t.type==="mousemove"?(fu=t.screenX-ms.screenX,du=t.screenY-ms.screenY):du=fu=0,ms=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:du}}),_d=cn(xa),Kv=b({},xa,{dataTransfer:0}),Qv=cn(Kv),Wv=b({},ps,{relatedTarget:0}),hu=cn(Wv),Zv=b({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),ex=cn(Zv),tx=b({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nx=cn(tx),ix=b({},Ol,{data:0}),Rd=cn(ix),lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=sx[t])?!!i[t]:!1}function pu(){return ax}var rx=b({},ps,{key:function(t){if(t.key){var i=lx[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ox[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(t){return t.type==="keypress"?ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ux=cn(rx),cx=b({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Id=cn(cx),fx=b({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),dx=cn(fx),hx=b({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=cn(hx),mx=b({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=cn(mx),yx=b({},Ol,{newState:0,oldState:0}),vx=cn(yx),xx=[9,13,27,32],mu=Ii&&"CompositionEvent"in window,gs=null;Ii&&"documentMode"in document&&(gs=document.documentMode);var Sx=Ii&&"TextEvent"in window&&!gs,kd=Ii&&(!mu||gs&&8<gs&&11>=gs),Ld=" ",Dd=!1;function Pd(t,i){switch(t){case"keyup":return xx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function bx(t,i){switch(t){case"compositionend":return Ud(i);case"keypress":return i.which!==32?null:(Dd=!0,Ld);case"textInput":return t=i.data,t===Ld&&Dd?null:t;default:return null}}function Tx(t,i){if(yo)return t==="compositionend"||!mu&&Pd(t,i)?(t=Ad(),ma=cu=sl=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kd&&i.locale!=="ko"?null:i.data;default:return null}}var Ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ex[t.type]:i==="textarea"}function Bd(t,i,s,u){Ri?go?go.push(u):go=[u]:Ri=u,i=rr(i,"onChange"),0<i.length&&(s=new va("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var ys=null,vs=null;function Cx(t){Sp(t,0)}function Sa(t){var i=$e(t);if(Ke(i))return t}function Od(t,i){if(t==="change")return i}var Vd=!1;if(Ii){var gu;if(Ii){var yu="oninput"in document;if(!yu){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),yu=typeof Hd.oninput=="function"}gu=yu}else gu=!1;Vd=gu&&(!document.documentMode||9<document.documentMode)}function Fd(){ys&&(ys.detachEvent("onpropertychange",zd),vs=ys=null)}function zd(t){if(t.propertyName==="value"&&Sa(vs)){var i=[];Bd(i,vs,t,_i(t)),Nd(Cx,i)}}function wx(t,i,s){t==="focusin"?(Fd(),ys=i,vs=s,ys.attachEvent("onpropertychange",zd)):t==="focusout"&&Fd()}function Nx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sa(vs)}function Ax(t,i){if(t==="click")return Sa(i)}function Mx(t,i){if(t==="input"||t==="change")return Sa(i)}function _x(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:_x;function xs(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var x=s[u];if(!Vt.call(i,x)||!bn(t[x],i[x]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,i){var s=jd(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=jd(s)}}function Yd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ft(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ft(t.document)}return i}function vu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Rx=Ii&&"documentMode"in document&&11>=document.documentMode,vo=null,xu=null,Ss=null,Su=!1;function $d(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||vo==null||vo!==ft(u)||(u=vo,"selectionStart"in u&&vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ss&&xs(Ss,u)||(Ss=u,u=rr(xu,"onSelect"),0<u.length&&(i=new va("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=vo)))}function Vl(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var xo={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},bu={},Xd={};Ii&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Hl(t){if(bu[t])return bu[t];if(!xo[t])return t;var i=xo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Xd)return bu[t]=i[s];return t}var Kd=Hl("animationend"),Qd=Hl("animationiteration"),Wd=Hl("animationstart"),Ix=Hl("transitionrun"),kx=Hl("transitionstart"),Lx=Hl("transitioncancel"),Zd=Hl("transitionend"),e0=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function ni(t,i){e0.set(t,i),ze(i,[t])}var ba=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],So=0,Eu=0;function Ta(){for(var t=So,i=Eu=So=0;i<t;){var s=Pn[i];Pn[i++]=null;var u=Pn[i];Pn[i++]=null;var x=Pn[i];Pn[i++]=null;var T=Pn[i];if(Pn[i++]=null,u!==null&&x!==null){var _=u.pending;_===null?x.next=x:(x.next=_.next,_.next=x),u.pending=x}T!==0&&t0(s,x,T)}}function Ea(t,i,s,u){Pn[So++]=t,Pn[So++]=i,Pn[So++]=s,Pn[So++]=u,Eu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Cu(t,i,s,u){return Ea(t,i,s,u),Ca(t)}function Fl(t,i){return Ea(t,null,null,i),Ca(t)}function t0(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var x=!1,T=t.return;T!==null;)T.childLanes|=s,u=T.alternate,u!==null&&(u.childLanes|=s),T.tag===22&&(t=T.stateNode,t===null||t._visibility&1||(x=!0)),t=T,T=T.return;return t.tag===3?(T=t.stateNode,x&&i!==null&&(x=31-qt(s),t=T.hiddenUpdates,u=t[x],u===null?t[x]=[i]:u.push(i),i.lane=s|536870912),T):null}function Ca(t){if(50<Fs)throw Fs=0,Lc=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var bo={};function Dx(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,s,u){return new Dx(t,i,s,u)}function wu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var s=t.alternate;return s===null?(s=Tn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function n0(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function wa(t,i,s,u,x,T){var _=0;if(u=t,typeof t=="function")wu(t)&&(_=1);else if(typeof t=="string")_=O1(t,s,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case U:return t=Tn(31,s,i,x),t.elementType=U,t.lanes=T,t;case C:return zl(s.children,x,T,i);case N:_=8,x|=24;break;case I:return t=Tn(12,s,i,x|2),t.elementType=I,t.lanes=T,t;case A:return t=Tn(13,s,i,x),t.elementType=A,t.lanes=T,t;case M:return t=Tn(19,s,i,x),t.elementType=M,t.lanes=T,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:_=10;break e;case P:_=9;break e;case V:_=11;break e;case L:_=14;break e;case R:_=16,u=null;break e}_=29,s=Error(o(130,t===null?"null":typeof t,"")),u=null}return i=Tn(_,s,i,x),i.elementType=t,i.type=u,i.lanes=T,i}function zl(t,i,s,u){return t=Tn(7,t,u,i),t.lanes=s,t}function Nu(t,i,s){return t=Tn(6,t,null,i),t.lanes=s,t}function i0(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Au(t,i,s){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var l0=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var s=l0.get(t);return s!==void 0?s:(i={value:t,source:i,stack:rn(i)},l0.set(t,i),i)}return{value:t,source:i,stack:rn(i)}}var To=[],Eo=0,Na=null,bs=0,Gn=[],Bn=0,al=null,yi=1,vi="";function Li(t,i){To[Eo++]=bs,To[Eo++]=Na,Na=t,bs=i}function o0(t,i,s){Gn[Bn++]=yi,Gn[Bn++]=vi,Gn[Bn++]=al,al=t;var u=yi;t=vi;var x=32-qt(u)-1;u&=~(1<<x),s+=1;var T=32-qt(i)+x;if(30<T){var _=x-x%5;T=(u&(1<<_)-1).toString(32),u>>=_,x-=_,yi=1<<32-qt(i)+x|s<<x|u,vi=T+t}else yi=1<<T|s<<x|u,vi=t}function Mu(t){t.return!==null&&(Li(t,1),o0(t,1,0))}function _u(t){for(;t===Na;)Na=To[--Eo],To[Eo]=null,bs=To[--Eo],To[Eo]=null;for(;t===al;)al=Gn[--Bn],Gn[Bn]=null,vi=Gn[--Bn],Gn[Bn]=null,yi=Gn[--Bn],Gn[Bn]=null}function s0(t,i){Gn[Bn++]=yi,Gn[Bn++]=vi,Gn[Bn++]=al,yi=i.id,vi=i.overflow,al=t}var Yt=null,Tt=null,nt=!1,rl=null,On=!1,Ru=Error(o(519));function ul(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ts(Un(i,t)),Ru}function a0(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[w]=t,i[G]=u,s){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(s=0;s<js.length;s++)We(js[s],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Sn(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),un(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||Cp(i.textContent,s)?(u.popover!=null&&(We("beforetoggle",i),We("toggle",i)),u.onScroll!=null&&We("scroll",i),u.onScrollEnd!=null&&We("scrollend",i),u.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||ul(t,!0)}function r0(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Yt=Yt.return}}function Co(t){if(t!==Yt)return!1;if(!nt)return r0(t),nt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$c(t.type,t.memoizedProps)),s=!s),s&&Tt&&ul(t),r0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Tt=Lp(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Tt=Lp(t)}else i===27?(i=Tt,El(t.type)?(t=Zc,Zc=null,Tt=t):Tt=i):Tt=Yt?Hn(t.stateNode.nextSibling):null;return!0}function jl(){Tt=Yt=null,nt=!1}function Iu(){var t=rl;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),rl=null),t}function Ts(t){rl===null?rl=[t]:rl.push(t)}var ku=F(null),ql=null,Di=null;function cl(t,i,s){ee(ku,i._currentValue),i._currentValue=s}function Pi(t){t._currentValue=ku.current,J(ku)}function Lu(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function Du(t,i,s,u){var x=t.child;for(x!==null&&(x.return=t);x!==null;){var T=x.dependencies;if(T!==null){var _=x.child;T=T.firstContext;e:for(;T!==null;){var H=T;T=x;for(var Z=0;Z<i.length;Z++)if(H.context===i[Z]){T.lanes|=s,H=T.alternate,H!==null&&(H.lanes|=s),Lu(T.return,s,t),u||(_=null);break e}T=H.next}}else if(x.tag===18){if(_=x.return,_===null)throw Error(o(341));_.lanes|=s,T=_.alternate,T!==null&&(T.lanes|=s),Lu(_,s,t),_=null}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===t){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}}function wo(t,i,s,u){t=null;for(var x=i,T=!1;x!==null;){if(!T){if((x.flags&524288)!==0)T=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var _=x.alternate;if(_===null)throw Error(o(387));if(_=_.memoizedProps,_!==null){var H=x.type;bn(x.pendingProps.value,_.value)||(t!==null?t.push(H):t=[H])}}else if(x===he.current){if(_=x.alternate,_===null)throw Error(o(387));_.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(t!==null?t.push(Xs):t=[Xs])}x=x.return}t!==null&&Du(i,t,s,u),i.flags|=262144}function Aa(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yl(t){ql=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return u0(ql,t)}function Ma(t,i){return ql===null&&Yl(t),u0(t,i)}function u0(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Di===null){if(t===null)throw Error(o(308));Di=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Di=Di.next=i;return s}var Px=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Ux=n.unstable_scheduleCallback,Gx=n.unstable_NormalPriority,Dt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new Px,data:new Map,refCount:0}}function Es(t){t.refCount--,t.refCount===0&&Ux(Gx,function(){t.controller.abort()})}var Cs=null,Uu=0,No=0,Ao=null;function Bx(t,i){if(Cs===null){var s=Cs=[];Uu=0,No=Oc(),Ao={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Uu++,i.then(c0,c0),i}function c0(){if(--Uu===0&&Cs!==null){Ao!==null&&(Ao.status="fulfilled");var t=Cs;Cs=null,No=0,Ao=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ox(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(x){s.push(x)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var x=0;x<s.length;x++)(0,s[x])(i)},function(x){for(u.status="rejected",u.reason=x,x=0;x<s.length;x++)(0,s[x])(void 0)}),u}var f0=Y.S;Y.S=function(t,i){$h=Rt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bx(t,i),f0!==null&&f0(t,i)};var Jl=F(null);function Gu(){var t=Jl.current;return t!==null?t:vt.pooledCache}function _a(t,i){i===null?ee(Jl,Jl.current):ee(Jl,i.pool)}function d0(){var t=Gu();return t===null?null:{parent:Dt._currentValue,pool:t}}var Mo=Error(o(460)),Bu=Error(o(474)),Ra=Error(o(542)),Ia={then:function(){}};function h0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function p0(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ti,ti),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,g0(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=u}},function(u){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,g0(t),t}throw Xl=i,Mo}}function $l(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xl=s,Mo):s}}var Xl=null;function m0(){if(Xl===null)throw Error(o(459));var t=Xl;return Xl=null,t}function g0(t){if(t===Mo||t===Ra)throw Error(o(483))}var _o=null,ws=0;function ka(t){var i=ws;return ws+=1,_o===null&&(_o=[]),p0(_o,t,i)}function Ns(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function La(t,i){throw i.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function y0(t){function i(ie,ne){if(t){var ae=ie.deletions;ae===null?(ie.deletions=[ne],ie.flags|=16):ae.push(ne)}}function s(ie,ne){if(!t)return null;for(;ne!==null;)i(ie,ne),ne=ne.sibling;return null}function u(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function x(ie,ne){return ie=ki(ie,ne),ie.index=0,ie.sibling=null,ie}function T(ie,ne,ae){return ie.index=ae,t?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<ne?(ie.flags|=67108866,ne):ae):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function _(ie){return t&&ie.alternate===null&&(ie.flags|=67108866),ie}function H(ie,ne,ae,ye){return ne===null||ne.tag!==6?(ne=Nu(ae,ie.mode,ye),ne.return=ie,ne):(ne=x(ne,ae),ne.return=ie,ne)}function Z(ie,ne,ae,ye){var Ve=ae.type;return Ve===C?me(ie,ne,ae.props.children,ye,ae.key):ne!==null&&(ne.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===R&&$l(Ve)===ne.type)?(ne=x(ne,ae.props),Ns(ne,ae),ne.return=ie,ne):(ne=wa(ae.type,ae.key,ae.props,null,ie.mode,ye),Ns(ne,ae),ne.return=ie,ne)}function re(ie,ne,ae,ye){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ae.containerInfo||ne.stateNode.implementation!==ae.implementation?(ne=Au(ae,ie.mode,ye),ne.return=ie,ne):(ne=x(ne,ae.children||[]),ne.return=ie,ne)}function me(ie,ne,ae,ye,Ve){return ne===null||ne.tag!==7?(ne=zl(ae,ie.mode,ye,Ve),ne.return=ie,ne):(ne=x(ne,ae),ne.return=ie,ne)}function ve(ie,ne,ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Nu(""+ne,ie.mode,ae),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return ae=wa(ne.type,ne.key,ne.props,null,ie.mode,ae),Ns(ae,ne),ae.return=ie,ae;case E:return ne=Au(ne,ie.mode,ae),ne.return=ie,ne;case R:return ne=$l(ne),ve(ie,ne,ae)}if(Q(ne)||O(ne))return ne=zl(ne,ie.mode,ae,null),ne.return=ie,ne;if(typeof ne.then=="function")return ve(ie,ka(ne),ae);if(ne.$$typeof===D)return ve(ie,Ma(ie,ne),ae);La(ie,ne)}return null}function fe(ie,ne,ae,ye){var Ve=ne!==null?ne.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ve!==null?null:H(ie,ne,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ae.key===Ve?Z(ie,ne,ae,ye):null;case E:return ae.key===Ve?re(ie,ne,ae,ye):null;case R:return ae=$l(ae),fe(ie,ne,ae,ye)}if(Q(ae)||O(ae))return Ve!==null?null:me(ie,ne,ae,ye,null);if(typeof ae.then=="function")return fe(ie,ne,ka(ae),ye);if(ae.$$typeof===D)return fe(ie,ne,Ma(ie,ae),ye);La(ie,ae)}return null}function pe(ie,ne,ae,ye,Ve){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ie=ie.get(ae)||null,H(ne,ie,""+ye,Ve);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return ie=ie.get(ye.key===null?ae:ye.key)||null,Z(ne,ie,ye,Ve);case E:return ie=ie.get(ye.key===null?ae:ye.key)||null,re(ne,ie,ye,Ve);case R:return ye=$l(ye),pe(ie,ne,ae,ye,Ve)}if(Q(ye)||O(ye))return ie=ie.get(ae)||null,me(ne,ie,ye,Ve,null);if(typeof ye.then=="function")return pe(ie,ne,ae,ka(ye),Ve);if(ye.$$typeof===D)return pe(ie,ne,ae,Ma(ne,ye),Ve);La(ne,ye)}return null}function Ge(ie,ne,ae,ye){for(var Ve=null,ot=null,Be=ne,Xe=ne=0,et=null;Be!==null&&Xe<ae.length;Xe++){Be.index>Xe?(et=Be,Be=null):et=Be.sibling;var st=fe(ie,Be,ae[Xe],ye);if(st===null){Be===null&&(Be=et);break}t&&Be&&st.alternate===null&&i(ie,Be),ne=T(st,ne,Xe),ot===null?Ve=st:ot.sibling=st,ot=st,Be=et}if(Xe===ae.length)return s(ie,Be),nt&&Li(ie,Xe),Ve;if(Be===null){for(;Xe<ae.length;Xe++)Be=ve(ie,ae[Xe],ye),Be!==null&&(ne=T(Be,ne,Xe),ot===null?Ve=Be:ot.sibling=Be,ot=Be);return nt&&Li(ie,Xe),Ve}for(Be=u(Be);Xe<ae.length;Xe++)et=pe(Be,ie,Xe,ae[Xe],ye),et!==null&&(t&&et.alternate!==null&&Be.delete(et.key===null?Xe:et.key),ne=T(et,ne,Xe),ot===null?Ve=et:ot.sibling=et,ot=et);return t&&Be.forEach(function(Ml){return i(ie,Ml)}),nt&&Li(ie,Xe),Ve}function He(ie,ne,ae,ye){if(ae==null)throw Error(o(151));for(var Ve=null,ot=null,Be=ne,Xe=ne=0,et=null,st=ae.next();Be!==null&&!st.done;Xe++,st=ae.next()){Be.index>Xe?(et=Be,Be=null):et=Be.sibling;var Ml=fe(ie,Be,st.value,ye);if(Ml===null){Be===null&&(Be=et);break}t&&Be&&Ml.alternate===null&&i(ie,Be),ne=T(Ml,ne,Xe),ot===null?Ve=Ml:ot.sibling=Ml,ot=Ml,Be=et}if(st.done)return s(ie,Be),nt&&Li(ie,Xe),Ve;if(Be===null){for(;!st.done;Xe++,st=ae.next())st=ve(ie,st.value,ye),st!==null&&(ne=T(st,ne,Xe),ot===null?Ve=st:ot.sibling=st,ot=st);return nt&&Li(ie,Xe),Ve}for(Be=u(Be);!st.done;Xe++,st=ae.next())st=pe(Be,ie,Xe,st.value,ye),st!==null&&(t&&st.alternate!==null&&Be.delete(st.key===null?Xe:st.key),ne=T(st,ne,Xe),ot===null?Ve=st:ot.sibling=st,ot=st);return t&&Be.forEach(function(K1){return i(ie,K1)}),nt&&Li(ie,Xe),Ve}function gt(ie,ne,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===C&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:e:{for(var Ve=ae.key;ne!==null;){if(ne.key===Ve){if(Ve=ae.type,Ve===C){if(ne.tag===7){s(ie,ne.sibling),ye=x(ne,ae.props.children),ye.return=ie,ie=ye;break e}}else if(ne.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===R&&$l(Ve)===ne.type){s(ie,ne.sibling),ye=x(ne,ae.props),Ns(ye,ae),ye.return=ie,ie=ye;break e}s(ie,ne);break}else i(ie,ne);ne=ne.sibling}ae.type===C?(ye=zl(ae.props.children,ie.mode,ye,ae.key),ye.return=ie,ie=ye):(ye=wa(ae.type,ae.key,ae.props,null,ie.mode,ye),Ns(ye,ae),ye.return=ie,ie=ye)}return _(ie);case E:e:{for(Ve=ae.key;ne!==null;){if(ne.key===Ve)if(ne.tag===4&&ne.stateNode.containerInfo===ae.containerInfo&&ne.stateNode.implementation===ae.implementation){s(ie,ne.sibling),ye=x(ne,ae.children||[]),ye.return=ie,ie=ye;break e}else{s(ie,ne);break}else i(ie,ne);ne=ne.sibling}ye=Au(ae,ie.mode,ye),ye.return=ie,ie=ye}return _(ie);case R:return ae=$l(ae),gt(ie,ne,ae,ye)}if(Q(ae))return Ge(ie,ne,ae,ye);if(O(ae)){if(Ve=O(ae),typeof Ve!="function")throw Error(o(150));return ae=Ve.call(ae),He(ie,ne,ae,ye)}if(typeof ae.then=="function")return gt(ie,ne,ka(ae),ye);if(ae.$$typeof===D)return gt(ie,ne,Ma(ie,ae),ye);La(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ne!==null&&ne.tag===6?(s(ie,ne.sibling),ye=x(ne,ae),ye.return=ie,ie=ye):(s(ie,ne),ye=Nu(ae,ie.mode,ye),ye.return=ie,ie=ye),_(ie)):s(ie,ne)}return function(ie,ne,ae,ye){try{ws=0;var Ve=gt(ie,ne,ae,ye);return _o=null,Ve}catch(Be){if(Be===Mo||Be===Ra)throw Be;var ot=Tn(29,Be,null,ie.mode);return ot.lanes=ye,ot.return=ie,ot}finally{}}}var Kl=y0(!0),v0=y0(!1),fl=!1;function Ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hl(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var x=u.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),u.pending=i,i=Ca(t),t0(t,null,s),i}return Ea(t,u,i,s),Ca(t)}function As(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,po(t,s)}}function Hu(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var x=null,T=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};T===null?x=T=_:T=T.next=_,s=s.next}while(s!==null);T===null?x=T=i:T=T.next=i}else x=T=i;s={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Fu=!1;function Ms(){if(Fu){var t=Ao;if(t!==null)throw t}}function _s(t,i,s,u){Fu=!1;var x=t.updateQueue;fl=!1;var T=x.firstBaseUpdate,_=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var Z=H,re=Z.next;Z.next=null,_===null?T=re:_.next=re,_=Z;var me=t.alternate;me!==null&&(me=me.updateQueue,H=me.lastBaseUpdate,H!==_&&(H===null?me.firstBaseUpdate=re:H.next=re,me.lastBaseUpdate=Z))}if(T!==null){var ve=x.baseState;_=0,me=re=Z=null,H=T;do{var fe=H.lane&-536870913,pe=fe!==H.lane;if(pe?(Ze&fe)===fe:(u&fe)===fe){fe!==0&&fe===No&&(Fu=!0),me!==null&&(me=me.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ge=t,He=H;fe=i;var gt=s;switch(He.tag){case 1:if(Ge=He.payload,typeof Ge=="function"){ve=Ge.call(gt,ve,fe);break e}ve=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=He.payload,fe=typeof Ge=="function"?Ge.call(gt,ve,fe):Ge,fe==null)break e;ve=b({},ve,fe);break e;case 2:fl=!0}}fe=H.callback,fe!==null&&(t.flags|=64,pe&&(t.flags|=8192),pe=x.callbacks,pe===null?x.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},me===null?(re=me=pe,Z=ve):me=me.next=pe,_|=fe;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;pe=H,H=pe.next,pe.next=null,x.lastBaseUpdate=pe,x.shared.pending=null}}while(!0);me===null&&(Z=ve),x.baseState=Z,x.firstBaseUpdate=re,x.lastBaseUpdate=me,T===null&&(x.shared.lanes=0),vl|=_,t.lanes=_,t.memoizedState=ve}}function x0(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function S0(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)x0(s[t],i)}var Ro=F(null),Da=F(0);function b0(t,i){t=ji,ee(Da,t),ee(Ro,i),ji=t|i.baseLanes}function zu(){ee(Da,ji),ee(Ro,Ro.current)}function ju(){ji=Da.current,J(Ro),J(Da)}var En=F(null),Vn=null;function pl(t){var i=t.alternate;ee(It,It.current&1),ee(En,t),Vn===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&(Vn=t)}function qu(t){ee(It,It.current),ee(En,t),Vn===null&&(Vn=t)}function T0(t){t.tag===22?(ee(It,It.current),ee(En,t),Vn===null&&(Vn=t)):ml()}function ml(){ee(It,It.current),ee(En,En.current)}function Cn(t){J(En),Vn===t&&(Vn=null),J(It)}var It=F(0);function Pa(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qc(s)||Wc(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ui=0,Je=null,pt=null,Pt=null,Ua=!1,Io=!1,Ql=!1,Ga=0,Rs=0,ko=null,Vx=0;function Mt(){throw Error(o(321))}function Yu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!bn(t[s],i[s]))return!1;return!0}function Ju(t,i,s,u,x,T){return Ui=T,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?oh:rc,Ql=!1,T=s(u,x),Ql=!1,Io&&(T=C0(i,s,u,x)),E0(t),T}function E0(t){Y.H=Ls;var i=pt!==null&&pt.next!==null;if(Ui=0,Pt=pt=Je=null,Ua=!1,Rs=0,ko=null,i)throw Error(o(300));t===null||Ut||(t=t.dependencies,t!==null&&Aa(t)&&(Ut=!0))}function C0(t,i,s,u){Je=t;var x=0;do{if(Io&&(ko=null),Rs=0,Io=!1,25<=x)throw Error(o(301));if(x+=1,Pt=pt=null,t.updateQueue!=null){var T=t.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=sh,T=i(s,u)}while(Io);return T}function Hx(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Is(i):i,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Je.flags|=1024),i}function $u(){var t=Ga!==0;return Ga=0,t}function Xu(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Ku(t){if(Ua){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ua=!1}Ui=0,Pt=pt=Je=null,Io=!1,Rs=Ga=0,ko=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Je.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function kt(){if(pt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var i=Pt===null?Je.memoizedState:Pt.next;if(i!==null)Pt=i,pt=t;else{if(t===null)throw Je.alternate===null?Error(o(467)):Error(o(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Pt===null?Je.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Ba(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(t){var i=Rs;return Rs+=1,ko===null&&(ko=[]),t=p0(ko,t,i),i=Je,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?oh:rc),t}function Oa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Is(t);if(t.$$typeof===D)return Jt(t)}throw Error(o(438,String(t)))}function Qu(t){var i=null,s=Je.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ba(),Je.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=k;return i.index++,s}function Gi(t,i){return typeof i=="function"?i(t):i}function Va(t){var i=kt();return Wu(i,pt,t)}function Wu(t,i,s){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var x=t.baseQueue,T=u.pending;if(T!==null){if(x!==null){var _=x.next;x.next=T.next,T.next=_}i.baseQueue=x=T,u.pending=null}if(T=t.baseState,x===null)t.memoizedState=T;else{i=x.next;var H=_=null,Z=null,re=i,me=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(Ze&ve)===ve:(Ui&ve)===ve){var fe=re.revertLane;if(fe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===No&&(me=!0);else if((Ui&fe)===fe){re=re.next,fe===No&&(me=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Z===null?(H=Z=ve,_=T):Z=Z.next=ve,Je.lanes|=fe,vl|=fe;ve=re.action,Ql&&s(T,ve),T=re.hasEagerState?re.eagerState:s(T,ve)}else fe={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Z===null?(H=Z=fe,_=T):Z=Z.next=fe,Je.lanes|=ve,vl|=ve;re=re.next}while(re!==null&&re!==i);if(Z===null?_=T:Z.next=H,!bn(T,t.memoizedState)&&(Ut=!0,me&&(s=Ao,s!==null)))throw s;t.memoizedState=T,t.baseState=_,t.baseQueue=Z,u.lastRenderedState=T}return x===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Zu(t){var i=kt(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var u=s.dispatch,x=s.pending,T=i.memoizedState;if(x!==null){s.pending=null;var _=x=x.next;do T=t(T,_.action),_=_.next;while(_!==x);bn(T,i.memoizedState)||(Ut=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),s.lastRenderedState=T}return[T,u]}function w0(t,i,s){var u=Je,x=kt(),T=nt;if(T){if(s===void 0)throw Error(o(407));s=s()}else s=i();var _=!bn((pt||x).memoizedState,s);if(_&&(x.memoizedState=s,Ut=!0),x=x.queue,nc(M0.bind(null,u,x,t),[t]),x.getSnapshot!==i||_||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Lo(9,{destroy:void 0},A0.bind(null,u,x,s,i),null),vt===null)throw Error(o(349));T||(Ui&127)!==0||N0(u,i,s)}return s}function N0(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Je.updateQueue,i===null?(i=Ba(),Je.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function A0(t,i,s,u){i.value=s,i.getSnapshot=u,_0(i)&&R0(t)}function M0(t,i,s){return s(function(){_0(i)&&R0(t)})}function _0(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!bn(t,s)}catch{return!0}}function R0(t){var i=Fl(t,2);i!==null&&mn(i,t,2)}function ec(t){var i=ln();if(typeof t=="function"){var s=t;if(t=s(),Ql){Rn(!0);try{s()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function I0(t,i,s,u){return t.baseState=s,Wu(t,pt,typeof u=="function"?u:Gi)}function Fx(t,i,s,u,x){if(za(t))throw Error(o(485));if(t=i.action,t!==null){var T={payload:x,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){T.listeners.push(_)}};Y.T!==null?s(!0):T.isTransition=!1,u(T),s=i.pending,s===null?(T.next=i.pending=T,k0(i,T)):(T.next=s.next,i.pending=s.next=T)}}function k0(t,i){var s=i.action,u=i.payload,x=t.state;if(i.isTransition){var T=Y.T,_={};Y.T=_;try{var H=s(x,u),Z=Y.S;Z!==null&&Z(_,H),L0(t,i,H)}catch(re){tc(t,i,re)}finally{T!==null&&_.types!==null&&(T.types=_.types),Y.T=T}}else try{T=s(x,u),L0(t,i,T)}catch(re){tc(t,i,re)}}function L0(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){D0(t,i,u)},function(u){return tc(t,i,u)}):D0(t,i,s)}function D0(t,i,s){i.status="fulfilled",i.value=s,P0(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,k0(t,s)))}function tc(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,P0(i),i=i.next;while(i!==u)}t.action=null}function P0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function U0(t,i){return i}function G0(t,i){if(nt){var s=vt.formState;if(s!==null){e:{var u=Je;if(nt){if(Tt){t:{for(var x=Tt,T=On;x.nodeType!==8;){if(!T){x=null;break t}if(x=Hn(x.nextSibling),x===null){x=null;break t}}T=x.data,x=T==="F!"||T==="F"?x:null}if(x){Tt=Hn(x.nextSibling),u=x.data==="F!";break e}}ul(u)}u=!1}u&&(i=s[0])}}return s=ln(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:U0,lastRenderedState:i},s.queue=u,s=nh.bind(null,Je,u),u.dispatch=s,u=ec(!1),T=ac.bind(null,Je,!1,u.queue),u=ln(),x={state:i,dispatch:null,action:t,pending:null},u.queue=x,s=Fx.bind(null,Je,x,T,s),x.dispatch=s,u.memoizedState=t,[i,s,!1]}function B0(t){var i=kt();return O0(i,pt,t)}function O0(t,i,s){if(i=Wu(t,i,U0)[0],t=Va(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Is(i)}catch(_){throw _===Mo?Ra:_}else u=i;i=kt();var x=i.queue,T=x.dispatch;return s!==i.memoizedState&&(Je.flags|=2048,Lo(9,{destroy:void 0},zx.bind(null,x,s),null)),[u,T,t]}function zx(t,i){t.action=i}function V0(t){var i=kt(),s=pt;if(s!==null)return O0(i,s,t);kt(),i=i.memoizedState,s=kt();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function Lo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=Je.updateQueue,i===null&&(i=Ba(),Je.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function H0(){return kt().memoizedState}function Ha(t,i,s,u){var x=ln();Je.flags|=t,x.memoizedState=Lo(1|i,{destroy:void 0},s,u===void 0?null:u)}function Fa(t,i,s,u){var x=kt();u=u===void 0?null:u;var T=x.memoizedState.inst;pt!==null&&u!==null&&Yu(u,pt.memoizedState.deps)?x.memoizedState=Lo(i,T,s,u):(Je.flags|=t,x.memoizedState=Lo(1|i,T,s,u))}function F0(t,i){Ha(8390656,8,t,i)}function nc(t,i){Fa(2048,8,t,i)}function jx(t){Je.flags|=4;var i=Je.updateQueue;if(i===null)i=Ba(),Je.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function z0(t){var i=kt().memoizedState;return jx({ref:i,nextImpl:t}),function(){if((ut&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function j0(t,i){return Fa(4,2,t,i)}function q0(t,i){return Fa(4,4,t,i)}function Y0(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function J0(t,i,s){s=s!=null?s.concat([t]):null,Fa(4,4,Y0.bind(null,i,t),s)}function ic(){}function $0(t,i){var s=kt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Yu(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function X0(t,i){var s=kt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Yu(i,u[1]))return u[0];if(u=t(),Ql){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[u,i],u}function lc(t,i,s){return s===void 0||(Ui&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Kh(),Je.lanes|=t,vl|=t,s)}function K0(t,i,s,u){return bn(s,i)?s:Ro.current!==null?(t=lc(t,s,u),bn(t,i)||(Ut=!0),t):(Ui&42)===0||(Ui&1073741824)!==0&&(Ze&261930)===0?(Ut=!0,t.memoizedState=s):(t=Kh(),Je.lanes|=t,vl|=t,i)}function Q0(t,i,s,u,x){var T=te.p;te.p=T!==0&&8>T?T:8;var _=Y.T,H={};Y.T=H,ac(t,!1,i,s);try{var Z=x(),re=Y.S;if(re!==null&&re(H,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var me=Ox(Z,u);ks(t,i,me,An(t))}else ks(t,i,u,An(t))}catch(ve){ks(t,i,{then:function(){},status:"rejected",reason:ve},An())}finally{te.p=T,_!==null&&H.types!==null&&(_.types=H.types),Y.T=_}}function qx(){}function oc(t,i,s,u){if(t.tag!==5)throw Error(o(476));var x=W0(t).queue;Q0(t,x,i,oe,s===null?qx:function(){return Z0(t),s(u)})}function W0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:oe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Z0(t){var i=W0(t);i.next===null&&(i=t.alternate.memoizedState),ks(t,i.next.queue,{},An())}function sc(){return Jt(Xs)}function eh(){return kt().memoizedState}function th(){return kt().memoizedState}function Yx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=An();t=dl(s);var u=hl(i,t,s);u!==null&&(mn(u,i,s),As(u,i,s)),i={cache:Pu()},t.payload=i;return}i=i.return}}function Jx(t,i,s){var u=An();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},za(t)?ih(i,s):(s=Cu(t,i,s,u),s!==null&&(mn(s,t,u),lh(s,i,u)))}function nh(t,i,s){var u=An();ks(t,i,s,u)}function ks(t,i,s,u){var x={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(za(t))ih(i,x);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var _=i.lastRenderedState,H=T(_,s);if(x.hasEagerState=!0,x.eagerState=H,bn(H,_))return Ea(t,i,x,0),vt===null&&Ta(),!1}catch{}finally{}if(s=Cu(t,i,x,u),s!==null)return mn(s,t,u),lh(s,i,u),!0}return!1}function ac(t,i,s,u){if(u={lane:2,revertLane:Oc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},za(t)){if(i)throw Error(o(479))}else i=Cu(t,s,u,2),i!==null&&mn(i,t,2)}function za(t){var i=t.alternate;return t===Je||i!==null&&i===Je}function ih(t,i){Io=Ua=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function lh(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,po(t,s)}}var Ls={readContext:Jt,use:Oa,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Ls.useEffectEvent=Mt;var oh={readContext:Jt,use:Oa,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Jt,useEffect:F0,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ha(4194308,4,Y0.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ha(4194308,4,t,i)},useInsertionEffect:function(t,i){Ha(4,2,t,i)},useMemo:function(t,i){var s=ln();i=i===void 0?null:i;var u=t();if(Ql){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=ln();if(s!==void 0){var x=s(i);if(Ql){Rn(!0);try{s(i)}finally{Rn(!1)}}}else x=i;return u.memoizedState=u.baseState=x,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:x},u.queue=t,t=t.dispatch=Jx.bind(null,Je,t),[u.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=ec(t);var i=t.queue,s=nh.bind(null,Je,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(t,i){var s=ln();return lc(s,t,i)},useTransition:function(){var t=ec(!1);return t=Q0.bind(null,Je,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=Je,x=ln();if(nt){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),vt===null)throw Error(o(349));(Ze&127)!==0||N0(u,i,s)}x.memoizedState=s;var T={value:s,getSnapshot:i};return x.queue=T,F0(M0.bind(null,u,T,t),[t]),u.flags|=2048,Lo(9,{destroy:void 0},A0.bind(null,u,T,s,i),null),s},useId:function(){var t=ln(),i=vt.identifierPrefix;if(nt){var s=vi,u=yi;s=(u&~(1<<32-qt(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Ga++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Vx++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sc,useFormState:G0,useActionState:G0,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ac.bind(null,Je,!0,s),s.dispatch=i,[t,i]},useMemoCache:Qu,useCacheRefresh:function(){return ln().memoizedState=Yx.bind(null,Je)},useEffectEvent:function(t){var i=ln(),s={impl:t};return i.memoizedState=s,function(){if((ut&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},rc={readContext:Jt,use:Oa,useCallback:$0,useContext:Jt,useEffect:nc,useImperativeHandle:J0,useInsertionEffect:j0,useLayoutEffect:q0,useMemo:X0,useReducer:Va,useRef:H0,useState:function(){return Va(Gi)},useDebugValue:ic,useDeferredValue:function(t,i){var s=kt();return K0(s,pt.memoizedState,t,i)},useTransition:function(){var t=Va(Gi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:Is(t),i]},useSyncExternalStore:w0,useId:eh,useHostTransitionStatus:sc,useFormState:B0,useActionState:B0,useOptimistic:function(t,i){var s=kt();return I0(s,pt,t,i)},useMemoCache:Qu,useCacheRefresh:th};rc.useEffectEvent=z0;var sh={readContext:Jt,use:Oa,useCallback:$0,useContext:Jt,useEffect:nc,useImperativeHandle:J0,useInsertionEffect:j0,useLayoutEffect:q0,useMemo:X0,useReducer:Zu,useRef:H0,useState:function(){return Zu(Gi)},useDebugValue:ic,useDeferredValue:function(t,i){var s=kt();return pt===null?lc(s,t,i):K0(s,pt.memoizedState,t,i)},useTransition:function(){var t=Zu(Gi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:Is(t),i]},useSyncExternalStore:w0,useId:eh,useHostTransitionStatus:sc,useFormState:V0,useActionState:V0,useOptimistic:function(t,i){var s=kt();return pt!==null?I0(s,pt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:th};sh.useEffectEvent=z0;function uc(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:b({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cc={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=An(),x=dl(u);x.payload=i,s!=null&&(x.callback=s),i=hl(t,x,u),i!==null&&(mn(i,t,u),As(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=An(),x=dl(u);x.tag=1,x.payload=i,s!=null&&(x.callback=s),i=hl(t,x,u),i!==null&&(mn(i,t,u),As(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=An(),u=dl(s);u.tag=2,i!=null&&(u.callback=i),i=hl(t,u,s),i!==null&&(mn(i,t,s),As(i,t,s))}};function ah(t,i,s,u,x,T,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,T,_):i.prototype&&i.prototype.isPureReactComponent?!xs(s,u)||!xs(x,T):!0}function rh(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&cc.enqueueReplaceState(i,i.state,null)}function Wl(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=b({},s));for(var x in t)s[x]===void 0&&(s[x]=t[x])}return s}function uh(t){ba(t)}function ch(t){console.error(t)}function fh(t){ba(t)}function ja(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function dh(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function fc(t,i,s){return s=dl(s),s.tag=3,s.payload={element:null},s.callback=function(){ja(t,i)},s}function hh(t){return t=dl(t),t.tag=3,t}function ph(t,i,s,u){var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var T=u.value;t.payload=function(){return x(T)},t.callback=function(){dh(i,s,u)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){dh(i,s,u),typeof x!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})})}function $x(t,i,s,u,x){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&wo(i,s,x,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?nr():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=x,u===Ia?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Uc(t,u,x)),!1;case 22:return s.flags|=65536,u===Ia?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Uc(t,u,x)),!1}throw Error(o(435,s.tag))}return Uc(t,u,x),nr(),!1}if(nt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,u!==Ru&&(t=Error(o(422),{cause:u}),Ts(Un(t,s)))):(u!==Ru&&(i=Error(o(423),{cause:u}),Ts(Un(i,s))),t=t.current.alternate,t.flags|=65536,x&=-x,t.lanes|=x,u=Un(u,s),x=fc(t.stateNode,u,x),Hu(t,x),_t!==4&&(_t=2)),!1;var T=Error(o(520),{cause:u});if(T=Un(T,s),Hs===null?Hs=[T]:Hs.push(T),_t!==4&&(_t=2),i===null)return!0;u=Un(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=x&-x,s.lanes|=t,t=fc(s.stateNode,u,t),Hu(s,t),!1;case 1:if(i=s.type,T=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xl===null||!xl.has(T))))return s.flags|=65536,x&=-x,s.lanes|=x,x=hh(x),ph(x,t,s,u),Hu(s,x),!1}s=s.return}while(s!==null);return!1}var dc=Error(o(461)),Ut=!1;function $t(t,i,s,u){i.child=t===null?v0(i,null,s,u):Kl(i,t.child,s,u)}function mh(t,i,s,u,x){s=s.render;var T=i.ref;if("ref"in u){var _={};for(var H in u)H!=="ref"&&(_[H]=u[H])}else _=u;return Yl(i),u=Ju(t,i,s,_,T,x),H=$u(),t!==null&&!Ut?(Xu(t,i,x),Bi(t,i,x)):(nt&&H&&Mu(i),i.flags|=1,$t(t,i,u,x),i.child)}function gh(t,i,s,u,x){if(t===null){var T=s.type;return typeof T=="function"&&!wu(T)&&T.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=T,yh(t,i,T,u,x)):(t=wa(s.type,null,u,i,i.mode,x),t.ref=i.ref,t.return=i,i.child=t)}if(T=t.child,!Sc(t,x)){var _=T.memoizedProps;if(s=s.compare,s=s!==null?s:xs,s(_,u)&&t.ref===i.ref)return Bi(t,i,x)}return i.flags|=1,t=ki(T,u),t.ref=i.ref,t.return=i,i.child=t}function yh(t,i,s,u,x){if(t!==null){var T=t.memoizedProps;if(xs(T,u)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=u=T,Sc(t,x))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Bi(t,i,x)}return hc(t,i,s,u,x)}function vh(t,i,s,u){var x=u.children,T=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(T=T!==null?T.baseLanes|s:s,t!==null){for(u=i.child=t.child,x=0;u!==null;)x=x|u.lanes|u.childLanes,u=u.sibling;u=x&~T}else u=0,i.child=null;return xh(t,i,T,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_a(i,T!==null?T.cachePool:null),T!==null?b0(i,T):zu(),T0(i);else return u=i.lanes=536870912,xh(t,i,T!==null?T.baseLanes|s:s,s,u)}else T!==null?(_a(i,T.cachePool),b0(i,T),ml(),i.memoizedState=null):(t!==null&&_a(i,null),zu(),ml());return $t(t,i,x,s),i.child}function Ds(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function xh(t,i,s,u,x){var T=Gu();return T=T===null?null:{parent:Dt._currentValue,pool:T},i.memoizedState={baseLanes:s,cachePool:T},t!==null&&_a(i,null),zu(),T0(i),t!==null&&wo(t,i,u,!0),i.childLanes=x,null}function qa(t,i){return i=Ja({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Sh(t,i,s){return Kl(i,t.child,null,s),t=qa(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function Xx(t,i,s){var u=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(nt){if(u.mode==="hidden")return t=qa(i,u),i.lanes=536870912,Ds(null,t);if(qu(i),(t=Tt)?(t=kp(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:al!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=i0(t),s.return=i,i.child=s,Yt=i,Tt=null)):t=null,t===null)throw ul(i);return i.lanes=536870912,null}return qa(i,u)}var T=t.memoizedState;if(T!==null){var _=T.dehydrated;if(qu(i),x)if(i.flags&256)i.flags&=-257,i=Sh(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(Ut||wo(t,i,s,!1),x=(s&t.childLanes)!==0,Ut||x){if(u=vt,u!==null&&(_=Pl(u,s),_!==0&&_!==T.retryLane))throw T.retryLane=_,Fl(t,_),mn(u,t,_),dc;nr(),i=Sh(t,i,s)}else t=T.treeContext,Tt=Hn(_.nextSibling),Yt=i,nt=!0,rl=null,On=!1,t!==null&&s0(i,t),i=qa(i,u),i.flags|=4096;return i}return t=ki(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ya(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function hc(t,i,s,u,x){return Yl(i),s=Ju(t,i,s,u,void 0,x),u=$u(),t!==null&&!Ut?(Xu(t,i,x),Bi(t,i,x)):(nt&&u&&Mu(i),i.flags|=1,$t(t,i,s,x),i.child)}function bh(t,i,s,u,x,T){return Yl(i),i.updateQueue=null,s=C0(i,u,s,x),E0(t),u=$u(),t!==null&&!Ut?(Xu(t,i,T),Bi(t,i,T)):(nt&&u&&Mu(i),i.flags|=1,$t(t,i,s,T),i.child)}function Th(t,i,s,u,x){if(Yl(i),i.stateNode===null){var T=bo,_=s.contextType;typeof _=="object"&&_!==null&&(T=Jt(_)),T=new s(u,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=cc,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=u,T.state=i.memoizedState,T.refs={},Ou(i),_=s.contextType,T.context=typeof _=="object"&&_!==null?Jt(_):bo,T.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(uc(i,s,_,u),T.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(_=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),_!==T.state&&cc.enqueueReplaceState(T,T.state,null),_s(i,u,T,x),Ms(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){T=i.stateNode;var H=i.memoizedProps,Z=Wl(s,H);T.props=Z;var re=T.context,me=s.contextType;_=bo,typeof me=="object"&&me!==null&&(_=Jt(me));var ve=s.getDerivedStateFromProps;me=typeof ve=="function"||typeof T.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,me||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H||re!==_)&&rh(i,T,u,_),fl=!1;var fe=i.memoizedState;T.state=fe,_s(i,u,T,x),Ms(),re=i.memoizedState,H||fe!==re||fl?(typeof ve=="function"&&(uc(i,s,ve,u),re=i.memoizedState),(Z=fl||ah(i,s,Z,u,fe,re,_))?(me||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=re),T.props=u,T.state=re,T.context=_,u=Z):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{T=i.stateNode,Vu(t,i),_=i.memoizedProps,me=Wl(s,_),T.props=me,ve=i.pendingProps,fe=T.context,re=s.contextType,Z=bo,typeof re=="object"&&re!==null&&(Z=Jt(re)),H=s.getDerivedStateFromProps,(re=typeof H=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==ve||fe!==Z)&&rh(i,T,u,Z),fl=!1,fe=i.memoizedState,T.state=fe,_s(i,u,T,x),Ms();var pe=i.memoizedState;_!==ve||fe!==pe||fl||t!==null&&t.dependencies!==null&&Aa(t.dependencies)?(typeof H=="function"&&(uc(i,s,H,u),pe=i.memoizedState),(me=fl||ah(i,s,me,u,fe,pe,Z)||t!==null&&t.dependencies!==null&&Aa(t.dependencies))?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(u,pe,Z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(u,pe,Z)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=pe),T.props=u,T.state=pe,T.context=Z,u=me):(typeof T.componentDidUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),u=!1)}return T=u,Ya(t,i),u=(i.flags&128)!==0,T||u?(T=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,t!==null&&u?(i.child=Kl(i,t.child,null,x),i.child=Kl(i,null,s,x)):$t(t,i,s,x),i.memoizedState=T.state,t=i.child):t=Bi(t,i,x),t}function Eh(t,i,s,u){return jl(),i.flags|=256,$t(t,i,s,u),i.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:d0()}}function gc(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Nn),t}function Ch(t,i,s){var u=i.pendingProps,x=!1,T=(i.flags&128)!==0,_;if((_=T)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(x=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(x?pl(i):ml(),(t=Tt)?(t=kp(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:al!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=i0(t),s.return=i,i.child=s,Yt=i,Tt=null)):t=null,t===null)throw ul(i);return Wc(t)?i.lanes=32:i.lanes=536870912,null}var H=u.children;return u=u.fallback,x?(ml(),x=i.mode,H=Ja({mode:"hidden",children:H},x),u=zl(u,x,s,null),H.return=i,u.return=i,H.sibling=u,i.child=H,u=i.child,u.memoizedState=mc(s),u.childLanes=gc(t,_,s),i.memoizedState=pc,Ds(null,u)):(pl(i),yc(i,H))}var Z=t.memoizedState;if(Z!==null&&(H=Z.dehydrated,H!==null)){if(T)i.flags&256?(pl(i),i.flags&=-257,i=vc(t,i,s)):i.memoizedState!==null?(ml(),i.child=t.child,i.flags|=128,i=null):(ml(),H=u.fallback,x=i.mode,u=Ja({mode:"visible",children:u.children},x),H=zl(H,x,s,null),H.flags|=2,u.return=i,H.return=i,u.sibling=H,i.child=u,Kl(i,t.child,null,s),u=i.child,u.memoizedState=mc(s),u.childLanes=gc(t,_,s),i.memoizedState=pc,i=Ds(null,u));else if(pl(i),Wc(H)){if(_=H.nextSibling&&H.nextSibling.dataset,_)var re=_.dgst;_=re,u=Error(o(419)),u.stack="",u.digest=_,Ts({value:u,source:null,stack:null}),i=vc(t,i,s)}else if(Ut||wo(t,i,s,!1),_=(s&t.childLanes)!==0,Ut||_){if(_=vt,_!==null&&(u=Pl(_,s),u!==0&&u!==Z.retryLane))throw Z.retryLane=u,Fl(t,u),mn(_,t,u),dc;Qc(H)||nr(),i=vc(t,i,s)}else Qc(H)?(i.flags|=192,i.child=t.child,i=null):(t=Z.treeContext,Tt=Hn(H.nextSibling),Yt=i,nt=!0,rl=null,On=!1,t!==null&&s0(i,t),i=yc(i,u.children),i.flags|=4096);return i}return x?(ml(),H=u.fallback,x=i.mode,Z=t.child,re=Z.sibling,u=ki(Z,{mode:"hidden",children:u.children}),u.subtreeFlags=Z.subtreeFlags&65011712,re!==null?H=ki(re,H):(H=zl(H,x,s,null),H.flags|=2),H.return=i,u.return=i,u.sibling=H,i.child=u,Ds(null,u),u=i.child,H=t.child.memoizedState,H===null?H=mc(s):(x=H.cachePool,x!==null?(Z=Dt._currentValue,x=x.parent!==Z?{parent:Z,pool:Z}:x):x=d0(),H={baseLanes:H.baseLanes|s,cachePool:x}),u.memoizedState=H,u.childLanes=gc(t,_,s),i.memoizedState=pc,Ds(t.child,u)):(pl(i),s=t.child,t=s.sibling,s=ki(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function yc(t,i){return i=Ja({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ja(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function vc(t,i,s){return Kl(i,t.child,null,s),t=yc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wh(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Lu(t.return,i,s)}function xc(t,i,s,u,x,T){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:x,treeForkCount:T}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=s,_.tailMode=x,_.treeForkCount=T)}function Nh(t,i,s){var u=i.pendingProps,x=u.revealOrder,T=u.tail;u=u.children;var _=It.current,H=(_&2)!==0;if(H?(_=_&1|2,i.flags|=128):_&=1,ee(It,_),$t(t,i,u,s),u=nt?bs:0,!H&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wh(t,s,i);else if(t.tag===19)wh(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(x){case"forwards":for(s=i.child,x=null;s!==null;)t=s.alternate,t!==null&&Pa(t)===null&&(x=s),s=s.sibling;s=x,s===null?(x=i.child,i.child=null):(x=s.sibling,s.sibling=null),xc(i,!1,x,s,T,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,x=i.child,i.child=null;x!==null;){if(t=x.alternate,t!==null&&Pa(t)===null){i.child=x;break}t=x.sibling,x.sibling=s,s=x,x=t}xc(i,!0,s,null,T,u);break;case"together":xc(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Bi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),vl|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(wo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=ki(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=ki(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Sc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Aa(t)))}function Kx(t,i,s){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),cl(i,Dt,t.memoizedState.cache),jl();break;case 27:case 5:Ue(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:cl(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qu(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(pl(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Ch(t,i,s):(pl(i),t=Bi(t,i,s),t!==null?t.sibling:null);pl(i);break;case 19:var x=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(wo(t,i,s,!1),u=(s&i.childLanes)!==0),x){if(u)return Nh(t,i,s);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ee(It,It.current),u)break;return null;case 22:return i.lanes=0,vh(t,i,s,i.pendingProps);case 24:cl(i,Dt,t.memoizedState.cache)}return Bi(t,i,s)}function Ah(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Sc(t,s)&&(i.flags&128)===0)return Ut=!1,Kx(t,i,s);Ut=(t.flags&131072)!==0}else Ut=!1,nt&&(i.flags&1048576)!==0&&o0(i,bs,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=$l(i.elementType),i.type=t,typeof t=="function")wu(t)?(u=Wl(t,u),i.tag=1,i=Th(null,i,t,u,s)):(i.tag=0,i=hc(null,i,t,u,s));else{if(t!=null){var x=t.$$typeof;if(x===V){i.tag=11,i=mh(null,i,t,u,s);break e}else if(x===L){i.tag=14,i=gh(null,i,t,u,s);break e}}throw i=K(t)||t,Error(o(306,i,""))}}return i;case 0:return hc(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,x=Wl(u,i.pendingProps),Th(t,i,u,x,s);case 3:e:{if(ge(i,i.stateNode.containerInfo),t===null)throw Error(o(387));u=i.pendingProps;var T=i.memoizedState;x=T.element,Vu(t,i),_s(i,u,null,s);var _=i.memoizedState;if(u=_.cache,cl(i,Dt,u),u!==T.cache&&Du(i,[Dt],s,!0),Ms(),u=_.element,T.isDehydrated)if(T={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=Eh(t,i,u,s);break e}else if(u!==x){x=Un(Error(o(424)),i),Ts(x),i=Eh(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=Hn(t.firstChild),Yt=i,nt=!0,rl=null,On=!0,s=v0(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(jl(),u===x){i=Bi(t,i,s);break e}$t(t,i,u,s)}i=i.child}return i;case 26:return Ya(t,i),t===null?(s=Bp(i.type,null,i.pendingProps,null))?i.memoizedState=s:nt||(s=i.type,t=i.pendingProps,u=ur(ce.current).createElement(s),u[w]=i,u[G]=t,Xt(u,s,t),tt(u),i.stateNode=u):i.memoizedState=Bp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ue(i),t===null&&nt&&(u=i.stateNode=Pp(i.type,i.pendingProps,ce.current),Yt=i,On=!0,x=Tt,El(i.type)?(Zc=x,Tt=Hn(u.firstChild)):Tt=x),$t(t,i,i.pendingProps.children,s),Ya(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&nt&&((x=u=Tt)&&(u=N1(u,i.type,i.pendingProps,On),u!==null?(i.stateNode=u,Yt=i,Tt=Hn(u.firstChild),On=!1,x=!0):x=!1),x||ul(i)),Ue(i),x=i.type,T=i.pendingProps,_=t!==null?t.memoizedProps:null,u=T.children,$c(x,T)?u=null:_!==null&&$c(x,_)&&(i.flags|=32),i.memoizedState!==null&&(x=Ju(t,i,Hx,null,null,s),Xs._currentValue=x),Ya(t,i),$t(t,i,u,s),i.child;case 6:return t===null&&nt&&((t=s=Tt)&&(s=A1(s,i.pendingProps,On),s!==null?(i.stateNode=s,Yt=i,Tt=null,t=!0):t=!1),t||ul(i)),null;case 13:return Ch(t,i,s);case 4:return ge(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Kl(i,null,u,s):$t(t,i,u,s),i.child;case 11:return mh(t,i,i.type,i.pendingProps,s);case 7:return $t(t,i,i.pendingProps,s),i.child;case 8:return $t(t,i,i.pendingProps.children,s),i.child;case 12:return $t(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,cl(i,i.type,u.value),$t(t,i,u.children,s),i.child;case 9:return x=i.type._context,u=i.pendingProps.children,Yl(i),x=Jt(x),u=u(x),i.flags|=1,$t(t,i,u,s),i.child;case 14:return gh(t,i,i.type,i.pendingProps,s);case 15:return yh(t,i,i.type,i.pendingProps,s);case 19:return Nh(t,i,s);case 31:return Xx(t,i,s);case 22:return vh(t,i,s,i.pendingProps);case 24:return Yl(i),u=Jt(Dt),t===null?(x=Gu(),x===null&&(x=vt,T=Pu(),x.pooledCache=T,T.refCount++,T!==null&&(x.pooledCacheLanes|=s),x=T),i.memoizedState={parent:u,cache:x},Ou(i),cl(i,Dt,x)):((t.lanes&s)!==0&&(Vu(t,i),_s(i,null,null,s),Ms()),x=t.memoizedState,T=i.memoizedState,x.parent!==u?(x={parent:u,cache:u},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),cl(i,Dt,u)):(u=T.cache,cl(i,Dt,u),u!==x.cache&&Du(i,[Dt],s,!0))),$t(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Oi(t){t.flags|=4}function bc(t,i,s,u,x){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(x&335544128)===x)if(t.stateNode.complete)t.flags|=8192;else if(ep())t.flags|=8192;else throw Xl=Ia,Bu}else t.flags&=-16777217}function Mh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zp(i))if(ep())t.flags|=8192;else throw Xl=Ia,Bu}function $a(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fo():536870912,t.lanes|=i,Go|=i)}function Ps(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Et(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var x=t.child;x!==null;)s|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)s|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function Qx(t,i,s){var u=i.pendingProps;switch(_u(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Pi(Dt),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Co(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iu())),Et(i),null;case 26:var x=i.type,T=i.memoizedState;return t===null?(Oi(i),T!==null?(Et(i),Mh(i,T)):(Et(i),bc(i,x,null,u,s))):T?T!==t.memoizedState?(Oi(i),Et(i),Mh(i,T)):(Et(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&Oi(i),Et(i),bc(i,x,t,u,s)),null;case 27:if(_e(i),s=ce.current,x=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return Et(i),null}t=de.current,Co(i)?a0(i):(t=Pp(x,u,s),i.stateNode=t,Oi(i))}return Et(i),null;case 5:if(_e(i),x=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return Et(i),null}if(T=de.current,Co(i))a0(i);else{var _=ur(ce.current);switch(T){case 1:T=_.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:T=_.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":T=_.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":T=_.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":T=_.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?T.multiple=!0:u.size&&(T.size=u.size);break;default:T=typeof u.is=="string"?_.createElement(x,{is:u.is}):_.createElement(x)}}T[w]=i,T[G]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)T.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=T;e:switch(Xt(T,x,u),x){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Oi(i)}}return Et(i),bc(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(o(166));if(t=ce.current,Co(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,x=Yt,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}t[w]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Cp(t.nodeValue,s)),t||ul(i,!0)}else t=ur(t).createTextNode(u),t[w]=i,i.stateNode=t}return Et(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=Co(i),s!==null){if(t===null){if(!u)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[w]=i}else jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),t=!1}else s=Iu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(o(558))}return Et(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(x=Co(i),u!==null&&u.dehydrated!==null){if(t===null){if(!x)throw Error(o(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));x[w]=i}else jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),x=!1}else x=Iu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool),T=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(T=u.memoizedState.cachePool.pool),T!==x&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),$a(i,i.updateQueue),Et(i),null);case 4:return Ne(),t===null&&zc(i.stateNode.containerInfo),Et(i),null;case 10:return Pi(i.type),Et(i),null;case 19:if(J(It),u=i.memoizedState,u===null)return Et(i),null;if(x=(i.flags&128)!==0,T=u.rendering,T===null)if(x)Ps(u,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(T=Pa(t),T!==null){for(i.flags|=128,Ps(u,!1),t=T.updateQueue,i.updateQueue=t,$a(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)n0(s,t),s=s.sibling;return ee(It,It.current&1|2),nt&&Li(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&Rt()>Za&&(i.flags|=128,x=!0,Ps(u,!1),i.lanes=4194304)}else{if(!x)if(t=Pa(T),t!==null){if(i.flags|=128,x=!0,t=t.updateQueue,i.updateQueue=t,$a(i,t),Ps(u,!0),u.tail===null&&u.tailMode==="hidden"&&!T.alternate&&!nt)return Et(i),null}else 2*Rt()-u.renderingStartTime>Za&&s!==536870912&&(i.flags|=128,x=!0,Ps(u,!1),i.lanes=4194304);u.isBackwards?(T.sibling=i.child,i.child=T):(t=u.last,t!==null?t.sibling=T:i.child=T,u.last=T)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Rt(),t.sibling=null,s=It.current,ee(It,x?s&1|2:s&1),nt&&Li(i,u.treeForkCount),t):(Et(i),null);case 22:case 23:return Cn(i),ju(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),s=i.updateQueue,s!==null&&$a(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&J(Jl),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Pi(Dt),Et(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Wx(t,i){switch(_u(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pi(Dt),Ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _e(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(o(340));jl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));jl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(It),null;case 4:return Ne(),null;case 10:return Pi(i.type),null;case 22:case 23:return Cn(i),ju(),t!==null&&J(Jl),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pi(Dt),null;case 25:return null;default:return null}}function _h(t,i){switch(_u(i),i.tag){case 3:Pi(Dt),Ne();break;case 26:case 27:case 5:_e(i);break;case 4:Ne();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:J(It);break;case 10:Pi(i.type);break;case 22:case 23:Cn(i),ju(),t!==null&&J(Jl);break;case 24:Pi(Dt)}}function Us(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var x=u.next;s=x;do{if((s.tag&t)===t){u=void 0;var T=s.create,_=s.inst;u=T(),_.destroy=u}s=s.next}while(s!==x)}}catch(H){ht(i,i.return,H)}}function gl(t,i,s){try{var u=i.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var T=x.next;u=T;do{if((u.tag&t)===t){var _=u.inst,H=_.destroy;if(H!==void 0){_.destroy=void 0,x=i;var Z=s,re=H;try{re()}catch(me){ht(x,Z,me)}}}u=u.next}while(u!==T)}}catch(me){ht(i,i.return,me)}}function Rh(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{S0(i,s)}catch(u){ht(t,t.return,u)}}}function Ih(t,i,s){s.props=Wl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){ht(t,i,u)}}function Gs(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(x){ht(t,i,x)}}function xi(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(x){ht(t,i,x)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(x){ht(t,i,x)}else s.current=null}function kh(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(x){ht(t,t.return,x)}}function Tc(t,i,s){try{var u=t.stateNode;S1(u,t.type,s,i),u[G]=i}catch(x){ht(t,t.return,x)}}function Lh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&El(t.type)||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&El(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ti));else if(u!==4&&(u===27&&El(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Cc(t,i,s),t=t.sibling;t!==null;)Cc(t,i,s),t=t.sibling}function Xa(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&El(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Xa(t,i,s),t=t.sibling;t!==null;)Xa(t,i,s),t=t.sibling}function Dh(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Xt(i,u,s),i[w]=t,i[G]=s}catch(T){ht(t,t.return,T)}}var Vi=!1,Gt=!1,wc=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Zx(t,i){if(t=t.containerInfo,Yc=gr,t=Jd(t),vu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var x=u.anchorOffset,T=u.focusNode;u=u.focusOffset;try{s.nodeType,T.nodeType}catch{s=null;break e}var _=0,H=-1,Z=-1,re=0,me=0,ve=t,fe=null;t:for(;;){for(var pe;ve!==s||x!==0&&ve.nodeType!==3||(H=_+x),ve!==T||u!==0&&ve.nodeType!==3||(Z=_+u),ve.nodeType===3&&(_+=ve.nodeValue.length),(pe=ve.firstChild)!==null;)fe=ve,ve=pe;for(;;){if(ve===t)break t;if(fe===s&&++re===x&&(H=_),fe===T&&++me===u&&(Z=_),(pe=ve.nextSibling)!==null)break;ve=fe,fe=ve.parentNode}ve=pe}s=H===-1||Z===-1?null:{start:H,end:Z}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jc={focusedElem:t,selectionRange:s},gr=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,T=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)x=t[s],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&T!==null){t=void 0,s=i,x=T.memoizedProps,T=T.memoizedState,u=s.stateNode;try{var Ge=Wl(s.type,x);t=u.getSnapshotBeforeUpdate(Ge,T),u.__reactInternalSnapshotBeforeUpdate=t}catch(He){ht(s,s.return,He)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Kc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function Uh(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(t,s),u&4&&Us(5,s);break;case 1:if(Fi(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){ht(s,s.return,_)}else{var x=Wl(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(x,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ht(s,s.return,_)}}u&64&&Rh(s),u&512&&Gs(s,s.return);break;case 3:if(Fi(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{S0(t,i)}catch(_){ht(s,s.return,_)}}break;case 27:i===null&&u&4&&Dh(s);case 26:case 5:Fi(t,s),i===null&&u&4&&kh(s),u&512&&Gs(s,s.return);break;case 12:Fi(t,s);break;case 31:Fi(t,s),u&4&&Oh(t,s);break;case 13:Fi(t,s),u&4&&Vh(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=r1.bind(null,s),M1(t,s))));break;case 22:if(u=s.memoizedState!==null||Vi,!u){i=i!==null&&i.memoizedState!==null||Gt,x=Vi;var T=Gt;Vi=u,(Gt=i)&&!T?zi(t,s,(s.subtreeFlags&8772)!==0):Fi(t,s),Vi=x,Gt=T}break;case 30:break;default:Fi(t,s)}}function Gh(t){var i=t.alternate;i!==null&&(t.alternate=null,Gh(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ee(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,fn=!1;function Hi(t,i,s){for(s=s.child;s!==null;)Bh(t,i,s),s=s.sibling}function Bh(t,i,s){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Bt,s)}catch{}switch(s.tag){case 26:Gt||xi(s,i),Hi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Gt||xi(s,i);var u=Ct,x=fn;El(s.type)&&(Ct=s.stateNode,fn=!1),Hi(t,i,s),Ys(s.stateNode),Ct=u,fn=x;break;case 5:Gt||xi(s,i);case 6:if(u=Ct,x=fn,Ct=null,Hi(t,i,s),Ct=u,fn=x,Ct!==null)if(fn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(T){ht(s,i,T)}else try{Ct.removeChild(s.stateNode)}catch(T){ht(s,i,T)}break;case 18:Ct!==null&&(fn?(t=Ct,Rp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qo(t)):Rp(Ct,s.stateNode));break;case 4:u=Ct,x=fn,Ct=s.stateNode.containerInfo,fn=!0,Hi(t,i,s),Ct=u,fn=x;break;case 0:case 11:case 14:case 15:gl(2,s,i),Gt||gl(4,s,i),Hi(t,i,s);break;case 1:Gt||(xi(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Ih(s,i,u)),Hi(t,i,s);break;case 21:Hi(t,i,s);break;case 22:Gt=(u=Gt)||s.memoizedState!==null,Hi(t,i,s),Gt=u;break;default:Hi(t,i,s)}}function Oh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qo(t)}catch(s){ht(i,i.return,s)}}}function Vh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qo(t)}catch(s){ht(i,i.return,s)}}function e1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ph),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ph),i;default:throw Error(o(435,t.tag))}}function Ka(t,i){var s=e1(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var x=u1.bind(null,t,u);u.then(x,x)}})}function dn(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var x=s[u],T=t,_=i,H=_;e:for(;H!==null;){switch(H.tag){case 27:if(El(H.type)){Ct=H.stateNode,fn=!1;break e}break;case 5:Ct=H.stateNode,fn=!1;break e;case 3:case 4:Ct=H.stateNode.containerInfo,fn=!0;break e}H=H.return}if(Ct===null)throw Error(o(160));Bh(T,_,x),Ct=null,fn=!1,T=x.alternate,T!==null&&(T.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hh(i,t),i=i.sibling}var ii=null;function Hh(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),hn(t),u&4&&(gl(3,t,t.return),Us(3,t),gl(5,t,t.return));break;case 1:dn(i,t),hn(t),u&512&&(Gt||s===null||xi(s,s.return)),u&64&&Vi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var x=ii;if(dn(i,t),hn(t),u&512&&(Gt||s===null||xi(s,s.return)),u&4){var T=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":T=x.getElementsByTagName("title")[0],(!T||T[le]||T[w]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=x.createElement(u),x.head.insertBefore(T,x.querySelector("head > title"))),Xt(T,u,s),T[w]=t,tt(T),u=T;break e;case"link":var _=Hp("link","href",x).get(u+(s.href||""));if(_){for(var H=0;H<_.length;H++)if(T=_[H],T.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&T.getAttribute("rel")===(s.rel==null?null:s.rel)&&T.getAttribute("title")===(s.title==null?null:s.title)&&T.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(H,1);break t}}T=x.createElement(u),Xt(T,u,s),x.head.appendChild(T);break;case"meta":if(_=Hp("meta","content",x).get(u+(s.content||""))){for(H=0;H<_.length;H++)if(T=_[H],T.getAttribute("content")===(s.content==null?null:""+s.content)&&T.getAttribute("name")===(s.name==null?null:s.name)&&T.getAttribute("property")===(s.property==null?null:s.property)&&T.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&T.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(H,1);break t}}T=x.createElement(u),Xt(T,u,s),x.head.appendChild(T);break;default:throw Error(o(468,u))}T[w]=t,tt(T),u=T}t.stateNode=u}else Fp(x,t.type,t.stateNode);else t.stateNode=Vp(x,u,t.memoizedProps);else T!==u?(T===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):T.count--,u===null?Fp(x,t.type,t.stateNode):Vp(x,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Tc(t,t.memoizedProps,s.memoizedProps)}break;case 27:dn(i,t),hn(t),u&512&&(Gt||s===null||xi(s,s.return)),s!==null&&u&4&&Tc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(dn(i,t),hn(t),u&512&&(Gt||s===null||xi(s,s.return)),t.flags&32){x=t.stateNode;try{Wt(x,"")}catch(Ge){ht(t,t.return,Ge)}}u&4&&t.stateNode!=null&&(x=t.memoizedProps,Tc(t,x,s!==null?s.memoizedProps:x)),u&1024&&(wc=!0);break;case 6:if(dn(i,t),hn(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(Ge){ht(t,t.return,Ge)}}break;case 3:if(dr=null,x=ii,ii=cr(i.containerInfo),dn(i,t),ii=x,hn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{qo(i.containerInfo)}catch(Ge){ht(t,t.return,Ge)}wc&&(wc=!1,Fh(t));break;case 4:u=ii,ii=cr(t.stateNode.containerInfo),dn(i,t),hn(t),ii=u;break;case 12:dn(i,t),hn(t);break;case 31:dn(i,t),hn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ka(t,u)));break;case 13:dn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wa=Rt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ka(t,u)));break;case 22:x=t.memoizedState!==null;var Z=s!==null&&s.memoizedState!==null,re=Vi,me=Gt;if(Vi=re||x,Gt=me||Z,dn(i,t),Gt=me,Vi=re,hn(t),u&8192)e:for(i=t.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(s===null||Z||Vi||Gt||Zl(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){Z=s=i;try{if(T=Z.stateNode,x)_=T.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{H=Z.stateNode;var ve=Z.memoizedProps.style,fe=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;H.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ge){ht(Z,Z.return,Ge)}}}else if(i.tag===6){if(s===null){Z=i;try{Z.stateNode.nodeValue=x?"":Z.memoizedProps}catch(Ge){ht(Z,Z.return,Ge)}}}else if(i.tag===18){if(s===null){Z=i;try{var pe=Z.stateNode;x?Ip(pe,!0):Ip(Z.stateNode,!1)}catch(Ge){ht(Z,Z.return,Ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Ka(t,s))));break;case 19:dn(i,t),hn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ka(t,u)));break;case 30:break;case 21:break;default:dn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(Lh(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var x=s.stateNode,T=Ec(t);Xa(t,T,x);break;case 5:var _=s.stateNode;s.flags&32&&(Wt(_,""),s.flags&=-33);var H=Ec(t);Xa(t,H,_);break;case 3:case 4:var Z=s.stateNode.containerInfo,re=Ec(t);Cc(t,re,Z);break;default:throw Error(o(161))}}catch(me){ht(t,t.return,me)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uh(t,i.alternate,i),i=i.sibling}function Zl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gl(4,i,i.return),Zl(i);break;case 1:xi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ih(i,i.return,s),Zl(i);break;case 27:Ys(i.stateNode);case 26:case 5:xi(i,i.return),Zl(i);break;case 22:i.memoizedState===null&&Zl(i);break;case 30:Zl(i);break;default:Zl(i)}t=t.sibling}}function zi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,x=t,T=i,_=T.flags;switch(T.tag){case 0:case 11:case 15:zi(x,T,s),Us(4,T);break;case 1:if(zi(x,T,s),u=T,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(re){ht(u,u.return,re)}if(u=T,x=u.updateQueue,x!==null){var H=u.stateNode;try{var Z=x.shared.hiddenCallbacks;if(Z!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Z.length;x++)x0(Z[x],H)}catch(re){ht(u,u.return,re)}}s&&_&64&&Rh(T),Gs(T,T.return);break;case 27:Dh(T);case 26:case 5:zi(x,T,s),s&&u===null&&_&4&&kh(T),Gs(T,T.return);break;case 12:zi(x,T,s);break;case 31:zi(x,T,s),s&&_&4&&Oh(x,T);break;case 13:zi(x,T,s),s&&_&4&&Vh(x,T);break;case 22:T.memoizedState===null&&zi(x,T,s),Gs(T,T.return);break;case 30:break;default:zi(x,T,s)}i=i.sibling}}function Nc(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Es(s))}function Ac(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Es(t))}function li(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zh(t,i,s,u),i=i.sibling}function zh(t,i,s,u){var x=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,s,u),x&2048&&Us(9,i);break;case 1:li(t,i,s,u);break;case 3:li(t,i,s,u),x&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Es(t)));break;case 12:if(x&2048){li(t,i,s,u),t=i.stateNode;try{var T=i.memoizedProps,_=T.id,H=T.onPostCommit;typeof H=="function"&&H(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Z){ht(i,i.return,Z)}}else li(t,i,s,u);break;case 31:li(t,i,s,u);break;case 13:li(t,i,s,u);break;case 23:break;case 22:T=i.stateNode,_=i.alternate,i.memoizedState!==null?T._visibility&2?li(t,i,s,u):Bs(t,i):T._visibility&2?li(t,i,s,u):(T._visibility|=2,Do(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),x&2048&&Nc(_,i);break;case 24:li(t,i,s,u),x&2048&&Ac(i.alternate,i);break;default:li(t,i,s,u)}}function Do(t,i,s,u,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var T=t,_=i,H=s,Z=u,re=_.flags;switch(_.tag){case 0:case 11:case 15:Do(T,_,H,Z,x),Us(8,_);break;case 23:break;case 22:var me=_.stateNode;_.memoizedState!==null?me._visibility&2?Do(T,_,H,Z,x):Bs(T,_):(me._visibility|=2,Do(T,_,H,Z,x)),x&&re&2048&&Nc(_.alternate,_);break;case 24:Do(T,_,H,Z,x),x&&re&2048&&Ac(_.alternate,_);break;default:Do(T,_,H,Z,x)}i=i.sibling}}function Bs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,x=u.flags;switch(u.tag){case 22:Bs(s,u),x&2048&&Nc(u.alternate,u);break;case 24:Bs(s,u),x&2048&&Ac(u.alternate,u);break;default:Bs(s,u)}i=i.sibling}}var Os=8192;function Po(t,i,s){if(t.subtreeFlags&Os)for(t=t.child;t!==null;)jh(t,i,s),t=t.sibling}function jh(t,i,s){switch(t.tag){case 26:Po(t,i,s),t.flags&Os&&t.memoizedState!==null&&V1(s,ii,t.memoizedState,t.memoizedProps);break;case 5:Po(t,i,s);break;case 3:case 4:var u=ii;ii=cr(t.stateNode.containerInfo),Po(t,i,s),ii=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Os,Os=16777216,Po(t,i,s),Os=u):Po(t,i,s));break;default:Po(t,i,s)}}function qh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Vs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Ft=u,Jh(u,t)}qh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(t),t=t.sibling}function Yh(t){switch(t.tag){case 0:case 11:case 15:Vs(t),t.flags&2048&&gl(9,t,t.return);break;case 3:Vs(t);break;case 12:Vs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Qa(t)):Vs(t);break;default:Vs(t)}}function Qa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Ft=u,Jh(u,t)}qh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gl(8,i,i.return),Qa(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Qa(i));break;default:Qa(i)}t=t.sibling}}function Jh(t,i){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:gl(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Es(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ft=u;else e:for(s=t;Ft!==null;){u=Ft;var x=u.sibling,T=u.return;if(Gh(u),u===s){Ft=null;break e}if(x!==null){x.return=T,Ft=x;break e}Ft=T}}}var t1={getCacheForType:function(t){var i=Jt(Dt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Jt(Dt).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,Qe=null,Ze=0,dt=0,wn=null,yl=!1,Uo=!1,Mc=!1,ji=0,_t=0,vl=0,eo=0,_c=0,Nn=0,Go=0,Hs=null,pn=null,Rc=!1,Wa=0,$h=0,Za=1/0,er=null,xl=null,Ot=0,Sl=null,Bo=null,qi=0,Ic=0,kc=null,Xh=null,Fs=0,Lc=null;function An(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:Y.T!==null?Oc():Ai()}function Kh(){if(Nn===0)if((Ze&536870912)===0||nt){var t=il;il<<=1,(il&3932160)===0&&(il=262144),Nn=t}else Nn=536870912;return t=En.current,t!==null&&(t.flags|=32),Nn}function mn(t,i,s){(t===vt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),bl(t,Ze,Nn,!1)),pi(t,s),((ut&2)===0||t!==vt)&&(t===vt&&((ut&2)===0&&(eo|=s),_t===4&&bl(t,Ze,Nn,!1)),Si(t))}function Qh(t,i,s){if((ut&6)!==0)throw Error(o(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),x=u?o1(t,i):Pc(t,i,!0),T=u;do{if(x===0){Uo&&!u&&bl(t,i,0,!1);break}else{if(s=t.current.alternate,T&&!i1(s)){x=Pc(t,i,!1),T=!1;continue}if(x===2){if(T=i,t.errorRecoveryDisabledLanes&T)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var H=t;x=Hs;var Z=H.current.memoizedState.isDehydrated;if(Z&&(Oo(H,_).flags|=256),_=Pc(H,_,!1),_!==2){if(Mc&&!Z){H.errorRecoveryDisabledLanes|=T,eo|=T,x=4;break e}T=pn,pn=x,T!==null&&(pn===null?pn=T:pn.push.apply(pn,T))}x=_}if(T=!1,x!==2)continue}}if(x===1){Oo(t,0),bl(t,i,0,!0);break}e:{switch(u=t,T=x,T){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:bl(u,i,Nn,!yl);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(x=Wa+300-Rt(),10<x)){if(bl(u,i,Nn,!yl),hi(u,0,!0)!==0)break e;qi=i,u.timeoutHandle=Mp(Wh.bind(null,u,s,pn,er,Rc,i,Nn,eo,Go,yl,T,"Throttled",-0,0),x);break e}Wh(u,s,pn,er,Rc,i,Nn,eo,Go,yl,T,null,-0,0)}}break}while(!0);Si(t)}function Wh(t,i,s,u,x,T,_,H,Z,re,me,ve,fe,pe){if(t.timeoutHandle=-1,ve=i.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},jh(i,T,ve);var Ge=(T&62914560)===T?Wa-Rt():(T&4194048)===T?$h-Rt():0;if(Ge=H1(ve,Ge),Ge!==null){qi=T,t.cancelPendingCommit=Ge(sp.bind(null,t,i,T,s,u,x,_,H,Z,me,ve,null,fe,pe)),bl(t,T,_,!re);return}}sp(t,i,T,s,u,x,_,H,Z)}function i1(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var x=s[u],T=x.getSnapshot;x=x.value;try{if(!bn(T(),x))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bl(t,i,s,u){i&=~_c,i&=~eo,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var x=i;0<x;){var T=31-qt(x),_=1<<T;u[T]=-1,x&=~_}s!==0&&ho(t,s,i)}function tr(){return(ut&6)===0?(zs(0),!1):!0}function Dc(){if(Qe!==null){if(dt===0)var t=Qe.return;else t=Qe,Di=ql=null,Ku(t),_o=null,ws=0,t=Qe;for(;t!==null;)_h(t.alternate,t),t=t.return;Qe=null}}function Oo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,E1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),qi=0,Dc(),vt=t,Qe=s=ki(t.current,null),Ze=i,dt=0,wn=null,yl=!1,Uo=Qn(t,i),Mc=!1,Go=Nn=_c=eo=vl=_t=0,pn=Hs=null,Rc=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var x=31-qt(u),T=1<<x;i|=t[x],u&=~T}return ji=i,Ta(),s}function Zh(t,i){Je=null,Y.H=Ls,i===Mo||i===Ra?(i=m0(),dt=3):i===Bu?(i=m0(),dt=4):dt=i===dc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Qe===null&&(_t=1,ja(t,Un(i,t.current)))}function ep(){var t=En.current;return t===null?!0:(Ze&4194048)===Ze?Vn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===Vn:!1}function tp(){var t=Y.H;return Y.H=Ls,t===null?Ls:t}function np(){var t=Y.A;return Y.A=t1,t}function nr(){_t=4,yl||(Ze&4194048)!==Ze&&En.current!==null||(Uo=!0),(vl&134217727)===0&&(eo&134217727)===0||vt===null||bl(vt,Ze,Nn,!1)}function Pc(t,i,s){var u=ut;ut|=2;var x=tp(),T=np();(vt!==t||Ze!==i)&&(er=null,Oo(t,i)),i=!1;var _=_t;e:do try{if(dt!==0&&Qe!==null){var H=Qe,Z=wn;switch(dt){case 8:Dc(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var re=dt;if(dt=0,wn=null,Vo(t,H,Z,re),s&&Uo){_=0;break e}break;default:re=dt,dt=0,wn=null,Vo(t,H,Z,re)}}l1(),_=_t;break}catch(me){Zh(t,me)}while(!0);return i&&t.shellSuspendCounter++,Di=ql=null,ut=u,Y.H=x,Y.A=T,Qe===null&&(vt=null,Ze=0,Ta()),_}function l1(){for(;Qe!==null;)ip(Qe)}function o1(t,i){var s=ut;ut|=2;var u=tp(),x=np();vt!==t||Ze!==i?(er=null,Za=Rt()+500,Oo(t,i)):Uo=Qn(t,i);e:do try{if(dt!==0&&Qe!==null){i=Qe;var T=wn;t:switch(dt){case 1:dt=0,wn=null,Vo(t,i,T,1);break;case 2:case 9:if(h0(T)){dt=0,wn=null,lp(i);break}i=function(){dt!==2&&dt!==9||vt!==t||(dt=7),Si(t)},T.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:h0(T)?(dt=0,wn=null,lp(i)):(dt=0,wn=null,Vo(t,i,T,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var H=Qe;if(_?zp(_):H.stateNode.complete){dt=0,wn=null;var Z=H.sibling;if(Z!==null)Qe=Z;else{var re=H.return;re!==null?(Qe=re,ir(re)):Qe=null}break t}}dt=0,wn=null,Vo(t,i,T,5);break;case 6:dt=0,wn=null,Vo(t,i,T,6);break;case 8:Dc(),_t=6;break e;default:throw Error(o(462))}}s1();break}catch(me){Zh(t,me)}while(!0);return Di=ql=null,Y.H=u,Y.A=x,ut=s,Qe!==null?0:(vt=null,Ze=0,Ta(),_t)}function s1(){for(;Qe!==null&&!di();)ip(Qe)}function ip(t){var i=Ah(t.alternate,t,ji);t.memoizedProps=t.pendingProps,i===null?ir(t):Qe=i}function lp(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=bh(s,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=bh(s,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Ku(i);default:_h(s,i),i=Qe=n0(i,ji),i=Ah(s,i,ji)}t.memoizedProps=t.pendingProps,i===null?ir(t):Qe=i}function Vo(t,i,s,u){Di=ql=null,Ku(i),_o=null,ws=0;var x=i.return;try{if($x(t,x,i,s,Ze)){_t=1,ja(t,Un(s,t.current)),Qe=null;return}}catch(T){if(x!==null)throw Qe=x,T;_t=1,ja(t,Un(s,t.current)),Qe=null;return}i.flags&32768?(nt||u===1?t=!0:Uo||(Ze&536870912)!==0?t=!1:(yl=t=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),op(i,t)):ir(i)}function ir(t){var i=t;do{if((i.flags&32768)!==0){op(i,yl);return}t=i.return;var s=Qx(i.alternate,i,ji);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=t}while(i!==null);_t===0&&(_t=5)}function op(t,i){do{var s=Wx(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);_t=6,Qe=null}function sp(t,i,s,u,x,T,_,H,Z){t.cancelPendingCommit=null;do lr();while(Ot!==0);if((ut&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(T=i.lanes|i.childLanes,T|=Eu,cs(t,s,T,_,H,Z),t===vt&&(Qe=vt=null,Ze=0),Bo=i,Sl=t,qi=s,Ic=T,kc=x,Xh=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,c1(Jn,function(){return fp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,x=te.p,te.p=2,_=ut,ut|=4;try{Zx(t,i,s)}finally{ut=_,te.p=x,Y.T=u}}Ot=1,ap(),rp(),up()}}function ap(){if(Ot===1){Ot=0;var t=Sl,i=Bo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var u=te.p;te.p=2;var x=ut;ut|=4;try{Hh(i,t);var T=Jc,_=Jd(t.containerInfo),H=T.focusedElem,Z=T.selectionRange;if(_!==H&&H&&H.ownerDocument&&Yd(H.ownerDocument.documentElement,H)){if(Z!==null&&vu(H)){var re=Z.start,me=Z.end;if(me===void 0&&(me=re),"selectionStart"in H)H.selectionStart=re,H.selectionEnd=Math.min(me,H.value.length);else{var ve=H.ownerDocument||document,fe=ve&&ve.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),Ge=H.textContent.length,He=Math.min(Z.start,Ge),gt=Z.end===void 0?He:Math.min(Z.end,Ge);!pe.extend&&He>gt&&(_=gt,gt=He,He=_);var ie=qd(H,He),ne=qd(H,gt);if(ie&&ne&&(pe.rangeCount!==1||pe.anchorNode!==ie.node||pe.anchorOffset!==ie.offset||pe.focusNode!==ne.node||pe.focusOffset!==ne.offset)){var ae=ve.createRange();ae.setStart(ie.node,ie.offset),pe.removeAllRanges(),He>gt?(pe.addRange(ae),pe.extend(ne.node,ne.offset)):(ae.setEnd(ne.node,ne.offset),pe.addRange(ae))}}}}for(ve=[],pe=H;pe=pe.parentNode;)pe.nodeType===1&&ve.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ve.length;H++){var ye=ve[H];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}gr=!!Yc,Jc=Yc=null}finally{ut=x,te.p=u,Y.T=s}}t.current=i,Ot=2}}function rp(){if(Ot===2){Ot=0;var t=Sl,i=Bo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var u=te.p;te.p=2;var x=ut;ut|=4;try{Uh(t,i.alternate,i)}finally{ut=x,te.p=u,Y.T=s}}Ot=3}}function up(){if(Ot===4||Ot===3){Ot=0,Ci();var t=Sl,i=Bo,s=qi,u=Xh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Bo=Sl=null,cp(t,t.pendingLanes));var x=t.pendingLanes;if(x===0&&(xl=null),ll(s),i=i.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Bt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,x=te.p,te.p=2,Y.T=null;try{for(var T=t.onRecoverableError,_=0;_<u.length;_++){var H=u[_];T(H.value,{componentStack:H.stack})}}finally{Y.T=i,te.p=x}}(qi&3)!==0&&lr(),Si(t),x=t.pendingLanes,(s&261930)!==0&&(x&42)!==0?t===Lc?Fs++:(Fs=0,Lc=t):Fs=0,zs(0)}}function cp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Es(i)))}function lr(){return ap(),rp(),up(),fp()}function fp(){if(Ot!==5)return!1;var t=Sl,i=Ic;Ic=0;var s=ll(qi),u=Y.T,x=te.p;try{te.p=32>s?32:s,Y.T=null,s=kc,kc=null;var T=Sl,_=qi;if(Ot=0,Bo=Sl=null,qi=0,(ut&6)!==0)throw Error(o(331));var H=ut;if(ut|=4,Yh(T.current),zh(T,T.current,_,s),ut=H,zs(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Bt,T)}catch{}return!0}finally{te.p=x,Y.T=u,cp(t,i)}}function dp(t,i,s){i=Un(s,i),i=fc(t.stateNode,i,2),t=hl(t,i,2),t!==null&&(pi(t,2),Si(t))}function ht(t,i,s){if(t.tag===3)dp(t,t,s);else for(;i!==null;){if(i.tag===3){dp(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xl===null||!xl.has(u))){t=Un(s,t),s=hh(2),u=hl(i,s,2),u!==null&&(ph(s,u,i,t),pi(u,2),Si(u));break}}i=i.return}}function Uc(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new n1;var x=new Set;u.set(i,x)}else x=u.get(i),x===void 0&&(x=new Set,u.set(i,x));x.has(s)||(Mc=!0,x.add(s),t=a1.bind(null,t,i,s),i.then(t,t))}function a1(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,vt===t&&(Ze&s)===s&&(_t===4||_t===3&&(Ze&62914560)===Ze&&300>Rt()-Wa?(ut&2)===0&&Oo(t,0):_c|=s,Go===Ze&&(Go=0)),Si(t)}function hp(t,i){i===0&&(i=fo()),t=Fl(t,i),t!==null&&(pi(t,i),Si(t))}function r1(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),hp(t,s)}function u1(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,x=t.memoizedState;x!==null&&(s=x.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(i),hp(t,s)}function c1(t,i){return fi(t,i)}var or=null,Ho=null,Gc=!1,sr=!1,Bc=!1,Tl=0;function Si(t){t!==Ho&&t.next===null&&(Ho===null?or=Ho=t:Ho=Ho.next=t),sr=!0,Gc||(Gc=!0,d1())}function zs(t,i){if(!Bc&&sr){Bc=!0;do for(var s=!1,u=or;u!==null;){if(t!==0){var x=u.pendingLanes;if(x===0)var T=0;else{var _=u.suspendedLanes,H=u.pingedLanes;T=(1<<31-qt(42|t)+1)-1,T&=x&~(_&~H),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(s=!0,yp(u,T))}else T=Ze,T=hi(u,u===vt?T:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(T&3)===0||Qn(u,T)||(s=!0,yp(u,T));u=u.next}while(s);Bc=!1}}function f1(){pp()}function pp(){sr=Gc=!1;var t=0;Tl!==0&&T1()&&(t=Tl);for(var i=Rt(),s=null,u=or;u!==null;){var x=u.next,T=mp(u,i);T===0?(u.next=null,s===null?or=x:s.next=x,x===null&&(Ho=s)):(s=u,(t!==0||(T&3)!==0)&&(sr=!0)),u=x}Ot!==0&&Ot!==5||zs(t),Tl!==0&&(Tl=0)}function mp(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,x=t.expirationTimes,T=t.pendingLanes&-62914561;0<T;){var _=31-qt(T),H=1<<_,Z=x[_];Z===-1?((H&s)===0||(H&u)!==0)&&(x[_]=us(H,i)):Z<=i&&(t.expiredLanes|=H),T&=~H}if(i=vt,s=Ze,s=hi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&Mn(u),ll(s)){case 2:case 8:s=nl;break;case 32:s=Jn;break;case 268435456:s=Ht;break;default:s=Jn}return u=gp.bind(null,t),s=fi(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&Mn(u),t.callbackPriority=2,t.callbackNode=null,2}function gp(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(lr()&&t.callbackNode!==s)return null;var u=Ze;return u=hi(t,t===vt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Qh(t,u,i),mp(t,Rt()),t.callbackNode!=null&&t.callbackNode===s?gp.bind(null,t):null)}function yp(t,i){if(lr())return null;Qh(t,i,!0)}function d1(){C1(function(){(ut&6)!==0?fi(_n,f1):pp()})}function Oc(){if(Tl===0){var t=No;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),Tl=t}return Tl}function vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Dn(""+t)}function xp(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function h1(t,i,s,u,x){if(i==="submit"&&s&&s.stateNode===x){var T=vp((x[G]||null).action),_=u.submitter;_&&(i=(i=_[G]||null)?vp(i.formAction):_.getAttribute("formAction"),i!==null&&(T=i,_=null));var H=new va("action","action",null,u,x);t.push({event:H,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Tl!==0){var Z=_?xp(x,_):new FormData(x);oc(s,{pending:!0,data:Z,method:x.method,action:T},null,Z)}}else typeof T=="function"&&(H.preventDefault(),Z=_?xp(x,_):new FormData(x),oc(s,{pending:!0,data:Z,method:x.method,action:T},T,Z))},currentTarget:x}]})}}for(var Vc=0;Vc<Tu.length;Vc++){var Hc=Tu[Vc],p1=Hc.toLowerCase(),m1=Hc[0].toUpperCase()+Hc.slice(1);ni(p1,"on"+m1)}ni(Kd,"onAnimationEnd"),ni(Qd,"onAnimationIteration"),ni(Wd,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Ix,"onTransitionRun"),ni(kx,"onTransitionStart"),ni(Lx,"onTransitionCancel"),ni(Zd,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(js));function Sp(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],x=u.event;u=u.listeners;e:{var T=void 0;if(i)for(var _=u.length-1;0<=_;_--){var H=u[_],Z=H.instance,re=H.currentTarget;if(H=H.listener,Z!==T&&x.isPropagationStopped())break e;T=H,x.currentTarget=re;try{T(x)}catch(me){ba(me)}x.currentTarget=null,T=Z}else for(_=0;_<u.length;_++){if(H=u[_],Z=H.instance,re=H.currentTarget,H=H.listener,Z!==T&&x.isPropagationStopped())break e;T=H,x.currentTarget=re;try{T(x)}catch(me){ba(me)}x.currentTarget=null,T=Z}}}}function We(t,i){var s=i[z];s===void 0&&(s=i[z]=new Set);var u=t+"__bubble";s.has(u)||(bp(i,t,2,!1),s.add(u))}function Fc(t,i,s){var u=0;i&&(u|=4),bp(s,t,u,i)}var ar="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[ar]){t[ar]=!0,yn.forEach(function(s){s!=="selectionchange"&&(g1.has(s)||Fc(s,!1,t),Fc(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ar]||(i[ar]=!0,Fc("selectionchange",!1,i))}}function bp(t,i,s,u){switch(Kp(i)){case 2:var x=j1;break;case 8:x=q1;break;default:x=of}s=x.bind(null,i,s,t),x=void 0,!uu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),u?x!==void 0?t.addEventListener(i,s,{capture:!0,passive:x}):t.addEventListener(i,s,!0):x!==void 0?t.addEventListener(i,s,{passive:x}):t.addEventListener(i,s,!1)}function jc(t,i,s,u,x){var T=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var H=u.stateNode.containerInfo;if(H===x)break;if(_===4)for(_=u.return;_!==null;){var Z=_.tag;if((Z===3||Z===4)&&_.stateNode.containerInfo===x)return;_=_.return}for(;H!==null;){if(_=Ce(H),_===null)return;if(Z=_.tag,Z===5||Z===6||Z===26||Z===27){u=T=_;continue e}H=H.parentNode}}u=u.return}Nd(function(){var re=T,me=_i(s),ve=[];e:{var fe=e0.get(t);if(fe!==void 0){var pe=va,Ge=t;switch(t){case"keypress":if(ga(s)===0)break e;case"keydown":case"keyup":pe=ux;break;case"focusin":Ge="focus",pe=hu;break;case"focusout":Ge="blur",pe=hu;break;case"beforeblur":case"afterblur":pe=hu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=dx;break;case Kd:case Qd:case Wd:pe=ex;break;case Zd:pe=px;break;case"scroll":case"scrollend":pe=Xv;break;case"wheel":pe=gx;break;case"copy":case"cut":case"paste":pe=nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Id;break;case"toggle":case"beforetoggle":pe=vx}var He=(i&4)!==0,gt=!He&&(t==="scroll"||t==="scrollend"),ie=He?fe!==null?fe+"Capture":null:fe;He=[];for(var ne=re,ae;ne!==null;){var ye=ne;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||ie===null||(ye=ds(ne,ie),ye!=null&&He.push(qs(ne,ye,ae))),gt)break;ne=ne.return}0<He.length&&(fe=new pe(fe,Ge,null,s,me),ve.push({event:fe,listeners:He}))}}if((i&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",pe=t==="mouseout"||t==="pointerout",fe&&s!==fs&&(Ge=s.relatedTarget||s.fromElement)&&(Ce(Ge)||Ge[X]))break e;if((pe||fe)&&(fe=me.window===me?me:(fe=me.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(Ge=s.relatedTarget||s.toElement,pe=re,Ge=Ge?Ce(Ge):null,Ge!==null&&(gt=a(Ge),He=Ge.tag,Ge!==gt||He!==5&&He!==27&&He!==6)&&(Ge=null)):(pe=null,Ge=re),pe!==Ge)){if(He=_d,ye="onMouseLeave",ie="onMouseEnter",ne="mouse",(t==="pointerout"||t==="pointerover")&&(He=Id,ye="onPointerLeave",ie="onPointerEnter",ne="pointer"),gt=pe==null?fe:$e(pe),ae=Ge==null?fe:$e(Ge),fe=new He(ye,ne+"leave",pe,s,me),fe.target=gt,fe.relatedTarget=ae,ye=null,Ce(me)===re&&(He=new He(ie,ne+"enter",Ge,s,me),He.target=ae,He.relatedTarget=gt,ye=He),gt=ye,pe&&Ge)t:{for(He=y1,ie=pe,ne=Ge,ae=0,ye=ie;ye;ye=He(ye))ae++;ye=0;for(var Ve=ne;Ve;Ve=He(Ve))ye++;for(;0<ae-ye;)ie=He(ie),ae--;for(;0<ye-ae;)ne=He(ne),ye--;for(;ae--;){if(ie===ne||ne!==null&&ie===ne.alternate){He=ie;break t}ie=He(ie),ne=He(ne)}He=null}else He=null;pe!==null&&Tp(ve,fe,pe,He,!1),Ge!==null&&gt!==null&&Tp(ve,gt,Ge,He,!0)}}e:{if(fe=re?$e(re):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var ot=Od;else if(Gd(fe))if(Vd)ot=Mx;else{ot=Nx;var Be=wx}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?re&&gi(re.elementType)&&(ot=Od):ot=Ax;if(ot&&(ot=ot(t,re))){Bd(ve,ot,s,me);break e}Be&&Be(t,fe,re),t==="focusout"&&re&&fe.type==="number"&&re.memoizedProps.value!=null&&Zn(fe,"number",fe.value)}switch(Be=re?$e(re):window,t){case"focusin":(Gd(Be)||Be.contentEditable==="true")&&(vo=Be,xu=re,Ss=null);break;case"focusout":Ss=xu=vo=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,$d(ve,s,me);break;case"selectionchange":if(Rx)break;case"keydown":case"keyup":$d(ve,s,me)}var Xe;if(mu)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else yo?Pd(t,s)&&(et="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(et="onCompositionStart");et&&(kd&&s.locale!=="ko"&&(yo||et!=="onCompositionStart"?et==="onCompositionEnd"&&yo&&(Xe=Ad()):(sl=me,cu="value"in sl?sl.value:sl.textContent,yo=!0)),Be=rr(re,et),0<Be.length&&(et=new Rd(et,t,null,s,me),ve.push({event:et,listeners:Be}),Xe?et.data=Xe:(Xe=Ud(s),Xe!==null&&(et.data=Xe)))),(Xe=Sx?bx(t,s):Tx(t,s))&&(et=rr(re,"onBeforeInput"),0<et.length&&(Be=new Rd("onBeforeInput","beforeinput",null,s,me),ve.push({event:Be,listeners:et}),Be.data=Xe)),h1(ve,t,re,s,me)}Sp(ve,i)})}function qs(t,i,s){return{instance:t,listener:i,currentTarget:s}}function rr(t,i){for(var s=i+"Capture",u=[];t!==null;){var x=t,T=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||T===null||(x=ds(t,s),x!=null&&u.unshift(qs(t,x,T)),x=ds(t,i),x!=null&&u.push(qs(t,x,T))),t.tag===3)return u;t=t.return}return[]}function y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tp(t,i,s,u,x){for(var T=i._reactName,_=[];s!==null&&s!==u;){var H=s,Z=H.alternate,re=H.stateNode;if(H=H.tag,Z!==null&&Z===u)break;H!==5&&H!==26&&H!==27||re===null||(Z=re,x?(re=ds(s,T),re!=null&&_.unshift(qs(s,re,Z))):x||(re=ds(s,T),re!=null&&_.push(qs(s,re,Z)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var v1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function Ep(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(x1,"")}function Cp(t,i){return i=Ep(i),Ep(t)===i}function mt(t,i,s,u,x,T){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Wt(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Wt(t,""+u);break;case"className":Wn(t,"class",u);break;case"tabIndex":Wn(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,s,u);break;case"style":Bl(t,u,T);break;case"data":if(i!=="object"){Wn(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Dn(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(s==="formAction"?(i!=="input"&&mt(t,i,"name",x.name,x,null),mt(t,i,"formEncType",x.formEncType,x,null),mt(t,i,"formMethod",x.formMethod,x,null),mt(t,i,"formTarget",x.formTarget,x,null)):(mt(t,i,"encType",x.encType,x,null),mt(t,i,"method",x.method,x,null),mt(t,i,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Dn(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=ti);break;case"onScroll":u!=null&&We("scroll",t);break;case"onScrollEnd":u!=null&&We("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(x.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Dn(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":We("beforetoggle",t),We("toggle",t),xn(t,"popover",u);break;case"xlinkActuate":mi(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":mi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":mi(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":mi(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":mi(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":mi(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":mi(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":mi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":mi(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xn(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ol.get(s)||s,xn(t,s,u))}}function qc(t,i,s,u,x,T){switch(s){case"style":Bl(t,u,T);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(x.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Wt(t,u):(typeof u=="number"||typeof u=="bigint")&&Wt(t,""+u);break;case"onScroll":u!=null&&We("scroll",t);break;case"onScrollEnd":u!=null&&We("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Me.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(x=s.endsWith("Capture"),i=s.slice(2,x?s.length-7:void 0),T=t[G]||null,T=T!=null?T[s]:null,typeof T=="function"&&t.removeEventListener(i,T,x),typeof u=="function")){typeof T!="function"&&T!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,x);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):xn(t,s,u)}}}function Xt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",t),We("load",t);var u=!1,x=!1,T;for(T in s)if(s.hasOwnProperty(T)){var _=s[T];if(_!=null)switch(T){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:mt(t,i,T,_,s,null)}}x&&mt(t,i,"srcSet",s.srcSet,s,null),u&&mt(t,i,"src",s.src,s,null);return;case"input":We("invalid",t);var H=T=_=x=null,Z=null,re=null;for(u in s)if(s.hasOwnProperty(u)){var me=s[u];if(me!=null)switch(u){case"name":x=me;break;case"type":_=me;break;case"checked":Z=me;break;case"defaultChecked":re=me;break;case"value":T=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,i));break;default:mt(t,i,u,me,s,null)}}Sn(t,T,H,Z,re,_,x,!1);return;case"select":We("invalid",t),u=_=T=null;for(x in s)if(s.hasOwnProperty(x)&&(H=s[x],H!=null))switch(x){case"value":T=H;break;case"defaultValue":_=H;break;case"multiple":u=H;default:mt(t,i,x,H,s,null)}i=T,s=_,t.multiple=!!u,i!=null?rt(t,!!u,i,!1):s!=null&&rt(t,!!u,s,!0);return;case"textarea":We("invalid",t),T=x=u=null;for(_ in s)if(s.hasOwnProperty(_)&&(H=s[_],H!=null))switch(_){case"value":u=H;break;case"defaultValue":x=H;break;case"children":T=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(91));break;default:mt(t,i,_,H,s,null)}un(t,u,x,T);return;case"option":for(Z in s)if(s.hasOwnProperty(Z)&&(u=s[Z],u!=null))switch(Z){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(t,i,Z,u,s,null)}return;case"dialog":We("beforetoggle",t),We("toggle",t),We("cancel",t),We("close",t);break;case"iframe":case"object":We("load",t);break;case"video":case"audio":for(u=0;u<js.length;u++)We(js[u],t);break;case"image":We("error",t),We("load",t);break;case"details":We("toggle",t);break;case"embed":case"source":case"link":We("error",t),We("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in s)if(s.hasOwnProperty(re)&&(u=s[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:mt(t,i,re,u,s,null)}return;default:if(gi(i)){for(me in s)s.hasOwnProperty(me)&&(u=s[me],u!==void 0&&qc(t,i,me,u,s,void 0));return}}for(H in s)s.hasOwnProperty(H)&&(u=s[H],u!=null&&mt(t,i,H,u,s,null))}function S1(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,T=null,_=null,H=null,Z=null,re=null,me=null;for(pe in s){var ve=s[pe];if(s.hasOwnProperty(pe)&&ve!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Z=ve;default:u.hasOwnProperty(pe)||mt(t,i,pe,null,u,ve)}}for(var fe in u){var pe=u[fe];if(ve=s[fe],u.hasOwnProperty(fe)&&(pe!=null||ve!=null))switch(fe){case"type":T=pe;break;case"name":x=pe;break;case"checked":re=pe;break;case"defaultChecked":me=pe;break;case"value":_=pe;break;case"defaultValue":H=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(o(137,i));break;default:pe!==ve&&mt(t,i,fe,pe,u,ve)}}kn(t,_,H,Z,re,me,T,x);return;case"select":pe=_=H=fe=null;for(T in s)if(Z=s[T],s.hasOwnProperty(T)&&Z!=null)switch(T){case"value":break;case"multiple":pe=Z;default:u.hasOwnProperty(T)||mt(t,i,T,null,u,Z)}for(x in u)if(T=u[x],Z=s[x],u.hasOwnProperty(x)&&(T!=null||Z!=null))switch(x){case"value":fe=T;break;case"defaultValue":H=T;break;case"multiple":_=T;default:T!==Z&&mt(t,i,x,T,u,Z)}i=H,s=_,u=pe,fe!=null?rt(t,!!s,fe,!1):!!u!=!!s&&(i!=null?rt(t,!!s,i,!0):rt(t,!!s,s?[]:"",!1));return;case"textarea":pe=fe=null;for(H in s)if(x=s[H],s.hasOwnProperty(H)&&x!=null&&!u.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:mt(t,i,H,null,u,x)}for(_ in u)if(x=u[_],T=s[_],u.hasOwnProperty(_)&&(x!=null||T!=null))switch(_){case"value":fe=x;break;case"defaultValue":pe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:x!==T&&mt(t,i,_,x,u,T)}Gl(t,fe,pe);return;case"option":for(var Ge in s)if(fe=s[Ge],s.hasOwnProperty(Ge)&&fe!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:mt(t,i,Ge,null,u,fe)}for(Z in u)if(fe=u[Z],pe=s[Z],u.hasOwnProperty(Z)&&fe!==pe&&(fe!=null||pe!=null))switch(Z){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:mt(t,i,Z,fe,u,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in s)fe=s[He],s.hasOwnProperty(He)&&fe!=null&&!u.hasOwnProperty(He)&&mt(t,i,He,null,u,fe);for(re in u)if(fe=u[re],pe=s[re],u.hasOwnProperty(re)&&fe!==pe&&(fe!=null||pe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,i));break;default:mt(t,i,re,fe,u,pe)}return;default:if(gi(i)){for(var gt in s)fe=s[gt],s.hasOwnProperty(gt)&&fe!==void 0&&!u.hasOwnProperty(gt)&&qc(t,i,gt,void 0,u,fe);for(me in u)fe=u[me],pe=s[me],!u.hasOwnProperty(me)||fe===pe||fe===void 0&&pe===void 0||qc(t,i,me,fe,u,pe);return}}for(var ie in s)fe=s[ie],s.hasOwnProperty(ie)&&fe!=null&&!u.hasOwnProperty(ie)&&mt(t,i,ie,null,u,fe);for(ve in u)fe=u[ve],pe=s[ve],!u.hasOwnProperty(ve)||fe===pe||fe==null&&pe==null||mt(t,i,ve,fe,u,pe)}function wp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var x=s[u],T=x.transferSize,_=x.initiatorType,H=x.duration;if(T&&H&&wp(_)){for(_=0,H=x.responseEnd,u+=1;u<s.length;u++){var Z=s[u],re=Z.startTime;if(re>H)break;var me=Z.transferSize,ve=Z.initiatorType;me&&wp(ve)&&(Z=Z.responseEnd,_+=me*(Z<H?1:(H-re)/(Z-re)))}if(--u,i+=8*(T+_)/(x.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yc=null,Jc=null;function ur(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ap(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $c(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xc=null;function T1(){var t=window.event;return t&&t.type==="popstate"?t===Xc?!1:(Xc=t,!0):(Xc=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(t){return _p.resolve(null).then(t).catch(w1)}:Mp;function w1(t){setTimeout(function(){throw t})}function El(t){return t==="head"}function Rp(t,i){var s=i,u=0;do{var x=s.nextSibling;if(t.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(x),qo(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Ys(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ys(s);for(var T=s.firstChild;T;){var _=T.nextSibling,H=T.nodeName;T[le]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=_}}else s==="body"&&Ys(t.ownerDocument.body);s=x}while(s);qo(i)}function Ip(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function Kc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Kc(s),Ee(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function N1(t,i,s,u){for(;t.nodeType===1;){var x=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[le])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(T=t.getAttribute("rel"),T==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(T!==x.rel||t.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||t.getAttribute("title")!==(x.title==null?null:x.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(T=t.getAttribute("src"),(T!==(x.src==null?null:x.src)||t.getAttribute("type")!==(x.type==null?null:x.type)||t.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&T&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var T=x.name==null?null:""+x.name;if(x.type==="hidden"&&t.getAttribute("name")===T)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function A1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function kp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Qc(t){return t.data==="$?"||t.data==="$~"}function Wc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function M1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Zc=null;function Lp(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Hn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Dp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function Pp(t,i,s){switch(i=ur(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ys(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ee(t)}var Fn=new Map,Up=new Set;function cr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=te.d;te.d={f:_1,r:R1,D:I1,C:k1,L:L1,m:D1,X:U1,S:P1,M:G1};function _1(){var t=Yi.f(),i=tr();return t||i}function R1(t){var i=we(t);i!==null&&i.tag===5&&i.type==="form"?Z0(i):Yi.r(t)}var Fo=typeof document>"u"?null:document;function Gp(t,i,s){var u=Fo;if(u&&typeof i=="string"&&i){var x=ct(i);x='link[rel="'+t+'"][href="'+x+'"]',typeof s=="string"&&(x+='[crossorigin="'+s+'"]'),Up.has(x)||(Up.add(x),t={rel:t,crossOrigin:s,href:i},u.querySelector(x)===null&&(i=u.createElement("link"),Xt(i,"link",t),tt(i),u.head.appendChild(i)))}}function I1(t){Yi.D(t),Gp("dns-prefetch",t,null)}function k1(t,i){Yi.C(t,i),Gp("preconnect",t,i)}function L1(t,i,s){Yi.L(t,i,s);var u=Fo;if(u&&t&&i){var x='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&s&&s.imageSrcSet?(x+='[imagesrcset="'+ct(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(x+='[imagesizes="'+ct(s.imageSizes)+'"]')):x+='[href="'+ct(t)+'"]';var T=x;switch(i){case"style":T=zo(t);break;case"script":T=jo(t)}Fn.has(T)||(t=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Fn.set(T,t),u.querySelector(x)!==null||i==="style"&&u.querySelector(Js(T))||i==="script"&&u.querySelector($s(T))||(i=u.createElement("link"),Xt(i,"link",t),tt(i),u.head.appendChild(i)))}}function D1(t,i){Yi.m(t,i);var s=Fo;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(t)+'"]',T=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=jo(t)}if(!Fn.has(T)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(T,t),s.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($s(T)))return}u=s.createElement("link"),Xt(u,"link",t),tt(u),s.head.appendChild(u)}}}function P1(t,i,s){Yi.S(t,i,s);var u=Fo;if(u&&t){var x=Fe(u).hoistableStyles,T=zo(t);i=i||"default";var _=x.get(T);if(!_){var H={loading:0,preload:null};if(_=u.querySelector(Js(T)))H.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Fn.get(T))&&ef(t,s);var Z=_=u.createElement("link");tt(Z),Xt(Z,"link",t),Z._p=new Promise(function(re,me){Z.onload=re,Z.onerror=me}),Z.addEventListener("load",function(){H.loading|=1}),Z.addEventListener("error",function(){H.loading|=2}),H.loading|=4,fr(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:H},x.set(T,_)}}}function U1(t,i){Yi.X(t,i);var s=Fo;if(s&&t){var u=Fe(s).hoistableScripts,x=jo(t),T=u.get(x);T||(T=s.querySelector($s(x)),T||(t=b({src:t,async:!0},i),(i=Fn.get(x))&&tf(t,i),T=s.createElement("script"),tt(T),Xt(T,"link",t),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},u.set(x,T))}}function G1(t,i){Yi.M(t,i);var s=Fo;if(s&&t){var u=Fe(s).hoistableScripts,x=jo(t),T=u.get(x);T||(T=s.querySelector($s(x)),T||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(x))&&tf(t,i),T=s.createElement("script"),tt(T),Xt(T,"link",t),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},u.set(x,T))}}function Bp(t,i,s,u){var x=(x=ce.current)?cr(x):null;if(!x)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=zo(s.href),s=Fe(x).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=zo(s.href);var T=Fe(x).hoistableStyles,_=T.get(t);if(_||(x=x.ownerDocument||x,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(t,_),(T=x.querySelector(Js(t)))&&!T._p&&(_.instance=T,_.state.loading=5),Fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(t,s),T||B1(x,t,s,_.state))),i&&u===null)throw Error(o(528,""));return _}if(i&&u!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=jo(s),s=Fe(x).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function zo(t){return'href="'+ct(t)+'"'}function Js(t){return'link[rel="stylesheet"]['+t+"]"}function Op(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Xt(i,"link",s),tt(i),t.head.appendChild(i))}function jo(t){return'[src="'+ct(t)+'"]'}function $s(t){return"script[async]"+t}function Vp(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+ct(s.href)+'"]');if(u)return i.instance=u,tt(u),u;var x=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),tt(u),Xt(u,"style",x),fr(u,s.precedence,t),i.instance=u;case"stylesheet":x=zo(s.href);var T=t.querySelector(Js(x));if(T)return i.state.loading|=4,i.instance=T,tt(T),T;u=Op(s),(x=Fn.get(x))&&ef(u,x),T=(t.ownerDocument||t).createElement("link"),tt(T);var _=T;return _._p=new Promise(function(H,Z){_.onload=H,_.onerror=Z}),Xt(T,"link",u),i.state.loading|=4,fr(T,s.precedence,t),i.instance=T;case"script":return T=jo(s.src),(x=t.querySelector($s(T)))?(i.instance=x,tt(x),x):(u=s,(x=Fn.get(T))&&(u=b({},s),tf(u,x)),t=t.ownerDocument||t,x=t.createElement("script"),tt(x),Xt(x,"link",u),t.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,fr(u,s.precedence,t));return i.instance}function fr(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,T=x,_=0;_<u.length;_++){var H=u[_];if(H.dataset.precedence===i)T=H;else if(T!==x)break}T?T.parentNode.insertBefore(t,T.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function ef(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var dr=null;function Hp(t,i,s){if(dr===null){var u=new Map,x=dr=new Map;x.set(s,u)}else x=dr,u=x.get(s),u||(u=new Map,x.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),x=0;x<s.length;x++){var T=s[x];if(!(T[le]||T[w]||t==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var _=T.getAttribute(i)||"";_=t+_;var H=u.get(_);H?H.push(T):u.set(_,[T])}}return u}function Fp(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function O1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function V1(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=zo(u.href),T=i.querySelector(Js(x));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=hr.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=T,tt(T);return}T=i.ownerDocument||i,u=Op(u),(x=Fn.get(x))&&ef(u,x),T=T.createElement("link"),tt(T);var _=T;_._p=new Promise(function(H,Z){_.onload=H,_.onerror=Z}),Xt(T,"link",u),s.instance=T}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=hr.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var nf=0;function H1(t,i){return t.stylesheets&&t.count===0&&mr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&mr(t,t.stylesheets),t.unsuspend){var T=t.unsuspend;t.unsuspend=null,T()}},6e4+i);0<t.imgBytes&&nf===0&&(nf=62500*b1());var x=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mr(t,t.stylesheets),t.unsuspend)){var T=t.unsuspend;t.unsuspend=null,T()}},(t.imgBytes>nf?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(x)}}:null}function hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pr=null;function mr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pr=new Map,i.forEach(F1,t),pr=null,hr.call(t))}function F1(t,i){if(!(i.state.loading&4)){var s=pr.get(t);if(s)var u=s.get(null);else{s=new Map,pr.set(t,s);for(var x=t.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<x.length;T++){var _=x[T];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),u=_)}u&&s.set(null,u)}x=i.instance,_=x.getAttribute("data-precedence"),T=s.get(_)||u,T===u&&s.set(null,x),s.set(_,x),this.count++,u=hr.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),T?T.parentNode.insertBefore(x,T.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(x,t.firstChild)),i.state.loading|=4}}var Xs={$$typeof:D,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function z1(t,i,s,u,x,T,_,H,Z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=T,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function jp(t,i,s,u,x,T,_,H,Z,re,me,ve){return t=new z1(t,i,s,_,Z,re,me,ve,H),i=1,T===!0&&(i|=24),T=Tn(3,null,null,i),t.current=T,T.stateNode=t,i=Pu(),i.refCount++,t.pooledCache=i,i.refCount++,T.memoizedState={element:u,isDehydrated:s,cache:i},Ou(T),t}function qp(t){return t?(t=bo,t):bo}function Yp(t,i,s,u,x,T){x=qp(x),u.context===null?u.context=x:u.pendingContext=x,u=dl(i),u.payload={element:s},T=T===void 0?null:T,T!==null&&(u.callback=T),s=hl(t,u,i),s!==null&&(mn(s,t,i),As(s,t,i))}function Jp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function lf(t,i){Jp(t,i),(t=t.alternate)&&Jp(t,i)}function $p(t){if(t.tag===13||t.tag===31){var i=Fl(t,67108864);i!==null&&mn(i,t,67108864),lf(t,67108864)}}function Xp(t){if(t.tag===13||t.tag===31){var i=An();i=Ul(i);var s=Fl(t,i);s!==null&&mn(s,t,i),lf(t,i)}}var gr=!0;function j1(t,i,s,u){var x=Y.T;Y.T=null;var T=te.p;try{te.p=2,of(t,i,s,u)}finally{te.p=T,Y.T=x}}function q1(t,i,s,u){var x=Y.T;Y.T=null;var T=te.p;try{te.p=8,of(t,i,s,u)}finally{te.p=T,Y.T=x}}function of(t,i,s,u){if(gr){var x=sf(u);if(x===null)jc(t,i,u,yr,s),Qp(t,u);else if(J1(x,t,i,s,u))u.stopPropagation();else if(Qp(t,u),i&4&&-1<Y1.indexOf(t)){for(;x!==null;){var T=we(x);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var _=Kn(T.pendingLanes);if(_!==0){var H=T;for(H.pendingLanes|=2,H.entangledLanes|=2;_;){var Z=1<<31-qt(_);H.entanglements[1]|=Z,_&=~Z}Si(T),(ut&6)===0&&(Za=Rt()+500,zs(0))}}break;case 31:case 13:H=Fl(T,2),H!==null&&mn(H,T,2),tr(),lf(T,2)}if(T=sf(u),T===null&&jc(t,i,u,yr,s),T===x)break;x=T}x!==null&&u.stopPropagation()}else jc(t,i,u,null,s)}}function sf(t){return t=_i(t),af(t)}var yr=null;function af(t){if(yr=null,t=Ce(t),t!==null){var i=a(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return yr=t,null}function Kp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case _n:return 2;case nl:return 8;case Jn:case $n:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var rf=!1,Cl=null,wl=null,Nl=null,Ks=new Map,Qs=new Map,Al=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(t,i){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":Ks.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(i.pointerId)}}function Ws(t,i,s,u,x,T){return t===null||t.nativeEvent!==T?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:T,targetContainers:[x]},i!==null&&(i=we(i),i!==null&&$p(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),t)}function J1(t,i,s,u,x){switch(i){case"focusin":return Cl=Ws(Cl,t,i,s,u,x),!0;case"dragenter":return wl=Ws(wl,t,i,s,u,x),!0;case"mouseover":return Nl=Ws(Nl,t,i,s,u,x),!0;case"pointerover":var T=x.pointerId;return Ks.set(T,Ws(Ks.get(T)||null,t,i,s,u,x)),!0;case"gotpointercapture":return T=x.pointerId,Qs.set(T,Ws(Qs.get(T)||null,t,i,s,u,x)),!0}return!1}function Wp(t){var i=Ce(t.target);if(i!==null){var s=a(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,mo(t.priority,function(){Xp(s)});return}}else if(i===31){if(i=f(s),i!==null){t.blockedOn=i,mo(t.priority,function(){Xp(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);fs=u,s.target.dispatchEvent(u),fs=null}else return i=we(s),i!==null&&$p(i),t.blockedOn=s,!1;i.shift()}return!0}function Zp(t,i,s){vr(t)&&s.delete(i)}function $1(){rf=!1,Cl!==null&&vr(Cl)&&(Cl=null),wl!==null&&vr(wl)&&(wl=null),Nl!==null&&vr(Nl)&&(Nl=null),Ks.forEach(Zp),Qs.forEach(Zp)}function xr(t,i){t.blockedOn===i&&(t.blockedOn=null,rf||(rf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$1)))}var Sr=null;function em(t){Sr!==t&&(Sr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sr===t&&(Sr=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],x=t[i+2];if(typeof u!="function"){if(af(u||s)===null)continue;break}var T=we(s);T!==null&&(t.splice(i,3),i-=3,oc(T,{pending:!0,data:x,method:s.method,action:u},u,x))}}))}function qo(t){function i(Z){return xr(Z,t)}Cl!==null&&xr(Cl,t),wl!==null&&xr(wl,t),Nl!==null&&xr(Nl,t),Ks.forEach(i),Qs.forEach(i);for(var s=0;s<Al.length;s++){var u=Al[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Al.length&&(s=Al[0],s.blockedOn===null);)Wp(s),s.blockedOn===null&&Al.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var x=s[u],T=s[u+1],_=x[G]||null;if(typeof T=="function")_||em(s);else if(_){var H=null;if(T&&T.hasAttribute("formAction")){if(x=T,_=T[G]||null)H=_.formAction;else if(af(x)!==null)continue}else H=_.action;typeof H=="function"?s[u+1]=H:(s.splice(u,3),u-=3),em(s)}}}function tm(){function t(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(_){return x=_})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,x=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function uf(t){this._internalRoot=t}br.prototype.render=uf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,u=An();Yp(s,u,t,i,null,null)},br.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Yp(t.current,2,null,t,null,null),tr(),i[X]=null}};function br(t){this._internalRoot=t}br.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ai();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Al.length&&i!==0&&i<Al[s].priority;s++);Al.splice(s,0,t),s===0&&Wp(t)}};var nm=e.version;if(nm!=="19.2.3")throw Error(o(527,nm,"19.2.3"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=h(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var X1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Bt=Tr.inject(X1),bt=Tr}catch{}}return ea.createRoot=function(t,i){if(!r(t))throw Error(o(299));var s=!1,u="",x=uh,T=ch,_=fh;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=jp(t,1,!1,null,null,s,u,null,x,T,_,tm),t[X]=i.current,zc(t),new uf(i)},ea.hydrateRoot=function(t,i,s){if(!r(t))throw Error(o(299));var u=!1,x="",T=uh,_=ch,H=fh,Z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(H=s.onRecoverableError),s.formState!==void 0&&(Z=s.formState)),i=jp(t,1,!0,i,s??null,u,x,Z,T,_,H,tm),i.context=qp(null),s=i.current,u=An(),u=Ul(u),x=dl(u),x.callback=null,hl(s,x,u),s=u,i.current.lanes=s,pi(i,s),Si(i),t[X]=i.current,zc(t),new br(i)},ea.version="19.2.3",ea}var hm;function sS(){if(hm)return df.exports;hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),df.exports=oS(),df.exports}var aS=sS();const rS=td(aS);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pm="popstate";function uS(n={}){function e(o,r){let{pathname:a,search:c,hash:f}=o.location;return Df("",{pathname:a,search:c,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function l(o,r){return typeof r=="string"?r:ra(r)}return fS(e,l,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cS(){return Math.random().toString(36).substring(2,10)}function mm(n,e){return{usr:n.state,key:n.key,idx:e}}function Df(n,e,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ts(e):e,state:l,key:e&&e.key||o||cS()}}function ra({pathname:n="/",search:e="",hash:l=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ts(n){let e={};if(n){let l=n.indexOf("#");l>=0&&(e.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function fS(n,e,l,o={}){let{window:r=document.defaultView,v5Compat:a=!1}=o,c=r.history,f="POP",p=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=g(),I=N==null?null:N-h;h=N,p&&p({action:f,location:C.location,delta:I})}function S(N,I){f="PUSH";let P=Df(C.location,N,I);h=g()+1;let D=mm(P,h),V=C.createHref(P);try{c.pushState(D,"",V)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(V)}a&&p&&p({action:f,location:C.location,delta:1})}function v(N,I){f="REPLACE";let P=Df(C.location,N,I);h=g();let D=mm(P,h),V=C.createHref(P);c.replaceState(D,"",V),a&&p&&p({action:f,location:C.location,delta:0})}function E(N){return dS(N)}let C={get action(){return f},get location(){return n(r,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(pm,b),p=N,()=>{r.removeEventListener(pm,b),p=null}},createHref(N){return e(r,N)},createURL:E,encodeLocation(N){let I=E(N);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:S,replace:v,go(N){return c.go(N)}};return C}function dS(n,e=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),At(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:ra(n);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Sy(n,e,l="/"){return hS(n,e,l,!1)}function hS(n,e,l,o){let r=typeof e=="string"?ts(e):e,a=Wi(r.pathname||"/",l);if(a==null)return null;let c=by(n);pS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=wS(a);f=ES(c[p],h,o)}return f}function by(n,e=[],l=[],o="",r=!1){let a=(c,f,p=r,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&p)return;At(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let b=Qi([o,g.relativePath]),S=l.concat(g);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),by(c.children,e,S,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:bS(b,c.index),routesMeta:S})};return n.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))a(c,f);else for(let h of Ty(c.path))a(c,f,!0,h)}),e}function Ty(n){let e=n.split("/");if(e.length===0)return[];let[l,...o]=e,r=l.endsWith("?"),a=l.replace(/\?$/,"");if(o.length===0)return r?[a,""]:[a];let c=Ty(o.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),r&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function pS(n){n.sort((e,l)=>e.score!==l.score?l.score-e.score:TS(e.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var mS=/^:[\w-]+$/,gS=3,yS=2,vS=1,xS=10,SS=-2,gm=n=>n==="*";function bS(n,e){let l=n.split("/"),o=l.length;return l.some(gm)&&(o+=SS),e&&(o+=yS),l.filter(r=>!gm(r)).reduce((r,a)=>r+(mS.test(a)?gS:a===""?vS:xS),o)}function TS(n,e){return n.length===e.length&&n.slice(0,-1).every((o,r)=>o===e[r])?n[n.length-1]-e[e.length-1]:0}function ES(n,e,l=!1){let{routesMeta:o}=n,r={},a="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],h=f===o.length-1,g=a==="/"?e:e.slice(a.length)||"/",b=zr({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),S=p.route;if(!b&&h&&l&&!o[o.length-1].route.index&&(b=zr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Qi([a,b.pathname]),pathnameBase:RS(Qi([a,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(a=Qi([a,b.pathnameBase]))}return c}function zr(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=CS(n.path,n.caseSensitive,n.end),r=e.match(l);if(!r)return null;let a=r[0],c=a.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:o.reduce((h,{paramName:g,isOptional:b},S)=>{if(g==="*"){let E=f[S]||"";c=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const v=f[S];return b&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:n}}function CS(n,e=!1,l=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),o]}function wS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let l=e.endsWith("/")?e.length-1:e.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}var NS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AS=n=>NS.test(n);function MS(n,e="/"){let{pathname:l,search:o="",hash:r=""}=typeof n=="string"?ts(n):n,a;if(l)if(AS(l))a=l;else{if(l.includes("//")){let c=l;l=l.replace(/\/\/+/g,"/"),ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${l}`)}l.startsWith("/")?a=ym(l.substring(1),"/"):a=ym(l,e)}else a=e;return{pathname:a,search:IS(o),hash:kS(r)}}function ym(n,e){let l=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?l.length>1&&l.pop():r!=="."&&l.push(r)}),l.length>1?l.join("/"):"/"}function gf(n,e,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _S(n){return n.filter((e,l)=>l===0||e.route.path&&e.route.path.length>0)}function Ey(n){let e=_S(n);return e.map((l,o)=>o===e.length-1?l.pathname:l.pathnameBase)}function Cy(n,e,l,o=!1){let r;typeof n=="string"?r=ts(n):(r={...n},At(!r.pathname||!r.pathname.includes("?"),gf("?","pathname","search",r)),At(!r.pathname||!r.pathname.includes("#"),gf("#","pathname","hash",r)),At(!r.search||!r.search.includes("#"),gf("#","search","hash",r)));let a=n===""||r.pathname==="",c=a?"/":r.pathname,f;if(c==null)f=l;else{let b=e.length-1;if(!o&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;r.pathname=S.join("/")}f=b>=0?e[b]:"/"}let p=MS(r,f),h=c&&c!=="/"&&c.endsWith("/"),g=(a||c===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var Qi=n=>n.join("/").replace(/\/\/+/g,"/"),RS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DS(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wy=["POST","PUT","PATCH","DELETE"];new Set(wy);var PS=["GET",...wy];new Set(PS);var ns=B.createContext(null);ns.displayName="DataRouter";var Wr=B.createContext(null);Wr.displayName="DataRouterState";B.createContext(!1);var Ny=B.createContext({isTransitioning:!1});Ny.displayName="ViewTransition";var US=B.createContext(new Map);US.displayName="Fetchers";var GS=B.createContext(null);GS.displayName="Await";var ui=B.createContext(null);ui.displayName="Navigation";var ca=B.createContext(null);ca.displayName="Location";var Ei=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var id=B.createContext(null);id.displayName="RouteError";function BS(n,{relative:e}={}){At(fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=B.useContext(ui),{hash:r,pathname:a,search:c}=da(n,{relative:e}),f=a;return l!=="/"&&(f=a==="/"?l:Qi([l,a])),o.createHref({pathname:f,search:c,hash:r})}function fa(){return B.useContext(ca)!=null}function kl(){return At(fa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ca).location}var Ay="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function My(n){B.useContext(ui).static||B.useLayoutEffect(n)}function OS(){let{isDataRoute:n}=B.useContext(Ei);return n?eb():VS()}function VS(){At(fa(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(ns),{basename:e,navigator:l}=B.useContext(ui),{matches:o}=B.useContext(Ei),{pathname:r}=kl(),a=JSON.stringify(Ey(o)),c=B.useRef(!1);return My(()=>{c.current=!0}),B.useCallback((p,h={})=>{if(ri(c.current,Ay),!c.current)return;if(typeof p=="number"){l.go(p);return}let g=Cy(p,JSON.parse(a),r,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qi([e,g.pathname])),(h.replace?l.replace:l.push)(g,h.state,h)},[e,l,a,r,n])}var HS=B.createContext(null);function FS(n){let e=B.useContext(Ei).outlet;return B.useMemo(()=>e&&B.createElement(HS.Provider,{value:n},e),[e,n])}function da(n,{relative:e}={}){let{matches:l}=B.useContext(Ei),{pathname:o}=kl(),r=JSON.stringify(Ey(l));return B.useMemo(()=>Cy(n,JSON.parse(r),o,e==="path"),[n,r,o,e])}function zS(n,e){return _y(n,e)}function _y(n,e,l,o,r){var P;At(fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(ui),{matches:c}=B.useContext(Ei),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",b=f&&f.route;{let D=b&&b.path||"";Ry(h,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=kl(),v;if(e){let D=typeof e=="string"?ts(e):e;At(g==="/"||((P=D.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=S;let E=v.pathname||"/",C=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=Sy(n,{pathname:C});ri(b||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ri(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=$S(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Qi([g,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Qi([g,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,l,o,r);return e&&I?B.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},I):I}function jS(){let n=ZS(),e=LS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),l?B.createElement("pre",{style:r},l):null,c)}var qS=B.createElement(jS,null),YS=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?B.createElement(Ei.Provider,{value:this.props.routeContext},B.createElement(id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JS({routeContext:n,match:e,children:l}){let o=B.useContext(ns);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ei.Provider,{value:n},l)}function $S(n,e=[],l=null,o=null,r=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(e.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let a=n,c=l==null?void 0:l.errors;if(c!=null){let g=a.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);At(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,p=-1;if(l)for(let g=0;g<a.length;g++){let b=a[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=g),b.route.id){let{loaderData:S,errors:v}=l,E=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!v||v[b.route.id]===void 0);if(b.route.lazy||E){f=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}let h=l&&o?(g,b)=>{var S,v;o(g,{location:l.location,params:((v=(S=l.matches)==null?void 0:S[0])==null?void 0:v.params)??{},unstable_pattern:DS(l.matches),errorInfo:b})}:void 0;return a.reduceRight((g,b,S)=>{let v,E=!1,C=null,N=null;l&&(v=c&&b.route.id?c[b.route.id]:void 0,C=b.route.errorElement||qS,f&&(p<0&&S===0?(Ry("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===S&&(E=!0,N=b.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,S+1)),P=()=>{let D;return v?D=C:E?D=N:b.route.Component?D=B.createElement(b.route.Component,null):b.route.element?D=b.route.element:D=g,B.createElement(JS,{match:b,routeContext:{outlet:g,matches:I,isDataRoute:l!=null},children:D})};return l&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?B.createElement(YS,{location:l.location,revalidation:l.revalidation,component:C,error:v,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:h}):P()},null)}function ld(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(n){let e=B.useContext(ns);return At(e,ld(n)),e}function KS(n){let e=B.useContext(Wr);return At(e,ld(n)),e}function QS(n){let e=B.useContext(Ei);return At(e,ld(n)),e}function od(n){let e=QS(n),l=e.matches[e.matches.length-1];return At(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function WS(){return od("useRouteId")}function ZS(){var o;let n=B.useContext(id),e=KS("useRouteError"),l=od("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[l]}function eb(){let{router:n}=XS("useNavigate"),e=od("useNavigate"),l=B.useRef(!1);return My(()=>{l.current=!0}),B.useCallback(async(r,a={})=>{ri(l.current,Ay),l.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var vm={};function Ry(n,e,l){!e&&!vm[n]&&(vm[n]=!0,ri(!1,l))}B.memo(tb);function tb({routes:n,future:e,state:l,unstable_onError:o}){return _y(n,void 0,l,o,e)}function xm(n){return FS(n.context)}function bi(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nb({basename:n="/",children:e=null,location:l,navigationType:o="POP",navigator:r,static:a=!1,unstable_useTransitions:c}){At(!fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:f,navigator:r,static:a,unstable_useTransitions:c,future:{}}),[f,r,a,c]);typeof l=="string"&&(l=ts(l));let{pathname:h="/",search:g="",hash:b="",state:S=null,key:v="default"}=l,E=B.useMemo(()=>{let C=Wi(h,f);return C==null?null:{location:{pathname:C,search:g,hash:b,state:S,key:v},navigationType:o}},[f,h,g,b,S,v,o]);return ri(E!=null,`<Router basename="${f}"> is not able to match the URL "${h}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:B.createElement(ui.Provider,{value:p},B.createElement(ca.Provider,{children:e,value:E}))}function ib({children:n,location:e}){return zS(Pf(n),e)}function Pf(n,e=[]){let l=[];return B.Children.forEach(n,(o,r)=>{if(!B.isValidElement(o))return;let a=[...e,r];if(o.type===B.Fragment){l.push.apply(l,Pf(o.props.children,a));return}At(o.type===bi,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=Pf(o.props.children,a)),l.push(c)}),l}var Pr="get",Ur="application/x-www-form-urlencoded";function Zr(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function lb(n){return Zr(n)&&n.tagName.toLowerCase()==="button"}function ob(n){return Zr(n)&&n.tagName.toLowerCase()==="form"}function sb(n){return Zr(n)&&n.tagName.toLowerCase()==="input"}function ab(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rb(n,e){return n.button===0&&(!e||e==="_self")&&!ab(n)}var Er=null;function ub(){if(Er===null)try{new FormData(document.createElement("form"),0),Er=!1}catch{Er=!0}return Er}var cb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(n){return n!=null&&!cb.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ur}"`),null):n}function fb(n,e){let l,o,r,a,c;if(ob(n)){let f=n.getAttribute("action");o=f?Wi(f,e):null,l=n.getAttribute("method")||Pr,r=yf(n.getAttribute("enctype"))||Ur,a=new FormData(n)}else if(lb(n)||sb(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(o=p?Wi(p,e):null,l=n.getAttribute("formmethod")||f.getAttribute("method")||Pr,r=yf(n.getAttribute("formenctype"))||yf(f.getAttribute("enctype"))||Ur,a=new FormData(f,n),!ub()){let{name:h,type:g,value:b}=n;if(g==="image"){let S=h?`${h}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else h&&a.append(h,b)}}else{if(Zr(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Pr,o=null,r=Ur,c=n}return a&&r==="text/plain"&&(c=a,a=void 0),{action:o,method:l.toLowerCase(),encType:r,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function db(n,e,l){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${l}`:e&&Wi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function hb(n,e){if(n.id in e)return e[n.id];try{let l=await import(n.module);return e[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mb(n,e,l){let o=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let c=await hb(a,l);return c.links?c.links():[]}return[]}));return xb(o.flat(1).filter(pb).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Sm(n,e,l,o,r,a){let c=(p,h)=>l[h]?p.route.id!==l[h].route.id:!0,f=(p,h)=>{var g;return l[h].pathname!==p.pathname||((g=l[h].route.path)==null?void 0:g.endsWith("*"))&&l[h].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):a==="data"?e.filter((p,h)=>{var b;let g=o.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=l[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function gb(n,e,{includeHydrateFallback:l}={}){return yb(n.map(o=>{let r=e.routes[o.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),l&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function yb(n){return[...new Set(n)]}function vb(n){let e={},l=Object.keys(n).sort();for(let o of l)e[o]=n[o];return e}function xb(n,e){let l=new Set;return new Set(e),n.reduce((o,r)=>{let a=JSON.stringify(vb(r));return l.has(a)||(l.add(a),o.push({key:a,link:r})),o},[])}function Iy(){let n=B.useContext(ns);return sd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Sb(){let n=B.useContext(Wr);return sd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ad=B.createContext(void 0);ad.displayName="FrameworkContext";function ky(){let n=B.useContext(ad);return sd(n,"You must render this element inside a <HydratedRouter> element"),n}function bb(n,e){let l=B.useContext(ad),[o,r]=B.useState(!1),[a,c]=B.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:b}=e,S=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=I=>{I.forEach(P=>{c(P.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),B.useEffect(()=>{if(o){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[o]);let v=()=>{r(!0)},E=()=>{r(!1),c(!1)};return l?n!=="intent"?[a,S,{}]:[a,S,{onFocus:ta(f,v),onBlur:ta(p,E),onMouseEnter:ta(h,v),onMouseLeave:ta(g,E),onTouchStart:ta(b,v)}]:[!1,S,{}]}function ta(n,e){return l=>{n&&n(l),l.defaultPrevented||e(l)}}function Tb({page:n,...e}){let{router:l}=Iy(),o=B.useMemo(()=>Sy(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?B.createElement(Cb,{page:n,matches:o,...e}):null}function Eb(n){let{manifest:e,routeModules:l}=ky(),[o,r]=B.useState([]);return B.useEffect(()=>{let a=!1;return mb(n,e,l).then(c=>{a||r(c)}),()=>{a=!0}},[n,e,l]),o}function Cb({page:n,matches:e,...l}){let o=kl(),{manifest:r,routeModules:a}=ky(),{basename:c}=Iy(),{loaderData:f,matches:p}=Sb(),h=B.useMemo(()=>Sm(n,e,p,r,o,"data"),[n,e,p,r,o]),g=B.useMemo(()=>Sm(n,e,p,r,o,"assets"),[n,e,p,r,o]),b=B.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let E=new Set,C=!1;if(e.forEach(I=>{var D;let P=r.routes[I.route.id];!P||!P.hasLoader||(!h.some(V=>V.route.id===I.route.id)&&I.route.id in f&&((D=a[I.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?C=!0:E.add(I.route.id))}),E.size===0)return[];let N=db(n,c,"data");return C&&E.size>0&&N.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[N.pathname+N.search]},[c,f,o,r,h,e,n,a]),S=B.useMemo(()=>gb(g,r),[g,r]),v=Eb(g);return B.createElement(B.Fragment,null,b.map(E=>B.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...l})),S.map(E=>B.createElement("link",{key:E,rel:"modulepreload",href:E,...l})),v.map(({key:E,link:C})=>B.createElement("link",{key:E,nonce:l.nonce,...C})))}function wb(...n){return e=>{n.forEach(l=>{typeof l=="function"?l(e):l!=null&&(l.current=e)})}}var Ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ly&&(window.__reactRouterVersion="7.10.1")}catch{}function Nb({basename:n,children:e,unstable_useTransitions:l,window:o}){let r=B.useRef();r.current==null&&(r.current=uS({window:o,v5Compat:!0}));let a=r.current,[c,f]=B.useState({action:a.action,location:a.location}),p=B.useCallback(h=>{l===!1?f(h):B.startTransition(()=>f(h))},[l]);return B.useLayoutEffect(()=>a.listen(p),[a,p]),B.createElement(nb,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:l===!0})}var Dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=B.forwardRef(function({onClick:e,discover:l="render",prefetch:o="none",relative:r,reloadDocument:a,replace:c,state:f,target:p,to:h,preventScrollReset:g,viewTransition:b,...S},v){let{basename:E,unstable_useTransitions:C}=B.useContext(ui),N=typeof h=="string"&&Dy.test(h),I,P=!1;if(typeof h=="string"&&N&&(I=h,Ly))try{let k=new URL(window.location.href),q=h.startsWith("//")?new URL(k.protocol+h):new URL(h),O=Wi(q.pathname,E);q.origin===k.origin&&O!=null?h=O+q.search+q.hash:P=!0}catch{ri(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=BS(h,{relative:r}),[V,A,M]=bb(o,S),L=Rb(h,{replace:c,state:f,target:p,preventScrollReset:g,relative:r,viewTransition:b,unstable_useTransitions:C});function R(k){e&&e(k),k.defaultPrevented||L(k)}let U=B.createElement("a",{...S,...M,href:I||D,onClick:P||a?e:R,ref:wb(v,A),target:p,"data-discover":!N&&l==="render"?"true":void 0});return V&&!N?B.createElement(B.Fragment,null,U,B.createElement(Tb,{page:D})):U});ha.displayName="Link";var Ab=B.forwardRef(function({"aria-current":e="page",caseSensitive:l=!1,className:o="",end:r=!1,style:a,to:c,viewTransition:f,children:p,...h},g){let b=da(c,{relative:h.relative}),S=kl(),v=B.useContext(Wr),{navigator:E,basename:C}=B.useContext(ui),N=v!=null&&Pb(b)&&f===!0,I=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,P=S.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;l||(P=P.toLowerCase(),D=D?D.toLowerCase():null,I=I.toLowerCase()),D&&C&&(D=Wi(D,C)||D);const V=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let A=P===I||!r&&P.startsWith(I)&&P.charAt(V)==="/",M=D!=null&&(D===I||!r&&D.startsWith(I)&&D.charAt(I.length)==="/"),L={isActive:A,isPending:M,isTransitioning:N},R=A?e:void 0,U;typeof o=="function"?U=o(L):U=[o,A?"active":null,M?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(L):a;return B.createElement(ha,{...h,"aria-current":R,className:U,ref:g,style:k,to:c,viewTransition:f},typeof p=="function"?p(L):p)});Ab.displayName="NavLink";var Mb=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:l,reloadDocument:o,replace:r,state:a,method:c=Pr,action:f,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:b,...S},v)=>{let{unstable_useTransitions:E}=B.useContext(ui),C=Lb(),N=Db(f,{relative:h}),I=c.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&Dy.test(f),D=V=>{if(p&&p(V),V.defaultPrevented)return;V.preventDefault();let A=V.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||c,L=()=>C(A||V.currentTarget,{fetcherKey:e,method:M,navigate:l,replace:r,state:a,relative:h,preventScrollReset:g,viewTransition:b});E&&l!==!1?B.startTransition(()=>L()):L()};return B.createElement("form",{ref:v,method:I,action:N,onSubmit:o?p:D,...S,"data-discover":!P&&n==="render"?"true":void 0})});Mb.displayName="Form";function _b(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Py(n){let e=B.useContext(ns);return At(e,_b(n)),e}function Rb(n,{target:e,replace:l,state:o,preventScrollReset:r,relative:a,viewTransition:c,unstable_useTransitions:f}={}){let p=OS(),h=kl(),g=da(n,{relative:a});return B.useCallback(b=>{if(rb(b,e)){b.preventDefault();let S=l!==void 0?l:ra(h)===ra(g),v=()=>p(n,{replace:S,state:o,preventScrollReset:r,relative:a,viewTransition:c});f?B.startTransition(()=>v()):v()}},[h,p,g,l,o,e,n,r,a,c,f])}var Ib=0,kb=()=>`__${String(++Ib)}__`;function Lb(){let{router:n}=Py("useSubmit"),{basename:e}=B.useContext(ui),l=WS(),o=n.fetch,r=n.navigate;return B.useCallback(async(a,c={})=>{let{action:f,method:p,encType:h,formData:g,body:b}=fb(a,e);if(c.navigate===!1){let S=c.fetcherKey||kb();await o(S,l,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await r(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:b,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,r,e,l])}function Db(n,{relative:e}={}){let{basename:l}=B.useContext(ui),o=B.useContext(Ei);At(o,"useFormAction must be used inside a RouteContext");let[r]=o.matches.slice(-1),a={...da(n||".",{relative:e})},c=kl();if(n==null){a.search=c.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let g=f.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(a.pathname=a.pathname==="/"?l:Qi([l,a.pathname])),ra(a)}function Pb(n,{relative:e}={}){let l=B.useContext(Ny);At(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Py("useViewTransitionState"),r=da(n,{relative:e});if(!l.isTransitioning)return!1;let a=Wi(l.currentLocation.pathname,o)||l.currentLocation.pathname,c=Wi(l.nextLocation.pathname,o)||l.nextLocation.pathname;return zr(r.pathname,c)!=null||zr(r.pathname,a)!=null}const Uy=B.createContext(void 0),Ub=({children:n})=>{const[e,l]=B.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r==="dark"||r==="light"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});B.useEffect(()=>{const r=window.document.documentElement;r.classList.remove(e==="dark"?"light":"dark"),r.classList.add(e),localStorage.setItem("theme",e)},[e]);const o=()=>{l(r=>r==="light"?"dark":"light")};return m.jsx(Uy.Provider,{value:{theme:e,toggleTheme:o},children:n})},Gb=()=>{const n=B.useContext(Uy);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,l,o)=>o?o.toUpperCase():l.toLowerCase()),bm=n=>{const e=Ob(n);return e.charAt(0).toUpperCase()+e.slice(1)},Gy=(...n)=>n.filter((e,l,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===l).join(" ").trim(),Vb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:r="",children:a,iconNode:c,...f},p)=>B.createElement("svg",{ref:p,...Hb,width:e,height:e,stroke:n,strokeWidth:o?Number(l)*24/Number(e):l,className:Gy("lucide",r),...!a&&!Vb(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>B.createElement(h,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,e)=>{const l=B.forwardRef(({className:o,...r},a)=>B.createElement(Fb,{ref:a,iconNode:e,className:Gy(`lucide-${Bb(bm(n))}`,`lucide-${n}`,o),...r}));return l.displayName=bm(n),l};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cr=Ae("activity",zb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],By=Ae("aperture",jb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oy=Ae("arrow-left",qb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Gr=Ae("arrow-right",Yb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Uf=Ae("book-open",Jb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],lo=Ae("box",$b);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],aa=Ae("brain",Xb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Qb=Ae("calculator",Kb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zb=Ae("calendar",Wb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tT=Ae("chevron-right",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vy=Ae("circle-alert",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jr=Ae("circle-check-big",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oT=Ae("circle-check",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]],aT=Ae("circle-off",sT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uT=Ae("circle-play",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tm=Ae("circle-x",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rd=Ae("clock",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],oa=Ae("coins",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pT=Ae("copy",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Hy=Ae("crosshair",mT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ud=Ae("crown",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],vT=Ae("fast-forward",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fy=Ae("file-text",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zy=Ae("flame",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],jy=Ae("footprints",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Ki=Ae("gem",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],qy=Ae("ghost",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Yy=Ae("gift",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],vf=Ae("hammer",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],AT=Ae("hand",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Jy=Ae("heart",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],RT=Ae("house",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kT=Ae("info",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$y=Ae("key",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],PT=Ae("keyboard",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],GT=Ae("layers",UT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Em=Ae("lightbulb",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],VT=Ae("list-checks",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],FT=Ae("list",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qr=Ae("loader-circle",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xy=Ae("lock",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],YT=Ae("moon",qT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],$T=Ae("mouse-pointer-click",JT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],KT=Ae("move-horizontal",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],WT=Ae("package",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ky=Ae("pause",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tE=Ae("pen-line",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],iE=Ae("pen-tool",nE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cm=Ae("pen",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ro=Ae("play",oE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xf=Ae("plus",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Sf=Ae("refresh-ccw",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cd=Ae("rotate-ccw",rE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cE=Ae("save",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],dE=Ae("scroll",fE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pE=Ae("search",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wm=Ae("settings",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eu=Ae("shield",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Gf=Ae("shirt",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],xE=Ae("shopping-cart",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Qy=Ae("shuffle",SE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],fd=Ae("skull",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Nm=Ae("snowflake",TE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ao=Ae("sparkles",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Am=Ae("square-check-big",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Mm=Ae("square",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Il=Ae("star",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ME=Ae("sun",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],oo=Ae("sword",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jo=Ae("trash-2",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bf=Ae("triangle-alert",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Br=Ae("trophy",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],DE=Ae("upload",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ua=Ae("user",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Yr=Ae("volume-2",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BE=Ae("volume-x",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],so=Ae("x",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HE=Ae("zap-off",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],es=Ae("zap",FE),zE=()=>{const{theme:n,toggleTheme:e}=Gb();return m.jsx("header",{className:"sticky top-0 z-50 py-4",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"glass-panel px-4 py-3 flex justify-between items-center rounded-2xl",children:[m.jsx(ha,{to:"/",className:"text-decoration-none",children:m.jsxs("h1",{className:"text-xl font-bold text-text-primary hover:opacity-80 transition-opacity duration-300",children:[m.jsx("span",{className:"text-primary font-bold",children:""}),"  "]})}),m.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors","aria-label":"Toggle theme",children:n==="light"?m.jsx(YT,{className:"w-5 h-5 text-text-secondary"}):m.jsx(ME,{className:"w-5 h-5 text-text-secondary"})})]})})})},jE=()=>{const n=new Date().getFullYear();return m.jsx("footer",{className:"bg-surface border-t border-gray-700 mt-16",children:m.jsxs("div",{className:"container mx-auto px-4 py-6 text-center text-text-secondary text-sm",children:[m.jsxs("p",{className:"mb-2",children:[" ",n," Pumpkin Face. All rights reserved."]}),m.jsx("p",{children:"   351 4"})]})})},qE=()=>{const e=kl().pathname!=="/";return m.jsxs("div",{className:"app-container",children:[m.jsx(zE,{}),e&&m.jsx("div",{className:"container mx-auto px-4 sm:px-8",children:m.jsx(ha,{to:"/",className:"back-to-home-link glass-panel",children:"  "})}),m.jsx("main",{className:"main-content",children:e?m.jsx("div",{className:"glass-panel w-full h-full overflow-hidden flex flex-col",children:m.jsx(xm,{})}):m.jsx(xm,{})}),m.jsx(jE,{})]})},YE=({website:n,onDelete:e,onEdit:l,viewColumns:o})=>{const r=m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"aspect-video w-full overflow-hidden",children:m.jsx("img",{src:n.thumbnailUrl,alt:n.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),m.jsxs("div",{className:`flex flex-col flex-grow ${o===1?"p-6":"p-4"}`,children:[m.jsx("h3",{className:`font-bold text-text-primary mb-1 truncate ${o===1?"text-xl":"text-base"}`,children:n.name}),m.jsx("p",{className:`text-text-secondary flex-grow line-clamp-3 ${o===1?"text-base":"text-xs"}`,children:n.description})]}),m.jsx("div",{className:`pt-0 mt-auto ${o===1?"p-5":"p-3"}`,children:m.jsx("div",{className:"border-t border-border pt-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})]}),a="glass-panel overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-primary/20 hover:shadow-2xl flex flex-col group";return n.path?m.jsx(ha,{to:n.path,className:a,children:r}):m.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:a,children:r})},JE=({websites:n,onDelete:e,onEdit:l})=>n.length===0?m.jsxs("div",{className:"text-center py-20 bg-surface rounded-lg glass-panel mt-8",children:[m.jsx("h3",{className:"text-2xl font-semibold text-text-primary",children:"  ."}),m.jsx("p",{className:"text-text-secondary mt-2",children:"      ."})]}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem",marginTop:"2rem"},children:n.map(o=>m.jsx(YE,{website:o,onDelete:e,onEdit:l},o.id))}),$E=({isOpen:n,onClose:e,onAdd:l})=>{const[o,r]=B.useState(""),[a,c]=B.useState(""),[f,p]=B.useState(""),[h,g]=B.useState("");B.useEffect(()=>{n&&(r(""),c(""),p(""),g(""))},[n]);const b=S=>{S.preventDefault(),o.trim()&&a.trim()&&h.trim()&&l({name:o,description:a,category:f,url:h})};return n?m.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300",onClick:e,children:[m.jsxs("div",{className:"bg-surface rounded-lg shadow-2xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-up",onClick:S=>S.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"  "}),m.jsxs("form",{onSubmit:b,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"website-name",className:"block text-text-secondary text-sm font-bold mb-2",children:" "}),m.jsx("input",{id:"website-name",type:"text",value:o,onChange:S=>r(S.target.value),placeholder:":   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"website-url",className:"block text-text-secondary text-sm font-bold mb-2",children:"URL"}),m.jsx("input",{id:"website-url",type:"url",value:h,onChange:S=>g(S.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"website-category",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),m.jsxs("select",{id:"website-category",value:f,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"website-description",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),m.jsx("textarea",{id:"website-description",value:a,onChange:S=>c(S.target.value),placeholder:"   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24 resize-none",required:!0})]}),m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400",children:""}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:" "})]})]})]}),m.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            transform: translateY(20px) scale(0.95);
            opacity: 0;
          }
          to {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},XE=({isOpen:n,onClose:e,onUpdate:l,website:o})=>{const[r,a]=B.useState(""),[c,f]=B.useState(""),[p,h]=B.useState(""),[g,b]=B.useState("");B.useEffect(()=>{n&&o&&(a(o.name),f(o.description),h(o.category),b(o.url))},[n,o]);const S=v=>{v.preventDefault(),r.trim()&&c.trim()&&g.trim()&&o&&l({...o,name:r,description:c,category:p,url:g})};return n?m.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300",onClick:e,children:[m.jsxs("div",{className:"bg-surface rounded-lg shadow-2xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-up",onClick:v=>v.stopPropagation(),children:[m.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:" "}),m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"edit-website-name",className:"block text-text-secondary text-sm font-bold mb-2",children:" "}),m.jsx("input",{id:"edit-website-name",type:"text",value:r,onChange:v=>a(v.target.value),placeholder:":   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"edit-website-url",className:"block text-text-secondary text-sm font-bold mb-2",children:"URL"}),m.jsx("input",{id:"edit-website-url",type:"url",value:g,onChange:v=>b(v.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"edit-website-category",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),m.jsxs("select",{id:"edit-website-category",value:p,onChange:v=>h(v.target.value),className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""}),m.jsx("option",{value:"",children:""})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{htmlFor:"edit-website-description",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),m.jsx("textarea",{id:"edit-website-description",value:c,onChange:v=>f(v.target.value),placeholder:"   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24 resize-none",required:!0})]}),m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400",children:""}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:" "})]})]})]}),m.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            transform: translateY(20px) scale(0.95);
            opacity: 0;
          }
          to {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},KE=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),QE=["","","",""],WE=({activeCategory:n,onCategoryChange:e})=>m.jsx("div",{className:"container mx-auto px-4 mt-4",children:m.jsx("div",{className:"glass-panel rounded-2xl p-1",children:m.jsx("ul",{className:"flex items-center justify-around",children:QE.map(l=>m.jsx("li",{className:"flex-1 text-center",children:m.jsx("button",{onClick:()=>e(l),className:`w-full py-2.5 text-sm font-semibold rounded-[18px] transition-all duration-300 ${n===l?"bg-primary text-white shadow-md":"text-text-secondary hover:text-text-primary"}`,children:l})},l))})})}),ZE=()=>{const[n,e]=B.useState([{id:"1",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/neonbreaker/500/300",category:"",url:"#",path:"/neonbreaker"},{id:"2",name:"AI  ",description:"AI      .",thumbnailUrl:"https://picsum.photos/seed/tryon/500/300",category:"",url:"#",path:"/virtual-try-on"},{id:"3",name:"AIVOCA ",description:"AI       .",thumbnailUrl:"https://picsum.photos/seed/aivoca/500/300",category:"",url:"#",path:"/aivoca"},{id:"4",name:"",description:"     .",thumbnailUrl:"https://picsum.photos/seed/survivor/500/300",category:"",url:"#",path:"/survivor-game"},{id:"5",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/drawbridge/500/300",category:"",url:"#",path:"/drawbridgegame"},{id:"6",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/subwayrunner/500/300",category:"",url:"#",path:"/subway-runner"},{id:"7",name:" ",description:"     .",thumbnailUrl:"https://picsum.photos/seed/slicegame/500/300",category:"",url:"#",path:"/slice-game"}]),[l,o]=B.useState(!1),[r,a]=B.useState(!1),[c,f]=B.useState(null),[p,h]=B.useState(""),g=B.useCallback(()=>{o(!0)},[]),b=B.useCallback(()=>{o(!1)},[]),S=B.useCallback(D=>{f(D),a(!0)},[]),v=B.useCallback(()=>{a(!1),f(null)},[]),E=B.useCallback(D=>{const V={...D,id:new Date().toISOString(),thumbnailUrl:`https://picsum.photos/seed/${Math.random()}/500/300`};e(A=>[V,...A]),b()},[b]),C=B.useCallback(D=>{e(V=>V.map(A=>A.id===D.id?D:A)),v()},[v]),N=B.useCallback(D=>{e(V=>V.filter(A=>A.id!==D))},[]),I=D=>{h(D)},P=B.useMemo(()=>p===""?n:n.filter(D=>D.category===p),[n,p]);return m.jsxs(m.Fragment,{children:[m.jsx(WE,{activeCategory:p,onCategoryChange:I}),m.jsxs("div",{className:"main-header mt-8 px-4 flex justify-between items-center",children:[m.jsx("h2",{className:"main-title",children:" "}),m.jsx("button",{onClick:g,className:"add-website-button",children:m.jsx(KE,{})})]}),m.jsx(JE,{websites:P,onDelete:N,onEdit:S}),m.jsx($E,{isOpen:l,onClose:b,onAdd:E}),m.jsx(XE,{isOpen:r,onClose:v,onUpdate:C,website:c})]})};var Bf=(n=>(n.MULTI_BALL="MULTI_BALL",n))(Bf||{}),en=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.PAUSED="PAUSED",n.GAME_OVER="GAME_OVER",n.VICTORY="VICTORY",n))(en||{});const zn={BACKGROUND:"#0f172a",PADDLE:"#38bdf8",BALL:"#ffffff",BRICK_TIER_1:"#ef4444",BRICK_TIER_2:"#f59e0b",BRICK_TIER_3:"#10b981",ITEM_MULTI:"#e879f9",BRICK_TEXT:"#ffffff"},lt={CANVAS_WIDTH:800,CANVAS_HEIGHT:600,PADDLE_WIDTH:100,PADDLE_HEIGHT:16,BALL_RADIUS:6,BALL_SPEED_BASE:5,BALL_SPEED_MAX:10,BRICK_ROWS:6,BRICK_COLS:8,BRICK_PADDING:8,BRICK_OFFSET_TOP:60,LIVES_START:3,ITEM_DROP_CHANCE:.2,ITEM_FALL_SPEED:3,ITEM_SIZE:20};let e2=class{constructor(){this.audioCtx=null,this.masterGain=null,this.isMuted=!1}init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioCtx.createGain(),this.masterGain.connect(this.audioCtx.destination),this.masterGain.gain.value=.3)}setVolume(e){this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:e)}toggleMute(){return this.isMuted=!this.isMuted,this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:.3),this.isMuted}playTone(e,l,o,r=0){if(this.init(),!this.audioCtx||!this.masterGain)return;const a=this.audioCtx.createOscillator(),c=this.audioCtx.createGain();a.type=l,a.frequency.setValueAtTime(e,this.audioCtx.currentTime+r),c.gain.setValueAtTime(.1,this.audioCtx.currentTime+r),c.gain.exponentialRampToValueAtTime(.001,this.audioCtx.currentTime+r+o),a.connect(c),c.connect(this.masterGain),a.start(this.audioCtx.currentTime+r),a.stop(this.audioCtx.currentTime+r+o)}playPaddleHit(){this.playTone(440,"sine",.1),this.playTone(880,"triangle",.05)}playBrickHit(e){const l=500+e*200;this.playTone(l,"square",.1)}playWallHit(){this.playTone(200,"sine",.05)}playLostLife(){this.playTone(150,"sawtooth",.4),this.playTone(100,"sawtooth",.4,.2)}playWin(){this.playTone(440,"sine",.2,0),this.playTone(554,"sine",.2,0+.1),this.playTone(659,"sine",.4,0+.2),this.playTone(880,"square",.6,0+.3)}playItemSpawn(){this.playTone(1200,"sine",.2),this.playTone(1500,"sine",.2,.1)}playPowerUp(){this.playTone(300,"square",.1,0),this.playTone(600,"square",.1,0+.1),this.playTone(900,"square",.2,0+.2)}};const Ji=new e2,t2=()=>{const n=B.useRef(null),e=B.useRef(0),[l,o]=B.useState(en.MENU),[r,a]=B.useState(0),[c,f]=B.useState(lt.LIVES_START),[p,h]=B.useState(!1),[g,b]=B.useState(!1),S=B.useRef([]),v=B.useRef({pos:{x:lt.CANVAS_WIDTH/2-lt.PADDLE_WIDTH/2,y:lt.CANVAS_HEIGHT-40},width:lt.PADDLE_WIDTH,height:lt.PADDLE_HEIGHT,color:zn.PADDLE}),E=B.useRef([]),C=B.useRef([]),N=B.useRef([]),I=B.useCallback(()=>{const k=[],q=lt.BRICK_ROWS,O=lt.BRICK_COLS,j=(lt.CANVAS_WIDTH-(O+1)*lt.BRICK_PADDING)/O,K=30;for(let Q=0;Q<q;Q++)for(let Y=0;Y<O;Y++){const te=Math.ceil((q-Q)/2);let oe=zn.BRICK_TIER_1;te===2&&(oe=zn.BRICK_TIER_2),te===3&&(oe=zn.BRICK_TIER_3);const xe=Math.random()<lt.ITEM_DROP_CHANCE;k.push({id:`${Q}-${Y}`,pos:{x:Y*(j+lt.BRICK_PADDING)+lt.BRICK_PADDING,y:Q*(K+lt.BRICK_PADDING)+lt.BRICK_OFFSET_TOP},width:j,height:K,value:te,status:te,maxHealth:te,color:oe,itemType:xe?Bf.MULTI_BALL:null})}E.current=k,N.current=[],C.current=[]},[]),P=B.useCallback(()=>{S.current=[{id:"primary",pos:{x:v.current.pos.x+v.current.width/2,y:v.current.pos.y-20},vel:{x:0,y:0},radius:lt.BALL_RADIUS,active:!1,speed:lt.BALL_SPEED_BASE}]},[]),D=B.useCallback(()=>{const k=S.current[0];if(k&&!k.active){k.active=!0;const q=Math.random()>.5?1:-1;k.vel={x:4*q,y:-4}}},[]),V=()=>{a(0),f(lt.LIVES_START),I(),P(),o(en.PLAYING)},A=B.useCallback((k,q,O)=>{N.current.push({id:Math.random().toString(36),pos:{x:k,y:q},vel:{x:0,y:lt.ITEM_FALL_SPEED},type:O,width:lt.ITEM_SIZE,height:lt.ITEM_SIZE,active:!0}),Ji.playItemSpawn()},[]),M=B.useCallback(k=>{if(Ji.playPowerUp(),k===Bf.MULTI_BALL){const q=[...S.current],O=[];q.forEach(j=>{j.active&&(O.push({id:Math.random().toString(36),pos:{...j.pos},vel:{x:-j.vel.x,y:j.vel.y},radius:j.radius,active:!0,speed:j.speed}),O.push({id:Math.random().toString(36),pos:{...j.pos},vel:{x:j.vel.x*.5,y:j.vel.y*1.2},radius:j.radius,active:!0,speed:j.speed}))}),S.current=[...S.current,...O]}},[]),L=(k,q,O,j)=>{for(let K=0;K<j;K++)C.current.push({id:Math.random().toString(36),pos:{x:k,y:q},vel:{x:(Math.random()-.5)*4,y:(Math.random()-.5)*4},life:1,color:O,size:Math.random()*3+1})},R=B.useCallback(()=>{const k=v.current,q=E.current;for(let O=N.current.length-1;O>=0;O--){const j=N.current[O];if(j.pos.y+=j.vel.y,j.pos.y+j.height>=k.pos.y&&j.pos.y<=k.pos.y+k.height&&j.pos.x+j.width>=k.pos.x&&j.pos.x<=k.pos.x+k.width){M(j.type),N.current.splice(O,1);continue}j.pos.y>lt.CANVAS_HEIGHT&&N.current.splice(O,1)}for(let O=S.current.length-1;O>=0;O--){const j=S.current[O];if(j.active?(j.pos.x+=j.vel.x,j.pos.y+=j.vel.y):(j.pos.x=k.pos.x+k.width/2,j.pos.y=k.pos.y-j.radius-2),(j.pos.x+j.radius>lt.CANVAS_WIDTH||j.pos.x-j.radius<0)&&(j.vel.x*=-1,Ji.playWallHit()),j.pos.y-j.radius<0&&(j.vel.y*=-1,Ji.playWallHit()),j.pos.y+j.radius>lt.CANVAS_HEIGHT){S.current.splice(O,1),S.current.length===0&&f(K=>{const Q=K-1;return Q<=0?o(en.GAME_OVER):(P(),Ji.playLostLife()),Q});continue}if(j.pos.y+j.radius>=k.pos.y&&j.pos.y-j.radius<=k.pos.y+k.height&&j.pos.x>=k.pos.x&&j.pos.x<=k.pos.x+k.width&&j.vel.y>0){j.vel.y*=-1;const K=j.pos.x-(k.pos.x+k.width/2);j.vel.x=K*.15,Math.sqrt(j.vel.x**2+j.vel.y**2)<lt.BALL_SPEED_MAX&&(j.vel.x*=1.05,j.vel.y*=1.05),Ji.playPaddleHit(),L(j.pos.x,j.pos.y,zn.PADDLE,5)}for(let K=0;K<q.length;K++){const Q=q[K];if(Q.status>0&&j.pos.x>Q.pos.x&&j.pos.x<Q.pos.x+Q.width&&j.pos.y>Q.pos.y&&j.pos.y<Q.pos.y+Q.height){j.vel.y*=-1,Q.status--,Ji.playBrickHit(Q.status),L(j.pos.x,j.pos.y,Q.color,5),a(Y=>Y+10*Q.value),Q.status<=0&&Q.itemType&&A(Q.pos.x+Q.width/2,Q.pos.y+Q.height/2,Q.itemType);break}}}E.current.length>0&&q.every(O=>O.status<=0)&&(o(en.VICTORY),Ji.playWin());for(let O=C.current.length-1;O>=0;O--){const j=C.current[O];j.pos.x+=j.vel.x,j.pos.y+=j.vel.y,j.life-=.02,j.vel.y+=.1,j.life<=0&&C.current.splice(O,1)}},[P,M,A]),U=B.useCallback(k=>{k.fillStyle=zn.BACKGROUND,k.fillRect(0,0,lt.CANVAS_WIDTH,lt.CANVAS_HEIGHT),k.font="bold 14px monospace",k.textAlign="center",k.textBaseline="middle",E.current.forEach(O=>{O.status>0&&(k.fillStyle=O.color,k.shadowBlur=O.status*3,k.shadowColor=O.color,k.fillRect(O.pos.x,O.pos.y,O.width,O.height),k.shadowBlur=0,k.fillStyle="rgba(255,255,255,0.1)",k.fillRect(O.pos.x,O.pos.y,O.width,O.height/2),O.itemType&&(k.beginPath(),k.arc(O.pos.x+10,O.pos.y+10,4,0,Math.PI*2),k.fillStyle=zn.ITEM_MULTI,k.fill(),k.strokeStyle="white",k.lineWidth=1,k.stroke()),k.fillStyle=zn.BRICK_TEXT,k.fillText(O.status.toString(),O.pos.x+O.width/2,O.pos.y+O.height/2))}),N.current.forEach(O=>{k.shadowBlur=10,k.shadowColor=zn.ITEM_MULTI,k.fillStyle=zn.ITEM_MULTI,k.beginPath(),k.roundRect(O.pos.x,O.pos.y,O.width,O.height,5),k.fill(),k.fillStyle="white",k.font="10px Arial",k.fillText("x3",O.pos.x+O.width/2,O.pos.y+O.height/2),k.shadowBlur=0});const q=v.current;k.fillStyle=q.color,k.shadowBlur=15,k.shadowColor=q.color,k.beginPath(),k.roundRect(q.pos.x,q.pos.y,q.width,q.height,8),k.fill(),k.shadowBlur=0,S.current.forEach(O=>{k.beginPath(),k.arc(O.pos.x,O.pos.y,O.radius,0,Math.PI*2),k.fillStyle=zn.BALL,k.shadowBlur=10,k.shadowColor=zn.BALL,k.fill(),k.closePath(),k.shadowBlur=0}),C.current.forEach(O=>{k.globalAlpha=O.life,k.fillStyle=O.color,k.beginPath(),k.arc(O.pos.x,O.pos.y,O.size,0,Math.PI*2),k.fill(),k.globalAlpha=1})},[]);return B.useEffect(()=>{const k=n.current;if(!k)return;const q=k.getContext("2d");if(!q)return;const O=()=>{l===en.PLAYING&&(R(),U(q),e.current=requestAnimationFrame(O))};return l===en.PLAYING?(D(),e.current=requestAnimationFrame(O)):U(q),()=>{cancelAnimationFrame(e.current)}},[l,U,R,D]),B.useEffect(()=>{const k=K=>{if(!n.current)return;const Q=n.current.getBoundingClientRect(),Y=lt.CANVAS_WIDTH/Q.width;let te=(K-Q.left)*Y;te=Math.max(0,Math.min(lt.CANVAS_WIDTH-lt.PADDLE_WIDTH,te-lt.PADDLE_WIDTH/2)),v.current.pos.x=te,S.current.forEach(oe=>{oe.active||(oe.pos.x=te+lt.PADDLE_WIDTH/2)})},q=K=>k(K.clientX),O=K=>{K.preventDefault(),k(K.touches[0].clientX)},j=n.current;return j&&(j.addEventListener("mousemove",q),j.addEventListener("touchmove",O,{passive:!1})),()=>{j&&(j.removeEventListener("mousemove",q),j.removeEventListener("touchmove",O))}},[]),m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-slate-950 p-4 font-sans",children:[m.jsxs("div",{className:"w-full max-w-[800px] flex justify-between items-center mb-4 p-4 bg-slate-900/80 backdrop-blur rounded-xl border border-slate-800 shadow-lg text-white select-none",children:[m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsxs("div",{className:"flex items-center text-cyan-400",children:[m.jsx(Br,{className:"w-5 h-5 mr-2"}),m.jsx("span",{className:"font-bold text-xl",children:r})]}),m.jsxs("div",{className:"flex items-center text-pink-500",children:[m.jsx(Jy,{className:"w-5 h-5 mr-2 fill-current"}),m.jsx("span",{className:"font-bold text-xl",children:c})]})]}),m.jsx("h1",{className:"hidden sm:block text-2xl font-extrabold tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 animate-pulse",children:"NEON BREAKER"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>b(!0),className:"p-2 hover:bg-slate-800 rounded-full transition-colors",title:"Project Info",children:m.jsx(kT,{className:"w-6 h-6 text-slate-400 hover:text-white"})}),m.jsx("button",{onClick:()=>{const k=Ji.toggleMute();h(k)},className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:p?m.jsx(BE,{className:"w-6 h-6 text-slate-400"}):m.jsx(Yr,{className:"w-6 h-6 text-cyan-400"})}),m.jsx("button",{onClick:()=>{l===en.PLAYING?o(en.PAUSED):l===en.PAUSED&&o(en.PLAYING)},className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:l===en.PAUSED?m.jsx(ro,{className:"w-6 h-6 text-green-400"}):m.jsx(Ky,{className:"w-6 h-6 text-amber-400"})})]})]}),m.jsxs("div",{className:"relative group shadow-2xl rounded-lg overflow-hidden ring-4 ring-slate-800/50",children:[m.jsx("canvas",{ref:n,width:lt.CANVAS_WIDTH,height:lt.CANVAS_HEIGHT,className:"bg-slate-900 cursor-none touch-none w-full max-w-[800px] max-h-[600px] aspect-[4/3]",style:{maxWidth:"100%",height:"auto"}}),l===en.MENU&&m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900/90 backdrop-blur-sm z-10",children:[m.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-2 tracking-tighter drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]",children:["NEON ",m.jsx("span",{className:"text-cyan-400",children:"BREAKER"})]}),m.jsx("p",{className:"text-slate-400 mb-8 text-lg animate-pulse",children:"Use Mouse or Touch to Play"}),m.jsxs("button",{onClick:V,className:"flex items-center px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white rounded-full text-xl font-bold shadow-lg transform hover:scale-105 transition-all",children:[m.jsx(ro,{className:"mr-2 w-6 h-6 fill-white"})," GAME START"]})]}),l===en.GAME_OVER&&m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/95 z-20",children:[m.jsx("h2",{className:"text-5xl font-bold text-red-500 mb-4 drop-shadow-lg",children:"GAME OVER"}),m.jsxs("p",{className:"text-2xl text-white mb-8",children:["Final Score: ",m.jsx("span",{className:"text-cyan-400 font-mono",children:r})]}),m.jsxs("button",{onClick:V,className:"flex items-center px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-lg font-semibold transition-all",children:[m.jsx(cd,{className:"mr-2 w-5 h-5"})," Try Again"]})]}),l===en.VICTORY&&m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/90 z-20",children:[m.jsx("h2",{className:"text-5xl font-bold text-yellow-400 mb-4 drop-shadow-[0_0_25px_rgba(250,204,21,0.6)]",children:"STAGE CLEAR!"}),m.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"All Bricks Destroyed!"}),m.jsxs("button",{onClick:V,className:"flex items-center px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg text-lg font-semibold transition-all",children:[m.jsx(es,{className:"mr-2 w-5 h-5"})," Play Next Level"]})]}),l===en.PAUSED&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px] z-20",children:m.jsx("div",{className:"bg-slate-800 px-8 py-4 rounded-lg border border-slate-600",children:m.jsx("span",{className:"text-2xl font-bold text-white tracking-widest",children:"PAUSED"})})})]})]})},n2=()=>m.jsx(t2,{}),i2=()=>m.jsx("header",{className:"bg-white dark:bg-slate-800/50 shadow-sm backdrop-blur-md sticky top-0 z-10",children:m.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"AI   "}),m.jsx("p",{className:"mt-1 text-base text-slate-600 dark:text-slate-400",children:"AI Virtual Try-On"})]})})}),l2=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),_m=({title:n,subtitle:e,onImageUpload:l,image:o,disabled:r=!1})=>{const a=B.useRef(null),c=p=>{var g;const h=(g=p.target.files)==null?void 0:g[0];if(h){const b=new FileReader;b.onload=()=>{l(b.result)},b.readAsDataURL(h)}},f=()=>{var p;(p=a.current)==null||p.click()};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg h-full flex flex-col justify-between transition-opacity duration-300",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:n}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e})]}),m.jsxs("div",{className:`mt-4 flex-grow flex items-center justify-center border-2 border-dashed rounded-lg transition-all duration-300 ${r?"cursor-not-allowed bg-slate-100 dark:bg-slate-800/50":"border-slate-300 dark:border-slate-600 hover:border-indigo-500 dark:hover:border-indigo-400 cursor-pointer"}`,onClick:r?void 0:f,children:[m.jsx("input",{type:"file",accept:"image/*",ref:a,onChange:c,className:"hidden",disabled:r}),o?m.jsx("div",{className:"relative w-full h-full p-2",children:m.jsx("img",{src:o,alt:"Upload preview",className:"w-full h-full object-contain rounded-md"})}):m.jsxs("div",{className:"text-center p-8",children:[m.jsx(l2,{}),m.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:[m.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Click to upload"})," or drag and drop"]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, WEBP"})]})]})]})},o2=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[m.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-indigo-500"}),m.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Generating your look..."}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"The AI is working its magic. This may take a moment."})]}),s2=()=>m.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),m.jsx("p",{className:"mt-4 font-medium",children:"Your virtual try-on will appear here."}),m.jsx("p",{className:"text-sm",children:'Upload your photos and click "Virtual Try-On".'})]}),a2=({message:n})=>m.jsxs("div",{className:"text-center text-red-500 bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{className:"mt-2 font-semibold",children:"Oops! Something went wrong."}),m.jsx("p",{className:"text-sm mt-1",children:n})]}),r2=({isLoading:n,generatedImage:e,error:l})=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg h-full flex flex-col",children:[m.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Step 3: Result"}),m.jsxs("div",{className:"mt-4 flex-grow flex items-center justify-center bg-slate-100 dark:bg-slate-800/50 rounded-lg min-h-[300px] md:min-h-0",children:[n&&m.jsx(o2,{}),!n&&l&&m.jsx(a2,{message:l}),!n&&!l&&e&&m.jsx("div",{className:"p-2 w-full h-full",children:m.jsx("img",{src:e,alt:"Generated virtual try-on",className:"w-full h-full object-contain rounded-md"})}),!n&&!l&&!e&&m.jsx(s2,{})]})]});var u2={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let c2,f2;function d2(){return{geminiUrl:c2,vertexUrl:f2}}function h2(n,e,l,o){var r,a;if(!(n!=null&&n.baseUrl)){const c=d2();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:l:(a=c.geminiUrl)!==null&&a!==void 0?a:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{}function ke(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function y(n,e,l){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in n))if(Array.isArray(l))n[f]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[f])){const p=n[f];if(Array.isArray(l))for(let h=0;h<p.length;h++){const g=p[h];y(g,e.slice(a+1),l[h])}else for(const h of p)y(h,e.slice(a+1),l)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in n||(n[f]=[{}]);const p=n[f];y(p[0],e.slice(a+1),l);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(n,l):n[o]=l}function d(n,e,l=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return l;const r=e[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const c=n[a];return Array.isArray(c)?c.map(f=>d(f,e.slice(o+1),l)):l}else return l}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return l;throw o}}function p2(n,e){for(const[l,o]of Object.entries(e)){const r=l.split("."),a=o.split("."),c=new Set;let f=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){f=p;break}if(f!==-1&&a.length>f)for(let p=f;p<a.length;p++){const h=a[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Of(n,r,a,0,c)}}function Of(n,e,l,o,r){if(o>=e.length||typeof n!="object"||n===null)return;const a=e[o];if(a.endsWith("[]")){const c=a.slice(0,-2),f=n;if(c in f&&Array.isArray(f[c]))for(const p of f[c])Of(p,e,l,o+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!r.has(h)),p={};for(const h of f)p[h]=c[h];for(const[h,g]of Object.entries(p)){const b=[];for(const S of l.slice(o))S==="*"?b.push(h):b.push(S);y(c,b,g)}for(const h of f)delete c[h]}}else{const c=n;a in c&&Of(c[a],e,l,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m2(n){const e={},l=d(n,["operationName"]);l!=null&&y(e,["operationName"],l);const o=d(n,["resourceName"]);return o!=null&&y(e,["_url","resourceName"],o),e}function g2(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],v2(c)),e}function y2(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response"]);return c!=null&&y(e,["response"],x2(c)),e}function v2(n){const e={},l=d(n,["generatedSamples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>S2(c))),y(e,["generatedVideos"],a)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&y(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function x2(n){const e={},l=d(n,["videos"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>b2(c))),y(e,["generatedVideos"],a)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&y(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function S2(n){const e={},l=d(n,["video"]);return l!=null&&y(e,["video"],A2(l)),e}function b2(n){const e={},l=d(n,["_self"]);return l!=null&&y(e,["video"],M2(l)),e}function T2(n){const e={},l=d(n,["operationName"]);return l!=null&&y(e,["_url","operationName"],l),e}function E2(n){const e={},l=d(n,["operationName"]);return l!=null&&y(e,["_url","operationName"],l),e}function C2(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response"]);return c!=null&&y(e,["response"],w2(c)),e}function w2(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["parent"]);o!=null&&y(e,["parent"],o);const r=d(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function Wy(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response"]);return c!=null&&y(e,["response"],N2(c)),e}function N2(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["parent"]);o!=null&&y(e,["parent"],o);const r=d(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function A2(n){const e={},l=d(n,["uri"]);l!=null&&y(e,["uri"],l);const o=d(n,["encodedVideo"]);o!=null&&y(e,["videoBytes"],dd(o));const r=d(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function M2(n){const e={},l=d(n,["gcsUri"]);l!=null&&y(e,["uri"],l);const o=d(n,["bytesBase64Encoded"]);o!=null&&y(e,["videoBytes"],dd(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rm||(Rm={}));var Im;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Im||(Im={}));var km;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(km||(km={}));var gn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(gn||(gn={}));var Lm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Lm||(Lm={}));var Dm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dm||(Dm={}));var Pm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Pm||(Pm={}));var Um;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Um||(Um={}));var Gm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Gm||(Gm={}));var Bm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(Bm||(Bm={}));var Om;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Om||(Om={}));var Vm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Vm||(Vm={}));var Hm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Hm||(Hm={}));var Fm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Fm||(Fm={}));var zm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(zm||(zm={}));var jm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jm||(jm={}));var qm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qm||(qm={}));var Ym;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Ym||(Ym={}));var Jm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jm||(Jm={}));var uo;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(uo||(uo={}));var $m;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($m||($m={}));var Xm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Xm||(Xm={}));var Km;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Km||(Km={}));var Vf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vf||(Vf={}));var Qm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Qm||(Qm={}));var Wm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wm||(Wm={}));var Zm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Zm||(Zm={}));var eg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(eg||(eg={}));var tg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(tg||(tg={}));var ng;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ng||(ng={}));var ig;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ig||(ig={}));var lg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(lg||(lg={}));var og;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(og||(og={}));var sg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(sg||(sg={}));var ag;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ag||(ag={}));var rg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(rg||(rg={}));var ug;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ug||(ug={}));var cg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cg||(cg={}));var fg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(fg||(fg={}));var dg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(dg||(dg={}));var hg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(hg||(hg={}));var pg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(pg||(pg={}));var mg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(mg||(mg={}));var gg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(gg||(gg={}));var yg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(yg||(yg={}));var vg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(vg||(vg={}));var xg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xg||(xg={}));var Sg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Sg||(Sg={}));var bg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bg||(bg={}));var Tg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Tg||(Tg={}));var Eg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Eg||(Eg={}));var Cg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Cg||(Cg={}));var wg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wg||(wg={}));var Ng;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ng||(Ng={}));var Ag;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ag||(Ag={}));var Ko;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ko||(Ko={}));class Hf{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class na{get text(){var e,l,o,r,a,c,f,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const b=[];for(const S of(p=(f=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[v,E]of Object.entries(S))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(E!==null||E!==void 0)&&b.push(v);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;g=!0,h+=S.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,l,o,r,a,c,f,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const b of(p=(f=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[S,v]of Object.entries(b))S!=="inlineData"&&(v!==null||v!==void 0)&&g.push(S);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,l,o,r,a,c,f,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,l,o,r,a,c,f,p,h;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(f=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,l,o,r,a,c,f,p,h;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(f=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class Mg{}class _g{}class _2{}class R2{}class I2{}class k2{}class Rg{}class Ig{}class kg{}class L2{}class Jr{_fromAPIResponse({apiResponse:e,_isVertexAI:l}){const o=new Jr;let r;const a=e;return l?r=y2(a):r=g2(a),Object.assign(o,r),o}}class Lg{}class Dg{}class Pg{}class Ug{}class D2{}class P2{}class U2{}class hd{_fromAPIResponse({apiResponse:e,_isVertexAI:l}){const o=new hd,a=C2(e);return Object.assign(o,a),o}}class G2{}class B2{}class O2{}class Gg{}class V2{get text(){var e,l,o;let r="",a=!1;const c=[];for(const f of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;a=!0,r+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,l,o;let r="";const a=[];for(const c of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&a.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class H2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pd{_fromAPIResponse({apiResponse:e,_isVertexAI:l}){const o=new pd,a=Wy(e);return Object.assign(o,a),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function at(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Zy(n,e){const l=at(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function ev(n){return Array.isArray(n)?n.map(e=>$r(e)):[$r(n)]}function $r(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function tv(n){const e=$r(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nv(n){const e=$r(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function iv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Bg(e)):[Bg(n)]}function Ff(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Og(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Vg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function tn(n){if(n==null)throw new Error("ContentUnion is required");return Ff(n)?n:{role:"user",parts:iv(n)}}function md(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=tn(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=tn(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>tn(l)):[tn(e)]}function qn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Og(n)||Vg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tn(n)]}const e=[],l=[],o=Ff(n[0]);for(const r of n){const a=Ff(r);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(Og(r)||Vg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||e.push({role:"user",parts:iv(l)}),e}function F2(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(gn).includes(l[0].toUpperCase())?l[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(gn).includes(o.toUpperCase())?o.toUpperCase():gn.TYPE_UNSPECIFIED})}}function Wo(n){const e={},l=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&F2(n.type,e);for(const[c,f]of Object.entries(n))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(gn).includes(f.toUpperCase())?f.toUpperCase():gn.TYPE_UNSPECIFIED}else if(l.includes(c))e[c]=Wo(f);else if(o.includes(c)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(Wo(h))}e[c]=p}else if(r.includes(c)){const p={};for(const[h,g]of Object.entries(f))p[h]=Wo(g);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function gd(n){return Wo(n)}function yd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function vd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function is(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Wo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Wo(e.response));return n}function ls(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function z2(n,e,l,o=1){const r=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:r?`${l}/${e}`:e}function tl(n,e){if(typeof e!="string")throw new Error("name must be a string");return z2(n,e,"cachedContents")}function lv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ll(n){return dd(n)}function j2(n){return n!=null&&typeof n=="object"&&"name"in n}function q2(n){return n!=null&&typeof n=="object"&&"video"in n}function Y2(n){return n!=null&&typeof n=="object"&&"uri"in n}function ov(n){var e;let l;if(j2(n)&&(l=n.name),!(Y2(n)&&(l=n.uri,l===void 0))&&!(q2(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function sv(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function av(n){for(const e of["models","tunedModels","publisherModels"])if(J2(n,e))return n[e];return[]}function J2(n,e){return n!==null&&typeof n=="object"&&e in n}function $2(n,e={}){const l=n,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(o.responseJsonSchema=l.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function X2(n,e={}){const l=[],o=new Set;for(const r of n){const a=r.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const c=$2(r,e);c.functionDeclarations&&l.push(...c.functionDeclarations)}return{functionDeclarations:l}}function rv(n,e){let l;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))l={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))l={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))l={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:e}}else l=e;const o=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function K2(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function uv(n){if(typeof n!="object"||n===null)return{};const e=n,l=e.inlinedResponses;if(typeof l!="object"||l===null)return n;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function os(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function cv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q2(n){const e={},l=d(n,["responsesFile"]);l!=null&&y(e,["fileName"],l);const o=d(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>IC(c))),y(e,["inlinedResponses"],a)}const r=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["inlinedEmbedContentResponses"],a)}return e}function W2(n){const e={},l=d(n,["predictionsFormat"]);l!=null&&y(e,["format"],l);const o=d(n,["gcsDestination","outputUriPrefix"]);o!=null&&y(e,["gcsUri"],o);const r=d(n,["bigqueryDestination","outputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function Z2(n){const e={},l=d(n,["format"]);l!=null&&y(e,["predictionsFormat"],l);const o=d(n,["gcsUri"]);o!=null&&y(e,["gcsDestination","outputUriPrefix"],o);const r=d(n,["bigqueryUri"]);if(r!=null&&y(e,["bigqueryDestination","outputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Or(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata","displayName"]);o!=null&&y(e,["displayName"],o);const r=d(n,["metadata","state"]);r!=null&&y(e,["state"],cv(r));const a=d(n,["metadata","createTime"]);a!=null&&y(e,["createTime"],a);const c=d(n,["metadata","endTime"]);c!=null&&y(e,["endTime"],c);const f=d(n,["metadata","updateTime"]);f!=null&&y(e,["updateTime"],f);const p=d(n,["metadata","model"]);p!=null&&y(e,["model"],p);const h=d(n,["metadata","output"]);return h!=null&&y(e,["dest"],Q2(uv(h))),e}function zf(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["displayName"]);o!=null&&y(e,["displayName"],o);const r=d(n,["state"]);r!=null&&y(e,["state"],cv(r));const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["createTime"]);c!=null&&y(e,["createTime"],c);const f=d(n,["startTime"]);f!=null&&y(e,["startTime"],f);const p=d(n,["endTime"]);p!=null&&y(e,["endTime"],p);const h=d(n,["updateTime"]);h!=null&&y(e,["updateTime"],h);const g=d(n,["model"]);g!=null&&y(e,["model"],g);const b=d(n,["inputConfig"]);b!=null&&y(e,["src"],eC(b));const S=d(n,["outputConfig"]);S!=null&&y(e,["dest"],W2(uv(S)));const v=d(n,["completionStats"]);return v!=null&&y(e,["completionStats"],v),e}function eC(n){const e={},l=d(n,["instancesFormat"]);l!=null&&y(e,["format"],l);const o=d(n,["gcsSource","uris"]);o!=null&&y(e,["gcsUri"],o);const r=d(n,["bigquerySource","inputUri"]);return r!=null&&y(e,["bigqueryUri"],r),e}function tC(n,e){const l={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&y(l,["fileName"],o);const r=d(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>RC(n,c))),y(l,["requests","requests"],a)}return l}function nC(n){const e={},l=d(n,["format"]);l!=null&&y(e,["instancesFormat"],l);const o=d(n,["gcsUri"]);o!=null&&y(e,["gcsSource","uris"],o);const r=d(n,["bigqueryUri"]);if(r!=null&&y(e,["bigquerySource","inputUri"],r),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function iC(n){const e={},l=d(n,["data"]);if(l!=null&&y(e,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function lC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function oC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function sC(n){const e={},l=d(n,["content"]);l!=null&&y(e,["content"],l);const o=d(n,["citationMetadata"]);o!=null&&y(e,["citationMetadata"],aC(o));const r=d(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=d(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=d(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const f=d(n,["groundingMetadata"]);f!=null&&y(e,["groundingMetadata"],f);const p=d(n,["index"]);p!=null&&y(e,["index"],p);const h=d(n,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const g=d(n,["safetyRatings"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(v=>v)),y(e,["safetyRatings"],S)}const b=d(n,["urlContextMetadata"]);return b!=null&&y(e,["urlContextMetadata"],b),e}function aC(n){const e={},l=d(n,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),y(e,["citations"],o)}return e}function fv(n){const e={},l=d(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(a=>BC(a))),y(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&y(e,["role"],o),e}function rC(n,e){const l={},o=d(n,["displayName"]);if(e!==void 0&&o!=null&&y(e,["batch","displayName"],o),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function uC(n,e){const l={},o=d(n,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const r=d(n,["dest"]);return e!==void 0&&r!=null&&y(e,["outputConfig"],Z2(K2(r))),l}function Hg(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["src"]);r!=null&&y(l,["batch","inputConfig"],tC(n,rv(n,r)));const a=d(e,["config"]);return a!=null&&rC(a,l),l}function cC(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["model"],at(n,o));const r=d(e,["src"]);r!=null&&y(l,["inputConfig"],nC(rv(n,r)));const a=d(e,["config"]);return a!=null&&uC(a,l),l}function fC(n,e){const l={},o=d(n,["displayName"]);return e!==void 0&&o!=null&&y(e,["batch","displayName"],o),l}function dC(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["src"]);r!=null&&y(l,["batch","inputConfig"],xC(n,r));const a=d(e,["config"]);return a!=null&&fC(a,l),l}function hC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function pC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function mC(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["name"]);o!=null&&y(e,["name"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);return a!=null&&y(e,["error"],a),e}function gC(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["name"]);o!=null&&y(e,["name"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);return a!=null&&y(e,["error"],a),e}function yC(n,e){const l={},o=d(e,["contents"]);if(o!=null){let a=md(n,o);Array.isArray(a)&&(a=a.map(c=>c)),y(l,["requests[]","request","content"],a)}const r=d(e,["config"]);return r!=null&&(y(l,["_self"],vC(r,l)),p2(l,{"requests[].*":"requests[].request.*"})),l}function vC(n,e){const l={},o=d(n,["taskType"]);e!==void 0&&o!=null&&y(e,["requests[]","taskType"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=d(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function xC(n,e){const l={},o=d(e,["fileName"]);o!=null&&y(l,["file_name"],o);const r=d(e,["inlinedRequests"]);return r!=null&&y(l,["requests"],yC(n,r)),l}function SC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&y(e,["fileUri"],l);const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function bC(n){const e={},l=d(n,["id"]);l!=null&&y(e,["id"],l);const o=d(n,["args"]);o!=null&&y(e,["args"],o);const r=d(n,["name"]);if(r!=null&&y(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TC(n){const e={},l=d(n,["mode"]);l!=null&&y(e,["mode"],l);const o=d(n,["allowedFunctionNames"]);if(o!=null&&y(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EC(n,e,l){const o={},r=d(e,["systemInstruction"]);l!==void 0&&r!=null&&y(l,["systemInstruction"],fv(tn(r)));const a=d(e,["temperature"]);a!=null&&y(o,["temperature"],a);const c=d(e,["topP"]);c!=null&&y(o,["topP"],c);const f=d(e,["topK"]);f!=null&&y(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&y(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&y(o,["maxOutputTokens"],h);const g=d(e,["stopSequences"]);g!=null&&y(o,["stopSequences"],g);const b=d(e,["responseLogprobs"]);b!=null&&y(o,["responseLogprobs"],b);const S=d(e,["logprobs"]);S!=null&&y(o,["logprobs"],S);const v=d(e,["presencePenalty"]);v!=null&&y(o,["presencePenalty"],v);const E=d(e,["frequencyPenalty"]);E!=null&&y(o,["frequencyPenalty"],E);const C=d(e,["seed"]);C!=null&&y(o,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&y(o,["responseMimeType"],N);const I=d(e,["responseSchema"]);I!=null&&y(o,["responseSchema"],gd(I));const P=d(e,["responseJsonSchema"]);if(P!=null&&y(o,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(l!==void 0&&D!=null){let j=D;Array.isArray(j)&&(j=j.map(K=>OC(K))),y(l,["safetySettings"],j)}const V=d(e,["tools"]);if(l!==void 0&&V!=null){let j=ls(V);Array.isArray(j)&&(j=j.map(K=>HC(is(K)))),y(l,["tools"],j)}const A=d(e,["toolConfig"]);if(l!==void 0&&A!=null&&y(l,["toolConfig"],VC(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=d(e,["cachedContent"]);l!==void 0&&M!=null&&y(l,["cachedContent"],tl(n,M));const L=d(e,["responseModalities"]);L!=null&&y(o,["responseModalities"],L);const R=d(e,["mediaResolution"]);R!=null&&y(o,["mediaResolution"],R);const U=d(e,["speechConfig"]);if(U!=null&&y(o,["speechConfig"],yd(U)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&y(o,["thinkingConfig"],k);const q=d(e,["imageConfig"]);q!=null&&y(o,["imageConfig"],_C(q));const O=d(e,["enableEnhancedCivicAnswers"]);return O!=null&&y(o,["enableEnhancedCivicAnswers"],O),o}function CC(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>sC(h))),y(e,["candidates"],p)}const r=d(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=d(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=d(n,["responseId"]);c!=null&&y(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function wC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function NC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],os(n,o)),l}function AC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&y(e,["enableWidget"],l),e}function MC(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&y(e,["timeRangeFilter"],l),e}function _C(n){const e={},l=d(n,["aspectRatio"]);l!=null&&y(e,["aspectRatio"],l);const o=d(n,["imageSize"]);if(o!=null&&y(e,["imageSize"],o),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function RC(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["request","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let f=qn(r);Array.isArray(f)&&(f=f.map(p=>fv(p))),y(l,["request","contents"],f)}const a=d(e,["metadata"]);a!=null&&y(l,["metadata"],a);const c=d(e,["config"]);return c!=null&&y(l,["request","generationConfig"],EC(n,c,d(l,["request"],{}))),l}function IC(n){const e={},l=d(n,["response"]);l!=null&&y(e,["response"],CC(l));const o=d(n,["error"]);return o!=null&&y(e,["error"],o),e}function kC(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);if(e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function LC(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);e!==void 0&&r!=null&&y(e,["_query","pageToken"],r);const a=d(n,["filter"]);return e!==void 0&&a!=null&&y(e,["_query","filter"],a),l}function DC(n){const e={},l=d(n,["config"]);return l!=null&&kC(l,e),e}function PC(n){const e={},l=d(n,["config"]);return l!=null&&LC(l,e),e}function UC(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>Or(c))),y(e,["batchJobs"],a)}return e}function GC(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>zf(c))),y(e,["batchJobs"],a)}return e}function BC(n){const e={},l=d(n,["mediaResolution"]);l!=null&&y(e,["mediaResolution"],l);const o=d(n,["codeExecutionResult"]);o!=null&&y(e,["codeExecutionResult"],o);const r=d(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=d(n,["fileData"]);a!=null&&y(e,["fileData"],SC(a));const c=d(n,["functionCall"]);c!=null&&y(e,["functionCall"],bC(c));const f=d(n,["functionResponse"]);f!=null&&y(e,["functionResponse"],f);const p=d(n,["inlineData"]);p!=null&&y(e,["inlineData"],iC(p));const h=d(n,["text"]);h!=null&&y(e,["text"],h);const g=d(n,["thought"]);g!=null&&y(e,["thought"],g);const b=d(n,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const S=d(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function OC(n){const e={},l=d(n,["category"]);if(l!=null&&y(e,["category"],l),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(n,["threshold"]);return o!=null&&y(e,["threshold"],o),e}function VC(n){const e={},l=d(n,["functionCallingConfig"]);l!=null&&y(e,["functionCallingConfig"],TC(l));const o=d(n,["retrievalConfig"]);return o!=null&&y(e,["retrievalConfig"],o),e}function HC(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&y(e,["googleSearchRetrieval"],o);const r=d(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=d(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=d(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],AC(f));const p=d(n,["googleSearch"]);p!=null&&y(e,["googleSearch"],MC(p));const h=d(n,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Zi||(Zi={}));class co{constructor(e,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,r)}init(e,l,o){var r,a;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=l.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends el{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new co(Zi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(e){const l=Hg(this.apiClient,e),o=l._url,r=ke("{model}:batchGenerateContent",o),f=l.batch.inputConfig.requests,p=f.requests,h=[];for(const g of p){const b=Object.assign({},g);if(b.systemInstruction){const S=b.systemInstruction;delete b.systemInstruction;const v=b.request;v.systemInstruction=S,b.request=v}h.push(b)}return f.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,l){const o=l?Object.assign({},l):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const a=this.getGcsUri(e),c=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?o.dest=`${a.slice(0,-6)}/dest`:o.dest=`${a}_dest_${r}`;else if(c)o.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=cC(this.apiClient,e);return f=ke("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>zf(g))}else{const h=Hg(this.apiClient,e);return f=ke("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>Or(g))}}async createEmbeddingsInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dC(this.apiClient,e);return a=ke("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>Or(p))}}async get(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=NC(this.apiClient,e);return f=ke("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>zf(g))}else{const h=wC(this.apiClient,e);return f=ke("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>Or(g))}}async cancel(e){var l,o,r,a;let c="",f={};if(this.apiClient.isVertexAI()){const p=oC(this.apiClient,e);c=ke("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const p=lC(this.apiClient,e);c=ke("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=PC(e);return f=ke("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=GC(g),S=new Gg;return Object.assign(S,b),S})}else{const h=DC(e);return f=ke("batches",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=UC(g),S=new Gg;return Object.assign(S,b),S})}}async delete(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=pC(this.apiClient,e);return f=ke("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>gC(g))}else{const h=hC(this.apiClient,e);return f=ke("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>mC(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(n){const e={},l=d(n,["data"]);if(l!=null&&y(e,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function Fg(n){const e={},l=d(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(a=>dw(a))),y(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&y(e,["role"],o),e}function jC(n,e){const l={},o=d(n,["ttl"]);e!==void 0&&o!=null&&y(e,["ttl"],o);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=d(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let g=qn(c);Array.isArray(g)&&(g=g.map(b=>Fg(b))),y(e,["contents"],g)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&y(e,["systemInstruction"],Fg(tn(f)));const p=d(n,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>pw(b))),y(e,["tools"],g)}const h=d(n,["toolConfig"]);if(e!==void 0&&h!=null&&y(e,["toolConfig"],hw(h)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function qC(n,e){const l={},o=d(n,["ttl"]);e!==void 0&&o!=null&&y(e,["ttl"],o);const r=d(n,["expireTime"]);e!==void 0&&r!=null&&y(e,["expireTime"],r);const a=d(n,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let b=qn(c);Array.isArray(b)&&(b=b.map(S=>S)),y(e,["contents"],b)}const f=d(n,["systemInstruction"]);e!==void 0&&f!=null&&y(e,["systemInstruction"],tn(f));const p=d(n,["tools"]);if(e!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>mw(S))),y(e,["tools"],b)}const h=d(n,["toolConfig"]);e!==void 0&&h!=null&&y(e,["toolConfig"],h);const g=d(n,["kmsKeyName"]);return e!==void 0&&g!=null&&y(e,["encryption_spec","kmsKeyName"],g),l}function YC(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["model"],Zy(n,o));const r=d(e,["config"]);return r!=null&&jC(r,l),l}function JC(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["model"],Zy(n,o));const r=d(e,["config"]);return r!=null&&qC(r,l),l}function $C(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],tl(n,o)),l}function XC(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],tl(n,o)),l}function KC(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function QC(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function WC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&y(e,["fileUri"],l);const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function ZC(n){const e={},l=d(n,["id"]);l!=null&&y(e,["id"],l);const o=d(n,["args"]);o!=null&&y(e,["args"],o);const r=d(n,["name"]);if(r!=null&&y(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ew(n){const e={},l=d(n,["mode"]);l!=null&&y(e,["mode"],l);const o=d(n,["allowedFunctionNames"]);if(o!=null&&y(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tw(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&y(e,["description"],l);const o=d(n,["name"]);o!=null&&y(e,["name"],o);const r=d(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=d(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=d(n,["response"]);c!=null&&y(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&y(e,["responseJsonSchema"],f),e}function nw(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],tl(n,o)),l}function iw(n,e){const l={},o=d(e,["name"]);return o!=null&&y(l,["_url","name"],tl(n,o)),l}function lw(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&y(e,["enableWidget"],l),e}function ow(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&y(e,["timeRangeFilter"],l),e}function sw(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),l}function aw(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),l}function rw(n){const e={},l=d(n,["config"]);return l!=null&&sw(l,e),e}function uw(n){const e={},l=d(n,["config"]);return l!=null&&aw(l,e),e}function cw(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function fw(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["cachedContents"],a)}return e}function dw(n){const e={},l=d(n,["mediaResolution"]);l!=null&&y(e,["mediaResolution"],l);const o=d(n,["codeExecutionResult"]);o!=null&&y(e,["codeExecutionResult"],o);const r=d(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=d(n,["fileData"]);a!=null&&y(e,["fileData"],WC(a));const c=d(n,["functionCall"]);c!=null&&y(e,["functionCall"],ZC(c));const f=d(n,["functionResponse"]);f!=null&&y(e,["functionResponse"],f);const p=d(n,["inlineData"]);p!=null&&y(e,["inlineData"],zC(p));const h=d(n,["text"]);h!=null&&y(e,["text"],h);const g=d(n,["thought"]);g!=null&&y(e,["thought"],g);const b=d(n,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const S=d(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function hw(n){const e={},l=d(n,["functionCallingConfig"]);l!=null&&y(e,["functionCallingConfig"],ew(l));const o=d(n,["retrievalConfig"]);return o!=null&&y(e,["retrievalConfig"],o),e}function pw(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&y(e,["googleSearchRetrieval"],o);const r=d(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=d(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=d(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],lw(f));const p=d(n,["googleSearch"]);p!=null&&y(e,["googleSearch"],ow(p));const h=d(n,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function mw(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(S=>tw(S))),y(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&y(e,["retrieval"],o);const r=d(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&y(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=d(n,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=d(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function gw(n,e){const l={},o=d(n,["ttl"]);e!==void 0&&o!=null&&y(e,["ttl"],o);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),l}function yw(n,e){const l={},o=d(n,["ttl"]);e!==void 0&&o!=null&&y(e,["ttl"],o);const r=d(n,["expireTime"]);return e!==void 0&&r!=null&&y(e,["expireTime"],r),l}function vw(n,e){const l={},o=d(e,["name"]);o!=null&&y(l,["_url","name"],tl(n,o));const r=d(e,["config"]);return r!=null&&gw(r,l),l}function xw(n,e){const l={},o=d(e,["name"]);o!=null&&y(l,["_url","name"],tl(n,o));const r=d(e,["config"]);return r!=null&&yw(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sw extends el{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new co(Zi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=JC(this.apiClient,e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=YC(this.apiClient,e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async get(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=iw(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=nw(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async delete(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=XC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=QC(g),S=new Pg;return Object.assign(S,b),S})}else{const h=$C(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=KC(g),S=new Pg;return Object.assign(S,b),S})}}async update(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=xw(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=vw(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async listInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=uw(e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=fw(g),S=new Ug;return Object.assign(S,b),S})}else{const h=rw(e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=cw(g),S=new Ug;return Object.assign(S,b),S})}}}function Xr(n,e){var l={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(l[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(l[o[r]]=n[o[r]]);return l}function zg(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function si(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(v){return function(E){return Promise.resolve(E).then(v,b)}}function f(v,E){o[v]&&(r[v]=function(C){return new Promise(function(N,I){a.push([v,C,N,I])>1||p(v,C)})},E&&(r[v]=E(r[v])))}function p(v,E){try{h(o[v](E))}catch(C){S(a[0][3],C)}}function h(v){v.value instanceof qe?Promise.resolve(v.value.v).then(g,b):S(a[0][2],v)}function g(v){p("next",v)}function b(v){p("throw",v)}function S(v,E){v(E),a.shift(),a.length&&p(a[0][0],a[0][1])}}function ai(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof zg=="function"?zg(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(a){l[a]=n[a]&&function(c){return new Promise(function(f,p){c=n[a](c),r(f,p,c.done,c.value)})}}function r(a,c,f,p){Promise.resolve(p).then(function(h){a({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bw(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:dv(l)}function dv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Tw(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jg(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let a=!0;for(;o<l&&n[o].role==="model";)r.push(n[o]),a&&!dv(n[o])&&(a=!1),o++;a?e.push(...r):e.pop()}return e}class Ew{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new Cw(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Cw{constructor(e,l,o,r={},a=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),Tw(a)}async sendMessage(e){var l;await this.sendPromise;const o=tn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var a,c,f;const p=await r,h=(c=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,g=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let S=[];g!=null&&(S=(f=g.slice(b))!==null&&f!==void 0?f:[]);const v=h?[h]:[];this.recordHistory(o,v,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var l;await this.sendPromise;const o=tn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,o)}getHistory(e=!1){const l=e?jg(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){return si(this,arguments,function*(){var r,a,c,f,p,h;const g=[];try{for(var b=!0,S=ai(e),v;v=yield qe(S.next()),r=v.done,!r;b=!0){f=v.value,b=!1;const E=f;if(bw(E)){const C=(h=(p=E.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;C!==void 0&&g.push(C)}yield yield qe(E)}}catch(E){a={error:E}}finally{try{!b&&!r&&(c=S.return)&&(yield qe(c.call(S)))}finally{if(a)throw a.error}}this.recordHistory(l,g)})}recordHistory(e,l,o){let r=[];l.length>0&&l.every(a=>a.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...jg(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(n){const e={},l=d(n,["file"]);return l!=null&&y(e,["file"],l),e}function Nw(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function Aw(n){const e={},l=d(n,["name"]);return l!=null&&y(e,["_url","file"],ov(l)),e}function Mw(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function _w(n){const e={},l=d(n,["name"]);return l!=null&&y(e,["_url","file"],ov(l)),e}function Rw(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),l}function Iw(n){const e={},l=d(n,["config"]);return l!=null&&Rw(l,e),e}function kw(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lw extends el{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new co(Zi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>l)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Iw(e);return a=ke("files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=kw(p),g=new G2;return Object.assign(g,h),g})}}async createInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ww(e);return a=ke("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=Nw(p),g=new B2;return Object.assign(g,h),g})}}async get(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_w(e);return a=ke("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Aw(e);return a=ke("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=Mw(p),g=new O2;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vr(n){const e={},l=d(n,["data"]);if(l!=null&&y(e,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function Dw(n){const e={},l=d(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(a=>Kw(a))),y(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&y(e,["role"],o),e}function Pw(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&y(e,["fileUri"],l);const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function Uw(n){const e={},l=d(n,["id"]);l!=null&&y(e,["id"],l);const o=d(n,["args"]);o!=null&&y(e,["args"],o);const r=d(n,["name"]);if(r!=null&&y(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gw(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&y(e,["description"],l);const o=d(n,["name"]);o!=null&&y(e,["name"],o);const r=d(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=d(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=d(n,["response"]);c!=null&&y(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&y(e,["responseJsonSchema"],f),e}function Bw(n){const e={},l=d(n,["modelSelectionConfig"]);l!=null&&y(e,["modelConfig"],l);const o=d(n,["responseJsonSchema"]);o!=null&&y(e,["responseJsonSchema"],o);const r=d(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=d(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const f=d(n,["frequencyPenalty"]);f!=null&&y(e,["frequencyPenalty"],f);const p=d(n,["logprobs"]);p!=null&&y(e,["logprobs"],p);const h=d(n,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const g=d(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const b=d(n,["presencePenalty"]);b!=null&&y(e,["presencePenalty"],b);const S=d(n,["responseLogprobs"]);S!=null&&y(e,["responseLogprobs"],S);const v=d(n,["responseMimeType"]);v!=null&&y(e,["responseMimeType"],v);const E=d(n,["responseModalities"]);E!=null&&y(e,["responseModalities"],E);const C=d(n,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const N=d(n,["routingConfig"]);N!=null&&y(e,["routingConfig"],N);const I=d(n,["seed"]);I!=null&&y(e,["seed"],I);const P=d(n,["speechConfig"]);P!=null&&y(e,["speechConfig"],hv(P));const D=d(n,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const V=d(n,["temperature"]);V!=null&&y(e,["temperature"],V);const A=d(n,["thinkingConfig"]);A!=null&&y(e,["thinkingConfig"],A);const M=d(n,["topK"]);M!=null&&y(e,["topK"],M);const L=d(n,["topP"]);if(L!=null&&y(e,["topP"],L),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ow(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&y(e,["enableWidget"],l),e}function Vw(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&y(e,["timeRangeFilter"],l),e}function Hw(n,e){const l={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig"],o);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=d(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=d(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","topK"],f);const p=d(n,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],vd(b));const S=d(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const v=d(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=d(n,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],Dw(tn(E)));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let M=ls(C);Array.isArray(M)&&(M=M.map(L=>Ww(is(L)))),y(e,["setup","tools"],M)}const N=d(n,["sessionResumption"]);e!==void 0&&N!=null&&y(e,["setup","sessionResumption"],Qw(N));const I=d(n,["inputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","inputAudioTranscription"],I);const P=d(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","outputAudioTranscription"],P);const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const V=d(n,["contextWindowCompression"]);e!==void 0&&V!=null&&y(e,["setup","contextWindowCompression"],V);const A=d(n,["proactivity"]);if(e!==void 0&&A!=null&&y(e,["setup","proactivity"],A),d(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function Fw(n,e){const l={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig"],Bw(o));const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=d(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=d(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","topK"],f);const p=d(n,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],hv(vd(b)));const S=d(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const v=d(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=d(n,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],tn(E));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let L=ls(C);Array.isArray(L)&&(L=L.map(R=>Zw(is(R)))),y(e,["setup","tools"],L)}const N=d(n,["sessionResumption"]);e!==void 0&&N!=null&&y(e,["setup","sessionResumption"],N);const I=d(n,["inputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","inputAudioTranscription"],I);const P=d(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","outputAudioTranscription"],P);const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const V=d(n,["contextWindowCompression"]);e!==void 0&&V!=null&&y(e,["setup","contextWindowCompression"],V);const A=d(n,["proactivity"]);e!==void 0&&A!=null&&y(e,["setup","proactivity"],A);const M=d(n,["explicitVadSignal"]);return e!==void 0&&M!=null&&y(e,["setup","explicitVadSignal"],M),l}function zw(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["setup","model"],at(n,o));const r=d(e,["config"]);return r!=null&&y(l,["config"],Hw(r,l)),l}function jw(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["setup","model"],at(n,o));const r=d(e,["config"]);return r!=null&&y(l,["config"],Fw(r,l)),l}function qw(n){const e={},l=d(n,["musicGenerationConfig"]);return l!=null&&y(e,["musicGenerationConfig"],l),e}function Yw(n){const e={},l=d(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),y(e,["weightedPrompts"],o)}return e}function Jw(n){const e={},l=d(n,["media"]);if(l!=null){let h=ev(l);Array.isArray(h)&&(h=h.map(g=>Vr(g))),y(e,["mediaChunks"],h)}const o=d(n,["audio"]);o!=null&&y(e,["audio"],Vr(nv(o)));const r=d(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=d(n,["video"]);a!=null&&y(e,["video"],Vr(tv(a)));const c=d(n,["text"]);c!=null&&y(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&y(e,["activityStart"],f);const p=d(n,["activityEnd"]);return p!=null&&y(e,["activityEnd"],p),e}function $w(n){const e={},l=d(n,["media"]);if(l!=null){let h=ev(l);Array.isArray(h)&&(h=h.map(g=>g)),y(e,["mediaChunks"],h)}const o=d(n,["audio"]);o!=null&&y(e,["audio"],nv(o));const r=d(n,["audioStreamEnd"]);r!=null&&y(e,["audioStreamEnd"],r);const a=d(n,["video"]);a!=null&&y(e,["video"],tv(a));const c=d(n,["text"]);c!=null&&y(e,["text"],c);const f=d(n,["activityStart"]);f!=null&&y(e,["activityStart"],f);const p=d(n,["activityEnd"]);return p!=null&&y(e,["activityEnd"],p),e}function Xw(n){const e={},l=d(n,["setupComplete"]);l!=null&&y(e,["setupComplete"],l);const o=d(n,["serverContent"]);o!=null&&y(e,["serverContent"],o);const r=d(n,["toolCall"]);r!=null&&y(e,["toolCall"],r);const a=d(n,["toolCallCancellation"]);a!=null&&y(e,["toolCallCancellation"],a);const c=d(n,["usageMetadata"]);c!=null&&y(e,["usageMetadata"],eN(c));const f=d(n,["goAway"]);f!=null&&y(e,["goAway"],f);const p=d(n,["sessionResumptionUpdate"]);p!=null&&y(e,["sessionResumptionUpdate"],p);const h=d(n,["voiceActivityDetectionSignal"]);return h!=null&&y(e,["voiceActivityDetectionSignal"],h),e}function Kw(n){const e={},l=d(n,["mediaResolution"]);l!=null&&y(e,["mediaResolution"],l);const o=d(n,["codeExecutionResult"]);o!=null&&y(e,["codeExecutionResult"],o);const r=d(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=d(n,["fileData"]);a!=null&&y(e,["fileData"],Pw(a));const c=d(n,["functionCall"]);c!=null&&y(e,["functionCall"],Uw(c));const f=d(n,["functionResponse"]);f!=null&&y(e,["functionResponse"],f);const p=d(n,["inlineData"]);p!=null&&y(e,["inlineData"],Vr(p));const h=d(n,["text"]);h!=null&&y(e,["text"],h);const g=d(n,["thought"]);g!=null&&y(e,["thought"],g);const b=d(n,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const S=d(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function Qw(n){const e={},l=d(n,["handle"]);if(l!=null&&y(e,["handle"],l),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hv(n){const e={},l=d(n,["voiceConfig"]);l!=null&&y(e,["voiceConfig"],l);const o=d(n,["languageCode"]);if(o!=null&&y(e,["languageCode"],o),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ww(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&y(e,["googleSearchRetrieval"],o);const r=d(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=d(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=d(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],Ow(f));const p=d(n,["googleSearch"]);p!=null&&y(e,["googleSearch"],Vw(p));const h=d(n,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Zw(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(S=>Gw(S))),y(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&y(e,["retrieval"],o);const r=d(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&y(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=d(n,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=d(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function eN(n){const e={},l=d(n,["promptTokenCount"]);l!=null&&y(e,["promptTokenCount"],l);const o=d(n,["cachedContentTokenCount"]);o!=null&&y(e,["cachedContentTokenCount"],o);const r=d(n,["candidatesTokenCount"]);r!=null&&y(e,["responseTokenCount"],r);const a=d(n,["toolUsePromptTokenCount"]);a!=null&&y(e,["toolUsePromptTokenCount"],a);const c=d(n,["thoughtsTokenCount"]);c!=null&&y(e,["thoughtsTokenCount"],c);const f=d(n,["totalTokenCount"]);f!=null&&y(e,["totalTokenCount"],f);const p=d(n,["promptTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["promptTokensDetails"],v)}const h=d(n,["cacheTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["cacheTokensDetails"],v)}const g=d(n,["candidatesTokensDetails"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["responseTokensDetails"],v)}const b=d(n,["toolUsePromptTokensDetails"]);if(b!=null){let v=b;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["toolUsePromptTokensDetails"],v)}const S=d(n,["trafficType"]);return S!=null&&y(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tN(n){const e={},l=d(n,["data"]);if(l!=null&&y(e,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function nN(n){const e={},l=d(n,["content"]);l!=null&&y(e,["content"],l);const o=d(n,["citationMetadata"]);o!=null&&y(e,["citationMetadata"],iN(o));const r=d(n,["tokenCount"]);r!=null&&y(e,["tokenCount"],r);const a=d(n,["finishReason"]);a!=null&&y(e,["finishReason"],a);const c=d(n,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const f=d(n,["groundingMetadata"]);f!=null&&y(e,["groundingMetadata"],f);const p=d(n,["index"]);p!=null&&y(e,["index"],p);const h=d(n,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const g=d(n,["safetyRatings"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(v=>v)),y(e,["safetyRatings"],S)}const b=d(n,["urlContextMetadata"]);return b!=null&&y(e,["urlContextMetadata"],b),e}function iN(n){const e={},l=d(n,["citationSources"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>r)),y(e,["citations"],o)}return e}function lN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let a=qn(r);Array.isArray(a)&&(a=a.map(c=>c)),y(l,["contents"],a)}return l}function oN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["tokensInfo"],r)}return e}function sN(n){const e={},l=d(n,["values"]);l!=null&&y(e,["values"],l);const o=d(n,["statistics"]);return o!=null&&y(e,["statistics"],aN(o)),e}function aN(n){const e={},l=d(n,["truncated"]);l!=null&&y(e,["truncated"],l);const o=d(n,["token_count"]);return o!=null&&y(e,["tokenCount"],o),e}function nu(n){const e={},l=d(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(a=>gA(a))),y(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&y(e,["role"],o),e}function rN(n){const e={},l=d(n,["controlType"]);l!=null&&y(e,["controlType"],l);const o=d(n,["enableControlImageComputation"]);return o!=null&&y(e,["computeControl"],o),e}function uN(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function cN(n,e){const l={},o=d(n,["systemInstruction"]);e!==void 0&&o!=null&&y(e,["systemInstruction"],tn(o));const r=d(n,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>vv(f))),y(e,["tools"],c)}const a=d(n,["generationConfig"]);return e!==void 0&&a!=null&&y(e,["generationConfig"],tA(a)),l}function fN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let c=qn(r);Array.isArray(c)&&(c=c.map(f=>nu(f))),y(l,["contents"],c)}const a=d(e,["config"]);return a!=null&&uN(a),l}function dN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let c=qn(r);Array.isArray(c)&&(c=c.map(f=>f)),y(l,["contents"],c)}const a=d(e,["config"]);return a!=null&&cN(a,l),l}function hN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["totalTokens"]);o!=null&&y(e,["totalTokens"],o);const r=d(n,["cachedContentTokenCount"]);return r!=null&&y(e,["cachedContentTokenCount"],r),e}function pN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["totalTokens"]);return o!=null&&y(e,["totalTokens"],o),e}function mN(n,e){const l={},o=d(e,["model"]);return o!=null&&y(l,["_url","name"],at(n,o)),l}function gN(n,e){const l={},o=d(e,["model"]);return o!=null&&y(l,["_url","name"],at(n,o)),l}function yN(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function vN(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}function xN(n,e){const l={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=d(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&y(e,["parameters","guidanceScale"],f);const p=d(n,["seed"]);e!==void 0&&p!=null&&y(e,["parameters","seed"],p);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&y(e,["parameters","includeSafetyAttributes"],b);const S=d(n,["includeRaiReason"]);e!==void 0&&S!=null&&y(e,["parameters","includeRaiReason"],S);const v=d(n,["language"]);e!==void 0&&v!=null&&y(e,["parameters","language"],v);const E=d(n,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const C=d(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const N=d(n,["addWatermark"]);e!==void 0&&N!=null&&y(e,["parameters","addWatermark"],N);const I=d(n,["labels"]);e!==void 0&&I!=null&&y(e,["labels"],I);const P=d(n,["editMode"]);e!==void 0&&P!=null&&y(e,["parameters","editMode"],P);const D=d(n,["baseSteps"]);return e!==void 0&&D!=null&&y(e,["parameters","editConfig","baseSteps"],D),l}function SN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["prompt"]);r!=null&&y(l,["instances[0]","prompt"],r);const a=d(e,["referenceImages"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>TA(p))),y(l,["instances[0]","referenceImages"],f)}const c=d(e,["config"]);return c!=null&&xN(c,l),l}function bN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>iu(a))),y(e,["generatedImages"],r)}return e}function TN(n,e){const l={},o=d(n,["taskType"]);e!==void 0&&o!=null&&y(e,["requests[]","taskType"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&y(e,["requests[]","title"],r);const a=d(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&y(e,["requests[]","outputDimensionality"],a),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function EN(n,e){const l={},o=d(n,["taskType"]);e!==void 0&&o!=null&&y(e,["instances[]","task_type"],o);const r=d(n,["title"]);e!==void 0&&r!=null&&y(e,["instances[]","title"],r);const a=d(n,["outputDimensionality"]);e!==void 0&&a!=null&&y(e,["parameters","outputDimensionality"],a);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&y(e,["instances[]","mimeType"],c);const f=d(n,["autoTruncate"]);return e!==void 0&&f!=null&&y(e,["parameters","autoTruncate"],f),l}function CN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let f=md(n,r);Array.isArray(f)&&(f=f.map(p=>p)),y(l,["requests[]","content"],f)}const a=d(e,["config"]);a!=null&&TN(a,l);const c=d(e,["model"]);return c!==void 0&&y(l,["requests[]","model"],at(n,c)),l}function wN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let c=md(n,r);Array.isArray(c)&&(c=c.map(f=>f)),y(l,["instances[]","content"],c)}const a=d(e,["config"]);return a!=null&&EN(a,l),l}function NN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["embeddings"],a)}const r=d(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function AN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["predictions[]","embeddings"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>sN(c))),y(e,["embeddings"],a)}const r=d(n,["metadata"]);return r!=null&&y(e,["metadata"],r),e}function MN(n){const e={},l=d(n,["endpoint"]);l!=null&&y(e,["name"],l);const o=d(n,["deployedModelId"]);return o!=null&&y(e,["deployedModelId"],o),e}function _N(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&y(e,["fileUri"],l);const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function RN(n){const e={},l=d(n,["id"]);l!=null&&y(e,["id"],l);const o=d(n,["args"]);o!=null&&y(e,["args"],o);const r=d(n,["name"]);if(r!=null&&y(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IN(n){const e={},l=d(n,["mode"]);l!=null&&y(e,["mode"],l);const o=d(n,["allowedFunctionNames"]);if(o!=null&&y(e,["allowedFunctionNames"],o),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kN(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&y(e,["description"],l);const o=d(n,["name"]);o!=null&&y(e,["name"],o);const r=d(n,["parameters"]);r!=null&&y(e,["parameters"],r);const a=d(n,["parametersJsonSchema"]);a!=null&&y(e,["parametersJsonSchema"],a);const c=d(n,["response"]);c!=null&&y(e,["response"],c);const f=d(n,["responseJsonSchema"]);return f!=null&&y(e,["responseJsonSchema"],f),e}function LN(n,e,l){const o={},r=d(e,["systemInstruction"]);l!==void 0&&r!=null&&y(l,["systemInstruction"],nu(tn(r)));const a=d(e,["temperature"]);a!=null&&y(o,["temperature"],a);const c=d(e,["topP"]);c!=null&&y(o,["topP"],c);const f=d(e,["topK"]);f!=null&&y(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&y(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&y(o,["maxOutputTokens"],h);const g=d(e,["stopSequences"]);g!=null&&y(o,["stopSequences"],g);const b=d(e,["responseLogprobs"]);b!=null&&y(o,["responseLogprobs"],b);const S=d(e,["logprobs"]);S!=null&&y(o,["logprobs"],S);const v=d(e,["presencePenalty"]);v!=null&&y(o,["presencePenalty"],v);const E=d(e,["frequencyPenalty"]);E!=null&&y(o,["frequencyPenalty"],E);const C=d(e,["seed"]);C!=null&&y(o,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&y(o,["responseMimeType"],N);const I=d(e,["responseSchema"]);I!=null&&y(o,["responseSchema"],gd(I));const P=d(e,["responseJsonSchema"]);if(P!=null&&y(o,["responseJsonSchema"],P),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(e,["safetySettings"]);if(l!==void 0&&D!=null){let j=D;Array.isArray(j)&&(j=j.map(K=>EA(K))),y(l,["safetySettings"],j)}const V=d(e,["tools"]);if(l!==void 0&&V!=null){let j=ls(V);Array.isArray(j)&&(j=j.map(K=>RA(is(K)))),y(l,["tools"],j)}const A=d(e,["toolConfig"]);if(l!==void 0&&A!=null&&y(l,["toolConfig"],_A(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=d(e,["cachedContent"]);l!==void 0&&M!=null&&y(l,["cachedContent"],tl(n,M));const L=d(e,["responseModalities"]);L!=null&&y(o,["responseModalities"],L);const R=d(e,["mediaResolution"]);R!=null&&y(o,["mediaResolution"],R);const U=d(e,["speechConfig"]);if(U!=null&&y(o,["speechConfig"],yd(U)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&y(o,["thinkingConfig"],k);const q=d(e,["imageConfig"]);q!=null&&y(o,["imageConfig"],sA(q));const O=d(e,["enableEnhancedCivicAnswers"]);return O!=null&&y(o,["enableEnhancedCivicAnswers"],O),o}function DN(n,e,l){const o={},r=d(e,["systemInstruction"]);l!==void 0&&r!=null&&y(l,["systemInstruction"],tn(r));const a=d(e,["temperature"]);a!=null&&y(o,["temperature"],a);const c=d(e,["topP"]);c!=null&&y(o,["topP"],c);const f=d(e,["topK"]);f!=null&&y(o,["topK"],f);const p=d(e,["candidateCount"]);p!=null&&y(o,["candidateCount"],p);const h=d(e,["maxOutputTokens"]);h!=null&&y(o,["maxOutputTokens"],h);const g=d(e,["stopSequences"]);g!=null&&y(o,["stopSequences"],g);const b=d(e,["responseLogprobs"]);b!=null&&y(o,["responseLogprobs"],b);const S=d(e,["logprobs"]);S!=null&&y(o,["logprobs"],S);const v=d(e,["presencePenalty"]);v!=null&&y(o,["presencePenalty"],v);const E=d(e,["frequencyPenalty"]);E!=null&&y(o,["frequencyPenalty"],E);const C=d(e,["seed"]);C!=null&&y(o,["seed"],C);const N=d(e,["responseMimeType"]);N!=null&&y(o,["responseMimeType"],N);const I=d(e,["responseSchema"]);I!=null&&y(o,["responseSchema"],gd(I));const P=d(e,["responseJsonSchema"]);P!=null&&y(o,["responseJsonSchema"],P);const D=d(e,["routingConfig"]);D!=null&&y(o,["routingConfig"],D);const V=d(e,["modelSelectionConfig"]);V!=null&&y(o,["modelConfig"],V);const A=d(e,["safetySettings"]);if(l!==void 0&&A!=null){let Y=A;Array.isArray(Y)&&(Y=Y.map(te=>te)),y(l,["safetySettings"],Y)}const M=d(e,["tools"]);if(l!==void 0&&M!=null){let Y=ls(M);Array.isArray(Y)&&(Y=Y.map(te=>vv(is(te)))),y(l,["tools"],Y)}const L=d(e,["toolConfig"]);l!==void 0&&L!=null&&y(l,["toolConfig"],L);const R=d(e,["labels"]);l!==void 0&&R!=null&&y(l,["labels"],R);const U=d(e,["cachedContent"]);l!==void 0&&U!=null&&y(l,["cachedContent"],tl(n,U));const k=d(e,["responseModalities"]);k!=null&&y(o,["responseModalities"],k);const q=d(e,["mediaResolution"]);q!=null&&y(o,["mediaResolution"],q);const O=d(e,["speechConfig"]);O!=null&&y(o,["speechConfig"],yv(yd(O)));const j=d(e,["audioTimestamp"]);j!=null&&y(o,["audioTimestamp"],j);const K=d(e,["thinkingConfig"]);K!=null&&y(o,["thinkingConfig"],K);const Q=d(e,["imageConfig"]);if(Q!=null&&y(o,["imageConfig"],aA(Q)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function qg(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let c=qn(r);Array.isArray(c)&&(c=c.map(f=>nu(f))),y(l,["contents"],c)}const a=d(e,["config"]);return a!=null&&y(l,["generationConfig"],LN(n,a,l)),l}function Yg(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["contents"]);if(r!=null){let c=qn(r);Array.isArray(c)&&(c=c.map(f=>f)),y(l,["contents"],c)}const a=d(e,["config"]);return a!=null&&y(l,["generationConfig"],DN(n,a,l)),l}function Jg(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(h=>nN(h))),y(e,["candidates"],p)}const r=d(n,["modelVersion"]);r!=null&&y(e,["modelVersion"],r);const a=d(n,["promptFeedback"]);a!=null&&y(e,["promptFeedback"],a);const c=d(n,["responseId"]);c!=null&&y(e,["responseId"],c);const f=d(n,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function $g(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["candidates"],h)}const r=d(n,["createTime"]);r!=null&&y(e,["createTime"],r);const a=d(n,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const c=d(n,["promptFeedback"]);c!=null&&y(e,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&y(e,["responseId"],f);const p=d(n,["usageMetadata"]);return p!=null&&y(e,["usageMetadata"],p),e}function PN(n,e){const l={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const r=d(n,["aspectRatio"]);e!==void 0&&r!=null&&y(e,["parameters","aspectRatio"],r);const a=d(n,["guidanceScale"]);if(e!==void 0&&a!=null&&y(e,["parameters","guidanceScale"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const f=d(n,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const p=d(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const h=d(n,["includeRaiReason"]);e!==void 0&&h!=null&&y(e,["parameters","includeRaiReason"],h);const g=d(n,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);const b=d(n,["outputMimeType"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","mimeType"],b);const S=d(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=d(n,["imageSize"]);if(e!==void 0&&v!=null&&y(e,["parameters","sampleImageSize"],v),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function UN(n,e){const l={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const r=d(n,["negativePrompt"]);e!==void 0&&r!=null&&y(e,["parameters","negativePrompt"],r);const a=d(n,["numberOfImages"]);e!==void 0&&a!=null&&y(e,["parameters","sampleCount"],a);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const f=d(n,["guidanceScale"]);e!==void 0&&f!=null&&y(e,["parameters","guidanceScale"],f);const p=d(n,["seed"]);e!==void 0&&p!=null&&y(e,["parameters","seed"],p);const h=d(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=d(n,["includeSafetyAttributes"]);e!==void 0&&b!=null&&y(e,["parameters","includeSafetyAttributes"],b);const S=d(n,["includeRaiReason"]);e!==void 0&&S!=null&&y(e,["parameters","includeRaiReason"],S);const v=d(n,["language"]);e!==void 0&&v!=null&&y(e,["parameters","language"],v);const E=d(n,["outputMimeType"]);e!==void 0&&E!=null&&y(e,["parameters","outputOptions","mimeType"],E);const C=d(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&y(e,["parameters","outputOptions","compressionQuality"],C);const N=d(n,["addWatermark"]);e!==void 0&&N!=null&&y(e,["parameters","addWatermark"],N);const I=d(n,["labels"]);e!==void 0&&I!=null&&y(e,["labels"],I);const P=d(n,["imageSize"]);e!==void 0&&P!=null&&y(e,["parameters","sampleImageSize"],P);const D=d(n,["enhancePrompt"]);return e!==void 0&&D!=null&&y(e,["parameters","enhancePrompt"],D),l}function GN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["prompt"]);r!=null&&y(l,["instances[0]","prompt"],r);const a=d(e,["config"]);return a!=null&&PN(a,l),l}function BN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["prompt"]);r!=null&&y(l,["instances[0]","prompt"],r);const a=d(e,["config"]);return a!=null&&UN(a,l),l}function ON(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>QN(c))),y(e,["generatedImages"],a)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],mv(r)),e}function VN(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>iu(c))),y(e,["generatedImages"],a)}const r=d(n,["positivePromptSafetyAttributes"]);return r!=null&&y(e,["positivePromptSafetyAttributes"],gv(r)),e}function HN(n,e){const l={},o=d(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(n,["durationSeconds"]);if(e!==void 0&&r!=null&&y(e,["parameters","durationSeconds"],r),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const c=d(n,["resolution"]);e!==void 0&&c!=null&&y(e,["parameters","resolution"],c);const f=d(n,["personGeneration"]);if(e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(n,["negativePrompt"]);e!==void 0&&p!=null&&y(e,["parameters","negativePrompt"],p);const h=d(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&y(e,["parameters","enhancePrompt"],h),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=d(n,["lastFrame"]);e!==void 0&&g!=null&&y(e,["instances[0]","lastFrame"],lu(g));const b=d(n,["referenceImages"]);if(e!==void 0&&b!=null){let S=b;Array.isArray(S)&&(S=S.map(v=>zA(v))),y(e,["instances[0]","referenceImages"],S)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function FN(n,e){const l={},o=d(n,["numberOfVideos"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const a=d(n,["fps"]);e!==void 0&&a!=null&&y(e,["parameters","fps"],a);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&y(e,["parameters","durationSeconds"],c);const f=d(n,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const p=d(n,["aspectRatio"]);e!==void 0&&p!=null&&y(e,["parameters","aspectRatio"],p);const h=d(n,["resolution"]);e!==void 0&&h!=null&&y(e,["parameters","resolution"],h);const g=d(n,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=d(n,["pubsubTopic"]);e!==void 0&&b!=null&&y(e,["parameters","pubsubTopic"],b);const S=d(n,["negativePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","negativePrompt"],S);const v=d(n,["enhancePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","enhancePrompt"],v);const E=d(n,["generateAudio"]);e!==void 0&&E!=null&&y(e,["parameters","generateAudio"],E);const C=d(n,["lastFrame"]);e!==void 0&&C!=null&&y(e,["instances[0]","lastFrame"],ci(C));const N=d(n,["referenceImages"]);if(e!==void 0&&N!=null){let D=N;Array.isArray(D)&&(D=D.map(V=>jA(V))),y(e,["instances[0]","referenceImages"],D)}const I=d(n,["mask"]);e!==void 0&&I!=null&&y(e,["instances[0]","mask"],FA(I));const P=d(n,["compressionQuality"]);return e!==void 0&&P!=null&&y(e,["parameters","compressionQuality"],P),l}function zN(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],JN(c)),e}function jN(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response"]);return c!=null&&y(e,["response"],$N(c)),e}function qN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["prompt"]);r!=null&&y(l,["instances[0]","prompt"],r);const a=d(e,["image"]);a!=null&&y(l,["instances[0]","image"],lu(a));const c=d(e,["video"]);c!=null&&y(l,["instances[0]","video"],xv(c));const f=d(e,["source"]);f!=null&&XN(f,l);const p=d(e,["config"]);return p!=null&&HN(p,l),l}function YN(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["prompt"]);r!=null&&y(l,["instances[0]","prompt"],r);const a=d(e,["image"]);a!=null&&y(l,["instances[0]","image"],ci(a));const c=d(e,["video"]);c!=null&&y(l,["instances[0]","video"],Sv(c));const f=d(e,["source"]);f!=null&&KN(f,l);const p=d(e,["config"]);return p!=null&&FN(p,l),l}function JN(n){const e={},l=d(n,["generatedSamples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>ZN(c))),y(e,["generatedVideos"],a)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&y(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function $N(n){const e={},l=d(n,["videos"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>eA(c))),y(e,["generatedVideos"],a)}const o=d(n,["raiMediaFilteredCount"]);o!=null&&y(e,["raiMediaFilteredCount"],o);const r=d(n,["raiMediaFilteredReasons"]);return r!=null&&y(e,["raiMediaFilteredReasons"],r),e}function XN(n,e){const l={},o=d(n,["prompt"]);e!==void 0&&o!=null&&y(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],lu(r));const a=d(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],xv(a)),l}function KN(n,e){const l={},o=d(n,["prompt"]);e!==void 0&&o!=null&&y(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ci(r));const a=d(n,["video"]);return e!==void 0&&a!=null&&y(e,["instances[0]","video"],Sv(a)),l}function QN(n){const e={},l=d(n,["_self"]);l!=null&&y(e,["image"],rA(l));const o=d(n,["raiFilteredReason"]);o!=null&&y(e,["raiFilteredReason"],o);const r=d(n,["_self"]);return r!=null&&y(e,["safetyAttributes"],mv(r)),e}function iu(n){const e={},l=d(n,["_self"]);l!=null&&y(e,["image"],pv(l));const o=d(n,["raiFilteredReason"]);o!=null&&y(e,["raiFilteredReason"],o);const r=d(n,["_self"]);r!=null&&y(e,["safetyAttributes"],gv(r));const a=d(n,["prompt"]);return a!=null&&y(e,["enhancedPrompt"],a),e}function WN(n){const e={},l=d(n,["_self"]);l!=null&&y(e,["mask"],pv(l));const o=d(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),y(e,["labels"],r)}return e}function ZN(n){const e={},l=d(n,["video"]);return l!=null&&y(e,["video"],VA(l)),e}function eA(n){const e={},l=d(n,["_self"]);return l!=null&&y(e,["video"],HA(l)),e}function tA(n){const e={},l=d(n,["modelSelectionConfig"]);l!=null&&y(e,["modelConfig"],l);const o=d(n,["responseJsonSchema"]);o!=null&&y(e,["responseJsonSchema"],o);const r=d(n,["audioTimestamp"]);r!=null&&y(e,["audioTimestamp"],r);const a=d(n,["candidateCount"]);a!=null&&y(e,["candidateCount"],a);const c=d(n,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const f=d(n,["frequencyPenalty"]);f!=null&&y(e,["frequencyPenalty"],f);const p=d(n,["logprobs"]);p!=null&&y(e,["logprobs"],p);const h=d(n,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const g=d(n,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const b=d(n,["presencePenalty"]);b!=null&&y(e,["presencePenalty"],b);const S=d(n,["responseLogprobs"]);S!=null&&y(e,["responseLogprobs"],S);const v=d(n,["responseMimeType"]);v!=null&&y(e,["responseMimeType"],v);const E=d(n,["responseModalities"]);E!=null&&y(e,["responseModalities"],E);const C=d(n,["responseSchema"]);C!=null&&y(e,["responseSchema"],C);const N=d(n,["routingConfig"]);N!=null&&y(e,["routingConfig"],N);const I=d(n,["seed"]);I!=null&&y(e,["seed"],I);const P=d(n,["speechConfig"]);P!=null&&y(e,["speechConfig"],yv(P));const D=d(n,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const V=d(n,["temperature"]);V!=null&&y(e,["temperature"],V);const A=d(n,["thinkingConfig"]);A!=null&&y(e,["thinkingConfig"],A);const M=d(n,["topK"]);M!=null&&y(e,["topK"],M);const L=d(n,["topP"]);if(L!=null&&y(e,["topP"],L),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nA(n,e){const l={},o=d(e,["model"]);return o!=null&&y(l,["_url","name"],at(n,o)),l}function iA(n,e){const l={},o=d(e,["model"]);return o!=null&&y(l,["_url","name"],at(n,o)),l}function lA(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&y(e,["enableWidget"],l),e}function oA(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&y(e,["timeRangeFilter"],l),e}function sA(n){const e={},l=d(n,["aspectRatio"]);l!=null&&y(e,["aspectRatio"],l);const o=d(n,["imageSize"]);if(o!=null&&y(e,["imageSize"],o),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aA(n){const e={},l=d(n,["aspectRatio"]);l!=null&&y(e,["aspectRatio"],l);const o=d(n,["imageSize"]);o!=null&&y(e,["imageSize"],o);const r=d(n,["outputMimeType"]);r!=null&&y(e,["imageOutputOptions","mimeType"],r);const a=d(n,["outputCompressionQuality"]);return a!=null&&y(e,["imageOutputOptions","compressionQuality"],a),e}function rA(n){const e={},l=d(n,["bytesBase64Encoded"]);l!=null&&y(e,["imageBytes"],Ll(l));const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function pv(n){const e={},l=d(n,["gcsUri"]);l!=null&&y(e,["gcsUri"],l);const o=d(n,["bytesBase64Encoded"]);o!=null&&y(e,["imageBytes"],Ll(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function lu(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=d(n,["imageBytes"]);l!=null&&y(e,["bytesBase64Encoded"],Ll(l));const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function ci(n){const e={},l=d(n,["gcsUri"]);l!=null&&y(e,["gcsUri"],l);const o=d(n,["imageBytes"]);o!=null&&y(e,["bytesBase64Encoded"],Ll(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function uA(n,e,l){const o={},r=d(e,["pageSize"]);l!==void 0&&r!=null&&y(l,["_query","pageSize"],r);const a=d(e,["pageToken"]);l!==void 0&&a!=null&&y(l,["_query","pageToken"],a);const c=d(e,["filter"]);l!==void 0&&c!=null&&y(l,["_query","filter"],c);const f=d(e,["queryBase"]);return l!==void 0&&f!=null&&y(l,["_url","models_url"],sv(n,f)),o}function cA(n,e,l){const o={},r=d(e,["pageSize"]);l!==void 0&&r!=null&&y(l,["_query","pageSize"],r);const a=d(e,["pageToken"]);l!==void 0&&a!=null&&y(l,["_query","pageToken"],a);const c=d(e,["filter"]);l!==void 0&&c!=null&&y(l,["_query","filter"],c);const f=d(e,["queryBase"]);return l!==void 0&&f!=null&&y(l,["_url","models_url"],sv(n,f)),o}function fA(n,e){const l={},o=d(e,["config"]);return o!=null&&uA(n,o,l),l}function dA(n,e){const l={},o=d(e,["config"]);return o!=null&&cA(n,o,l),l}function hA(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["_self"]);if(r!=null){let a=av(r);Array.isArray(a)&&(a=a.map(c=>jf(c))),y(e,["models"],a)}return e}function pA(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["_self"]);if(r!=null){let a=av(r);Array.isArray(a)&&(a=a.map(c=>qf(c))),y(e,["models"],a)}return e}function mA(n){const e={},l=d(n,["maskMode"]);l!=null&&y(e,["maskMode"],l);const o=d(n,["segmentationClasses"]);o!=null&&y(e,["maskClasses"],o);const r=d(n,["maskDilation"]);return r!=null&&y(e,["dilation"],r),e}function jf(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["displayName"]);o!=null&&y(e,["displayName"],o);const r=d(n,["description"]);r!=null&&y(e,["description"],r);const a=d(n,["version"]);a!=null&&y(e,["version"],a);const c=d(n,["_self"]);c!=null&&y(e,["tunedModelInfo"],IA(c));const f=d(n,["inputTokenLimit"]);f!=null&&y(e,["inputTokenLimit"],f);const p=d(n,["outputTokenLimit"]);p!=null&&y(e,["outputTokenLimit"],p);const h=d(n,["supportedGenerationMethods"]);h!=null&&y(e,["supportedActions"],h);const g=d(n,["temperature"]);g!=null&&y(e,["temperature"],g);const b=d(n,["maxTemperature"]);b!=null&&y(e,["maxTemperature"],b);const S=d(n,["topP"]);S!=null&&y(e,["topP"],S);const v=d(n,["topK"]);v!=null&&y(e,["topK"],v);const E=d(n,["thinking"]);return E!=null&&y(e,["thinking"],E),e}function qf(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["displayName"]);o!=null&&y(e,["displayName"],o);const r=d(n,["description"]);r!=null&&y(e,["description"],r);const a=d(n,["versionId"]);a!=null&&y(e,["version"],a);const c=d(n,["deployedModels"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>MN(S))),y(e,["endpoints"],b)}const f=d(n,["labels"]);f!=null&&y(e,["labels"],f);const p=d(n,["_self"]);p!=null&&y(e,["tunedModelInfo"],kA(p));const h=d(n,["defaultCheckpointId"]);h!=null&&y(e,["defaultCheckpointId"],h);const g=d(n,["checkpoints"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(S=>S)),y(e,["checkpoints"],b)}return e}function gA(n){const e={},l=d(n,["mediaResolution"]);l!=null&&y(e,["mediaResolution"],l);const o=d(n,["codeExecutionResult"]);o!=null&&y(e,["codeExecutionResult"],o);const r=d(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=d(n,["fileData"]);a!=null&&y(e,["fileData"],_N(a));const c=d(n,["functionCall"]);c!=null&&y(e,["functionCall"],RN(c));const f=d(n,["functionResponse"]);f!=null&&y(e,["functionResponse"],f);const p=d(n,["inlineData"]);p!=null&&y(e,["inlineData"],tN(p));const h=d(n,["text"]);h!=null&&y(e,["text"],h);const g=d(n,["thought"]);g!=null&&y(e,["thought"],g);const b=d(n,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const S=d(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function yA(n){const e={},l=d(n,["productImage"]);return l!=null&&y(e,["image"],ci(l)),e}function vA(n,e){const l={},o=d(n,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const r=d(n,["baseSteps"]);e!==void 0&&r!=null&&y(e,["parameters","baseSteps"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const c=d(n,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const f=d(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&y(e,["parameters","safetySetting"],f);const p=d(n,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const h=d(n,["addWatermark"]);e!==void 0&&h!=null&&y(e,["parameters","addWatermark"],h);const g=d(n,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const b=d(n,["outputCompressionQuality"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","compressionQuality"],b);const S=d(n,["enhancePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","enhancePrompt"],S);const v=d(n,["labels"]);return e!==void 0&&v!=null&&y(e,["labels"],v),l}function xA(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["source"]);r!=null&&bA(r,l);const a=d(e,["config"]);return a!=null&&vA(a,l),l}function SA(n){const e={},l=d(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>iu(r))),y(e,["generatedImages"],o)}return e}function bA(n,e){const l={},o=d(n,["prompt"]);e!==void 0&&o!=null&&y(e,["instances[0]","prompt"],o);const r=d(n,["personImage"]);e!==void 0&&r!=null&&y(e,["instances[0]","personImage","image"],ci(r));const a=d(n,["productImages"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>yA(f))),y(e,["instances[0]","productImages"],c)}return l}function TA(n){const e={},l=d(n,["referenceImage"]);l!=null&&y(e,["referenceImage"],ci(l));const o=d(n,["referenceId"]);o!=null&&y(e,["referenceId"],o);const r=d(n,["referenceType"]);r!=null&&y(e,["referenceType"],r);const a=d(n,["maskImageConfig"]);a!=null&&y(e,["maskImageConfig"],mA(a));const c=d(n,["controlImageConfig"]);c!=null&&y(e,["controlImageConfig"],rN(c));const f=d(n,["styleImageConfig"]);f!=null&&y(e,["styleImageConfig"],f);const p=d(n,["subjectImageConfig"]);return p!=null&&y(e,["subjectImageConfig"],p),e}function mv(n){const e={},l=d(n,["safetyAttributes","categories"]);l!=null&&y(e,["categories"],l);const o=d(n,["safetyAttributes","scores"]);o!=null&&y(e,["scores"],o);const r=d(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function gv(n){const e={},l=d(n,["safetyAttributes","categories"]);l!=null&&y(e,["categories"],l);const o=d(n,["safetyAttributes","scores"]);o!=null&&y(e,["scores"],o);const r=d(n,["contentType"]);return r!=null&&y(e,["contentType"],r),e}function EA(n){const e={},l=d(n,["category"]);if(l!=null&&y(e,["category"],l),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(n,["threshold"]);return o!=null&&y(e,["threshold"],o),e}function CA(n){const e={},l=d(n,["image"]);return l!=null&&y(e,["image"],ci(l)),e}function wA(n,e){const l={},o=d(n,["mode"]);e!==void 0&&o!=null&&y(e,["parameters","mode"],o);const r=d(n,["maxPredictions"]);e!==void 0&&r!=null&&y(e,["parameters","maxPredictions"],r);const a=d(n,["confidenceThreshold"]);e!==void 0&&a!=null&&y(e,["parameters","confidenceThreshold"],a);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&y(e,["parameters","maskDilation"],c);const f=d(n,["binaryColorThreshold"]);e!==void 0&&f!=null&&y(e,["parameters","binaryColorThreshold"],f);const p=d(n,["labels"]);return e!==void 0&&p!=null&&y(e,["labels"],p),l}function NA(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["source"]);r!=null&&MA(r,l);const a=d(e,["config"]);return a!=null&&wA(a,l),l}function AA(n){const e={},l=d(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>WN(r))),y(e,["generatedMasks"],o)}return e}function MA(n,e){const l={},o=d(n,["prompt"]);e!==void 0&&o!=null&&y(e,["instances[0]","prompt"],o);const r=d(n,["image"]);e!==void 0&&r!=null&&y(e,["instances[0]","image"],ci(r));const a=d(n,["scribbleImage"]);return e!==void 0&&a!=null&&y(e,["instances[0]","scribble"],CA(a)),l}function yv(n){const e={},l=d(n,["voiceConfig"]);l!=null&&y(e,["voiceConfig"],l);const o=d(n,["languageCode"]);if(o!=null&&y(e,["languageCode"],o),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function _A(n){const e={},l=d(n,["functionCallingConfig"]);l!=null&&y(e,["functionCallingConfig"],IN(l));const o=d(n,["retrievalConfig"]);return o!=null&&y(e,["retrievalConfig"],o),e}function RA(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&y(e,["googleSearchRetrieval"],o);const r=d(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=d(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=d(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],lA(f));const p=d(n,["googleSearch"]);p!=null&&y(e,["googleSearch"],oA(p));const h=d(n,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function vv(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let b=l;Array.isArray(b)&&(b=b.map(S=>kN(S))),y(e,["functionDeclarations"],b)}const o=d(n,["retrieval"]);o!=null&&y(e,["retrieval"],o);const r=d(n,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);if(a!=null&&y(e,["computerUse"],a),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const f=d(n,["enterpriseWebSearch"]);f!=null&&y(e,["enterpriseWebSearch"],f);const p=d(n,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=d(n,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=d(n,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function IA(n){const e={},l=d(n,["baseModel"]);l!=null&&y(e,["baseModel"],l);const o=d(n,["createTime"]);o!=null&&y(e,["createTime"],o);const r=d(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function kA(n){const e={},l=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&y(e,["baseModel"],l);const o=d(n,["createTime"]);o!=null&&y(e,["createTime"],o);const r=d(n,["updateTime"]);return r!=null&&y(e,["updateTime"],r),e}function LA(n,e){const l={},o=d(n,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const r=d(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=d(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),l}function DA(n,e){const l={},o=d(n,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const r=d(n,["description"]);e!==void 0&&r!=null&&y(e,["description"],r);const a=d(n,["defaultCheckpointId"]);return e!==void 0&&a!=null&&y(e,["defaultCheckpointId"],a),l}function PA(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","name"],at(n,o));const r=d(e,["config"]);return r!=null&&LA(r,l),l}function UA(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["config"]);return r!=null&&DA(r,l),l}function GA(n,e){const l={},o=d(n,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const r=d(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&y(e,["parameters","safetySetting"],r);const a=d(n,["personGeneration"]);e!==void 0&&a!=null&&y(e,["parameters","personGeneration"],a);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&y(e,["parameters","includeRaiReason"],c);const f=d(n,["outputMimeType"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","mimeType"],f);const p=d(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","compressionQuality"],p);const h=d(n,["enhanceInputImage"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=d(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const b=d(n,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const S=d(n,["numberOfImages"]);e!==void 0&&S!=null&&y(e,["parameters","sampleCount"],S);const v=d(n,["mode"]);return e!==void 0&&v!=null&&y(e,["parameters","mode"],v),l}function BA(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["_url","model"],at(n,o));const r=d(e,["image"]);r!=null&&y(l,["instances[0]","image"],ci(r));const a=d(e,["upscaleFactor"]);a!=null&&y(l,["parameters","upscaleConfig","upscaleFactor"],a);const c=d(e,["config"]);return c!=null&&GA(c,l),l}function OA(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>iu(a))),y(e,["generatedImages"],r)}return e}function VA(n){const e={},l=d(n,["uri"]);l!=null&&y(e,["uri"],l);const o=d(n,["encodedVideo"]);o!=null&&y(e,["videoBytes"],Ll(o));const r=d(n,["encoding"]);return r!=null&&y(e,["mimeType"],r),e}function HA(n){const e={},l=d(n,["gcsUri"]);l!=null&&y(e,["uri"],l);const o=d(n,["bytesBase64Encoded"]);o!=null&&y(e,["videoBytes"],Ll(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function FA(n){const e={},l=d(n,["image"]);l!=null&&y(e,["_self"],ci(l));const o=d(n,["maskMode"]);return o!=null&&y(e,["maskMode"],o),e}function zA(n){const e={},l=d(n,["image"]);l!=null&&y(e,["image"],lu(l));const o=d(n,["referenceType"]);return o!=null&&y(e,["referenceType"],o),e}function jA(n){const e={},l=d(n,["image"]);l!=null&&y(e,["image"],ci(l));const o=d(n,["referenceType"]);return o!=null&&y(e,["referenceType"],o),e}function xv(n){const e={},l=d(n,["uri"]);l!=null&&y(e,["uri"],l);const o=d(n,["videoBytes"]);o!=null&&y(e,["encodedVideo"],Ll(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["encoding"],r),e}function Sv(n){const e={},l=d(n,["uri"]);l!=null&&y(e,["gcsUri"],l);const o=d(n,["videoBytes"]);o!=null&&y(e,["bytesBase64Encoded"],Ll(o));const r=d(n,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(n,e){const l={},o=d(n,["displayName"]);return e!==void 0&&o!=null&&y(e,["displayName"],o),l}function YA(n){const e={},l=d(n,["config"]);return l!=null&&qA(l,e),e}function JA(n,e){const l={},o=d(n,["force"]);return e!==void 0&&o!=null&&y(e,["_query","force"],o),l}function $A(n){const e={},l=d(n,["name"]);l!=null&&y(e,["_url","name"],l);const o=d(n,["config"]);return o!=null&&JA(o,e),e}function XA(n){const e={},l=d(n,["name"]);return l!=null&&y(e,["_url","name"],l),e}function KA(n,e){const l={},o=d(n,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["customMetadata"],a)}const r=d(n,["chunkingConfig"]);return e!==void 0&&r!=null&&y(e,["chunkingConfig"],r),l}function QA(n){const e={},l=d(n,["name"]);l!=null&&y(e,["name"],l);const o=d(n,["metadata"]);o!=null&&y(e,["metadata"],o);const r=d(n,["done"]);r!=null&&y(e,["done"],r);const a=d(n,["error"]);a!=null&&y(e,["error"],a);const c=d(n,["response"]);return c!=null&&y(e,["response"],ZA(c)),e}function WA(n){const e={},l=d(n,["fileSearchStoreName"]);l!=null&&y(e,["_url","file_search_store_name"],l);const o=d(n,["fileName"]);o!=null&&y(e,["fileName"],o);const r=d(n,["config"]);return r!=null&&KA(r,e),e}function ZA(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["parent"]);o!=null&&y(e,["parent"],o);const r=d(n,["documentName"]);return r!=null&&y(e,["documentName"],r),e}function e5(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),l}function t5(n){const e={},l=d(n,["config"]);return l!=null&&e5(l,e),e}function n5(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["fileSearchStores"],a)}return e}function bv(n,e){const l={},o=d(n,["mimeType"]);e!==void 0&&o!=null&&y(e,["mimeType"],o);const r=d(n,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const a=d(n,["customMetadata"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),y(e,["customMetadata"],f)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&y(e,["chunkingConfig"],c),l}function i5(n){const e={},l=d(n,["fileSearchStoreName"]);l!=null&&y(e,["_url","file_search_store_name"],l);const o=d(n,["config"]);return o!=null&&bv(o,e),e}function l5(n){const e={},l=d(n,["sdkHttpResponse"]);return l!=null&&y(e,["sdkHttpResponse"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o5="Content-Type",s5="X-Server-Timeout",a5="User-Agent",Yf="x-goog-api-client",r5="1.33.0",u5=`google-genai-sdk/${r5}`,c5="v1beta1",f5="v1beta";class d5{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:c5,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:f5,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))r.searchParams.append(c,String(f));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,l,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(l))typeof a=="object"?o[r]=Object.assign(Object.assign({},o[r]),a):a!==void 0&&(o[r]=a);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,l,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o,r){if(l&&l.timeout||r){const a=new AbortController,c=a.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const f=setTimeout(()=>a.abort(),l.timeout);f&&typeof f.unref=="function"&&f.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=c}return l&&l.extraBody!==null&&h5(e,l.extraBody),e.headers=await this.getHeadersInternal(l,o),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Xg(r),new Hf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Xg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return si(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield qe(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=a.decode(g,{stream:!0});try{const E=JSON.parse(b);if("error"in E){const C=JSON.parse(JSON.stringify(E.error)),N=C.status,I=C.code,P=`got status: ${N}. ${JSON.stringify(E)}`;if(I>=400&&I<600)throw new tu({message:P,status:I})}}catch(E){if(E.name==="ApiError")throw E}c+=b;let S=-1,v=0;for(;;){S=-1,v=0;for(const N of p){const I=c.indexOf(N);I!==-1&&(S===-1||I<S)&&(S=I,v=N.length)}if(S===-1)break;const E=c.substring(0,S);c=c.substring(S+v);const C=E.trim();if(C.startsWith(f)){const N=C.substring(f.length).trim();try{const I=new Response(N,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new Hf(I))}catch(I){throw new Error(`exception parsing stream chunk ${N}. ${I}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=u5+" "+this.clientOptions.userAgentExtra;return e[a5]=l,e[Yf]=l,e[o5]="application/json",e}async getHeadersInternal(e,l){const o=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))o.append(r,a);e.timeout&&e.timeout>0&&o.append(s5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,l),o}getFileName(e){var l;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(l=o.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),o}async uploadFile(e,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);r.sizeBytes=String(c.size);const f=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=f;const p={file:r},h=this.getFileName(e),g=ke("upload/v1beta/files",p._url),b=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,h,p,l==null?void 0:l.httpOptions);return a.upload(e,b,this)}async uploadFileToFileSearchStore(e,l,o){var r;const a=this.clientOptions.uploader,c=await a.stat(l),f=String(c.size),p=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(l),b={};o!=null&&bv(o,b);const S=await this.fetchUploadUrl(h,f,p,g,b,o==null?void 0:o.httpOptions);return a.uploadToFileSearchStore(l,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l,o,r,a,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Xg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new tu({message:r,status:l}):new Error(r)}}function h5(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))l=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,c){const f=Object.assign({},a);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],g=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?f[p]=o(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const r=o(l,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p5="mcp_used/unknown";let m5=!1;function Tv(n){for(const e of n)if(g5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return m5}function Ev(n){var e;const l=(e=n[Yf])!==null&&e!==void 0?e:"";n[Yf]=(l+` ${p5}`).trimStart()}function g5(n){return n!==null&&typeof n=="object"&&n instanceof xd}function y5(n){return si(this,arguments,function*(l,o=100){let r,a=0;for(;a<o;){const c=yield qe(l.listTools({cursor:r}));for(const f of c.tools)yield yield qe(f),a++;if(!c.nextCursor)break;r=c.nextCursor}})}class xd{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new xd(e,l)}async initialize(){var e,l,o,r;if(this.mcpTools.length>0)return;const a={},c=[];for(const g of this.mcpClients)try{for(var f=!0,p=(l=void 0,ai(y5(g))),h;h=await p.next(),e=h.done,!e;f=!0){r=h.value,f=!1;const b=r;c.push(b);const S=b.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=g}}catch(b){l={error:b}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(l)throw l.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),X2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const c=await r.callTool({name:o.name,arguments:o.args},void 0,a);l.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function v5(n,e,l){const o=new H2;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(o,r),e(o)}class x5{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=T5(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const g=new Promise(D=>{h=D}),b=e.callbacks,S=function(){h({})},v=this.apiClient,E={onopen:S,onmessage:D=>{v5(v,b.onmessage,D)},onerror:(l=b==null?void 0:b.onerror)!==null&&l!==void 0?l:function(D){},onclose:(o=b==null?void 0:b.onclose)!==null&&o!==void 0?o:function(D){}},C=this.webSocketFactory.create(p,b5(c),E);C.connect(),await g;const P={setup:{model:at(this.apiClient,e.model)}};return C.send(JSON.stringify(P)),new S5(C,this.apiClient)}}class S5{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Yw(e);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=qw(e);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const l={playbackControl:e};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Ko.PLAY)}pause(){this.sendPlaybackControl(Ko.PAUSE)}stop(){this.sendPlaybackControl(Ko.STOP)}resetContext(){this.sendPlaybackControl(Ko.RESET_CONTEXT)}close(){this.conn.close()}}function b5(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function T5(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function C5(n,e,l){const o=new V2;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const a=JSON.parse(r);if(n.isVertexAI()){const c=Xw(a);Object.assign(o,c)}else Object.assign(o,a);e(o)}class w5{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new x5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,r,a,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&Tv(e.config.tools)&&Ev(b);const S=_5(b);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,g);else{const U=this.apiClient.getApiKey();let k="BidiGenerateContent",q="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",q="access_token"),g=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${k}?${q}=${U}`}let v=()=>{};const E=new Promise(U=>{v=U}),C=e.callbacks,N=function(){var U;(U=C==null?void 0:C.onopen)===null||U===void 0||U.call(C),v({})},I=this.apiClient,P={onopen:N,onmessage:U=>{C5(I,C.onmessage,U)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(U){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(U){}},D=this.webSocketFactory.create(g,M5(S),P);D.connect(),await E;let V=at(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const U=this.apiClient.getProject(),k=this.apiClient.getLocation();V=`projects/${U}/locations/${k}/`+V}let A={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[uo.AUDIO]}:e.config.responseModalities=[uo.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],L=[];for(const U of M)if(this.isCallableTool(U)){const k=U;L.push(await k.tool())}else L.push(U);L.length>0&&(e.config.tools=L);const R={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=jw(this.apiClient,R):A=zw(this.apiClient,R),delete A.config,D.send(JSON.stringify(A)),new A5(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N5={turnComplete:!0};class A5{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=qn(l.turns),e.isVertexAI()||(o=o.map(r=>nu(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(E5)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},N5),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:$w(e)}:l={realtimeInput:Jw(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function M5(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function _5(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kg=10;function Qg(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Zo(c)){r=!0;break}if(!r)return!0;const a=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Zo(n){return"callTool"in n&&typeof n.callTool=="function"}function R5(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>Zo(r)))!==null&&o!==void 0?o:!1}function Wg(n){var e;const l=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Zo(o))return;const a=o;a.functionDeclarations&&a.functionDeclarations.length>0&&l.push(r)}),l}function Zg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I5 extends el{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,r,a,c,f;const p=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!R5(l)||Qg(l.config))return await this.generateContentInternal(p);const h=Wg(l);if(h.length>0){const C=h.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let g,b;const S=qn(p.contents),v=(a=(r=(o=p.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Kg;let E=0;for(;E<v&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const C=g.candidates[0].content,N=[];for(const I of(f=(c=l.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(Zo(I)){const D=await I.callTool(g.functionCalls);N.push(...D)}E++,b={role:"user",parts:N},p.contents=qn(p.contents),p.contents.push(C),p.contents.push(b),Zg(p.config)&&(S.push(C),S.push(b))}return Zg(p.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async l=>{var o,r,a,c,f;if(this.maybeMoveToResponseJsonSchem(l),Qg(l.config)){const b=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(b)}const p=Wg(l);if(p.length>0){const b=p.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(r=(o=l==null?void 0:l.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,g=(f=(c=l==null?void 0:l.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let a;const c=[];if(o!=null&&o.generatedImages)for(const p of o.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:c.push(p);let f;return a?f={generatedImages:c,positivePromptSafetyAttributes:a,sdkHttpResponse:o.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},f}),this.list=async l=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new co(Zi.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var o,r,a,c,f,p;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=l.video)===null||o===void 0)&&o.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((c=(a=l.source)===null||a===void 0?void 0:a.video)===null||c===void 0)&&c.uri&&(!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,o,r;const a=(l=e.config)===null||l===void 0?void 0:l.tools;if(!a)return e;const c=await Promise.all(a.map(async p=>Zo(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&Tv(e.config.tools)){const p=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Ev(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var l,o,r;const a=new Map;for(const c of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(Zo(c)){const f=c,p=await f.tool();for(const h of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,f)}}return a}async processAfcStream(e){var l,o,r;const a=(r=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Kg;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,g,b){return si(this,arguments,function*(){for(var S,v,E,C,N,I;f<a;){c&&(f++,c=!1);const A=yield qe(h.processParamsMaybeAddMcpUsage(b)),M=yield qe(h.generateContentStreamInternal(A)),L=[],R=[];try{for(var P=!0,D=(v=void 0,ai(M)),V;V=yield qe(D.next()),S=V.done,!S;P=!0){C=V.value,P=!1;const U=C;if(yield yield qe(U),U.candidates&&(!((N=U.candidates[0])===null||N===void 0)&&N.content)){R.push(U.candidates[0].content);for(const k of(I=U.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(f<a&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(k.functionCall.name)){const q=yield qe(g.get(k.functionCall.name).callTool([k.functionCall]));L.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(U){v={error:U}}finally{try{!P&&!S&&(E=D.return)&&(yield qe(E.call(D)))}finally{if(v)throw v.error}}if(L.length>0){c=!0;const U=new na;U.candidates=[{content:{role:"user",parts:L}}],yield yield qe(U);const k=[];k.push(...R),k.push({role:"user",parts:L});const q=qn(b.contents).concat(k);b.contents=q}else break}})})(this,p,e)}async generateContentInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Yg(this.apiClient,e);return f=ke("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=$g(g),S=new na;return Object.assign(S,b),S})}else{const h=qg(this.apiClient,e);return f=ke("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=Jg(g),S=new na;return Object.assign(S,b),S})}}async generateContentStreamInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Yg(this.apiClient,e);return f=ke("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(b){return si(this,arguments,function*(){var S,v,E,C;try{for(var N=!0,I=ai(b),P;P=yield qe(I.next()),S=P.done,!S;N=!0){C=P.value,N=!1;const D=C,V=$g(yield qe(D.json()));V.sdkHttpResponse={headers:D.headers};const A=new na;Object.assign(A,V),yield yield qe(A)}}catch(D){v={error:D}}finally{try{!N&&!S&&(E=I.return)&&(yield qe(E.call(I)))}finally{if(v)throw v.error}}})})}else{const h=qg(this.apiClient,e);return f=ke("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(b){return si(this,arguments,function*(){var S,v,E,C;try{for(var N=!0,I=ai(b),P;P=yield qe(I.next()),S=P.done,!S;N=!0){C=P.value,N=!1;const D=C,V=Jg(yield qe(D.json()));V.sdkHttpResponse={headers:D.headers};const A=new na;Object.assign(A,V),yield yield qe(A)}}catch(D){v={error:D}}finally{try{!N&&!S&&(E=I.return)&&(yield qe(E.call(I)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=wN(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=AN(g),S=new Mg;return Object.assign(S,b),S})}else{const h=CN(this.apiClient,e);return f=ke("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=NN(g),S=new Mg;return Object.assign(S,b),S})}}async generateImagesInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=BN(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=VN(g),S=new _g;return Object.assign(S,b),S})}else{const h=GN(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=ON(g),S=new _g;return Object.assign(S,b),S})}}async editImageInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=SN(this.apiClient,e);return a=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=bN(p),g=new _2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=BA(this.apiClient,e);return a=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=OA(p),g=new R2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=xA(this.apiClient,e);return a=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=SA(p),g=new I2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=NA(this.apiClient,e);return a=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=AA(p),g=new k2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>qf(g))}else{const h=nA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>jf(g))}}async listInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=dA(this.apiClient,e);return f=ke("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=pA(g),S=new Rg;return Object.assign(S,b),S})}else{const h=fA(this.apiClient,e);return f=ke("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=hA(g),S=new Rg;return Object.assign(S,b),S})}}async update(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=UA(this.apiClient,e);return f=ke("{model}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>qf(g))}else{const h=PA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>jf(g))}}async delete(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=gN(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=vN(g),S=new Ig;return Object.assign(S,b),S})}else{const h=mN(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=yN(g),S=new Ig;return Object.assign(S,b),S})}}async countTokens(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=dN(this.apiClient,e);return f=ke("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=pN(g),S=new kg;return Object.assign(S,b),S})}else{const h=fN(this.apiClient,e);return f=ke("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=hN(g),S=new kg;return Object.assign(S,b),S})}}async computeTokens(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=lN(this.apiClient,e);return a=ke("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=oN(p),g=new L2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=YN(this.apiClient,e);return f=ke("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c.then(g=>{const b=jN(g),S=new Jr;return Object.assign(S,b),S})}else{const h=qN(this.apiClient,e);return f=ke("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>{const b=zN(g),S=new Jr;return Object.assign(S,b),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k5 extends el{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:a}});return l._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let a;o&&"httpOptions"in o&&(a=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:a}});return l._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:o});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=E2(e);return f=ke("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),c}else{const h=T2(e);return f=ke("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=m2(e);return a=ke("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L5(n){const e={},l=d(n,["data"]);if(l!=null&&y(e,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function D5(n){const e={},l=d(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(a=>z5(a))),y(e,["parts"],r)}const o=d(n,["role"]);return o!=null&&y(e,["role"],o),e}function P5(n,e,l){const o={},r=d(e,["expireTime"]);l!==void 0&&r!=null&&y(l,["expireTime"],r);const a=d(e,["newSessionExpireTime"]);l!==void 0&&a!=null&&y(l,["newSessionExpireTime"],a);const c=d(e,["uses"]);l!==void 0&&c!=null&&y(l,["uses"],c);const f=d(e,["liveConnectConstraints"]);l!==void 0&&f!=null&&y(l,["bidiGenerateContentSetup"],F5(n,f));const p=d(e,["lockAdditionalFields"]);return l!==void 0&&p!=null&&y(l,["fieldMask"],p),o}function U5(n,e){const l={},o=d(e,["config"]);return o!=null&&y(l,["config"],P5(n,o,l)),l}function G5(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&y(e,["fileUri"],l);const o=d(n,["mimeType"]);return o!=null&&y(e,["mimeType"],o),e}function B5(n){const e={},l=d(n,["id"]);l!=null&&y(e,["id"],l);const o=d(n,["args"]);o!=null&&y(e,["args"],o);const r=d(n,["name"]);if(r!=null&&y(e,["name"],r),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O5(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&y(e,["enableWidget"],l),e}function V5(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&y(e,["timeRangeFilter"],l),e}function H5(n,e){const l={},o=d(n,["generationConfig"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig"],o);const r=d(n,["responseModalities"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig","responseModalities"],r);const a=d(n,["temperature"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","temperature"],a);const c=d(n,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const f=d(n,["topK"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","topK"],f);const p=d(n,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=d(n,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=d(n,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=d(n,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],vd(b));const S=d(n,["thinkingConfig"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","thinkingConfig"],S);const v=d(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],v);const E=d(n,["systemInstruction"]);e!==void 0&&E!=null&&y(e,["setup","systemInstruction"],D5(tn(E)));const C=d(n,["tools"]);if(e!==void 0&&C!=null){let M=ls(C);Array.isArray(M)&&(M=M.map(L=>q5(is(L)))),y(e,["setup","tools"],M)}const N=d(n,["sessionResumption"]);e!==void 0&&N!=null&&y(e,["setup","sessionResumption"],j5(N));const I=d(n,["inputAudioTranscription"]);e!==void 0&&I!=null&&y(e,["setup","inputAudioTranscription"],I);const P=d(n,["outputAudioTranscription"]);e!==void 0&&P!=null&&y(e,["setup","outputAudioTranscription"],P);const D=d(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const V=d(n,["contextWindowCompression"]);e!==void 0&&V!=null&&y(e,["setup","contextWindowCompression"],V);const A=d(n,["proactivity"]);if(e!==void 0&&A!=null&&y(e,["setup","proactivity"],A),d(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function F5(n,e){const l={},o=d(e,["model"]);o!=null&&y(l,["setup","model"],at(n,o));const r=d(e,["config"]);return r!=null&&y(l,["config"],H5(r,l)),l}function z5(n){const e={},l=d(n,["mediaResolution"]);l!=null&&y(e,["mediaResolution"],l);const o=d(n,["codeExecutionResult"]);o!=null&&y(e,["codeExecutionResult"],o);const r=d(n,["executableCode"]);r!=null&&y(e,["executableCode"],r);const a=d(n,["fileData"]);a!=null&&y(e,["fileData"],G5(a));const c=d(n,["functionCall"]);c!=null&&y(e,["functionCall"],B5(c));const f=d(n,["functionResponse"]);f!=null&&y(e,["functionResponse"],f);const p=d(n,["inlineData"]);p!=null&&y(e,["inlineData"],L5(p));const h=d(n,["text"]);h!=null&&y(e,["text"],h);const g=d(n,["thought"]);g!=null&&y(e,["thought"],g);const b=d(n,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const S=d(n,["videoMetadata"]);return S!=null&&y(e,["videoMetadata"],S),e}function j5(n){const e={},l=d(n,["handle"]);if(l!=null&&y(e,["handle"],l),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q5(n){const e={},l=d(n,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(n,["googleSearchRetrieval"]);o!=null&&y(e,["googleSearchRetrieval"],o);const r=d(n,["computerUse"]);r!=null&&y(e,["computerUse"],r);const a=d(n,["fileSearch"]);a!=null&&y(e,["fileSearch"],a);const c=d(n,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=d(n,["googleMaps"]);f!=null&&y(e,["googleMaps"],O5(f));const p=d(n,["googleSearch"]);p!=null&&y(e,["googleSearch"],V5(p));const h=d(n,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y5(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(a=>`${l}.${a}`);e.push(...r)}else e.push(l)}return e.join(",")}function J5(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,l=a):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const a=Y5(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];r.length>0&&(f=r.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];a&&p.push(a),f.length>0&&p.push(...f),p.length>0?n.fieldMask=p.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class $5 extends el{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=U5(this.apiClient,e);a=ke("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=J5(f,e.config);return r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X5(n,e){const l={},o=d(n,["force"]);return e!==void 0&&o!=null&&y(e,["_query","force"],o),l}function K5(n){const e={},l=d(n,["name"]);l!=null&&y(e,["_url","name"],l);const o=d(n,["config"]);return o!=null&&X5(o,e),e}function Q5(n){const e={},l=d(n,["name"]);return l!=null&&y(e,["_url","name"],l),e}function W5(n,e){const l={},o=d(n,["pageSize"]);e!==void 0&&o!=null&&y(e,["_query","pageSize"],o);const r=d(n,["pageToken"]);return e!==void 0&&r!=null&&y(e,["_query","pageToken"],r),l}function Z5(n){const e={},l=d(n,["parent"]);l!=null&&y(e,["_url","parent"],l);const o=d(n,["config"]);return o!=null&&W5(o,e),e}function eM(n){const e={},l=d(n,["sdkHttpResponse"]);l!=null&&y(e,["sdkHttpResponse"],l);const o=d(n,["nextPageToken"]);o!=null&&y(e,["nextPageToken"],o);const r=d(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(c=>c)),y(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tM extends el{constructor(e){super(),this.apiClient=e,this.list=async l=>new co(Zi.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:l.parent,config:o.config}),await this.listInternal(l),l)}async get(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q5(e);return a=ke("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var l,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=K5(e);r=ke("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Z5(e);return a=ke("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=eM(p),g=new D2;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nM extends el{constructor(e,l=new tM(e)){super(),this.apiClient=e,this.documents=l,this.list=async(o={})=>new co(Zi.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YA(e);return a=ke("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XA(e);return a=ke("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var l,o;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$A(e);r=ke("{name}",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=t5(e);return a=ke("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=n5(p),g=new P2;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=i5(e);return a=ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=l5(p),g=new U2;return Object.assign(g,h),g})}}async importFile(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=WA(e);return a=ke("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>{const h=QA(p),g=new hd;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Cv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),l=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^l()&15>>+o/4).toString(16))};const iM=()=>Cv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const $f=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yn extends Error{}class an extends Yn{constructor(e,l,o,r){super(`${an.makeMessage(e,l,o)}`),this.status=e,this.headers=r,this.error=l}static makeMessage(e,l,o){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,l,o,r){if(!e||!r)return new ou({message:o,cause:$f(l)});const a=l;return e===400?new Nv(e,a,o,r):e===401?new Av(e,a,o,r):e===403?new Mv(e,a,o,r):e===404?new _v(e,a,o,r):e===409?new Rv(e,a,o,r):e===422?new Iv(e,a,o,r):e===429?new kv(e,a,o,r):e>=500?new Lv(e,a,o,r):new an(e,a,o,r)}}class Xf extends an{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ou extends an{constructor({message:e,cause:l}){super(void 0,void 0,e||"Connection error.",void 0),l&&(this.cause=l)}}class wv extends ou{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Nv extends an{}class Av extends an{}class Mv extends an{}class _v extends an{}class Rv extends an{}class Iv extends an{}class kv extends an{}class Lv extends an{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lM=/^[a-z][a-z0-9+.-]*:/i,oM=n=>lM.test(n);let Kf=n=>(Kf=Array.isArray,Kf(n));const sM=Kf;let aM=sM;const ey=aM;function rM(n){if(!n)return!0;for(const e in n)return!1;return!0}function uM(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const cM=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Yn(`${n} must be an integer`);if(e<0)throw new Yn(`${n} must be a positive integer`);return e},fM=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dM=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $o="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pM=()=>{var n,e,l,o,r;const a=hM();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$o,"X-Stainless-OS":ny(Deno.build.os),"X-Stainless-Arch":ty(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$o,"X-Stainless-OS":ny((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":ty((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=mM();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mM(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:l}of n){const o=l.exec(navigator.userAgent);if(o){const r=o[1]||0,a=o[2]||0,c=o[3]||0;return{browser:e,version:`${r}.${a}.${c}`}}}return null}const ty=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",ny=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let wr;const gM=()=>wr??(wr=pM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Dv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function vM(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Dv({start(){},async pull(l){const{done:o,value:r}=await e.next();o?l.close():l.enqueue(r)},async cancel(){var l;await((l=e.return)===null||l===void 0?void 0:l.call(e))}})}function Pv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const l=await e.read();return l!=null&&l.done&&e.releaseLock(),l}catch(l){throw e.releaseLock(),l}},async return(){const l=e.cancel();return e.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xM(n){var e,l;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((l=(e=n[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(e));return}const o=n.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SM=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,l=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Tf(n,e,l){return Uv(),new File(n,e??"unknown_file",l)}function bM(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const TM=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",EM=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Gv(n),CM=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function wM(n,e,l){if(Uv(),n=await n,EM(n))return n instanceof File?n:Tf([await n.arrayBuffer()],n.name);if(CM(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Tf(await Qf(r),e,l)}const o=await Qf(n);if(e||(e=bM(n)),!(l!=null&&l.type)){const r=o.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Tf(o,e,l)}async function Qf(n){var e,l,o,r,a;let c=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)c.push(n);else if(Gv(n))c.push(n instanceof Blob?n:await n.arrayBuffer());else if(TM(n))try{for(var f=!0,p=ai(n),h;h=await p.next(),e=h.done,!e;f=!0){r=h.value,f=!1;const g=r;c.push(...await Qf(g))}}catch(g){l={error:g}}finally{try{!f&&!e&&(o=p.return)&&await o.call(p)}finally{if(l)throw l.error}}else{const g=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${g?`; constructor: ${g}`:""}${NM(n)}`)}return c}function NM(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bv{constructor(e){this._client=e}}Bv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const iy=Object.freeze(Object.create(null)),AM=(n=Ov)=>(function(l,...o){if(l.length===1)return l[0];let r=!1;const a=[],c=l.reduce((g,b,S)=>{var v,E,C;/[?#]/.test(b)&&(r=!0);const N=o[S];let I=(r?encodeURIComponent:n)(""+N);return S!==o.length&&(N==null||typeof N=="object"&&N.toString===((C=Object.getPrototypeOf((E=Object.getPrototypeOf((v=N.hasOwnProperty)!==null&&v!==void 0?v:iy))!==null&&E!==void 0?E:iy))===null||C===void 0?void 0:C.toString))&&(I=N+"",a.push({start:g.length+b.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(N).slice(8,-1)} is not a valid path parameter`})),g+b+(S===o.length?"":I)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((g,b)=>g.start-b.start),a.length>0){let g=0;const b=a.reduce((S,v)=>{const E=" ".repeat(v.start-g),C="^".repeat(v.length);return g=v.start+v.length,S+E+C},"");throw new Yn(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${c}
${b}`)}return c}),Nr=AM(Ov);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vv extends Bv{create(e,l){var o;const{api_version:r=this._client.apiVersion}=e,a=Xr(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Nr`/${r}/interactions`,Object.assign(Object.assign({body:a},l),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,l={},o){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Nr`/${r}/interactions/${e}`,o)}cancel(e,l={},o){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Nr`/${r}/interactions/${e}/cancel`,o)}get(e,l={},o){var r;const a=l??{},{api_version:c=this._client.apiVersion}=a,f=Xr(a,["api_version"]);return this._client.get(Nr`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},o),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Vv._key=Object.freeze(["interactions"]);class Hv extends Vv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(n){let e=0;for(const r of n)e+=r.length;const l=new Uint8Array(e);let o=0;for(const r of n)l.set(r,o),o+=r.length;return l}let Ar;function Sd(n){let e;return(Ar??(e=new globalThis.TextEncoder,Ar=e.encode.bind(e)))(n)}let Mr;function ly(n){let e;return(Mr??(e=new globalThis.TextDecoder,Mr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class su{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const l=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Sd(e):e;this.buffer=MM([this.buffer,l]);const o=[];let r;for(;(r=_M(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(ly(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=ly(this.buffer.subarray(0,a));o.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}su.NEWLINE_CHARS=new Set([`
`,"\r"]);su.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _M(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function RM(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kr={off:0,error:200,warn:300,info:400,debug:500},oy=(n,e,l)=>{if(n){if(uM(Kr,n))return n;on(l).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Kr))}`)}};function sa(){}function _r(n,e,l){return!e||Kr[n]>Kr[l]?sa:e[n].bind(e)}const IM={error:sa,warn:sa,info:sa,debug:sa};let sy=new WeakMap;function on(n){var e;const l=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!l)return IM;const r=sy.get(l);if(r&&r[0]===o)return r[1];const a={error:_r("error",l,o),warn:_r("warn",l,o),info:_r("info",l,o),debug:_r("debug",l,o)};return sy.set(l,[o,a]),a}const no=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,l])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qo{constructor(e,l,o){this.iterator=e,this.controller=l,this.client=o}static fromSSEResponse(e,l,o){let r=!1;const a=o?on(o):console;function c(){return si(this,arguments,function*(){var p,h,g,b;if(r)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var v=!0,E=ai(kM(e,l)),C;C=yield qe(E.next()),p=C.done,!p;v=!0){b=C.value,v=!1;const N=b;if(!S)if(N.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield qe(JSON.parse(N.data))}catch(I){throw a.error("Could not parse message into JSON:",N.data),a.error("From chunk:",N.raw),I}}}catch(N){h={error:N}}finally{try{!v&&!p&&(g=E.return)&&(yield qe(g.call(E)))}finally{if(h)throw h.error}}S=!0}catch(N){if(Jf(N))return yield qe(void 0);throw N}finally{S||l.abort()}})}return new Qo(c,l,o)}static fromReadableStream(e,l,o){let r=!1;function a(){return si(this,arguments,function*(){var p,h,g,b;const S=new su,v=Pv(e);try{for(var E=!0,C=ai(v),N;N=yield qe(C.next()),p=N.done,!p;E=!0){b=N.value,E=!1;const I=b;for(const P of S.decode(I))yield yield qe(P)}}catch(I){h={error:I}}finally{try{!E&&!p&&(g=C.return)&&(yield qe(g.call(C)))}finally{if(h)throw h.error}}for(const I of S.flush())yield yield qe(I)})}function c(){return si(this,arguments,function*(){var p,h,g,b;if(r)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var v=!0,E=ai(a()),C;C=yield qe(E.next()),p=C.done,!p;v=!0){b=C.value,v=!1;const N=b;S||N&&(yield yield qe(JSON.parse(N)))}}catch(N){h={error:N}}finally{try{!v&&!p&&(g=E.return)&&(yield qe(g.call(E)))}finally{if(h)throw h.error}}S=!0}catch(N){if(Jf(N))return yield qe(void 0);throw N}finally{S||l.abort()}})}return new Qo(c,l,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],l=[],o=this.iterator(),r=a=>({next:()=>{if(a.length===0){const c=o.next();e.push(c),l.push(c)}return a.shift()}});return[new Qo(()=>r(e),this.controller,this.client),new Qo(()=>r(l),this.controller,this.client)]}toReadableStream(){const e=this;let l;return Dv({async start(){l=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:a}=await l.next();if(a)return o.close();const c=Sd(JSON.stringify(r)+`
`);o.enqueue(c)}catch(r){o.error(r)}},async cancel(){var o;await((o=l.return)===null||o===void 0?void 0:o.call(l))}})}}function kM(n,e){return si(this,arguments,function*(){var o,r,a,c;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yn("Attempted to iterate over a response with no body");const f=new DM,p=new su,h=Pv(n.body);try{for(var g=!0,b=ai(LM(h)),S;S=yield qe(b.next()),o=S.done,!o;g=!0){c=S.value,g=!1;const v=c;for(const E of p.decode(v)){const C=f.decode(E);C&&(yield yield qe(C))}}}catch(v){r={error:v}}finally{try{!g&&!o&&(a=b.return)&&(yield qe(a.call(b)))}finally{if(r)throw r.error}}for(const v of p.flush()){const E=f.decode(v);E&&(yield yield qe(E))}})}function LM(n){return si(this,arguments,function*(){var l,o,r,a;let c=new Uint8Array;try{for(var f=!0,p=ai(n),h;h=yield qe(p.next()),l=h.done,!l;f=!0){a=h.value,f=!1;const g=a;if(g==null)continue;const b=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?Sd(g):g;let S=new Uint8Array(c.length+b.length);S.set(c),S.set(b,c.length),c=S;let v;for(;(v=RM(c))!==-1;)yield yield qe(c.slice(0,v)),c=c.slice(v)}}catch(g){o={error:g}}finally{try{!f&&!l&&(r=p.return)&&(yield qe(r.call(p)))}finally{if(o)throw o.error}}c.length>0&&(yield yield qe(c))})}class DM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[l,o,r]=PM(e,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function PM(n,e){const l=n.indexOf(e);return l!==-1?[n.substring(0,l),e,n.substring(l+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UM(n,e){const{response:l,requestLogID:o,retryOfRequestLogID:r,startTime:a}=e,c=await(async()=>{var f;if(e.options.stream)return on(n).debug("response",l.status,l.url,l.headers,l.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(l,e.controller,n):Qo.fromSSEResponse(l,e.controller,n);if(l.status===204)return null;if(e.options.__binaryResponse)return l;const p=l.headers.get("content-type"),h=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return on(n).debug(`[${o}] response parsed`,no({retryOfRequestLogID:r,url:l.url,status:l.status,body:c,durationMs:Date.now()-a})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bd extends Promise{constructor(e,l,o=UM){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new bd(this.client,this.responsePromise,async(l,o)=>e(await this.parseResponse(l,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,l){return this.parse().then(e,l)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fv=Symbol("brand.privateNullableHeaders");function*GM(n){if(!n)return;if(Fv in n){const{values:o,nulls:r}=n;yield*o.entries();for(const a of r)yield[a,null];return}let e=!1,l;n instanceof Headers?l=n.entries():ey(n)?l=n:(e=!0,l=Object.entries(n??{}));for(let o of l){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=ey(o[1])?o[1]:[o[1]];let c=!1;for(const f of a)f!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,f])}}const Ef=n=>{const e=new Headers,l=new Set;for(const o of n){const r=new Set;for(const[a,c]of GM(o)){const f=a.toLowerCase();r.has(f)||(e.delete(a),r.add(f)),c===null?(e.delete(a),l.add(f)):(e.append(a,c),l.delete(f))}}return{[Fv]:!0,values:e,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cf=n=>{var e,l,o,r,a,c;if(typeof globalThis.process<"u")return(o=(l=(e=u2)===null||e===void 0?void 0:e[n])===null||l===void 0?void 0:l.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zv;class au{constructor(e){var l,o,r,a,c,f,p,h=e===void 0?{}:e,{baseURL:g=Cf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:b=(l=Cf("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=h,v=Xr(h,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:b,apiVersion:S},v),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(o=E.timeout)!==null&&o!==void 0?o:au.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const C="warn";this.logLevel=C,this.logLevel=(c=(a=oy(E.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:oy(Cf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:C,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:yM(),this.encoder=SM,this._options=E,this.apiKey=b,this.apiVersion=S}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:l}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Ef([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([l,o])=>typeof o<"u").map(([l,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(l)}=`;throw new Yn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$o}`}defaultIdempotencyKey(){return`stainless-node-retry-${iM()}`}makeStatusError(e,l,o,r){return an.generate(e,l,o,r)}buildURL(e,l,o){const r=!this.baseURLOverridden()&&o||this.baseURL,a=oM(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return rM(c)||(l=Object.assign(Object.assign({},c),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(a.search=this.stringifyQuery(l)),a.toString()}async prepareOptions(e){}async prepareRequest(e,{url:l,options:o}){}get(e,l){return this.methodRequest("get",e,l)}post(e,l){return this.methodRequest("post",e,l)}patch(e,l){return this.methodRequest("patch",e,l)}put(e,l){return this.methodRequest("put",e,l)}delete(e,l){return this.methodRequest("delete",e,l)}methodRequest(e,l,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:l},r)))}request(e,l=null){return new bd(this,this.makeRequest(e,l,void 0))}async makeRequest(e,l,o){var r,a,c;const f=await e,p=(r=f.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=p),await this.prepareOptions(f);const{req:h,url:g,timeout:b}=await this.buildRequest(f,{retryCount:p-l});await this.prepareRequest(h,{url:g,options:f});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(on(this).debug(`[${S}] sending request`,no({retryOfRequestLogID:o,method:f.method,url:g,options:f,headers:h.headers})),!((a=f.signal)===null||a===void 0)&&a.aborted)throw new Xf;const C=new AbortController,N=await this.fetchWithTimeout(g,h,b,C).catch($f),I=Date.now();if(N instanceof globalThis.Error){const D=`retrying, ${l} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Xf;const V=Jf(N)||/timed? ?out/i.test(String(N)+("cause"in N?String(N.cause):""));if(l)return on(this).info(`[${S}] connection ${V?"timed out":"failed"} - ${D}`),on(this).debug(`[${S}] connection ${V?"timed out":"failed"} (${D})`,no({retryOfRequestLogID:o,url:g,durationMs:I-E,message:N.message})),this.retryRequest(f,l,o??S);throw on(this).info(`[${S}] connection ${V?"timed out":"failed"} - error; no more retries left`),on(this).debug(`[${S}] connection ${V?"timed out":"failed"} (error; no more retries left)`,no({retryOfRequestLogID:o,url:g,durationMs:I-E,message:N.message})),V?new wv:new ou({cause:N})}const P=`[${S}${v}] ${h.method} ${g} ${N.ok?"succeeded":"failed"} with status ${N.status} in ${I-E}ms`;if(!N.ok){const D=await this.shouldRetry(N);if(l&&D){const U=`retrying, ${l} attempts remaining`;return await xM(N.body),on(this).info(`${P} - ${U}`),on(this).debug(`[${S}] response error (${U})`,no({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,durationMs:I-E})),this.retryRequest(f,l,o??S,N.headers)}const V=D?"error; no more retries left":"error; not retryable";on(this).info(`${P} - ${V}`);const A=await N.text().catch(U=>$f(U).message),M=fM(A),L=M?void 0:A;throw on(this).debug(`[${S}] response error (${V})`,no({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,message:L,durationMs:Date.now()-E})),this.makeStatusError(N.status,M,L,N.headers)}return on(this).info(P),on(this).debug(`[${S}] response start`,no({retryOfRequestLogID:o,url:N.url,status:N.status,headers:N.headers,durationMs:I-E})),{response:N,options:f,controller:C,requestLogID:S,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,l,o,r){const a=l||{},{signal:c,method:f}=a,p=Xr(a,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),o),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:r.signal},g?{duplex:"half"}:{}),{method:"GET"}),p);f&&(b.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(h)}}async shouldRetry(e){const l=e.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,l,o,r){var a;let c;const f=r==null?void 0:r.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(c=h)}const p=r==null?void 0:r.get("retry-after");if(p&&!c){const h=parseFloat(p);Number.isNaN(h)?c=Date.parse(p)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(l,h)}return await dM(c),this.makeRequest(e,l-1,o)}calculateDefaultRetryTimeoutMillis(e,l){const a=l-e,c=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:l=0}={}){var o,r,a;const c=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:g}=c,b=this.buildURL(p,h,g);"timeout"in c&&cM("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:v}=this.buildBody({options:c}),E=await this.buildHeaders({options:e,method:f,bodyHeaders:S,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:E},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=c.fetchOptions)!==null&&a!==void 0?a:{}),url:b,timeout:c.timeout}}async buildHeaders({options:e,method:l,bodyHeaders:o,retryCount:r}){let a={};this.idempotencyHeader&&l!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const c=Ef([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),gM()),await this.authHeaders(e),this._options.defaultHeaders,o,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:l}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Ef([l]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:vM(e)}:this.encoder({body:e,headers:o})}}au.DEFAULT_TIMEOUT=6e4;class zt extends au{constructor(){super(...arguments),this.interactions=new Hv(this)}}zv=zt;zt.GeminiNextGenAPIClient=zv;zt.GeminiNextGenAPIClientError=Yn;zt.APIError=an;zt.APIConnectionError=ou;zt.APIConnectionTimeoutError=wv;zt.APIUserAbortError=Xf;zt.NotFoundError=_v;zt.ConflictError=Rv;zt.RateLimitError=kv;zt.BadRequestError=Nv;zt.AuthenticationError=Av;zt.InternalServerError=Lv;zt.PermissionDeniedError=Mv;zt.UnprocessableEntityError=Iv;zt.toFile=wM;zt.Interactions=Hv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(n,e){const l={},o=d(n,["name"]);return o!=null&&y(l,["_url","name"],o),l}function OM(n,e){const l={},o=d(n,["name"]);return o!=null&&y(l,["_url","name"],o),l}function VM(n,e){const l={},o=d(n,["sdkHttpResponse"]);return o!=null&&y(l,["sdkHttpResponse"],o),l}function HM(n,e){const l={},o=d(n,["sdkHttpResponse"]);return o!=null&&y(l,["sdkHttpResponse"],o),l}function FM(n,e,l){const o={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&y(e,["displayName"],r),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=d(n,["epochCount"]);e!==void 0&&a!=null&&y(e,["tuningTask","hyperparameters","epochCount"],a);const c=d(n,["learningRateMultiplier"]);if(c!=null&&y(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=d(n,["batchSize"]);e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","batchSize"],f);const p=d(n,["learningRate"]);if(e!==void 0&&p!=null&&y(e,["tuningTask","hyperparameters","learningRate"],p),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function zM(n,e,l){const o={};let r=d(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const v=d(n,["validationDataset"]);e!==void 0&&v!=null&&y(e,["supervisedTuningSpec"],ay(v))}else if(r==="PREFERENCE_TUNING"){const v=d(n,["validationDataset"]);e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec"],ay(v))}const a=d(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&y(e,["tunedModelDisplayName"],a);const c=d(n,["description"]);e!==void 0&&c!=null&&y(e,["description"],c);let f=d(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=d(n,["epochCount"]);e!==void 0&&v!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(f==="PREFERENCE_TUNING"){const v=d(n,["epochCount"]);e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let p=d(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const v=d(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(p==="PREFERENCE_TUNING"){const v=d(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let h=d(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const v=d(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(h==="PREFERENCE_TUNING"){const v=d(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let g=d(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const v=d(n,["adapterSize"]);e!==void 0&&v!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(g==="PREFERENCE_TUNING"){const v=d(n,["adapterSize"]);e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=d(n,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const S=d(n,["beta"]);return e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function jM(n,e){const l={},o=d(n,["baseModel"]);o!=null&&y(l,["baseModel"],o);const r=d(n,["preTunedModel"]);r!=null&&y(l,["preTunedModel"],r);const a=d(n,["trainingDataset"]);a!=null&&t_(a);const c=d(n,["config"]);return c!=null&&FM(c,l),l}function qM(n,e){const l={},o=d(n,["baseModel"]);o!=null&&y(l,["baseModel"],o);const r=d(n,["preTunedModel"]);r!=null&&y(l,["preTunedModel"],r);const a=d(n,["trainingDataset"]);a!=null&&n_(a,l,e);const c=d(n,["config"]);return c!=null&&zM(c,l,e),l}function YM(n,e){const l={},o=d(n,["name"]);return o!=null&&y(l,["_url","name"],o),l}function JM(n,e){const l={},o=d(n,["name"]);return o!=null&&y(l,["_url","name"],o),l}function $M(n,e,l){const o={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=d(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),o}function XM(n,e,l){const o={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const c=d(n,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),o}function KM(n,e){const l={},o=d(n,["config"]);return o!=null&&$M(o,l),l}function QM(n,e){const l={},o=d(n,["config"]);return o!=null&&XM(o,l),l}function WM(n,e){const l={},o=d(n,["sdkHttpResponse"]);o!=null&&y(l,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&y(l,["nextPageToken"],r);const a=d(n,["tunedModels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>jv(f))),y(l,["tuningJobs"],c)}return l}function ZM(n,e){const l={},o=d(n,["sdkHttpResponse"]);o!=null&&y(l,["sdkHttpResponse"],o);const r=d(n,["nextPageToken"]);r!=null&&y(l,["nextPageToken"],r);const a=d(n,["tuningJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Wf(f))),y(l,["tuningJobs"],c)}return l}function e_(n,e){const l={},o=d(n,["name"]);o!=null&&y(l,["model"],o);const r=d(n,["name"]);return r!=null&&y(l,["endpoint"],r),l}function t_(n,e){const l={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),y(l,["examples","examples"],r)}return l}function n_(n,e,l){const o={};let r=d(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let a=d(l,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function jv(n,e){const l={},o=d(n,["sdkHttpResponse"]);o!=null&&y(l,["sdkHttpResponse"],o);const r=d(n,["name"]);r!=null&&y(l,["name"],r);const a=d(n,["state"]);a!=null&&y(l,["state"],lv(a));const c=d(n,["createTime"]);c!=null&&y(l,["createTime"],c);const f=d(n,["tuningTask","startTime"]);f!=null&&y(l,["startTime"],f);const p=d(n,["tuningTask","completeTime"]);p!=null&&y(l,["endTime"],p);const h=d(n,["updateTime"]);h!=null&&y(l,["updateTime"],h);const g=d(n,["description"]);g!=null&&y(l,["description"],g);const b=d(n,["baseModel"]);b!=null&&y(l,["baseModel"],b);const S=d(n,["_self"]);return S!=null&&y(l,["tunedModel"],e_(S)),l}function Wf(n,e){const l={},o=d(n,["sdkHttpResponse"]);o!=null&&y(l,["sdkHttpResponse"],o);const r=d(n,["name"]);r!=null&&y(l,["name"],r);const a=d(n,["state"]);a!=null&&y(l,["state"],lv(a));const c=d(n,["createTime"]);c!=null&&y(l,["createTime"],c);const f=d(n,["startTime"]);f!=null&&y(l,["startTime"],f);const p=d(n,["endTime"]);p!=null&&y(l,["endTime"],p);const h=d(n,["updateTime"]);h!=null&&y(l,["updateTime"],h);const g=d(n,["error"]);g!=null&&y(l,["error"],g);const b=d(n,["description"]);b!=null&&y(l,["description"],b);const S=d(n,["baseModel"]);S!=null&&y(l,["baseModel"],S);const v=d(n,["tunedModel"]);v!=null&&y(l,["tunedModel"],v);const E=d(n,["preTunedModel"]);E!=null&&y(l,["preTunedModel"],E);const C=d(n,["supervisedTuningSpec"]);C!=null&&y(l,["supervisedTuningSpec"],C);const N=d(n,["preferenceOptimizationSpec"]);N!=null&&y(l,["preferenceOptimizationSpec"],N);const I=d(n,["tuningDataStats"]);I!=null&&y(l,["tuningDataStats"],I);const P=d(n,["encryptionSpec"]);P!=null&&y(l,["encryptionSpec"],P);const D=d(n,["partnerModelTuningSpec"]);D!=null&&y(l,["partnerModelTuningSpec"],D);const V=d(n,["customBaseModel"]);V!=null&&y(l,["customBaseModel"],V);const A=d(n,["experiment"]);A!=null&&y(l,["experiment"],A);const M=d(n,["labels"]);M!=null&&y(l,["labels"],M);const L=d(n,["outputUri"]);L!=null&&y(l,["outputUri"],L);const R=d(n,["pipelineJob"]);R!=null&&y(l,["pipelineJob"],R);const U=d(n,["serviceAccount"]);U!=null&&y(l,["serviceAccount"],U);const k=d(n,["tunedModelDisplayName"]);k!=null&&y(l,["tunedModelDisplayName"],k);const q=d(n,["veoTuningSpec"]);return q!=null&&y(l,["veoTuningSpec"],q),l}function i_(n,e){const l={},o=d(n,["sdkHttpResponse"]);o!=null&&y(l,["sdkHttpResponse"],o);const r=d(n,["name"]);r!=null&&y(l,["name"],r);const a=d(n,["metadata"]);a!=null&&y(l,["metadata"],a);const c=d(n,["done"]);c!=null&&y(l,["done"],c);const f=d(n,["error"]);return f!=null&&y(l,["error"],f),l}function ay(n,e){const l={},o=d(n,["gcsUri"]);o!=null&&y(l,["validationDatasetUri"],o);const r=d(n,["vertexDatasetResource"]);return r!=null&&y(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l_ extends el{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new co(Zi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var o;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((o=l.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},l),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),a=await this.tuneMldevInternal(r);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:Vf.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=JM(e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>Wf(g))}else{const h=YM(e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>jv(g))}}async listInternal(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=QM(e);return f=ke("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=ZM(g),S=new Lg;return Object.assign(S,b),S})}else{const h=KM(e);return f=ke("tunedModels",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=WM(g),S=new Lg;return Object.assign(S,b),S})}}async cancel(e){var l,o,r,a;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=OM(e);return f=ke("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=HM(g),S=new Dg;return Object.assign(S,b),S})}else{const h=BM(e);return f=ke("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(b=>{const S=b;return S.sdkHttpResponse={headers:g.headers},S})),c.then(g=>{const b=VM(g),S=new Dg;return Object.assign(S,b),S})}}async tuneInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI()){const f=qM(e,e);return a=ke("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>Wf(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let r,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jM(e);return a=ke("tunedModels",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>i_(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s_=1024*1024*8,a_=3,r_=1e3,u_=2,Qr="x-goog-upload-status";async function c_(n,e,l){var o;const r=await qv(n,e,l),a=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function f_(n,e,l){var o;const r=await qv(n,e,l),a=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Wy(a),f=new pd;return Object.assign(f,c),f}async function qv(n,e,l){var o,r;let a=0,c=0,f=new Hf(new Response),p="upload";for(a=n.size;c<a;){const h=Math.min(s_,a-c),g=n.slice(c,c+h);c+h>=a&&(p+=", finalize");let b=0,S=r_;for(;b<a_&&(f=await l.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[Qr]));)b++,await h_(S),S=S*u_;if(c+=h,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r[Qr])!=="active")break;if(a<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function d_(n){return{size:n.size,type:n.type}}function h_(n){return new Promise(e=>setTimeout(e,n))}class p_{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c_(e,l,o)}async uploadToFileSearchStore(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await f_(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await d_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_{create(e,l,o){return new g_(e,l,o)}}class g_{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ry="x-goog-api-key";class y_{constructor(e){this.apiKey=e}async addAuthHeaders(e,l){if(e.get(ry)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ry,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_="gl-node/";class Yv{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=l.interactions,this._interactions}constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=h2(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new y_(this.apiKey);this.apiClient=new d5({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:v_+"web",uploader:new p_,downloader:new o_}),this.models=new I5(this.apiClient),this.live=new w5(this.apiClient,r,new m_),this.batches=new FC(this.apiClient),this.chats=new Ew(this.models,this.apiClient),this.caches=new Sw(this.apiClient),this.files=new Lw(this.apiClient),this.operations=new k5(this.apiClient),this.authTokens=new $5(this.apiClient),this.tunings=new l_(this.apiClient),this.fileSearchStores=new nM(this.apiClient)}}const x_="PLACEHOLDER_API_KEY",S_=new Yv({apiKey:x_});function uy(n){var r;const[e,l]=n.split(","),o=(r=e.match(/:(.*?);/))==null?void 0:r[1];if(!o||!l)throw new Error("Invalid data URL format");return{inlineData:{mimeType:o,data:l}}}const b_=async(n,e)=>{var a;const l=uy(n),o=uy(e),r={text:`You are a fashion AI expert. Your task is to perform a virtual try-on.
        - The first image contains a person.
        - The second image contains an article of clothing.
        Generate a new, photorealistic image where the person from the first image is wearing the clothing from the second image.
        The clothing must be realistically adjusted to fit the person's body and pose. Preserve the original background, head, and limbs from the first image.
        The output must be only the generated image. Do not output any text.`};try{const c=await S_.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:[l,o,r]},config:{responseModalities:[uo.IMAGE,uo.TEXT]}});for(const p of c.candidates[0].content.parts)if(p.inlineData){const h=p.inlineData.data;return`data:${p.inlineData.mimeType};base64,${h}`}const f=(a=c.text)==null?void 0:a.trim();throw f?new Error(`The model returned an unexpected text response: "${f}"`):new Error("The AI model did not return an image. Please try again with different images.")}catch(c){throw console.error("Error calling Gemini API:",c),c instanceof Error?new Error(`Gemini API Error: ${c.message}`):new Error("An unknown error occurred while communicating with the Gemini API.")}},T_=()=>{const[n,e]=B.useState({userImage:null,clothingImage:null,generatedImage:null,isLoading:!1,error:null}),l=B.useCallback(async()=>{if(!n.userImage||!n.clothingImage){e(a=>({...a,error:"Please upload both a person and a clothing image."}));return}e(a=>({...a,isLoading:!0,error:null,generatedImage:null}));try{const a=await b_(n.userImage,n.clothingImage);e(c=>({...c,generatedImage:a,isLoading:!1}))}catch(a){const c=a instanceof Error?a.message:"An unknown error occurred.";e(f=>({...f,error:`Failed to generate image. ${c}`,isLoading:!1})),console.error(a)}},[n.userImage,n.clothingImage]),o=()=>{e({userImage:null,clothingImage:null,generatedImage:null,isLoading:!1,error:null})},r=n.userImage&&n.clothingImage&&!n.isLoading;return m.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[m.jsx(i2,{}),m.jsxs("main",{className:"flex-grow container mx-auto p-4 md:p-8",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx(_m,{title:"Step 1: Your Photo",subtitle:"Upload a full-body photo of yourself.",onImageUpload:a=>e(c=>({...c,userImage:a})),image:n.userImage,disabled:n.isLoading}),m.jsx(_m,{title:"Step 2: Clothing Item",subtitle:"Upload a clear photo of the clothing.",onImageUpload:a=>e(c=>({...c,clothingImage:a})),image:n.clothingImage,disabled:n.isLoading||!n.userImage}),m.jsx(r2,{isLoading:n.isLoading,generatedImage:n.generatedImage,error:n.error})]}),m.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[m.jsxs("button",{onClick:l,disabled:!r,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-4 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 disabled:bg-indigo-300 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 3.104l-2.28 2.28-1.06-1.06a1.5 1.5 0 00-2.12 0l-.88.88a1.5 1.5 0 000 2.12l1.06 1.06L2.25 9.75l1.06 1.06-2.28 2.28a1.5 1.5 0 000 2.12l.88.88a1.5 1.5 0 002.12 0l2.28-2.28 1.06 1.06a1.5 1.5 0 002.12 0l.88-.88a1.5 1.5 0 000-2.12l-1.06-1.06 2.28-2.28a1.5 1.5 0 000-2.12l-.88-.88a1.5 1.5 0 00-2.12 0L9.75 5.384l-1.06-1.06a1.5 1.5 0 00-2.12 0z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.375 12.735l-1.06-1.06 2.28-2.28a1.5 1.5 0 000-2.12l-.88-.88a1.5 1.5 0 00-2.12 0l-2.28 2.28-1.06-1.06a1.5 1.5 0 00-2.12 0l-.88.88a1.5 1.5 0 000 2.12l1.06 1.06-2.28 2.28a1.5 1.5 0 000 2.12l.88.88a1.5 1.5 0 002.12 0l2.28-2.28 1.06 1.06a1.5 1.5 0 002.12 0l.88-.88a1.5 1.5 0 000-2.12z"})]}),"Virtual Try-On"]}),(n.userImage||n.clothingImage)&&m.jsx("button",{onClick:o,className:"w-full sm:w-auto px-6 py-3 font-medium text-slate-600 dark:text-slate-300 bg-transparent rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors",children:"Start Over"})]})]}),m.jsx("footer",{className:"text-center p-4 text-sm text-slate-500",children:"Powered by Gemini."})]})},E_=()=>m.jsx(T_,{}),Td=new Yv({apiKey:"PLACEHOLDER_API_KEY"}),wf=new Map,Nf=new Map,Rr=new Map,Ed=n=>{var e,l,o;return((e=n.message)==null?void 0:e.includes("429"))||n.status===429||n.code===429||((l=n.message)==null?void 0:l.toLowerCase().includes("quota"))||((o=n.message)==null?void 0:o.toLowerCase().includes("resource_exhausted"))};async function Cd(n,e=3,l=1e3){var r;let o;for(let a=0;a<e;a++)try{return await n()}catch(c){o=c;const f=Ed(c),p=c.status===503||c.status===500||((r=c.message)==null?void 0:r.includes("Rpc failed"));if((f||p)&&a<e-1){const h=l*Math.pow(2,a);await new Promise(g=>setTimeout(g,h));continue}throw c}throw o}const cy=async n=>{const e=n.split(/[\n\r]+/),l=[],o=(r,a)=>({id:`word-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,term:r.trim(),definition:a.trim(),exampleSentence:"",exampleTranslation:"",tags:["Direct Input"],masteryLevel:0,incorrectCount:0,userNote:"",isFavorite:!1});return e.forEach(r=>{if(!r.trim())return;const a=r.split("	").map(g=>g.trim()).filter(g=>g!=="");if(a.length>=2&&a.length%2===0){for(let g=0;g<a.length;g+=2)l.push(o(a[g],a[g+1]));return}const c=r.split(/\s{2,}/).map(g=>g.trim()).filter(g=>g!=="");if(c.length>=2&&c.length%2===0){for(let g=0;g<c.length;g+=2)l.push(o(c[g],c[g+1]));return}let f="",p="";const h=r.search(/[-]/);if(h>0)f=r.substring(0,h).trim(),p=r.substring(h).trim();else{const g=r.match(/[:=-]/);if(g){const b=r.split(g[0]);f=b[0],p=b.slice(1).join(g[0])}else if(r.includes("	")){const b=r.split("	");f=b[0],p=b.slice(1).join(", ")}else{const b=r.indexOf(" ");b>0?(f=r.substring(0,b),p=r.substring(b+1)):(f=r,p="???")}}f&&p&&l.push(o(f,p))}),l},C_=async(n,e,l)=>{const o=`${n}|${l}`;if(Nf.has(o))return Nf.get(o);try{const a=(await Cd(()=>Td.models.generateContent({model:"gemini-2.5-flash",contents:`
        You are a strict but reasonable language teacher grading a vocabulary quiz.
        
        Task: Assess if the [User Answer] is correct for the given [Word] and [Reference Definition].

        Word: "${n}"
        Reference Definition: "${e}"
        User Answer: "${l}"

        Grading Rules:
        1. **Strict Homonym Check**: 
           - Distinctly differentiate words with similar spellings or sounds but different meanings.
        2. **Partial Credit for Lists**: 
           - If the User Answer contains multiple meanings, mark it **CORRECT** if **AT LEAST ONE** meaning is valid.
        3. **Polysemy**: Accept valid alternate meanings.
        4. **Grammar**: Ignore minor typos.
        
        Output:
        - isCorrect: boolean
        - explanation: A short, helpful sentence in Korean explaining the judgment. 

        Respond strictly in JSON.
      `,config:{responseMimeType:"application/json",responseSchema:{type:gn.OBJECT,properties:{isCorrect:{type:gn.BOOLEAN},explanation:{type:gn.STRING}}}}}))).text;if(!a)throw new Error("No response text from AI");const c=JSON.parse(a),f={isCorrect:c.isCorrect,explanation:c.explanation||(c.isCorrect?".":" .")};return Nf.set(o,f),f}catch(r){return Ed(r)?{isCorrect:!1,explanation:"AI     ."}:(console.warn("AI Validation Warning:",r.message),{isCorrect:!1,explanation:"AI     ."})}},Hr=async n=>{const e=n.trim().toLowerCase();if(wf.has(e))return wf.get(e);if(Rr.has(e))return Rr.get(e);const l=(async()=>{var o,r,a,c,f,p;try{const g=(p=(f=(c=(a=(r=(o=(await Cd(()=>Td.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:{parts:[{text:n}]},config:{responseModalities:[uo.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}}))).candidates)==null?void 0:o[0])==null?void 0:r.content)==null?void 0:a.parts)==null?void 0:c[0])==null?void 0:f.inlineData)==null?void 0:p.data;if(!g)return null;const b=atob(g),S=b.length,v=new Uint8Array(S);for(let E=0;E<S;E++)v[E]=b.charCodeAt(E);return wf.set(e,v),v}catch(h){return console.warn(`TTS Generation Failed (using fallback): ${h.message||"Unknown Error"}`),null}finally{Rr.delete(e)}})();return Rr.set(e,l),l},w_=async(n,e)=>{try{const o=(await Cd(()=>Td.models.generateContent({model:"gemini-2.5-flash",contents:`
                Create a simple, modern English example sentence for the word "${n}" (meaning: ${e}).
                The sentence should be relevant to daily life or middle school context.
                Also provide a Korean translation.
                
                Respond in JSON:
                {
                    "sentence": "English sentence",
                    "translation": "Korean translation"
                }
            `,config:{responseMimeType:"application/json",responseSchema:{type:gn.OBJECT,properties:{sentence:{type:gn.STRING},translation:{type:gn.STRING}}}}}))).text;if(!o)return{sentence:"",translation:""};const r=JSON.parse(o);return{sentence:r.sentence,translation:r.translation}}catch(l){return Ed(l)?{sentence:"",translation:""}:(console.warn("Example generation failed (silent fallback):",l.message),{sentence:"",translation:""})}},N_=({words:n,allWords:e=[],quizMode:l="TYPING",timeLimit:o,onSave:r,onRetry:a,onExit:c,onToggleFavorite:f,hasNextBatch:p,onNextBatch:h})=>{const[g,b]=B.useState(0),[S,v]=B.useState("INPUT"),[E,C]=B.useState(""),[N,I]=B.useState(!1),[P,D]=B.useState(o),[V,A]=B.useState([]),[M,L]=B.useState([]),[R,U]=B.useState({displayedDefinition:"",isTrue:!0}),[k,q]=B.useState(!1),O=B.useRef(null),j=B.useRef(null),K=B.useRef(!1),Q=B.useRef([]);B.useEffect(()=>(j.current||(j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),j.current.state==="suspended"&&j.current.resume(),()=>{var ce;(ce=j.current)==null||ce.close(),j.current=null}),[]);const Y=()=>{const ce=[];for(let he=g;he<n.length;he++)ce.push({word:n[he],userInput:"  (Time Over)",isCorrect:!1,isAiCorrect:!1,originalVerdict:!1,aiFeedback:"  ."});A(he=>[...he,...ce]),v("GRADING")};B.useEffect(()=>{if(P===void 0||S!=="INPUT")return;const ce=setInterval(()=>{D(he=>he!==void 0&&he<=1?(clearInterval(ce),Y(),0):he!==void 0?he-1:void 0)},1e3);return()=>clearInterval(ce)},[P,S]),B.useEffect(()=>{const ce=g+1;ce<n.length&&Hr(n[ce].term),g<n.length&&Hr(n[g].term)},[g,n]);const te=B.useCallback(ce=>{const he=j.current;if(!he)return;const ge=he.createOscillator(),Ne=he.createGain();ge.connect(Ne),Ne.connect(he.destination);const Ue=he.currentTime;ce==="correct"?(ge.type="sine",ge.frequency.setValueAtTime(523.25,Ue),ge.frequency.exponentialRampToValueAtTime(1046.5,Ue+.1),Ne.gain.setValueAtTime(.1,Ue),Ne.gain.exponentialRampToValueAtTime(.01,Ue+.3),ge.start(),ge.stop(Ue+.3)):ce==="incorrect"?(ge.type="triangle",ge.frequency.setValueAtTime(150,Ue),ge.frequency.linearRampToValueAtTime(100,Ue+.2),Ne.gain.setValueAtTime(.1,Ue),Ne.gain.linearRampToValueAtTime(.01,Ue+.3),ge.start(),ge.stop(Ue+.3)):(ge.type="sine",ge.frequency.setValueAtTime(800,Ue),Ne.gain.setValueAtTime(.05,Ue),Ne.gain.exponentialRampToValueAtTime(.001,Ue+.1),ge.start(),ge.stop(Ue+.1))},[]),oe=async(ce,he=!1)=>{if(!(N&&!he)){he||I(!0);try{const ge=await Hr(ce);if(he)return;if(ge&&j.current){const Ne=j.current;Ne.state==="suspended"&&await Ne.resume();const Ue=1,_e=new Int16Array(ge.buffer),Se=_e.length,Re=Ne.createBuffer(Ue,Se,24e3),Le=Re.getChannelData(0);for(let Pe=0;Pe<Se;Pe++)Le[Pe]=_e[Pe]/32768;const Oe=Ne.createBufferSource();Oe.buffer=Re,Oe.connect(Ne.destination),Oe.onended=()=>I(!1),Oe.start()}else I(!1)}catch(ge){console.error("Audio playback error",ge),I(!1)}}},xe=n[g];B.useEffect(()=>{if(S!=="INPUT")return;const ce=setTimeout(()=>{var ge;K.current=!1,l==="TYPING"&&((ge=O.current)==null||ge.focus())},100),he=e.length>0?e:n;if(l==="MULTIPLE_CHOICE"){const ge=xe.definition,_e=he.filter(Re=>Re.definition!==ge).map(Re=>Re.definition).sort(()=>.5-Math.random()).slice(0,3),Se=[ge,..._e].sort(()=>.5-Math.random());L(Se)}if(l==="OX")if(Math.random()>.5||he.length<2)U({displayedDefinition:xe.definition,isTrue:!0});else{const Ne=he.filter(_e=>_e.definition!==xe.definition),Ue=Ne[Math.floor(Math.random()*Ne.length)];U({displayedDefinition:Ue.definition,isTrue:!1})}return q(!1),C(""),()=>clearTimeout(ce)},[g,l,S,xe,n,e]);const ue=ce=>{const he=["","","","","","","","","","","","","","","","","","",""];let ge="";for(let Ne=0;Ne<ce.length;Ne++){const Ue=ce.charCodeAt(Ne)-44032;Ue>-1&&Ue<11172?ge+=he[Math.floor(Ue/588)]:ge+=ce.charAt(Ne)}return ge},F=async()=>{const ce=await Promise.all(Q.current),he=V.map((ge,Ne)=>{if(ge.isCorrect&&ge.originalVerdict||ge.userInput.includes("Time Over"))return ge;if(l==="TYPING"&&!ge.isCorrect){const Ue=ce[Ne];if(Ue)return{...ge,isCorrect:Ue.isCorrect,isAiCorrect:Ue.isCorrect,aiFeedback:Ue.explanation}}return ge});A(he),v("SUMMARY")};B.useEffect(()=>{S==="GRADING"&&F()},[S]);const J=(ce,he)=>{if(!he)return!1;const ge=Le=>Le.replace(/\s+/g,"").toLowerCase().replace(/[.,;]/g,""),Ne=ge(he),Ue=ge(ce.definition);if(Ne===Ue||Ue.includes(Ne)&&Ne.length>=2)return!0;const _e=Le=>Le.split(/[,;/]+/).map(Oe=>Oe.replace(/\s+/g,"").toLowerCase()).filter(Oe=>Oe.length>0),Se=_e(he),Re=_e(ce.definition);return Se.length>0&&Se.every(Le=>Re.includes(Le))},ee=ce=>{if(K.current)return;K.current=!0,document.activeElement instanceof HTMLElement&&document.activeElement.blur();let he=!1,ge="",Ne=Promise.resolve(null);if(l==="OX"){const _e=ce;he=_e===R.isTrue,ge=_e?"O":"X"}else if(l==="MULTIPLE_CHOICE"){const _e=ce;he=_e===xe.definition,ge=_e}else ge=E,he=J(xe,ge),he||(Ne=C_(xe.term,xe.definition,ge));Q.current.push(Ne);const Ue={word:xe,userInput:ge,isCorrect:he,isAiCorrect:!1,originalVerdict:he};A(_e=>[..._e,Ue]),te("click"),setTimeout(()=>{g<n.length-1?b(_e=>_e+1):(v("GRADING"),K.current=!1)},50)};B.useEffect(()=>{const ce=he=>{if(S==="INPUT"){if(K.current){he.preventDefault();return}if(l==="MULTIPLE_CHOICE"){if(["1","2","3","4"].includes(he.key)){he.preventDefault();const ge=parseInt(he.key)-1;M[ge]&&ee(M[ge])}}else l==="OX"?(["o","O","1"].includes(he.key)&&(he.preventDefault(),ee(!0)),["x","X","2"].includes(he.key)&&(he.preventDefault(),ee(!1))):l==="TYPING"&&he.key==="Enter"&&(he.preventDefault(),he.repeat||ee(E));he.key==="Escape"&&(he.preventDefault(),ee(l==="OX"?!R.isTrue:""))}};return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[S,g,l,M,R,E]);const de=ce=>{const he=Math.floor(ce/60),ge=ce%60;return`${he} ${ge.toString().padStart(2,"0")}`};if(S==="GRADING")return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] animate-fade-in text-center p-4",children:[m.jsx(aa,{className:"w-20 h-20 text-purple-500 mb-6 animate-pulse"}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI   ..."}),m.jsxs("p",{className:"text-slate-400 max-w-md",children:["   . ",m.jsx("br",{}),m.jsx("span",{className:"text-indigo-400 font-semibold",children:" !"})]}),m.jsx(qr,{className:"w-8 h-8 text-purple-500 mt-8 animate-spin"})]});if(S==="SUMMARY"){const ce=V.filter(_e=>_e.isCorrect).length,he=V.length-ce,ge=Math.round(ce/n.length*100),Ne=V.filter(_e=>_e.isCorrect).map(_e=>_e.word.id),Ue=V.filter(_e=>!_e.isCorrect).map(_e=>_e.word.id);return m.jsx("div",{className:"max-w-3xl mx-auto p-4 animate-slide-up pb-20",children:m.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"bg-slate-800 p-6 flex flex-col items-center border-b border-slate-700 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-500/10 to-transparent"}),m.jsxs("div",{className:"relative z-10 text-center w-full",children:[m.jsx("div",{className:"text-sm text-slate-400 uppercase tracking-widest mb-1",children:"Final Score"}),m.jsxs("div",{className:"text-5xl font-black text-white mb-2",children:[ge,""]}),m.jsxs("div",{className:"flex justify-center gap-4 text-sm font-medium mb-4",children:[m.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[m.jsx(jr,{className:"w-4 h-4"}),"  ",ce]}),m.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[m.jsx(Tm,{className:"w-4 h-4"}),"  ",he]})]}),o!==void 0&&P!==void 0&&m.jsxs("div",{className:"bg-slate-900/50 border border-slate-600 rounded-xl p-3 inline-flex flex-col items-center animate-pulse-glow shadow-lg max-w-xs mx-auto w-full",children:[m.jsxs("span",{className:"text-yellow-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1 mb-1",children:[m.jsx(es,{className:"w-3 h-3 fill-yellow-400"})," Speed Mode Result"]}),m.jsxs("div",{className:"text-white font-mono font-bold text-lg",children:[" ",de(o-P)," ",m.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["/ ",de(o)]})]}),m.jsx("div",{className:`text-xs mt-1 font-bold ${P===0?"text-red-400":"text-green-400"}`,children:P===0?"  (Time Over)":"  (Mission Clear!)"})]})]})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx(VT,{className:"w-5 h-5 text-indigo-400"}),"   "]}),m.jsx("div",{className:"space-y-3",children:V.map((_e,Se)=>{const Re=n.find(Le=>Le.id===_e.word.id)||_e.word;return m.jsxs("div",{className:`flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-xl border ${_e.isCorrect?"bg-slate-800/50 border-slate-700":"bg-red-900/10 border-red-900/30"}`,children:[m.jsx("div",{className:"hidden md:flex flex-col items-center justify-center w-12 shrink-0",children:_e.isCorrect?_e.isAiCorrect?m.jsxs("div",{className:"flex flex-col items-center text-green-400",children:[m.jsx(aa,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[10px] font-bold mt-1",children:"AI"})]}):m.jsx(jr,{className:"w-6 h-6 text-green-500"}):m.jsx(Tm,{className:"w-6 h-6 text-red-500"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"text-lg font-bold text-white",children:Re.term}),m.jsx("button",{onClick:()=>f(Re.id),className:"p-1 group",children:m.jsx(Il,{className:`w-4 h-4 transition-transform group-active:scale-125 ${Re.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})}),m.jsx("button",{onClick:()=>oe(Re.term),className:`p-1 transition-colors ${N?"text-purple-400":"text-slate-500 hover:text-purple-400"}`,children:m.jsx(Yr,{className:"w-4 h-4"})}),m.jsx("span",{className:`md:hidden text-xs font-bold px-2 py-0.5 rounded-full ${_e.isCorrect?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:_e.isCorrect?_e.isAiCorrect?"AI ":"":""})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-500 text-xs",children:" "}),m.jsx("span",{className:`font-medium ${_e.isCorrect?"text-slate-300":"text-red-300 line-through"}`,children:_e.userInput||"()"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-500 text-xs",children:" "}),m.jsx("span",{className:"font-medium text-purple-300",children:Re.definition})]})]}),_e.aiFeedback&&m.jsxs("div",{className:`mt-2 text-xs px-3 py-2 rounded-lg flex items-start gap-2 ${_e.isCorrect?"bg-indigo-900/20 text-indigo-300":"bg-red-900/20 text-red-300"}`,children:[m.jsx(Em,{className:"w-3 h-3 mt-0.5 shrink-0"}),m.jsxs("span",{children:[m.jsx("span",{className:"font-bold",children:"AI :"})," ",_e.aiFeedback]})]})]})]},Se)})}),m.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[p&&m.jsxs("button",{onClick:()=>{r({correct:Ne,incorrect:Ue}),h==null||h()},className:"w-full py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-purple-900/30 flex justify-center gap-2 animate-pulse-glow",children:[m.jsx(vT,{className:"w-5 h-5"}),"   "]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:()=>{a("ALL",{correct:Ne,incorrect:Ue})},className:"py-4 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-xl transition-colors flex justify-center gap-2",children:[m.jsx(Qy,{className:"w-5 h-5"}),"  "]}),Ue.length>0&&m.jsxs("button",{onClick:()=>a("INCORRECT",{correct:Ne,incorrect:Ue}),className:"py-4 bg-red-600 hover:bg-red-500 text-white font-bold rounded-xl transition-colors shadow-lg shadow-red-900/30 flex justify-center gap-2",children:[m.jsx(cd,{className:"w-5 h-5"}),"  "]})]}),m.jsxs("button",{onClick:()=>{r({correct:Ne,incorrect:Ue}),c()},className:"py-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 font-bold rounded-xl transition-colors flex justify-center gap-2",children:[m.jsx(RT,{className:"w-5 h-5"}),"   ()"]})]})]})]})})}const be=g/n.length*100;return m.jsxs("div",{className:"max-w-xl mx-auto p-4 animate-fade-in relative min-h-[calc(100vh-100px)] flex flex-col justify-center",children:[m.jsx("button",{onClick:c,className:"absolute top-0 right-4 text-slate-500 hover:text-white text-sm transition-colors z-10",children:" ( )"}),P!==void 0&&m.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[m.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-yellow-400 uppercase tracking-widest animate-pulse",children:[m.jsx(rd,{className:"w-3 h-3"})," Speed Mode"]}),m.jsxs("span",{className:`text-sm font-mono font-bold ${P<=10?"text-red-500 animate-bounce":"text-slate-400"}`,children:[Math.floor(P/60),":",(P%60).toString().padStart(2,"0")]})]}),m.jsxs("div",{className:"w-full bg-slate-800 h-2 rounded-full mb-8 border border-slate-700 relative overflow-hidden",children:[m.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${be}%`}}),o&&P!==void 0&&m.jsx("div",{className:"absolute top-0 left-0 h-full bg-yellow-500/50 transition-all duration-1000 ease-linear",style:{width:`${P/o*100}%`}})]}),m.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 shadow-xl text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-50"}),m.jsxs("div",{className:"relative mb-6 flex justify-end items-center h-8",children:[m.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:m.jsxs("span",{className:"text-slate-500 text-xs font-bold tracking-widest uppercase bg-slate-800 px-3 py-1 rounded-full",children:["Question ",g+1," / ",n.length]})}),m.jsx("button",{onClick:()=>oe(xe.term),className:`p-2 rounded-full transition-colors z-10 ${N?"text-purple-400 bg-purple-900/30":"text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,title:"  (AI)",disabled:N,children:N?m.jsx(qr,{className:"w-6 h-6 animate-spin"}):m.jsx(Yr,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"mb-10 min-h-[120px] flex flex-col justify-center items-center relative",children:[m.jsx("button",{onClick:()=>f(xe.id),className:"mb-2 p-2 hover:bg-slate-800 rounded-full transition-colors group",children:m.jsx(Il,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${xe.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})}),m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 break-words animate-slide-up leading-tight",children:xe.term}),m.jsx("p",{className:"text-slate-400 text-sm font-medium",children:l==="MULTIPLE_CHOICE"?"  ":l==="OX"?"  ":" "})]}),m.jsx("div",{className:"space-y-6 w-full animate-fade-in",children:l==="TYPING"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{ref:O,type:"text",value:E,onChange:ce=>C(ce.target.value),placeholder:k?ue(xe.definition):" ...",className:"w-full bg-slate-800 text-white text-xl p-4 rounded-xl border-2 border-slate-700 focus:border-purple-500 outline-none text-center placeholder:text-slate-600 transition-all shadow-inner",autoComplete:"off",autoFocus:!0}),!k&&m.jsx("button",{onClick:()=>q(!0),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-yellow-400 transition-colors",children:m.jsx(Em,{className:"w-5 h-5"})})]}),m.jsxs("button",{type:"button",onClick:()=>ee(E),className:"mt-6 w-full py-4 bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-purple-500 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2 group active:scale-95",children:["  (Enter) ",m.jsx(Gr,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}):l==="OX"?m.jsxs("div",{children:[m.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 mb-8 min-h-[100px] flex items-center justify-center shadow-inner",children:m.jsx("span",{className:"text-2xl text-indigo-200 font-medium break-keep",children:R.displayedDefinition})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>ee(!0),className:"aspect-square flex flex-col items-center justify-center bg-slate-800 hover:bg-green-900/30 border border-slate-700 hover:border-green-500 rounded-2xl transition-all group active:scale-95",children:[m.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-green-500 flex items-center justify-center mb-2 bg-green-500/10",children:m.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-green-500"})}),m.jsx("span",{className:"text-green-400 font-bold text-xl",children:" (O)"})]}),m.jsxs("button",{onClick:()=>ee(!1),className:"aspect-square flex flex-col items-center justify-center bg-slate-800 hover:bg-red-900/30 border border-slate-700 hover:border-red-500 rounded-2xl transition-all group active:scale-95",children:[m.jsx("div",{className:"w-16 h-16 rounded-full relative mb-2",children:m.jsx(so,{className:"w-full h-full text-red-500",strokeWidth:3})}),m.jsx("span",{className:"text-red-400 font-bold text-xl",children:" (X)"})]})]})]}):m.jsx("div",{className:"grid grid-cols-1 gap-3",children:M.map((ce,he)=>m.jsxs("button",{onClick:()=>ee(ce),className:"w-full p-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-purple-500 text-white text-lg rounded-xl transition-all text-left flex items-center gap-3 group active:scale-95",children:[m.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-slate-900 rounded-full text-sm font-bold text-slate-400 group-hover:text-purple-400 group-hover:bg-purple-900/30 transition-colors border border-slate-700",children:he+1}),m.jsx("span",{className:"flex-1",children:ce})]},he))})})]})]})},A_=({words:n,filterType:e,onUpdateWord:l,onToggleFavorite:o,onStartQuizWithWords:r,onStartFavoriteQuiz:a})=>{const[c,f]=B.useState(""),[p,h]=B.useState(null),[g,b]=B.useState(""),[S,v]=B.useState(null),[E,C]=B.useState(null),[N,I]=B.useState(!1),[P,D]=B.useState(null),[V,A]=B.useState(1),M=B.useRef(null),[L,R]=B.useState(new Set);B.useEffect(()=>(M.current||(M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),()=>{var J;(J=M.current)==null||J.close(),M.current=null}),[]),B.useEffect(()=>{R(new Set),I(!1),D(null)},[e]);const U=n.filter(J=>{const ee=J.term.toLowerCase().includes(c.toLowerCase())||J.definition.includes(c);return e==="REVIEW"?ee&&J.incorrectCount>0:ee}),k=n.filter(J=>J.incorrectCount>0),q=J=>{h(J.id),b(J.userNote||"")},O=J=>{l(J,{userNote:g}),h(null)},j=async(J,ee)=>{if(!S){v(J);try{M.current||(M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const de=M.current;de.state==="suspended"&&await de.resume();const be=await Hr(ee);if(be){const he=new Int16Array(be.buffer),ge=he.length,Ne=de.createBuffer(1,ge,24e3),Ue=Ne.getChannelData(0);for(let Se=0;Se<ge;Se++)Ue[Se]=he[Se]/32768;const _e=de.createBufferSource();_e.buffer=Ne,_e.connect(de.destination),_e.onended=()=>v(null),_e.start()}else v(null)}catch(de){console.error("Audio playback error",de),v(null)}}},K=async J=>{C(J.id);try{const ee=await w_(J.term,J.definition);l(J.id,{exampleSentence:ee.sentence,exampleTranslation:ee.translation})}finally{C(null)}},Q=J=>{const ee=new Set(L);ee.has(J)?ee.delete(J):ee.add(J),R(ee)},Y=()=>{L.size===U.length?R(new Set):R(new Set(U.map(J=>J.id)))},te=J=>{if(!(p||S)){if(!N){Q(J);return}if(P===null){D(J);const ee=new Set(L);ee.add(J),R(ee)}else{const ee=U.findIndex(be=>be.id===P),de=U.findIndex(be=>be.id===J);if(ee!==-1&&de!==-1){const be=Math.min(ee,de),ce=Math.max(ee,de),he=new Set(L);for(let ge=be;ge<=ce;ge++)he.add(U[ge].id);R(he)}D(null),I(!1)}}},oe=()=>{I(!1),D(null)},xe=()=>{const J=n.filter(ee=>L.has(ee.id));r(J)},ue=()=>{if(a)a();else{const J=n.filter(ee=>ee.isFavorite);r(J)}},F=()=>{k.length>0&&r(k)};return m.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e==="REVIEW"?m.jsx(Vy,{className:"text-orange-500"}):m.jsx(Uf,{className:"text-purple-500"}),e==="REVIEW"?"  (Review)":" "]}),m.jsxs("div",{className:"relative w-full md:w-64",children:[m.jsx(pE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4"}),m.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:J=>f(J.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-full py-2 pl-10 pr-4 text-sm text-white focus:border-purple-500 outline-none"})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm text-slate-300 transition-colors",children:[L.size>0&&L.size===U.length?m.jsx(Am,{className:"w-4 h-4 text-purple-400"}):m.jsx(Mm,{className:"w-4 h-4"}),""]}),m.jsxs("button",{onClick:()=>{N?oe():I(!0)},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all border ${N?"bg-cyan-900/40 border-cyan-500 text-cyan-300 animate-pulse":"bg-slate-700 hover:bg-slate-600 border-transparent text-slate-300"}`,children:[m.jsx(KT,{className:"w-4 h-4"}),N?" ":" "]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700",children:[m.jsx("button",{onClick:()=>A(1),title:"1 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===1?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"1"}),m.jsx("button",{onClick:()=>A(2),title:"2 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===2?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"2"}),m.jsx("button",{onClick:()=>A(3),title:"3 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===3?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"3"})]}),m.jsx("div",{className:"w-px h-6 bg-slate-700"}),m.jsxs("button",{onClick:F,disabled:k.length===0,className:"flex items-center gap-2 px-3 py-1.5 bg-red-900/30 border border-red-700/50 hover:bg-red-900/50 disabled:opacity-30 disabled:cursor-not-allowed rounded-lg text-sm text-red-200 transition-colors",children:[m.jsx(cd,{className:"w-4 h-4"})," "]}),m.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-900/30 border border-yellow-700/50 hover:bg-yellow-900/50 rounded-lg text-sm text-yellow-200 transition-colors",children:[m.jsx(Il,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),""]}),m.jsxs("button",{onClick:xe,disabled:L.size===0,className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-800 disabled:text-slate-600 disabled:cursor-not-allowed rounded-lg text-sm text-white font-bold transition-colors shadow-lg shadow-purple-900/20",children:[m.jsx(ro,{className:"w-4 h-4 fill-white"})," "]})]})]}),N&&m.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/50 rounded-xl p-3 flex items-center justify-center text-cyan-200 text-sm font-medium animate-slide-up",children:[" ",P===null?m.jsx("span",{children:"    ()"}):m.jsx("span",{children:"    ( )"})," "]})]}),U.length===0?m.jsxs("div",{className:"text-center py-20 text-slate-500 bg-slate-900/50 rounded-2xl border border-slate-800",children:[m.jsx("p",{className:"mb-2",children:e==="REVIEW"?"  ! ":"  ."}),e==="ALL"&&m.jsx("p",{className:"text-sm",children:"  ."})]}):m.jsx("div",{className:`grid gap-3 transition-all ${V===1?"grid-cols-1":V===2?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:U.map(J=>{const ee=P===J.id;return m.jsxs("div",{className:`relative rounded-xl p-4 border transition-all flex gap-4 cursor-pointer select-none h-full ${ee?"ring-2 ring-cyan-400 border-cyan-400 bg-cyan-900/20 z-10 scale-[1.02]":""} ${!ee&&L.has(J.id)?"border-purple-500 bg-slate-800/80":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,onClick:de=>{de.target.closest("button")||de.target.closest("input")||te(J.id)},children:[m.jsx("div",{className:"flex flex-col items-center justify-center w-8 shrink-0",children:ee?m.jsx("div",{className:"w-6 h-6 rounded bg-cyan-500 flex items-center justify-center text-slate-900 font-bold text-xs",children:""}):m.jsxs("div",{className:`transition-colors ${L.has(J.id)?"text-purple-500":"text-slate-600 group-hover:text-slate-500"}`,children:[" ",L.has(J.id)?m.jsx(Am,{className:"w-6 h-6"}):m.jsx(Mm,{className:"w-6 h-6"})]})}),m.jsxs("div",{className:"flex-1 min-w-0 flex flex-col h-full",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m.jsx("h3",{className:"text-lg font-bold text-white truncate",children:J.term}),m.jsx("button",{onClick:de=>{de.stopPropagation(),j(J.id,J.term)},className:`p-1 transition-colors shrink-0 ${S===J.id?"text-purple-400":"text-slate-500 hover:text-purple-400"}`,disabled:S!==null&&S!==J.id,children:S===J.id?m.jsx(qr,{className:"w-4 h-4 animate-spin"}):m.jsx(Yr,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:de=>{de.stopPropagation(),o(J.id)},className:"p-1 hover:scale-110 transition-transform shrink-0",children:m.jsx(Il,{className:`w-5 h-5 ${J.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})})]}),m.jsx("p",{className:"text-indigo-200 text-base mb-2 line-clamp-2",children:J.definition}),m.jsx("div",{className:"mb-3 flex-1",children:J.exampleSentence?m.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg border border-slate-700/50 text-sm cursor-text",onClick:de=>de.stopPropagation(),children:[m.jsxs("p",{className:"text-slate-300 font-medium mb-1 line-clamp-3",children:['"',J.exampleSentence,'"']}),m.jsx("p",{className:"text-slate-500 text-xs line-clamp-2",children:J.exampleTranslation})]}):m.jsx("button",{onClick:de=>{de.stopPropagation(),K(J)},className:"text-xs flex items-center gap-1 text-purple-400 hover:text-purple-300 transition-colors bg-purple-900/20 px-2 py-1 rounded-md",disabled:E===J.id,children:E===J.id?m.jsxs(m.Fragment,{children:[m.jsx(qr,{className:"w-3 h-3 animate-spin"})," ..."]}):m.jsxs(m.Fragment,{children:[m.jsx(ao,{className:"w-3 h-3"})," AI "]})})}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mt-auto pt-2 border-t border-slate-700/50",children:[J.incorrectCount>0&&m.jsxs("span",{className:"px-2 py-0.5 bg-orange-900/50 text-orange-300 rounded-full border border-orange-800 shrink-0",children:[" ",J.incorrectCount]}),m.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[m.jsx("span",{children:"LV"}),m.jsx("div",{className:"w-10 h-1 bg-slate-700 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full ${J.masteryLevel>=80?"bg-green-500":J.masteryLevel>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${J.masteryLevel}%`}})})]})]}),m.jsx("div",{className:"mt-2",onClick:de=>de.stopPropagation(),children:p===J.id?m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:g,onChange:de=>b(de.target.value),placeholder:"...",className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-2 py-1 text-xs text-white focus:border-purple-500 outline-none min-w-0",autoFocus:!0}),m.jsx("button",{onClick:()=>O(J.id),className:"p-1 bg-purple-600 rounded-lg text-white hover:bg-purple-500 shrink-0",children:m.jsx(cE,{className:"w-3 h-3"})})]}):m.jsxs("div",{onClick:()=>q(J),className:"group flex items-center gap-2 text-xs text-slate-500 hover:text-slate-300 cursor-pointer",children:[m.jsx(tE,{className:"w-3 h-3 opacity-50 group-hover:opacity-100"}),J.userNote?m.jsx("span",{className:"text-purple-300 line-clamp-1",children:J.userNote}):m.jsx("span",{className:"opacity-50 group-hover:opacity-100",children:"..."})]})})]})]},J.id)})})]})},fy={level:1,xp:0,streak:0,totalWordsLearned:0,quizAccuracy:0,dailyGoal:10,dailyProgress:0};function M_(){const[n,e]=B.useState("DASHBOARD"),[l,o]=B.useState([]),[r,a]=B.useState(null),c=l.find(Se=>Se.id===r),f=(c==null?void 0:c.words)||[],[p,h]=B.useState(fy),[g,b]=B.useState(!1),[S,v]=B.useState(!1),[E,C]=B.useState(""),[N,I]=B.useState(""),[P,D]=B.useState([]),[V,A]=B.useState(!1),[M,L]=B.useState([]),[R,U]=B.useState({count:10,shuffle:!0,mode:"TYPING",speedMode:!1}),[k,q]=B.useState(null),[O,j]=B.useState(0),[K,Q]=B.useState(void 0);B.useEffect(()=>{const Se=localStorage.getItem("aivoca_books"),Re=localStorage.getItem("aivoca_stats");if(Se)try{const Le=JSON.parse(Se);Array.isArray(Le)&&o(Le)}catch(Le){console.error("Failed to parse saved books",Le),o([])}if(Re)try{h(JSON.parse(Re))}catch(Le){console.error(Le)}},[]),B.useEffect(()=>{localStorage.setItem("aivoca_books",JSON.stringify(l)),localStorage.setItem("aivoca_stats",JSON.stringify(p))},[l,p]);const Y=(Se,Re)=>{const Le={id:`book-${Date.now()}`,title:Se||` ${new Date().toLocaleDateString()}`,createdAt:new Date().toISOString(),words:Re};return o(Oe=>[...Oe,Le]),Le.id},te=(Se,Re)=>{Re.stopPropagation(),Re.preventDefault(),setTimeout(()=>{window.confirm("   ? (  )")&&(o(Le=>Le.filter(Oe=>Oe.id!==Se)),r===Se&&(a(null),e("DASHBOARD")))},10)},oe=(Se,Re)=>{Re.stopPropagation(),Re.preventDefault();const Le=l.find(Oe=>Oe.id===Se);Le&&setTimeout(()=>{const Oe=window.prompt("   :",Le.title);Oe&&Oe.trim()&&o(Pe=>Pe.map(yt=>yt.id===Se?{...yt,title:Oe.trim()}:yt))},10)},xe=Se=>{L(Se),U({count:Math.min(20,Se.length),shuffle:!0,mode:"TYPING",speedMode:!1}),A(!0)},ue=()=>{let Se=[...M];R.shuffle&&Se.sort(()=>Math.random()-.5);const Re={queue:Se,cursor:0,batchSize:R.count};q(Re),F(Re,0),A(!1),e("QUIZ")},F=(Se,Re)=>{const Le=Se.queue.slice(Re,Re+Se.batchSize);let Oe;if(R.speedMode){let Pe=10;R.mode==="MULTIPLE_CHOICE"&&(Pe=5),R.mode==="OX"&&(Pe=3),Oe=Le.length*Pe}D(Le),Q(Oe),j(Date.now())},J=()=>{if(!k)return;const Se=k.cursor+k.batchSize,Re={...k,cursor:Se};q(Re),F(Re,Se)},ee=Se=>{if(Se.length===0){alert("  .");return}L(Se),U({count:Se.length,shuffle:!0,mode:"TYPING",speedMode:!1}),A(!0)},de=async()=>{E.trim()&&(b(!0),setTimeout(async()=>{const Se=await cy(E),Re=Y(N||" ",Se);b(!1),v(!1),C(""),I(""),a(Re),e("WORDLIST")},100))},be=async Se=>{var rn;const Re=(rn=Se.target.files)==null?void 0:rn[0];if(!Re)return;b(!0);const Le=await Re.text(),Oe=await cy(Le),Pe=Re.name.replace(".txt",""),yt=Y(Pe,Oe);b(!1),a(yt),e("WORDLIST"),Se.target.value=""},ce=Se=>{if(!r)return[];const Re={...p};Re.totalWordsLearned+=Se.correct.length;let Le=[];return o(Oe=>Oe.map(Pe=>Pe.id!==r?Pe:(Le=Pe.words.map(yt=>Se.correct.includes(yt.id)?{...yt,masteryLevel:Math.min(100,(yt.masteryLevel||0)+20),incorrectCount:0,lastReviewed:new Date}:Se.incorrect.includes(yt.id)?{...yt,masteryLevel:Math.max(0,(yt.masteryLevel||0)-10),incorrectCount:(yt.incorrectCount||0)+1,lastReviewed:new Date}:yt),{...Pe,words:Le}))),h(Re),Le},he=Se=>{ce(Se)},ge=(Se,Re)=>{const Le=ce(Re);let Oe=[];if(Se==="INCORRECT")Oe=Le.filter(Pe=>Re.incorrect.includes(Pe.id));else{const Pe=P.map(yt=>yt.id);Oe=Le.filter(yt=>Pe.includes(yt.id)),Oe.sort(()=>Math.random()-.5)}if(Oe.length===0){alert("  .  ."),e("WORDLIST");return}D(Oe),Q(void 0),j(Date.now())},Ne=(Se,Re)=>{r&&o(Le=>Le.map(Oe=>Oe.id!==r?Oe:{...Oe,words:Oe.words.map(Pe=>Pe.id===Se?{...Pe,...Re}:Pe)}))},Ue=Se=>{r&&(o(Re=>Re.map(Le=>Le.id!==r?Le:{...Le,words:Le.words.map(Oe=>Oe.id===Se?{...Oe,isFavorite:!Oe.isFavorite}:Oe)})),D(Re=>Re.map(Le=>Le.id===Se?{...Le,isFavorite:!Le.isFavorite}:Le)))},_e=k?k.cursor+k.batchSize<k.queue.length:!1;return g?m.jsxs("div",{className:"min-h-screen bg-[#0f172a] flex flex-col items-center justify-center text-white animate-fade-in",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{children:"  ..."})]}):m.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-slate-100 font-sans",children:[m.jsx("nav",{className:"bg-[#0f172a] border-b border-slate-800 p-4",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>e("DASHBOARD"),children:[m.jsx(aa,{className:"w-6 h-6 text-purple-500"}),m.jsx("span",{className:"font-bold text-lg tracking-tight",children:"AIVOCA"})]}),n!=="DASHBOARD"&&c&&m.jsxs("div",{className:"flex gap-4 text-sm font-medium",children:[m.jsx("button",{onClick:()=>xe(f),className:`hover:text-white ${n==="QUIZ"?"text-purple-400":"text-slate-400"}`,children:""}),m.jsx("button",{onClick:()=>e("WORDLIST"),className:`hover:text-white ${n==="WORDLIST"?"text-purple-400":"text-slate-400"}`,children:""})]})]})}),m.jsxs("main",{className:"max-w-5xl mx-auto p-4",children:[n==="QUIZ"&&m.jsx(N_,{words:P.length>0?P:f,allWords:f,quizMode:R.mode,timeLimit:K,onSave:he,onRetry:ge,onExit:()=>e("WORDLIST"),onToggleFavorite:Ue,hasNextBatch:_e,onNextBatch:J},O),n==="WORDLIST"&&c&&m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.title,m.jsx("button",{onClick:Se=>oe(c.id,Se),className:"p-2 hover:bg-slate-700 rounded-full transition-colors",children:m.jsx(Cm,{className:"w-4 h-4 text-slate-500 hover:text-white"})})]}),m.jsxs("p",{className:"text-sm text-slate-400",children:[" ",f.length,"   ",new Date(c.createdAt).toLocaleDateString()," "]})]}),m.jsxs("button",{onClick:()=>{a(null),e("DASHBOARD")},className:"px-4 py-2 bg-slate-700 rounded-lg text-sm hover:bg-slate-600 transition-colors",children:[m.jsx(Oy,{className:"inline w-4 h-4 mr-1"}),"   "]})]}),m.jsx(A_,{words:f,filterType:"ALL",onUpdateWord:Ne,onToggleFavorite:Ue,onStartQuizWithWords:ee,onStartFavoriteQuiz:()=>xe(f.filter(Se=>Se.isFavorite))})]}),n==="DASHBOARD"&&m.jsxs("div",{className:"flex flex-col space-y-10 animate-fade-in py-10",children:[m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 via-purple-400 to-cyan-400",children:" "}),m.jsx("p",{className:"text-slate-400 text-lg",children:"    ."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{onClick:()=>v(!0),className:"group flex flex-col items-center justify-center p-8 bg-slate-800/30 border-2 border-dashed border-slate-700 hover:border-purple-500 rounded-2xl cursor-pointer transition-all hover:bg-slate-800/50 min-h-[200px]",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-900/30 flex items-center justify-center text-purple-400 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(xf,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"  "}),m.jsx("p",{className:"text-sm text-slate-500",children:"    "})]}),l.map(Se=>m.jsxs("div",{onClick:()=>{a(Se.id),e("WORDLIST")},className:"group relative bg-slate-800 border border-slate-700 hover:border-purple-500 rounded-2xl p-6 cursor-pointer transition-all hover:shadow-lg hover:shadow-purple-500/10 min-h-[200px] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-900/30 flex items-center justify-center text-indigo-400",children:m.jsx(aa,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex gap-1 relative z-20",onClick:Re=>{Re.stopPropagation(),Re.preventDefault()},onMouseDown:Re=>{Re.stopPropagation(),Re.preventDefault()},onMouseUp:Re=>{Re.stopPropagation(),Re.preventDefault()},children:[m.jsx("button",{type:"button",onClick:Re=>oe(Se.id,Re),className:"p-2 hover:bg-slate-700 rounded-full text-slate-500 hover:text-white transition-colors",title:" ",children:m.jsx(Cm,{className:"w-4 h-4 pointer-events-none"})}),m.jsx("button",{type:"button",onClick:Re=>te(Se.id,Re),className:"p-2 hover:bg-slate-700 rounded-full text-slate-500 hover:text-red-400 transition-colors",title:"",children:m.jsx(Jo,{className:"w-4 h-4 pointer-events-none"})})]})]}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1 group-hover:text-purple-400 transition-colors",children:Se.title}),m.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-700/50 flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[m.jsx(FT,{className:"w-4 h-4"}),m.jsxs("span",{children:[Se.words.length," "]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[m.jsx(Zb,{className:"w-4 h-4"}),m.jsx("span",{children:new Date(Se.createdAt).toLocaleDateString()})]})]})]},Se.id))]}),m.jsx("div",{className:"text-center pt-10 border-t border-slate-800",children:m.jsx("button",{onClick:()=>{confirm("    ?     .")&&(localStorage.removeItem("aivoca_books"),localStorage.removeItem("aivoca_stats"),o([]),h(fy),a(null),e("DASHBOARD"))},className:"text-xs text-slate-600 hover:text-red-500 underline",children:"  "})})]})]}),S&&m.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-3xl h-[85vh] rounded-2xl shadow-2xl flex flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800",children:[m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.jsx(xf,{className:"text-purple-500 w-5 h-5"}),"  "]}),m.jsx("button",{onClick:()=>v(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(so,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"p-5 border-b border-slate-800 bg-slate-900",children:m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("label",{className:"text-sm text-slate-400",children:" "}),m.jsx("input",{type:"text",value:N,onChange:Se=>I(Se.target.value),placeholder:": 3  ,  ...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"})]})}),m.jsx("div",{className:"flex-1 p-5 flex flex-col min-h-0 bg-slate-900/50",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsxs("div",{className:"mb-2 text-sm text-slate-400 flex justify-between items-center",children:[m.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[m.jsx(iE,{className:"w-4 h-4"}),"  "]}),E&&m.jsx("button",{onClick:()=>C(""),className:"text-xs text-red-400 hover:text-red-300",children:""})]}),m.jsx("textarea",{value:E,onChange:Se=>C(Se.target.value),placeholder:`  .

apple 
banana `,className:"flex-1 w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-slate-200 placeholder-slate-600 focus:border-purple-500 outline-none resize-none font-mono custom-scrollbar text-sm"})]}),m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"mb-2 text-sm text-slate-400",children:m.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[m.jsx(DE,{className:"w-4 h-4"}),"   (.txt)"]})}),m.jsx("div",{className:"flex-1 border-2 border-dashed border-slate-700 rounded-xl flex flex-col items-center justify-center p-6 text-center hover:bg-slate-800/50 hover:border-purple-500 transition-colors",children:m.jsxs("label",{className:"cursor-pointer flex flex-col items-center w-full h-full justify-center",children:[m.jsx(Fy,{className:"w-12 h-12 text-slate-500 mb-4"}),m.jsx("span",{className:"text-slate-300 font-medium mb-1",children:"   "}),m.jsx("span",{className:"text-xs text-slate-500",children:".txt  "}),m.jsx("input",{type:"file",accept:".txt",onChange:be,className:"hidden"})]})})]})]})}),m.jsxs("div",{className:"p-5 border-t border-slate-800 flex justify-end gap-3 bg-slate-900 rounded-b-2xl",children:[m.jsx("button",{onClick:()=>v(!1),className:"px-5 py-3 text-slate-400 hover:text-white font-medium transition-colors",children:""}),m.jsxs("button",{onClick:de,disabled:!E.trim(),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-800 disabled:text-slate-600 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-all shadow-lg shadow-purple-900/20 hover:shadow-purple-500/30 flex items-center gap-2",children:[m.jsx(xf,{className:"w-5 h-5"}),"  "]})]})]})}),V&&m.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-md rounded-2xl shadow-2xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.jsx(aa,{className:"text-purple-500 w-6 h-6"})," "]}),m.jsxs("button",{onClick:()=>U({...R,speedMode:!R.speedMode}),className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold transition-all border ${R.speedMode?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 shadow-lg shadow-yellow-500/20":"bg-slate-800 text-slate-500 border-slate-700"}`,children:[m.jsx(es,{className:`w-3 h-3 ${R.speedMode?"fill-yellow-400":""}`})," ",R.speedMode?"ON":"OFF"]})]}),m.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-white",children:m.jsx(so,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-slate-400 mb-3 block",children:" "}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("button",{onClick:()=>U({...R,mode:"TYPING"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${R.mode==="TYPING"?"bg-indigo-900/30 border-indigo-500 ring-1 ring-indigo-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[m.jsx(PT,{className:`w-6 h-6 mb-2 ${R.mode==="TYPING"?"text-indigo-400":"text-slate-500"}`}),m.jsx("div",{className:`font-bold text-sm ${R.mode==="TYPING"?"text-indigo-200":"text-slate-300"}`,children:""})]}),m.jsxs("button",{onClick:()=>U({...R,mode:"MULTIPLE_CHOICE"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${R.mode==="MULTIPLE_CHOICE"?"bg-purple-900/30 border-purple-500 ring-1 ring-purple-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[m.jsx($T,{className:`w-6 h-6 mb-2 ${R.mode==="MULTIPLE_CHOICE"?"text-purple-400":"text-slate-500"}`}),m.jsx("div",{className:`font-bold text-sm ${R.mode==="MULTIPLE_CHOICE"?"text-purple-200":"text-slate-300"}`,children:""})]}),m.jsxs("button",{onClick:()=>U({...R,mode:"OX"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${R.mode==="OX"?"bg-cyan-900/30 border-cyan-500 ring-1 ring-cyan-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[m.jsx(aT,{className:`w-6 h-6 mb-2 ${R.mode==="OX"?"text-cyan-400":"text-slate-500"}`}),m.jsx("div",{className:`font-bold text-sm ${R.mode==="OX"?"text-cyan-200":"text-slate-300"}`,children:"OX "})]})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-sm text-slate-400 mb-3 block",children:["   ( ",M.length,")"]}),m.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[10,20,50].map(Se=>m.jsxs("button",{disabled:M.length<Se,onClick:()=>U({...R,count:Se}),className:`py-2 rounded-lg text-sm font-medium transition-colors ${R.count===Se?"bg-purple-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700 disabled:opacity-30"}`,children:[Se,""]},Se)),m.jsx("button",{onClick:()=>U({...R,count:M.length}),className:`py-2 rounded-lg text-sm font-medium transition-colors ${R.count===M.length?"bg-purple-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:""})]}),R.speedMode&&m.jsx("div",{className:"mt-3 text-center",children:m.jsxs("span",{className:"inline-block px-3 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 animate-pulse",children:["  : ",R.count*(R.mode==="TYPING"?10:R.mode==="MULTIPLE_CHOICE"?5:3)," ( ",R.mode==="TYPING"?"10":R.mode==="MULTIPLE_CHOICE"?"5":"3",")"]})})]}),m.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-xl",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Qy,{className:"w-5 h-5 text-indigo-400"}),m.jsx("span",{className:"text-slate-200",children:"  "})]}),m.jsx("button",{onClick:()=>U({...R,shuffle:!R.shuffle}),className:`w-12 h-6 rounded-full transition-colors relative ${R.shuffle?"bg-indigo-500":"bg-slate-600"}`,children:m.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-sm ${R.shuffle?"left-7":"left-1"}`})})]}),m.jsxs("button",{onClick:ue,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-900/20 transition-all flex items-center justify-center gap-2",children:[m.jsx(uT,{className:"w-5 h-5"}),"  (",R.count,")"]})]})]})})]})}const __=()=>m.jsx(M_,{});var xt=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.PAUSED="PAUSED",n.STATUS_MENU="STATUS_MENU",n.GAME_OVER="GAME_OVER",n.VICTORY="VICTORY",n.TREASURE_OPENING="TREASURE_OPENING",n))(xt||{}),Ti=(n=>(n.MAGNET="MAGNET",n.BOMB="BOMB",n.GOLD="GOLD",n))(Ti||{}),oi=(n=>(n.KUNAI="KUNAI",n.SHOTGUN="SHOTGUN",n.GUARDIAN="GUARDIAN",n.BAT="BAT",n))(oi||{});const dy=6.5,R_=15,I_=60,to={ZOMBIE:"#EF4444",FAST:"#F59E0B",TANK:"#7F1D1D",GEM:"#10B981",TREASURE:"#FFD700"},Rl=[{id:"skin_default",name:" ",description:"EDF   .  .",price:0,rarity:"COMMON",effectType:"NONE",primaryColor:"#3B82F6",stats:{}},{id:"skin_blade",name:" ",description:"    .   .",price:5e3,rarity:"RARE",effectType:"BLOOD",primaryColor:"#EF4444",stats:{attackBonus:.1}},{id:"skin_toxic",name:" ",description:"  .  .",price:15e3,rarity:"RARE",effectType:"TOXIC",primaryColor:"#84cc16",stats:{attackBonus:.15}},{id:"skin_gold",name:" ",description:"  .   .",price:3e4,rarity:"EPIC",effectType:"GOLD",primaryColor:"#F59E0B",stats:{critChanceBonus:.1}},{id:"skin_ice",name:" ",description:" .   20% .",price:65e3,rarity:"EPIC",effectType:"ICE",primaryColor:"#06b6d4",stats:{hpBonus:.2}},{id:"skin_cyber",name:" ",description:"   . :  ",price:8e4,rarity:"LEGENDARY",effectType:"PIXEL",primaryColor:"#22D3EE",stats:{attackSpeedBonus:.15,speedBonus:.1},activeSkill:{name:" ",description:"      .",cooldown:45,iconName:"ZapOff",visualColor:"#22D3EE"}},{id:"skin_lightning",name:" ",description:"  . :  ",price:12e4,rarity:"LEGENDARY",effectType:"LIGHTNING",primaryColor:"#facc15",stats:{speedBonus:.3},activeSkill:{name:" ",description:"     .",cooldown:30,iconName:"Zap",visualColor:"#facc15"}},{id:"skin_ghost",name:" ()",description:"  . :  ",price:15e4,rarity:"LEGENDARY",effectType:"GHOST",primaryColor:"#4ade80",stats:{critChanceBonus:.15,attackBonus:.1},activeSkill:{name:" ",description:"5        .",cooldown:60,iconName:"Ghost",visualColor:"#4ade80"}},{id:"skin_void",name:" ",description:" . : ",price:2e5,rarity:"MYTHIC",effectType:"VOID",primaryColor:"#7C3AED",stats:{attackBonus:.3},activeSkill:{name:"",description:"       .",cooldown:50,iconName:"Aperture",visualColor:"#7C3AED"}},{id:"skin_mecha",name:" ",description:" . :  ",price:35e4,rarity:"MYTHIC",effectType:"MECHA",primaryColor:"#3b82f6",stats:{hpBonus:.5,attackBonus:.2},activeSkill:{name:" ",description:"     .",cooldown:40,iconName:"Crosshair",visualColor:"#3b82f6"}},{id:"skin_fire",name:"",description:" . :  ",price:5e5,rarity:"MYTHIC",effectType:"FIRE",primaryColor:"#f97316",stats:{attackBonus:.5,critChanceBonus:.2},activeSkill:{name:" ",description:"      .",cooldown:60,iconName:"Flame",visualColor:"#f97316"}}],ia=[{id:1,name:"Chapter 1:  ",description:"     .",theme:{bg:"#111827",grid:"#1f2937"}},{id:2,name:"Chapter 2:  ",description:"     .",theme:{bg:"#2a1a1a",grid:"#4f2a2a"}},{id:3,name:"Chapter 3:  ",description:"     ,  .",theme:{bg:"#1a1a2e",grid:"#2a2a4e"}},{id:4,name:"Chapter 4:  ",description:"   ,    .",theme:{bg:"#0c0c0d",grid:"#1e1e21"}}],Yo=[{id:"kunai",name:"",description:"    .",icon:"Sword",type:"WEAPON",rarity:"COMMON"},{id:"shotgun",name:"",description:"     .",icon:"Zap",type:"WEAPON",rarity:"RARE"},{id:"bat",name:"",description:"    .",icon:"Activity",type:"WEAPON",rarity:"COMMON"},{id:"guardian",name:"",description:"    .",icon:"Shield",type:"WEAPON",rarity:"EPIC"},{id:"atk_up",name:" ",description:" 20% .",icon:"Sword",type:"STAT",rarity:"COMMON"},{id:"spd_up",name:" ",description:"  15% .",icon:"Footprints",type:"STAT",rarity:"COMMON"},{id:"atk_spd_up",name:" ",description:"  15% .",icon:"Zap",type:"STAT",rarity:"RARE"},{id:"hp_up",name:" ",description:"  30% .",icon:"Heart",type:"STAT",rarity:"COMMON"},{id:"multi_shot",name:" ",description:" 1 .",icon:"Copy",type:"WEAPON",rarity:"LEGENDARY"},{id:"magnet_core",name:" ",description:"   50% .",icon:"Star",type:"STAT",rarity:"RARE"},{id:"crit_chance_up",name:" ",description:"  10% .",icon:"Activity",type:"STAT",rarity:"EPIC"},{id:"crit_damage_up",name:"",description:"  50% .",icon:"Zap",type:"STAT",rarity:"EPIC"}],Ir=["COMMON","MAGIC","EXQUISITE","RARE","EXCELLENT","EPIC","LEGEND","ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"],k_=({onMove:n,onStop:e})=>{const l=B.useRef(null),[o,r]=B.useState({x:0,y:0}),[a,c]=B.useState(!1),f=B.useRef({x:0,y:0}),p=B.useRef({x:0,y:0}),h=B.useRef(!1);B.useRef(0);const g=50,b=B.useCallback(E=>{const C=E.touches[0];if(l.current){const N=l.current.getBoundingClientRect(),I=N.left+N.width/2,P=N.top+N.height/2;f.current={x:I,y:P},h.current=!0,c(!0),S(C.clientX,C.clientY)}},[]),S=(E,C)=>{if(!h.current)return;const N=E-f.current.x,I=C-f.current.y,P=Math.sqrt(N*N+I*I),D=Math.atan2(I,N),V=Math.min(P,g),A=Math.cos(D)*V,M=Math.sin(D)*V;p.current={x:A,y:M},r({x:A,y:M}),n({x:A/g,y:M/g})};B.useEffect(()=>{const E=P=>{if(!h.current)return;const D=P.touches[0];S(D.clientX,D.clientY)},C=()=>{h.current&&(h.current=!1,c(!1),r({x:0,y:0}),e())},N=P=>{h.current&&S(P.clientX,P.clientY)},I=()=>{h.current&&(h.current=!1,c(!1),r({x:0,y:0}),e())};return window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",C),window.addEventListener("mousemove",N),window.addEventListener("mouseup",I),()=>{window.removeEventListener("touchmove",E),window.removeEventListener("touchend",C),window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",I)}},[n,e]);const v=E=>{if(l.current){const C=l.current.getBoundingClientRect(),N=C.left+C.width/2,I=C.top+C.height/2;f.current={x:N,y:I},h.current=!0,c(!0),S(E.clientX,E.clientY)}};return m.jsx("div",{ref:l,onTouchStart:b,onMouseDown:v,className:"absolute bottom-10 left-1/2 -translate-x-1/2 w-48 h-48 rounded-full z-50 flex items-center justify-center pointer-events-auto touch-none select-none",style:{background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)",touchAction:"none"},children:m.jsx("div",{className:`w-32 h-32 rounded-full border-4 border-white/30 bg-black/40 backdrop-blur-sm transition-all duration-200 ${a?"opacity-100 scale-105 border-white/50":"opacity-50"}`,children:m.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full shadow-[0_0_15px_rgba(59,130,246,0.5)] absolute top-1/2 left-1/2 -ml-7 -mt-7 pointer-events-none",style:{transform:`translate(${o.x}px, ${o.y}px)`,transition:a?"none":"transform 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:m.jsx("div",{className:"absolute top-2 left-2 w-4 h-4 bg-white/30 rounded-full blur-[1px]"})})})})},L_={Zap:es,ZapOff:HE,Ghost:qy,Aperture:By,Crosshair:Hy,Flame:zy},D_=({onGameOver:n,gameState:e,setGameState:l,initialStats:o,equippedWeaponName:r="Kunai",equippedSkinId:a="skin_default",onGoldGained:c,chapterTheme:f,chapterId:p})=>{const h=B.useRef(null),g=B.useRef(null),b=Rl.find(w=>w.id===a)||Rl[0];b.activeSkill;let S="kunai";r!=null&&r.includes("Kunai")||r!=null&&r.includes("")?S="kunai":r!=null&&r.includes("Katana")||r!=null&&r.includes("")?S="katana":r!=null&&r.includes("Shotgun")||r!=null&&r.includes("")?S="shotgun":r!=null&&r.includes("Revolver")||r!=null&&r.includes("")?S="revolver":(r!=null&&r.includes("Bat")||r!=null&&r.includes(""))&&(S="bat");const v={};v[S]=1;const E=o.hp*(1+(b.stats.hpBonus||0)),C=dy*(1+(b.stats.speedBonus||0)),N=1+(b.stats.attackBonus||0),I=.05+(b.stats.critChanceBonus||0),P=1+(b.stats.attackSpeedBonus||0),D=B.useRef({id:"player",position:{x:0,y:0},radius:R_,color:b.primaryColor,hp:E,maxHp:E,speed:C,xp:0,level:1,nextLevelXp:15,damageMulti:N,attackSpeedMulti:P,projectileCount:1,critChance:I,critDamageMulti:1.5,magnetRadius:150,weapons:[],skills:v}),V=B.useRef(0),A=B.useRef(!1),M=B.useRef(0),L=B.useRef(0),R=B.useRef(0);B.useEffect(()=>{const w=D.current,G=[];w.skills.kunai&&G.push(oi.KUNAI),w.skills.katana&&G.push(oi.KUNAI),w.skills.shotgun&&G.push(oi.SHOTGUN),w.skills.revolver&&G.push(oi.SHOTGUN),w.skills.bat&&G.push(oi.BAT),w.skills.guardian&&G.push(oi.GUARDIAN),w.weapons=G},[]);const U=B.useRef([]),k=B.useRef([]),q=B.useRef([]),O=B.useRef([]),j=B.useRef([]),K=B.useRef([]),Q=B.useRef([]),Y=B.useRef([]),te=B.useRef([]),oe=B.useRef(0),xe=B.useRef(0),ue=B.useRef({x:0,y:0}),F=B.useRef({x:0,y:0}),J=B.useRef({x:0,y:0}),ee=B.useRef({}),de=B.useRef({x:1,y:0}),be=B.useRef(0),ce=B.useRef(new Set),he=B.useRef(new Set),[ge,Ne]=B.useState(E),[Ue,_e]=B.useState(E),[Se,Re]=B.useState(1),[Le,Oe]=B.useState(0),[Pe,yt]=B.useState(0),[rn,Vt]=B.useState("00:00"),[fi,Mn]=B.useState([]),[di,Ci]=B.useState([]),[Rt,jt]=B.useState(null),[_n,nl]=B.useState(0),[Jn,$n]=B.useState(!1),[Ht,wi]=B.useState(null),St=B.useCallback(w=>{if(!g.current||g.current.state==="suspended")return;const G=g.current,X=G.currentTime;switch(w){case"shoot":{const z=G.createOscillator(),W=G.createGain();z.type="triangle",z.frequency.setValueAtTime(880,X),z.frequency.exponentialRampToValueAtTime(220,X+.1),W.gain.setValueAtTime(.2,X),W.gain.exponentialRampToValueAtTime(.001,X+.1),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.1);break}case"hit":{const z=G.createOscillator(),W=G.createGain();z.type="square",z.frequency.setValueAtTime(110,X),W.gain.setValueAtTime(.4,X),W.gain.exponentialRampToValueAtTime(.01,X+.2),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.2);break}case"gem":{const z=G.createOscillator(),W=G.createGain();z.type="sine",z.frequency.setValueAtTime(660,X),z.frequency.exponentialRampToValueAtTime(1320,X+.1),W.gain.setValueAtTime(.15,X),W.gain.exponentialRampToValueAtTime(.001,X+.1),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.1);break}case"levelup":{[600,800,1200].forEach((z,W)=>{const se=G.createOscillator(),$=G.createGain();se.type="sine",se.frequency.setValueAtTime(z,X+W*.1),$.gain.setValueAtTime(.3,X+W*.1),$.gain.exponentialRampToValueAtTime(.01,X+W*.1+.2),se.connect($).connect(G.destination),se.start(X+W*.1),se.stop(X+W*.1+.2)});break}case"explosion":{const z=G.createOscillator(),W=G.createGain();z.type="square",z.frequency.setValueAtTime(200,X),z.frequency.exponentialRampToValueAtTime(50,X+.3),W.gain.setValueAtTime(.4,X),W.gain.exponentialRampToValueAtTime(.01,X+.3),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.3);break}case"treasure_open":{[523,659,783,1046].forEach((z,W)=>{const se=G.createOscillator(),$=G.createGain();se.type="triangle",se.frequency.setValueAtTime(z,X+W*.08),$.gain.setValueAtTime(.3,X+W*.08),$.gain.exponentialRampToValueAtTime(.01,X+.4),se.connect($).connect(G.destination),se.start(X+W*.08),se.stop(X+.4)});break}case"click":{const z=G.createOscillator(),W=G.createGain();z.type="sine",z.frequency.setValueAtTime(440,X),W.gain.setValueAtTime(.3,X),W.gain.exponentialRampToValueAtTime(.01,X+.1),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.1);break}case"powerup":{const z=G.createOscillator(),W=G.createGain();z.type="sawtooth",z.frequency.setValueAtTime(300,X),z.frequency.exponentialRampToValueAtTime(1200,X+.2),W.gain.setValueAtTime(.3,X),W.gain.exponentialRampToValueAtTime(.01,X+.2),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.2);break}case"coin":{const z=G.createOscillator(),W=G.createGain();z.type="sine",z.frequency.setValueAtTime(1046,X),W.gain.setValueAtTime(.2,X),W.gain.exponentialRampToValueAtTime(.01,X+.1),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.1);break}case"skill":{const z=G.createOscillator(),W=G.createGain();z.type="sawtooth",z.frequency.setValueAtTime(100,X),z.frequency.exponentialRampToValueAtTime(800,X+.5),W.gain.setValueAtTime(.5,X),W.gain.exponentialRampToValueAtTime(.01,X+1),z.connect(W).connect(G.destination),z.start(X),z.stop(X+1);break}case"warning":{const z=G.createOscillator(),W=G.createGain();z.type="sawtooth",z.frequency.setValueAtTime(150,X),W.gain.setValueAtTime(.5,X),W.gain.exponentialRampToValueAtTime(.01,X+.5),z.connect(W).connect(G.destination),z.start(X),z.stop(X+.5);break}}},[]);B.useEffect(()=>{const w=()=>{if(!g.current)try{g.current=new(window.AudioContext||window.webkitAudioContext)}catch{console.error("Web Audio API is not supported in this browser")}g.current&&g.current.state==="suspended"&&g.current.resume(),window.removeEventListener("click",w),window.removeEventListener("touchstart",w)};return window.addEventListener("click",w),window.addEventListener("touchstart",w),()=>{window.removeEventListener("click",w),window.removeEventListener("touchstart",w),g.current&&g.current.state!=="closed"&&g.current.close()}},[]),B.useEffect(()=>{const w=X=>{ee.current[X.key.toLowerCase()]=!0},G=X=>{ee.current[X.key.toLowerCase()]=!1};return window.addEventListener("keydown",w),window.addEventListener("keyup",G),()=>{window.removeEventListener("keydown",w),window.removeEventListener("keyup",G)}},[]),B.useEffect(()=>{D.current.hp=E,D.current.maxHp=E,D.current.color=b.primaryColor,Ne(E),_e(E)},[E,b]);const Bt=(w,G)=>Math.sqrt(Math.pow(w.x-G.x,2)+Math.pow(w.y-G.y,2)),bt=w=>{R.current=Math.min(R.current+w,20)},Rn=(w,G)=>{w.save(),w.translate(G.position.x,G.position.y);const X=1+Math.sin(oe.current*.1+G.id.charCodeAt(0))*.05;w.scale(X,X),w.fillStyle="rgba(0,0,0,0.4)",w.beginPath(),w.ellipse(0,15,18,4,0,0,Math.PI*2),w.fill(),w.fillStyle="#a16207",w.fillRect(-15,-15,30,30),w.strokeStyle="#422006",w.lineWidth=2,w.strokeRect(-15,-15,30,30),w.fillStyle="#a8a29e",w.fillRect(-17,-5,34,10),w.fillRect(-5,-17,10,34),w.fillStyle="white",w.font="bold 24px sans-serif",w.textAlign="center",w.textBaseline="middle",w.fillText("?",0,2),w.restore()},qt=(w,G)=>{w.save(),w.translate(G.position.x,G.position.y);const X=1+Math.sin(G.life*.1)*.1;w.scale(X,X);const z=20,W=24;w.beginPath(),w.arc(0,0,W,0,Math.PI*2),w.globalAlpha=.5+Math.sin(G.life*.1)*.2;let se="#fff";G.type===Ti.MAGNET&&(se="#3b82f6"),G.type===Ti.BOMB&&(se="#ef4444"),G.type===Ti.GOLD&&(se="#f59e0b"),w.fillStyle=se,w.fill(),w.globalAlpha=1,w.shadowColor=se,w.shadowBlur=15,w.fillStyle="#fff",w.beginPath(),w.arc(0,0,z,0,Math.PI*2),w.fill(),w.shadowBlur=0,w.restore()},ss=(w,G)=>{w.save(),w.translate(G.position.x,G.position.y);const X=1+Math.sin(oe.current*.1)*.05;if(w.scale(X,X),w.fillStyle="rgba(0,0,0,0.5)",w.beginPath(),w.ellipse(0,15,20,5,0,0,Math.PI*2),w.fill(),w.fillStyle="#854d0e",w.fillRect(-20,-10,40,20),w.strokeStyle="#fde047",w.lineWidth=3,w.strokeRect(-20,-10,40,20),w.fillStyle="#a16207",w.beginPath(),w.moveTo(-22,-10),w.quadraticCurveTo(0,-30,22,-10),w.closePath(),w.fill(),w.stroke(),w.fillStyle="#fbbf24",w.fillRect(-5,-5,10,10),w.fillStyle="white",oe.current%10===0){const z=Math.random()*Math.PI*2,W=25+Math.random()*10;w.fillRect(Math.cos(z)*W,Math.sin(z)*W-10,3,3)}w.restore()},as=(w,G)=>{w.save(),w.translate(G.position.x,G.position.y);const X=Math.atan2(G.velocity.y,G.velocity.x);if(w.rotate(X),G.weaponId==="kunai"){const z=oe.current*.5;w.rotate(z),w.fillStyle=G.isEvo?"#a78bfa":"#cbd5e1",w.shadowColor=G.isEvo?"#8b5cf6":"#94a3b8",w.shadowBlur=G.isEvo?15:5,w.beginPath();const W=G.isEvo?14:10;for(let se=0;se<4;se++)w.lineTo(0,-W),w.lineTo(W/2,-W/2),w.rotate(Math.PI/2);w.closePath(),w.fill(),w.fillStyle="#fff",w.beginPath(),w.arc(0,0,3,0,Math.PI*2),w.fill()}else G.weaponId==="katana"?(w.fillStyle=G.isEvo?"#dc2626":"#0ea5e9",w.shadowColor=G.isEvo?"#ef4444":"#38bdf8",w.shadowBlur=15,w.scale(1.5,1),w.beginPath(),w.arc(0,0,G.isEvo?25:20,Math.PI*1.2,Math.PI*2.8),w.fill(),w.fillStyle="#fff",w.globalAlpha=.7,w.beginPath(),w.arc(-5,0,G.isEvo?20:15,Math.PI*1.2,Math.PI*2.8),w.fill(),w.globalAlpha=1):G.weaponId==="revolver"?(w.strokeStyle=G.isEvo?"#ef4444":"#fcd34d",w.lineWidth=G.isEvo?4:2,w.shadowColor=G.isEvo?"#f87171":"#fef08a",w.shadowBlur=10,w.beginPath(),w.moveTo(0,0),w.lineTo(-40,0),w.stroke(),w.fillStyle="#fff",w.beginPath(),w.arc(0,0,3,0,Math.PI*2),w.fill()):G.weaponId==="shotgun"?G.isEvo?(w.fillStyle="#fca5a5",w.shadowColor="#ef4444",w.shadowBlur=5,w.fillRect(-10,-2,20,4),w.fillStyle="#fff",w.fillRect(0,-1,10,2)):(w.fillStyle="#facc15",w.shadowColor="#eab308",w.shadowBlur=3,w.beginPath(),w.arc(0,0,4,0,Math.PI*2),w.fill(),w.beginPath(),w.arc(-6,-3,3,0,Math.PI*2),w.fill(),w.beginPath(),w.arc(-6,3,3,0,Math.PI*2),w.fill()):G.weaponId==="bat"?(w.globalAlpha=.6,w.fillStyle=G.isEvo?"#ef4444":"#fff",w.beginPath(),w.arc(0,0,G.radius,Math.PI*1.2,Math.PI*2.8),w.lineTo(0,0),w.fill(),w.globalAlpha=1,w.strokeStyle=G.isEvo?"#fee2e2":"#e5e7eb",w.lineWidth=2,w.beginPath(),w.arc(0,0,G.radius,Math.PI*1.2,Math.PI*2.8),w.stroke()):(w.fillStyle="#fff",w.beginPath(),w.arc(0,0,5,0,Math.PI*2),w.fill());w.restore()},rs=(w,G,X,z)=>{w.save(),w.translate(G,X),w.rotate(oe.current*(z?.4:.2)),w.fillStyle=z?"#f43f5e":"#e5e7eb",w.shadowColor=z?"#e11d48":"#9ca3af",w.shadowBlur=z?15:5;const W=z?16:12;for(let se=0;se<3;se++)w.rotate(Math.PI*2/3),w.beginPath(),w.moveTo(0,-W/2),w.quadraticCurveTo(W,-W,0,-W*2),w.quadraticCurveTo(-W,-W,0,-W/2),w.fill();w.fillStyle="#1f293b",w.beginPath(),w.arc(0,0,W/2,0,Math.PI*2),w.fill(),w.strokeStyle=z?"#fda4af":"#6b7280",w.lineWidth=2,w.beginPath(),w.arc(0,0,W/3,0,Math.PI*2),w.stroke(),w.restore()},Xn=(w,G)=>{te.current.push({id:Math.random().toString(),position:{...w},velocity:{x:0,y:0},color:"white",life:20,maxLife:20,size:1,type:"SHOCKWAVE"});const X=G==="NONE"?8:16;for(let z=0;z<X;z++){const W=Math.random()*Math.PI*2;let se=Math.random()*4+2,$="#fff",le=30,Ee=Math.random()*4+2;G==="BLOOD"?($=Math.random()>.5?"#991b1b":"#ef4444",Ee=Math.random()*6+2,le=45):G==="GOLD"?($="#fbbf24",le=60,se=Math.random()*5+2):G==="PIXEL"?($=Math.random()>.5?"#22d3ee":"#e879f9",Ee=Math.random()*5+3,le=40):G==="VOID"?($="#7c3aed",le=50):G==="GHOST"?($="#4ade80",le=60,se*=.5):G==="MECHA"?($=Math.random()>.5?"#3b82f6":"#facc15",Ee=Math.random()*4+2,le=35):G==="FIRE"?($=Math.random()>.5?"#f97316":"#fcd34d",Ee=Math.random()*6+2,le=40,se*=1.2):G==="LIGHTNING"?($="#fde047",le=30,se*=2):G==="ICE"?($="#a5f3fc",le=50,se*=.8):G==="TOXIC"&&($="#84cc16",le=45,Ee=Math.random()*5+3),te.current.push({id:Math.random().toString(),position:{...w},velocity:{x:Math.cos(W)*se,y:Math.sin(W)*se},color:$,life:le,maxLife:le,size:Ee,type:G})}},il=(w,G)=>{for(let X=te.current.length-1;X>=0;X--){const z=te.current[X];if(z.type==="SKILL_EXPLOSION"){const W=1-z.life/z.maxLife,se=z.size*W;w.save(),w.beginPath(),w.arc(z.position.x,z.position.y,se,0,Math.PI*2),w.lineWidth=50*(1-W),w.strokeStyle=z.color,w.globalAlpha=z.life/z.maxLife,w.stroke(),w.fillStyle=z.color,w.globalAlpha=z.life/z.maxLife*.3,w.fill(),w.restore(),G||(z.life--,z.life<=0&&te.current.splice(X,1));continue}if(z.type==="ORBITAL_LASER"){const W=z.life/z.maxLife;w.save(),w.globalCompositeOperation="lighter",w.fillStyle=`rgba(59, 130, 246, ${Math.min(1,W*2)})`,w.fillRect(z.position.x-z.size/2,0,z.size,window.innerHeight),w.fillStyle=`rgba(255, 255, 255, ${Math.min(1,W*3)})`,w.fillRect(z.position.x-z.size/4,0,z.size/2,window.innerHeight),w.restore(),G||(z.life--,z.life<=0&&te.current.splice(X,1));continue}if(z.type==="SHOCKWAVE"){const $=50*(1-z.life/z.maxLife);w.save(),w.globalAlpha=z.life/z.maxLife,w.strokeStyle="white",w.lineWidth=3*(z.life/z.maxLife),w.beginPath(),w.arc(z.position.x,z.position.y,$,0,Math.PI*2),w.stroke(),w.restore(),G||(z.life--,z.life<=0&&te.current.splice(X,1));continue}if(w.globalAlpha=z.life/z.maxLife,w.fillStyle=z.color,z.type==="PIXEL"||z.type==="MECHA")w.fillRect(z.position.x-z.size/2,z.position.y-z.size/2,z.size,z.size);else if(z.type==="VOID"||z.type==="TOXIC")w.beginPath(),w.arc(z.position.x,z.position.y,z.size,0,Math.PI*2),z.type==="TOXIC"&&(w.globalAlpha*=.7),w.fill(),G||(z.type==="VOID"?(z.velocity.x*=.96,z.velocity.y*=.96):z.velocity.y-=.02);else if(z.type==="GOLD"){w.beginPath();const W=4,se=z.size,$=z.size/2;let le=Math.PI/2*3,Ee=z.position.x,Ce=z.position.y,we=Math.PI/W;w.moveTo(z.position.x,z.position.y-se);for(let $e=0;$e<W;$e++)Ee=z.position.x+Math.cos(le)*se,Ce=z.position.y+Math.sin(le)*se,w.lineTo(Ee,Ce),le+=we,Ee=z.position.x+Math.cos(le)*$,Ce=z.position.y+Math.sin(le)*$,w.lineTo(Ee,Ce),le+=we;w.lineTo(z.position.x,z.position.y-se),w.closePath(),w.fill(),G||(z.velocity.y+=.05)}else z.type==="FIRE"?(w.beginPath(),w.arc(z.position.x,z.position.y,z.size,0,Math.PI*2),w.fill(),G||(z.velocity.y-=.1,z.position.x+=Math.random()-.5)):z.type==="GHOST"||z.type==="ICE"?(w.beginPath(),w.arc(z.position.x,z.position.y,z.size,0,Math.PI*2),w.fill(),G||(z.velocity.y-=.05)):z.type==="LIGHTNING"?(w.strokeStyle=z.color,w.lineWidth=1,w.beginPath(),w.moveTo(z.position.x,z.position.y),w.lineTo(z.position.x+z.velocity.x*2,z.position.y+z.velocity.y*2),w.stroke()):(w.beginPath(),w.arc(z.position.x,z.position.y,z.size,0,Math.PI*2),w.fill());G||(z.position.x+=z.velocity.x,z.position.y+=z.velocity.y,z.life--,z.life<=0&&te.current.splice(X,1))}w.globalAlpha=1},Ni=(w,G)=>{const X=b.effectType,{x:z,y:W}=G.position,se=oe.current,$=G.radius+15;if(w.save(),w.translate(z,W),X==="BLOOD"){w.rotate(se*.15),w.fillStyle="#991b1b";for(let le=0;le<3;le++)w.rotate(Math.PI*2/3),w.beginPath(),w.arc(0,$+5,4,0,Math.PI*2),w.fill(),w.beginPath(),w.moveTo(0,$),w.quadraticCurveTo(10,$+10,0,$+20),w.quadraticCurveTo(-5,$+10,0,$),w.fillStyle="rgba(220, 20, 60, 0.6)",w.fill();w.strokeStyle="#ef4444",w.lineWidth=1.5,w.beginPath(),w.arc(0,0,$,0,Math.PI*2),w.stroke()}else if(X==="GOLD"){w.rotate(se*.01),w.fillStyle="rgba(255, 215, 0, 0.1)",w.beginPath();for(let le=0;le<8;le++){const Ee=le*Math.PI/4;w.moveTo(0,0),w.lineTo(Math.cos(Ee)*50,Math.sin(Ee)*50)}w.fill(),w.strokeStyle="rgba(253, 224, 71, 0.8)",w.lineWidth=2,w.beginPath(),w.arc(0,0,$+5+Math.sin(se*.1)*2,0,Math.PI*2),w.stroke()}else if(X==="PIXEL"){w.strokeStyle="rgba(34, 211, 238, 0.5)",w.lineWidth=2;const le=50;w.setLineDash([5,5]),w.strokeRect(-le/2,-le/2,le,le),w.rotate(Math.PI/4),w.strokeRect(-le/2,-le/2,le,le),w.setLineDash([]),se%10<5&&(w.fillStyle="#22d3ee",w.fillRect(-30,-30,5,5),w.fillRect(25,25,5,5))}else if(X==="VOID"){w.fillStyle="#000",w.beginPath(),w.arc(0,0,$+5,0,Math.PI*2),w.fill(),w.strokeStyle="#7c3aed",w.lineWidth=2;for(let le=0;le<8;le++){const Ee=Math.PI*2/8*le+se*-.05,Ce=60-se%30;w.beginPath(),w.moveTo(Math.cos(Ee)*Ce,Math.sin(Ee)*Ce),w.lineTo(0,0),w.stroke()}w.shadowColor="#4c1d95",w.shadowBlur=10,w.beginPath(),w.arc(0,0,$+20,0,Math.PI*2),w.stroke(),w.shadowBlur=0}else if(X==="GHOST"){w.fillStyle="rgba(74, 222, 128, 0.1)",w.beginPath(),w.arc(0,0,$+15,0,Math.PI*2),w.fill(),w.strokeStyle="#4ade80",w.lineWidth=2;for(let le=0;le<3;le++){const Ee=se*.05+le*(Math.PI*2/3);w.beginPath(),w.arc(Math.cos(Ee)*30,Math.sin(Ee)*30,5,0,Math.PI*2),w.stroke()}}else if(X==="MECHA"){w.strokeStyle="#3b82f6",w.lineWidth=1,w.rotate(se*.02),w.beginPath();for(let le=0;le<6;le++){const Ee=le*Math.PI/3,Ce=Math.cos(Ee)*40,we=Math.sin(Ee)*40;w.moveTo(Ce+20,we);for(let $e=1;$e<=6;$e++)w.lineTo(Ce+20*Math.cos($e*Math.PI/3),we+20*Math.sin($e*Math.PI/3))}w.stroke()}else if(X==="FIRE"){w.shadowBlur=20,w.shadowColor="#f97316",w.rotate(se*.01),w.strokeStyle="#fbbf24",w.lineWidth=2,w.beginPath(),w.arc(0,0,$+40,0,Math.PI*2),w.stroke(),w.save(),w.rotate(se*-.03),w.strokeStyle="#f97316",w.lineWidth=4,w.setLineDash([10,10]),w.beginPath(),w.arc(0,0,$+25,0,Math.PI*2),w.stroke(),w.restore(),w.fillStyle="rgba(234, 88, 12, 0.2)";for(let le=0;le<3;le++)w.rotate(Math.PI*2/3),w.beginPath(),w.moveTo(0,-($+30)),w.lineTo(15,-$),w.lineTo(-15,-$),w.fill();w.shadowBlur=0}else if(X==="LIGHTNING"){if(se%5===0){w.strokeStyle="#facc15",w.lineWidth=2,w.shadowColor="#fef08a",w.shadowBlur=10,w.beginPath();const le=Math.random()*Math.PI*2;let Ee=Math.cos(le)*20,Ce=Math.sin(le)*20;w.moveTo(Ee,Ce);for(let we=0;we<4;we++)Ee+=(Math.random()-.5)*30,Ce+=(Math.random()-.5)*30,w.lineTo(Ee,Ce);w.stroke(),w.shadowBlur=0}}else if(X==="ICE"){w.strokeStyle="#a5f3fc",w.lineWidth=2,w.rotate(se*-.01);const le=6;for(let Ee=0;Ee<le;Ee++){const Ce=Math.PI*2/le*Ee;w.beginPath(),w.moveTo(0,0),w.lineTo(Math.cos(Ce)*40,Math.sin(Ce)*40),w.stroke()}}else if(X==="TOXIC"){w.fillStyle="rgba(132, 204, 22, 0.3)";for(let le=0;le<5;le++){const Ee=Math.PI*2/5*le+se*.03,Ce=Math.sin(se*.1+le)*5;w.beginPath(),w.arc(Math.cos(Ee)*(30+Ce),Math.sin(Ee)*(30+Ce),10,0,Math.PI*2),w.fill()}}w.restore()},Kn=(w,G)=>{const X=b.effectType,{x:z,y:W}=G.position;G.radius;const se=oe.current,$=Math.sin(se*.1)*2;w.save(),w.translate(z,W),de.current.x<0&&w.scale(-1,1),w.translate(0,$),X==="FIRE"?(w.fillStyle="#7c2d12",w.beginPath(),w.moveTo(-15,10),w.quadraticCurveTo(-30,20+Math.sin(se*.2)*5,-40,15),w.lineTo(-20,5),w.fill(),w.fillStyle="#991b1b",w.beginPath(),w.moveTo(-15,-10),w.lineTo(15,-10),w.lineTo(10,20),w.lineTo(-10,20),w.fill(),w.fillStyle="#f97316",w.shadowColor="#f97316",w.shadowBlur=10,w.beginPath(),w.moveTo(-5,-5),w.lineTo(5,-5),w.lineTo(0,5),w.fill(),w.shadowBlur=0,w.fillStyle="#7f1d1d",w.beginPath(),w.arc(0,-15,12,0,Math.PI*2),w.fill(),w.fillStyle="#fbbf24",w.beginPath(),w.moveTo(5,-20),w.quadraticCurveTo(15,-30,10,-15),w.fill(),w.beginPath(),w.moveTo(0,-20),w.quadraticCurveTo(-10,-35,-10,-15),w.fill(),w.fillStyle="#fff",w.fillRect(2,-18,4,2)):X==="MECHA"?(w.fillStyle="#1e3a8a",w.fillRect(-10,10,8,12),w.fillRect(2,10,8,12),w.fillStyle="#3b82f6",w.beginPath(),w.moveTo(-15,-10),w.lineTo(15,-10),w.lineTo(10,15),w.lineTo(-10,15),w.fill(),w.fillStyle="#60a5fa",w.fillRect(-22,-12,10,10),w.fillRect(12,-12,10,10),w.fillStyle="#eff6ff",w.fillRect(-8,-24,16,14),w.fillStyle="#00ff00",w.shadowColor="#00ff00",w.shadowBlur=5,w.fillRect(-6,-20,12,4),w.shadowBlur=0,w.strokeStyle="#93c5fd",w.lineWidth=2,w.beginPath(),w.moveTo(-8,-20),w.lineTo(-12,-35),w.stroke()):X==="VOID"?(w.fillStyle="#000",w.beginPath(),w.moveTo(0,-25),w.bezierCurveTo(20,-20,20,20,10,30+Math.sin(se*.1)*5),w.bezierCurveTo(0,25,-10,35,-10,30+Math.sin(se*.1+2)*5),w.bezierCurveTo(-20,20,-20,-20,0,-25),w.fill(),w.fillStyle="#2e1065",w.beginPath(),w.arc(0,-15,14,Math.PI,0),w.lineTo(14,0),w.quadraticCurveTo(0,10,-14,0),w.fill(),w.fillStyle="#a78bfa",w.shadowColor="#8b5cf6",w.shadowBlur=10,w.beginPath(),w.arc(4,-15,3,0,Math.PI*2),w.fill(),w.beginPath(),w.arc(-2,-15,3,0,Math.PI*2),w.fill(),w.shadowBlur=0):X==="GHOST"?(w.fillStyle="rgba(134, 239, 172, 0.6)",w.beginPath(),w.arc(0,-10,12,Math.PI,0),w.lineTo(12,10),w.quadraticCurveTo(5,20+Math.sin(se*.2)*5,0,15),w.quadraticCurveTo(-5,20+Math.sin(se*.2+2)*5,-12,10),w.fill(),w.fillStyle="#064e3b",w.beginPath(),w.arc(4,-12,2,0,Math.PI*2),w.fill(),w.beginPath(),w.arc(-4,-12,2,0,Math.PI*2),w.fill()):X==="GOLD"?(w.fillStyle="#dc2626",w.beginPath(),w.moveTo(-10,-10),w.lineTo(10,-10),w.lineTo(15,25),w.lineTo(-15,25),w.fill(),w.fillStyle="#fcd34d",w.beginPath(),w.arc(0,0,14,0,Math.PI*2),w.fill(),w.fillStyle="#f59e0b",w.beginPath(),w.moveTo(-8,-12),w.lineTo(-8,-22),w.lineTo(-4,-18),w.lineTo(0,-24),w.lineTo(4,-18),w.lineTo(8,-22),w.lineTo(8,-12),w.fill(),w.strokeStyle="#fff",w.lineWidth=3,w.beginPath(),w.moveTo(-8,-8),w.lineTo(8,8),w.stroke()):X==="BLOOD"?(w.strokeStyle="#ef4444",w.lineWidth=4,w.beginPath(),w.moveTo(0,-10),w.quadraticCurveTo(-20,-15+Math.sin(se*.3)*5,-30,-5),w.stroke(),w.fillStyle="#171717",w.beginPath(),w.arc(0,0,12,0,Math.PI*2),w.fill(),w.fillStyle="#ef4444",w.fillRect(-8,-5,16,3),w.strokeStyle="#525252",w.lineWidth=2,w.beginPath(),w.moveTo(-10,-10),w.lineTo(10,10),w.stroke()):X==="ICE"?(w.fillStyle="#cffafe",w.beginPath(),w.moveTo(0,-20),w.lineTo(10,-5),w.lineTo(5,10),w.lineTo(-5,10),w.lineTo(-10,-5),w.fill(),w.fillStyle="#06b6d4",w.beginPath(),w.moveTo(-10,-10),w.lineTo(-20,-15),w.lineTo(-12,0),w.fill(),w.beginPath(),w.moveTo(10,-10),w.lineTo(20,-15),w.lineTo(12,0),w.fill(),w.fillStyle="#fff",w.shadowColor="#22d3ee",w.shadowBlur=10,w.beginPath(),w.arc(0,-5,3,0,Math.PI*2),w.fill(),w.shadowBlur=0):X==="TOXIC"?(w.fillStyle="#3f6212",w.beginPath(),w.arc(0,0,14,0,Math.PI*2),w.fill(),w.fillStyle="#1a2e05",w.beginPath(),w.arc(0,-5,10,0,Math.PI*2),w.fill(),w.fillStyle="#84cc16",w.beginPath(),w.arc(-4,-8,3,0,Math.PI*2),w.fill(),w.beginPath(),w.arc(4,-8,3,0,Math.PI*2),w.fill(),w.fillStyle="#365314",w.fillRect(-3,-2,6,6)):X==="PIXEL"?(w.fillStyle="#22d3ee",w.fillRect(-10,-15,20,10),w.fillStyle="#ec4899",w.fillRect(-10,-5,20,20),se%10<2&&(w.fillStyle="#fff",w.fillRect(10,0,5,5))):X==="LIGHTNING"?(w.fillStyle="#facc15",w.beginPath(),w.ellipse(0,0,10,15,0,0,Math.PI*2),w.fill(),w.fillStyle="#fff",w.fillRect(-8,-10,16,4),se%5===0&&(w.strokeStyle="#fff",w.lineWidth=2,w.beginPath(),w.moveTo(10,0),w.lineTo(15,-5),w.stroke())):(w.fillStyle="#374151",w.fillRect(-12,-10,4,14),w.fillStyle="#1e3a8a",w.beginPath(),w.arc(0,0,12,0,Math.PI*2),w.fill(),w.fillStyle="#60a5fa",w.fillRect(4,-6,6,4)),w.restore()},hi=()=>{if(!b.activeSkill||M.current>0)return;const w=b.activeSkill;M.current=w.cooldown*60,St("skill"),bt(10);const G=b.effectType,X=o.attack*D.current.damageMulti;if(G==="FIRE"){te.current.push({id:Math.random().toString(),position:{...D.current.position},velocity:{x:0,y:0},color:"#f97316",life:60,maxLife:60,size:500,type:"SKILL_EXPLOSION"}),bt(20);const z=X*500;U.current.forEach(W=>{W.hp-=z,Y.current.push({id:Math.random().toString(),position:W.position,value:Math.floor(z),opacity:1,life:30,isCritical:!0})}),jt("  !"),setTimeout(()=>jt(null),2e3)}else if(G==="MECHA"){const z=X*100,W=5;for(let se=0;se<W;se++){const $=Math.random()*window.innerWidth;setTimeout(()=>{bt(5),te.current.push({id:Math.random().toString(),position:{x:$,y:0},velocity:{x:0,y:0},color:"blue",life:30,maxLife:30,size:150,type:"ORBITAL_LASER"}),U.current.forEach(le=>{Math.abs(le.position.x-$)<75&&(le.hp-=z,Y.current.push({id:Math.random().toString(),position:le.position,value:Math.floor(z),opacity:1,life:30,isCritical:!0}))}),St("explosion")},se*200)}}else if(G==="VOID"){bt(8);const z=X*200,W={x:window.innerWidth/2,y:window.innerHeight/2};U.current.forEach(se=>{se.position={...W},se.hp-=z,Y.current.push({id:Math.random().toString(),position:se.position,value:Math.floor(z),opacity:1,life:30,isCritical:!0})}),Xn(W,"VOID")}else if(G==="LIGHTNING"){bt(8);const z=X*50;U.current.forEach(W=>{W.hp-=z,Xn(W.position,"LIGHTNING"),Y.current.push({id:Math.random().toString(),position:W.position,value:Math.floor(z),opacity:1,life:30,isCritical:!0})})}else if(G==="GHOST")L.current=300,D.current.speed*=2,jt("  -  "),setTimeout(()=>jt(null),1e3);else if(G==="PIXEL"){bt(5);const z=X*30;k.current=[],U.current.forEach(W=>{W.hp-=z,Y.current.push({id:Math.random().toString(),position:W.position,value:Math.floor(z),opacity:1,life:30,isCritical:!0})}),jt(" !"),setTimeout(()=>jt(null),1e3)}},Qn=(w=1,G=!1,X=0,z=!1)=>{for(let W=0;W<w;W++){let se=0,$=0;const le=G?100:50,Ee=Math.max(window.innerWidth,window.innerHeight)/2+le,Ce=Math.random()*Math.PI*2;se=window.innerWidth/2+Math.cos(Ce)*Ee,$=window.innerHeight/2+Math.sin(Ce)*Ee;const we=Math.random();let $e="ZOMBIE";const Fe=1+(p-1)*.5;let tt=800*Fe,yn=3*Fe,Me=1,ze=to.ZOMBIE,it=10;G?($e="BOSS",X===2?(tt=1e6*Fe,yn=5e4*Fe,Me=.8,it=80,ze="#000"):(tt=8e4*Fe,yn=5e3*Fe,Me=.6,it=40,ze="#b91c1c")):z?($e="ZOMBIE",tt=500*Fe,yn=1*Fe,Me=1.2):we>.9?($e="TANK",tt=4e3*Fe,yn=30*Fe,Me=.5,ze=to.TANK,it=20):we>.7&&($e="FAST",tt=600*Fe,yn=5*Fe,Me=2,ze=to.FAST,it=8);const nn=D.current.level,Kt=G?Me:(Me+Math.min(nn,20)*.05)*(1+(p-1)*.1);let vn=1;G||(vn=1+nn*.2);const De=tt*vn,xn=(G?200:50+nn*5)*Fe;U.current.push({id:Math.random().toString(),position:{x:se,y:$},radius:it,color:ze,hp:De,maxHp:De,speed:Kt,damage:xn,xpValue:yn,type:$e})}},us=()=>{const w=Math.random()*Math.PI*2,G=Math.max(window.innerWidth,window.innerHeight)/2+50,X=window.innerWidth/2+Math.cos(w)*G,z=window.innerHeight/2+Math.sin(w)*G;K.current.push({id:Math.random().toString(),position:{x:X,y:z},radius:15,color:"#a16207",hp:50,maxHp:50})};B.useEffect(()=>{if(!h.current)return;const w=h.current,G=w.getContext("2d");if(!G)return;let X;const z=($,le=!1)=>{le||St("explosion"),Xn($.position,b.effectType),b.effectType==="GHOST"&&Math.random()<.1&&(Ne(Ce=>Math.min(Ue,Ce+1)),Y.current.push({id:Math.random().toString(),position:{...D.current.position},value:1,opacity:1,life:60,isCritical:!1,isGold:!1})),$.type==="BOSS"&&$.maxHp<1e6?j.current.push({id:Math.random().toString(),position:$.position,radius:20,color:to.TREASURE,life:300}):$.type!=="BOSS"&&O.current.push({id:Math.random().toString(),position:$.position,radius:5,color:to.GEM,value:$.xpValue});let Ee=100;$.type==="TANK"&&(Ee=500),$.type==="BOSS"&&(Ee=1e4),xe.current+=Math.floor(Ee*(1+(p-1)*.5)),yt(xe.current),$.type==="BOSS"&&$.maxHp>=1e6&&n(xe.current,!0,D.current.level),$.type==="BOSS"&&wi(null)},W=($,le)=>{$.save(),$.translate(le.position.x,le.position.y);const Ee=oe.current;if(p===1)if(le.type==="BOSS")$.fillStyle="#4c1d95",$.beginPath(),$.arc(0,0,le.radius,0,Math.PI*2),$.fill(),$.strokeStyle="#a855f7",$.lineWidth=3,$.stroke(),$.fillStyle="red",$.beginPath(),$.arc(-20,-10,8,0,Math.PI*2),$.fill(),$.beginPath(),$.arc(20,-10,8,0,Math.PI*2),$.fill();else{$.fillStyle=le.type==="TANK"?"#7f1d1d":le.type==="FAST"?"#d97706":"#9f1239",$.beginPath(),$.moveTo(le.radius,0);for(let Ce=0;Ce<8;Ce++){const we=Math.PI*2/8*Ce,$e=le.radius+Math.sin(we*3+Ee*.2)*2;$.lineTo(Math.cos(we)*$e,Math.sin(we)*$e)}$.closePath(),$.fill(),$.fillStyle="rgba(0,0,0,0.3)",$.beginPath(),$.arc(-3,-3,2,0,Math.PI*2),$.fill(),$.beginPath(),$.arc(4,2,3,0,Math.PI*2),$.fill()}else if(p===2)if(le.type==="BOSS")$.fillStyle="#374151",$.fillRect(-le.radius,-le.radius,le.radius*2,le.radius*2),$.strokeStyle="#f59e0b",$.lineWidth=4,$.strokeRect(-le.radius,-le.radius,le.radius*2,le.radius*2),$.fillStyle="#ef4444",$.fillRect(-30,-10,60,20);else{$.fillStyle=le.type==="TANK"?"#57534e":le.type==="FAST"?"#b45309":"#52525b";const Ce=le.radius*1.6;$.fillRect(-Ce/2,-Ce/2,Ce,Ce),$.fillStyle="#a1a1aa",$.fillRect(-Ce/2+2,-Ce/2+2,2,2),$.fillRect(Ce/2-4,-Ce/2+2,2,2),$.fillRect(-Ce/2+2,Ce/2-4,2,2),$.fillRect(Ce/2-4,Ce/2-4,2,2)}else if(p===3)if(le.type==="BOSS"){$.rotate(Ee*.01),$.fillStyle="#4c1d95",$.beginPath();for(let Ce=0;Ce<6;Ce++){const we=Math.PI*2/6*Ce;$.lineTo(Math.cos(we)*le.radius,Math.sin(we)*le.radius)}$.closePath(),$.fill(),$.strokeStyle="#c084fc",$.lineWidth=3,$.stroke()}else $.fillStyle=le.type==="TANK"?"#1e3a8a":le.type==="FAST"?"#8b5cf6":"#0ea5e9",$.rotate(Ee*(le.type==="FAST"?.1:.02)),$.beginPath(),$.moveTo(0,-le.radius),$.lineTo(le.radius,0),$.lineTo(0,le.radius),$.lineTo(-le.radius,0),$.closePath(),$.fill(),$.strokeStyle="rgba(255,255,255,0.5)",$.lineWidth=1,$.beginPath(),$.moveTo(0,-le.radius),$.lineTo(0,le.radius),$.stroke();else if(le.type==="BOSS")$.shadowColor="#d8b4fe",$.shadowBlur=20,$.fillStyle="#000",$.beginPath(),$.arc(0,0,le.radius,0,Math.PI*2),$.fill(),$.shadowBlur=0,$.strokeStyle="#fff",$.lineWidth=1,$.beginPath(),$.arc(0,0,le.radius-5,0,Math.PI*2),$.stroke();else{$.fillStyle="#000",$.beginPath();for(let Ce=0;Ce<=20;Ce++){const we=Math.PI*2/20*Ce,$e=Math.sin(Ee*.5+Ce)*3,Fe=le.radius+$e;$.lineTo(Math.cos(we)*Fe,Math.sin(we)*Fe)}$.closePath(),$.fill(),$.fillStyle=le.type==="TANK"?"#7f1d1d":le.type==="FAST"?"#4c1d95":"#be123c",$.beginPath(),$.arc(0,0,le.radius*.5,0,Math.PI*2),$.fill()}$.restore()},se=()=>{if(e===xt.PLAYING){oe.current++,M.current>0&&M.current--,L.current>0&&(L.current--,L.current===0&&b.effectType==="GHOST"&&(D.current.speed=C)),nl(Math.ceil(M.current/60)),R.current>0&&(R.current-=.5,R.current<0&&(R.current=0));const Me=U.current.find(ze=>ze.type==="BOSS");Me&&!Ht&&wi(Me),!Me&&Ht&&wi(null)}const $=Math.floor(oe.current/60),le=Math.floor($/60),Ee=$%60;Vt(`${le.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}`),$>=180&&!he.current.has(180)&&(he.current.add(180),jt("    !"),setTimeout(()=>jt(null),2e3)),$>=420&&!he.current.has(420)&&(he.current.add(420),jt("    !"),setTimeout(()=>jt(null),2e3));const Ce=Me=>{Qn(1,!0,Me),ce.current.add($),St("boss_spawn"),$n(!0),St("warning"),setTimeout(()=>$n(!1),3e3)};if(!ce.current.has($)&&$===300&&Ce(1),!ce.current.has($)&&$===600&&Ce(2),e===xt.PLAYING){let Me=0,ze=0;const it=ee.current;(it.w||it.arrowup||it.)&&(ze-=1),(it.s||it.arrowdown||it.)&&(ze+=1),(it.a||it.arrowleft||it.)&&(Me-=1),(it.d||it.arrowright||it.)&&(Me+=1);let nn=Me,Kt=ze;nn===0&&Kt===0&&(nn=J.current.x,Kt=J.current.y);const vn=Math.sqrt(nn**2+Kt**2);vn>0?F.current={x:nn/vn,y:Kt/vn}:F.current={x:0,y:0};const De=D.current;De.position={x:window.innerWidth/2,y:window.innerHeight/2};const xn={x:-F.current.x*De.speed,y:-F.current.y*De.speed};if(ue.current.x+=xn.x,ue.current.y+=xn.y,F.current.x!==0||F.current.y!==0){const Ie=Math.sqrt(F.current.x**2+F.current.y**2);Ie>0&&(de.current={x:F.current.x/Ie,y:F.current.y/Ie})}const Wn=b.effectType;if(Wn==="LIGHTNING"&&oe.current%60===0){const Ie=U.current.filter(Te=>Bt(De.position,Te.position)<300);if(Ie.length>0){const Te=Ie[Math.floor(Math.random()*Ie.length)],Ke=o.attack*De.damageMulti*3;Te.hp-=Ke,Y.current.push({id:Math.random().toString(),position:Te.position,value:Math.floor(Ke),opacity:1,life:30,isCritical:!0}),te.current.push({id:Math.random().toString(),position:Te.position,velocity:{x:0,y:0},color:"#facc15",life:10,maxLife:10,size:2,type:"LIGHTNING"})}}if(Wn==="VOID"&&U.current.forEach(Ie=>{if(Bt(De.position,Ie.position)<150){const Ke=Math.atan2(De.position.y-Ie.position.y,De.position.x-Ie.position.x);Ie.position.x+=Math.cos(Ke)*2,Ie.position.y+=Math.sin(Ke)*2,oe.current%10===0&&(Ie.hp-=o.attack*De.damageMulti*.2)}}),Wn==="MECHA"&&oe.current%300===0){const Ie=U.current;if(Ie.length>0){const Te=Ie[Math.floor(Math.random()*Ie.length)];te.current.push({id:Math.random().toString(),position:{x:Te.position.x,y:0},velocity:{x:0,y:0},color:"blue",life:30,maxLife:30,size:100,type:"ORBITAL_LASER"}),U.current.forEach(Ke=>{Math.abs(Ke.position.x-Te.position.x)<50&&(Ke.hp-=o.attack*De.damageMulti*10,Y.current.push({id:Math.random().toString(),position:Ke.position,value:9999,opacity:1,life:40,isCritical:!0}))}),St("explosion")}}if(Wn==="FIRE"){const Ie=120+Math.sin(oe.current*.05)*20;oe.current%5===0&&U.current.forEach(Te=>{const Ke=Bt(De.position,Te.position);Math.abs(Ke-Ie)<20&&(Te.hp-=o.attack*De.damageMulti*.5)})}oe.current%I_===0&&Qn(Math.min(5,1+Math.floor(xe.current/2e4))),($>=180&&$<240||$>=420&&$<480)&&oe.current%15===0&&Qn(3,!1,0,!0),oe.current>0&&oe.current%1500===0&&K.current.length<3&&us();const Qt=De.skills.guardian||0;if(Qt>0){const Ie=Qt>=6,Te=Ie?6:Qt+1,Ke=Ie?100:70,ft=Ie?.08:.05,wt=oe.current*ft;for(let ct=0;ct<Te;ct++){const kn=wt+ct*(Math.PI*2/Te),Sn=De.position.x+Math.cos(kn)*Ke,Zn=De.position.y+Math.sin(kn)*Ke;[...U.current,...K.current].forEach(rt=>{if(Math.sqrt(Math.pow(Sn-rt.position.x,2)+Math.pow(Zn-rt.position.y,2))<(Ie?25:20)+rt.radius){if("type"in rt){const ei=rt.type==="BOSS"?.5:5,Mi=Math.atan2(rt.position.y-De.position.y,rt.position.x-De.position.x);rt.position.x+=Math.cos(Mi)*ei,rt.position.y+=Math.sin(Mi)*ei}const un=Math.random()<De.critChance,Wt=De.damageMulti*10*(Ie?2:1)*(un?De.critDamageMulti:1);rt.hp-=Wt,oe.current%5===0&&Y.current.push({id:Math.random().toString(),position:{x:rt.position.x,y:rt.position.y},value:Math.floor(Wt),opacity:1,life:30,isCritical:un})}})}}oe.current-be.current>30/De.attackSpeedMulti&&(De.weapons.forEach(Ie=>{if(Ie===oi.GUARDIAN)return;let Te="kunai";Ie===oi.KUNAI?De.skills.katana?Te="katana":Te="kunai":Ie===oi.SHOTGUN?De.skills.revolver?Te="revolver":Te="shotgun":Ie===oi.BAT&&(Te="bat");const Ke=Te,ft=De.skills[Ke]||1,wt=ft>=6;let ct=null,kn=1/0;[...U.current,...K.current].forEach(Ln=>{const Dn=Bt(De.position,Ln.position);Dn<kn&&(kn=Dn,ct=Ln.position)});let Sn={...de.current};if(ct){const Ln=Math.atan2(ct.y-De.position.y,ct.x-De.position.x);Sn={x:Math.cos(Ln),y:Math.sin(Ln)}}const Zn=o.attack*De.damageMulti;let rt=1,Gl=0,un=12,Wt=120,ei=0,Mi=5,Bl="#fff",gi=Zn,ol=1;Te==="kunai"?(rt=1+(ft-1)+(De.skills.multi_shot||0),wt&&(rt+=2),un=18,Bl=wt?"#8b5cf6":"#2dd4bf",ei=3,Wt=80,ol=wt?2:1):Te==="katana"?(rt=1+(De.skills.multi_shot||0),un=10,Wt=40,Mi=20,ol=999,gi=Zn*1.2,wt&&(gi*=1.5,un=12)):Te==="shotgun"?(rt=3+(ft-1)+(De.skills.multi_shot||0),wt?(rt+=5,ei=2,Gl=.1):(Gl=.2,ei=0),un=12,Wt=45,Bl=wt?"#ef4444":"#facc15",gi=Zn*.7,ol=1):Te==="revolver"?(rt=1+(ft>3?1:0)+(De.skills.multi_shot||0),un=25,Wt=60,gi=Zn*2,ol=wt?999:2,ei=10):Te==="bat"&&(rt=1+(ft-1)+(De.skills.multi_shot||0),wt&&(rt=Math.floor(rt*1.5)),un=8,Wt=15,Mi=30,Bl="#fff",ei=5,gi=Zn*1.5,ol=999),St("shoot");for(let Ln=0;Ln<rt;Ln++){let Dn={...Sn};if(Te==="shotgun"||Te==="bat"){const _i=(Ln-(rt-1)/2)*(Te==="bat"?.3:Gl),Ri=Math.atan2(Sn.y,Sn.x);Dn={x:Math.cos(Ri+_i),y:Math.sin(Ri+_i)}}else if(Te==="shotgun"&&wt){const _i=(Math.random()-.5)*.1;Dn={x:Math.cos(Math.atan2(Sn.y,Sn.x)+_i),y:Math.sin(Math.atan2(Sn.y,Sn.x)+_i)}}const ti=Math.random()<De.critChance,fs=gi*(ti?De.critDamageMulti:1);q.current.push({delay:Ln*ei,velocity:{x:Dn.x*un,y:Dn.y*un},damage:fs,color:Bl,radius:Mi,isEvo:wt,duration:Wt,penetration:ol,weaponId:Te})}}),be.current=oe.current);for(let Ie=q.current.length-1;Ie>=0;Ie--){const Te=q.current[Ie];Te.delay<=0?(k.current.push({id:Math.random().toString(),position:{...De.position},velocity:Te.velocity,radius:Te.radius,color:Te.color,damage:Te.damage,duration:Te.duration,penetration:Te.penetration,isEvo:Te.isEvo,weaponId:Te.weaponId}),q.current.splice(Ie,1)):Te.delay--}[...U.current,...O.current,...k.current,...te.current,...K.current,...Q.current,...j.current,...Y.current].forEach(Ie=>{Ie.position.x+=xn.x,Ie.position.y+=xn.y});for(let Ie=k.current.length-1;Ie>=0;Ie--){const Te=k.current[Ie];if(Te.position.x+=Te.velocity.x,Te.position.y+=Te.velocity.y,Te.duration--,Te.duration<=0){k.current.splice(Ie,1);continue}for(let Ke=[...U.current,...K.current].length-1;Ke>=0;Ke--){const ft=[...U.current,...K.current][Ke];if(Bt(Te.position,ft.position)<Te.radius+ft.radius){const ct=Math.random()<De.critChance,kn=Te.damage*(ct?De.critDamageMulti:1);if(ft.hp-=kn,Te.penetration--,Y.current.push({id:Math.random().toString(),position:{x:ft.position.x,y:ft.position.y},value:Math.floor(kn),opacity:1,life:30,isCritical:ct}),Te.penetration<=0){k.current.splice(Ie,1);break}}}}for(let Ie=K.current.length-1;Ie>=0;Ie--){const Te=K.current[Ie];if(Te.hp<=0){St("explosion"),bt(5),Xn(Te.position,"PIXEL");const Ke=Math.random();let ft,wt;if(Ke<.33)ft=Ti.MAGNET;else if(Ke<.66)ft=Ti.BOMB;else{ft=Ti.GOLD;const ct=[10,50,100,250];wt=ct[Math.floor(Math.random()*ct.length)]}Q.current.push({id:Math.random().toString(),position:Te.position,radius:20,color:"white",type:ft,value:wt,life:600}),K.current.splice(Ie,1)}}const pa=L.current>0&&b.effectType==="GHOST";A.current=oe.current-V.current<30||pa;for(let Ie=U.current.length-1;Ie>=0;Ie--){const Te=U.current[Ie],Ke=Math.atan2(De.position.y-Te.position.y,De.position.x-Te.position.x);if(Te.position.x+=Math.cos(Ke)*Te.speed,Te.position.y+=Math.sin(Ke)*Te.speed,Bt(De.position,Te.position)<De.radius+Te.radius){let ft=0;b.effectType==="PIXEL"&&(ft=.15),A.current||(Math.random()>ft?(St("hit"),bt(3),V.current=oe.current,Ne(wt=>{const ct=wt-Te.damage;return ct<=0&&n(xe.current,!1,D.current.level),ct})):Y.current.push({id:Math.random().toString(),position:De.position,value:0,opacity:1,life:30,isCritical:!1}))}Te.hp<=0&&(z(Te),U.current.splice(Ie,1))}for(let Ie=Q.current.length-1;Ie>=0;Ie--){const Te=Q.current[Ie];Te.life--,Bt(De.position,Te.position)<De.radius+Te.radius?(Te.type===Ti.MAGNET&&(St("powerup"),O.current.forEach(Ke=>Ke.isForcePulled=!0)),Te.type===Ti.BOMB&&(St("explosion"),bt(10),U.current.forEach(Ke=>{Ke.type!=="BOSS"&&z(Ke,!0)}),U.current=U.current.filter(Ke=>Ke.type==="BOSS")),Te.type===Ti.GOLD&&Te.value&&(St("coin"),c(Te.value),Y.current.push({id:Math.random().toString(),position:Te.position,value:Te.value,opacity:1,life:60,isCritical:!1,isGold:!0})),Q.current.splice(Ie,1)):Te.life<=0&&Q.current.splice(Ie,1)}for(let Ie=O.current.length-1;Ie>=0;Ie--){const Te=O.current[Ie],Ke=Bt(De.position,Te.position);if(Ke<De.magnetRadius||Te.isForcePulled){const ft=Math.atan2(De.position.y-Te.position.y,De.position.x-Te.position.x),wt=Te.isForcePulled?25:12;Te.position.x+=Math.cos(ft)*wt,Te.position.y+=Math.sin(ft)*wt}Ke<De.radius+Te.radius&&(St("gem"),De.xp+=Te.value,Oe(De.xp/De.nextLevelXp*100),O.current.splice(Ie,1),De.xp>=De.nextLevelXp&&(St("levelup"),De.level++,De.xp=0,De.nextLevelXp=Math.floor(De.nextLevelXp*1.25),Re(De.level),Oe(0),l(xt.PAUSED),fo()))}for(let Ie=j.current.length-1;Ie>=0;Ie--){const Te=j.current[Ie];Bt(De.position,Te.position)<De.radius+Te.radius&&(St("treasure_open"),Dl(),l(xt.TREASURE_OPENING),j.current.splice(Ie,1))}}G.fillStyle=f.bg,G.fillRect(0,0,w.width,w.height);const we=(Math.random()-.5)*R.current,$e=(Math.random()-.5)*R.current;G.save(),G.translate(we,$e);const Fe=50,tt=ue.current.x%Fe,yn=ue.current.y%Fe;G.strokeStyle=f.grid,G.lineWidth=1,G.beginPath();for(let Me=tt;Me<w.width;Me+=Fe)G.moveTo(Me,0),G.lineTo(Me,w.height);for(let Me=yn;Me<w.height;Me+=Fe)G.moveTo(0,Me),G.lineTo(w.width,Me);if(G.stroke(),O.current.forEach(Me=>{G.fillStyle=to.GEM,G.shadowColor=to.GEM,G.shadowBlur=8,G.beginPath(),G.arc(Me.position.x,Me.position.y,4,0,Math.PI*2),G.fill(),G.shadowBlur=0}),j.current.forEach(Me=>ss(G,Me)),K.current.forEach(Me=>Rn(G,Me)),Q.current.forEach(Me=>qt(G,Me)),k.current.forEach(Me=>{as(G,Me)}),D.current.skills.guardian>0){const Me=D.current.skills.guardian>=6,ze=Me?6:D.current.skills.guardian+1,it=Me?100:70,nn=Me?.08:.05,Kt=oe.current*nn;for(let vn=0;vn<ze;vn++){const De=Kt+vn*(Math.PI*2/ze),xn=D.current.position.x+Math.cos(De)*it,Wn=D.current.position.y+Math.sin(De)*it;rs(G,xn,Wn,Me)}}Ni(G,D.current),(!A.current||oe.current%4<2)&&Kn(G,D.current),[...U.current,...K.current].forEach(Me=>{if("type"in Me?W(G,Me):(G.fillStyle=Me.color,G.beginPath(),G.arc(Me.position.x,Me.position.y,Me.radius,0,Math.PI*2),G.fill()),"type"in Me&&Me.type==="BOSS"&&(G.fillStyle="white",G.font="bold 12px Arial",G.textAlign="center",G.fillText("BOSS",Me.position.x,Me.position.y-Me.radius-15)),!("type"in Me)||Me.type!=="BOSS"){const ze="maxHp"in Me?30:20;G.fillStyle="#b91c1c",G.fillRect(Me.position.x-ze/2,Me.position.y-Me.radius-10,ze,4),G.fillStyle="#4ade80",G.fillRect(Me.position.x-ze/2,Me.position.y-Me.radius-10,ze*(Me.hp/Me.maxHp),4)}}),il(G,e!==xt.PLAYING),G.restore(),G.textAlign="center";for(let Me=Y.current.length-1;Me>=0;Me--){const ze=Y.current[Me];G.font=ze.isCritical?"bold 24px Arial":"bold 16px Arial",G.fillStyle=ze.isGold?`rgba(251, 191, 36, ${ze.opacity})`:ze.isCritical?`rgba(250, 204, 21, ${ze.opacity})`:`rgba(255, 255, 255, ${ze.opacity})`;const it=ze.isGold?`+${ze.value}G`:ze.value.toString();G.fillText(it,ze.position.x,ze.position.y),e===xt.PLAYING&&(ze.position.y-=.5,ze.life--,ze.opacity=ze.life/30,ze.life<=0&&Y.current.splice(Me,1))}X=requestAnimationFrame(se)};return X=requestAnimationFrame(se),()=>{cancelAnimationFrame(X)}},[e,o,n,b,St,f,p]);const fo=()=>{const G=[...Yo].filter($=>(D.current.skills[$.id]||0)<6),X=["kunai","shotgun","bat"],se=G.filter($=>X.includes($.id)?$.id===S:!0).sort(()=>.5-Math.random()).slice(0,3).map($=>{const le=D.current.skills[$.id]||0;return{id:$.id,name:$.name,description:le===5?"Ultimate Upgrade!":$.description,icon:$.icon,type:$.type,rarity:$.rarity,currentLevel:le,isEvo:le===5,title:le===5?"EVOLUTION!":le===0?"NEW!":"Level Up!"}});Mn(se)},Dl=()=>{const z=[...Yo].filter(W=>(D.current.skills[W.id]||0)<6).sort(()=>.5-Math.random()).slice(0,5).map(W=>({id:W.id,name:W.name,description:W.description,icon:W.icon,type:W.type,rarity:W.rarity,currentLevel:D.current.skills[W.id]||0,isEvo:(D.current.skills[W.id]||0)===5,title:"BONUS!"}));Ci(z)},pi=w=>{const G=D.current,X=G.skills[w.id]||0;if(G.skills[w.id]=X+1,w.id==="atk_up"&&(G.damageMulti+=.2),w.id==="spd_up"&&(G.speed+=dy*.15),w.id==="atk_spd_up"&&(G.attackSpeedMulti+=.15),w.id==="hp_up"){const z=G.hp/G.maxHp;G.maxHp*=1.3,G.hp=G.maxHp*z,_e(G.maxHp),Ne(G.hp)}w.id==="multi_shot"&&(G.projectileCount+=1),w.id==="magnet_core"&&(G.magnetRadius*=1.5),w.id==="crit_chance_up"&&(G.critChance+=.1),w.id==="crit_damage_up"&&(G.critDamageMulti+=.5)},cs=w=>{St("click"),pi(w),l(xt.PLAYING)},ho=()=>{St("click"),di.forEach(w=>pi(w)),Ci([]),l(xt.PLAYING)},po=w=>{J.current=w},Pl=()=>{J.current={x:0,y:0}},Ul=()=>{St("click"),l(xt.STATUS_MENU)},ll=()=>{St("click"),l(xt.PLAYING)},Ai={Sword:oo,Heart:Jy,Zap:es,Shield:eu,Activity:Cr,Footprints:jy,Copy:pT,Star:Il},mo=()=>{const w=D.current,G=Object.entries(w.skills).filter(([z,W])=>{const se=Yo.find($=>$.id===z);return(se==null?void 0:se.type)==="WEAPON"}),X=Object.entries(w.skills).filter(([z,W])=>{const se=Yo.find($=>$.id===z);return(se==null?void 0:se.type)==="STAT"});return m.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-lg border border-gray-600 shadow-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-4",children:[m.jsx("h2",{className:"text-2xl font-black text-white italic",children:""}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("button",{onClick:ll,className:"bg-green-600 hover:bg-green-500 text-white font-bold p-2 rounded-lg",children:m.jsx(ro,{className:"w-6 h-6 fill-current"})})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-2 uppercase tracking-wider",children:"Weapons"}),m.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[G.map(([z,W])=>{const se=Yo.find(Ce=>Ce.id===z);if(!se)return null;const $=Ai[se.icon]||oo,le=W,Ee=le>=6;return m.jsxs("div",{className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative bg-gray-700 ${Ee?"border-red-500 shadow-[0_0_10px_#ef4444]":"border-gray-600"}`,children:[m.jsx($,{className:`w-8 h-8 ${Ee?"text-red-400":"text-gray-300"}`}),Ee&&m.jsx("div",{className:"absolute -top-2 -right-2 text-[10px] font-black bg-red-600 text-white px-1.5 py-0.5 rounded-full",children:"EVO"}),m.jsx("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from({length:5}).map((Ce,we)=>m.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${we<(Ee?5:le)?"bg-yellow-400":"bg-gray-600"}`},we))})]},z)}),Array.from({length:Math.max(0,6-G.length)}).map((z,W)=>m.jsx("div",{className:"aspect-square rounded-xl border border-gray-700 bg-gray-800/50 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 text-gray-700",children:m.jsx(oo,{className:"opacity-20"})})},`empty-w-${W}`))]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-2 uppercase tracking-wider",children:"Supplies"}),m.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[X.map(([z,W])=>{const se=Yo.find(Ee=>Ee.id===z);if(!se)return null;const $=Ai[se.icon]||Cr,le=W;return m.jsxs("div",{className:"aspect-square rounded-xl border-2 border-gray-600 flex flex-col items-center justify-center relative bg-gray-700",children:[m.jsx($,{className:"w-8 h-8 text-gray-300"}),m.jsx("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from({length:5}).map((Ee,Ce)=>m.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ce<le?"bg-yellow-400":"bg-gray-600"}`},Ce))})]},z)}),Array.from({length:Math.max(0,6-X.length)}).map((z,W)=>m.jsx("div",{className:"aspect-square rounded-xl border border-gray-700 bg-gray-800/50 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 text-gray-700",children:m.jsx(lo,{className:"opacity-20"})})},`empty-p-${W}`))]})]}),m.jsxs("div",{className:"bg-gray-900/60 p-4 rounded-xl border border-gray-700",children:[m.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-3 uppercase tracking-wider",children:"Current Stats"}),m.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between px-2",children:[m.jsx("span",{className:"text-gray-400",children:"ATK"})," ",m.jsx("span",{className:"font-bold text-white",children:Math.floor(o.attack*w.damageMulti)})]}),m.jsxs("div",{className:"flex justify-between px-2",children:[m.jsx("span",{className:"text-gray-400",children:"HP"})," ",m.jsxs("span",{className:"font-bold text-white",children:[Math.floor(ge)," / ",Math.floor(Ue)]})]}),m.jsxs("div",{className:"flex justify-between px-2",children:[m.jsx("span",{className:"text-gray-400",children:"Speed"})," ",m.jsx("span",{className:"font-bold text-white",children:w.speed.toFixed(1)})]}),m.jsxs("div",{className:"flex justify-between px-2",children:[m.jsx("span",{className:"text-gray-400",children:"Crit"})," ",m.jsxs("span",{className:"font-bold text-yellow-400",children:[(w.critChance*100).toFixed(0),"%"]})]})]})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 flex flex-col gap-3",children:[m.jsx("button",{onClick:ll,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all",children:""}),m.jsx("button",{onClick:()=>n(xe.current,!1,Se),className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl border-b-4 border-red-800 active:border-b-0 active:translate-y-1 transition-colors",children:""})]})]})})},In=()=>{if(!b.activeSkill)return m.jsx("div",{className:"absolute bottom-12 right-12 w-20 h-20 rounded-full bg-gray-800/80 border-2 border-gray-600 flex items-center justify-center pointer-events-none opacity-50 shadow-lg",children:m.jsx(Xy,{className:"w-8 h-8 text-gray-500"})});const w=b.activeSkill,G=L_[w.iconName]||es,X=_n>0;return m.jsxs("div",{className:"absolute bottom-12 right-12 w-24 h-24 rounded-full flex items-center justify-center z-40 touch-none active:scale-95 transition-transform",onTouchStart:z=>{z.preventDefault(),hi()},onMouseDown:z=>{z.preventDefault(),hi()},children:[m.jsx("div",{className:"absolute inset-[-4px] rounded-full animate-pulse",style:{backgroundColor:w.visualColor,opacity:.5}}),m.jsxs("div",{className:"w-full h-full rounded-full border-4 flex items-center justify-center relative overflow-hidden bg-gray-900 shadow-2xl",style:{borderColor:w.visualColor},children:[m.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundColor:w.visualColor}}),m.jsx(G,{className:`w-12 h-12 relative z-10 transition-all ${X?"text-gray-500":"text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]"}`,strokeWidth:2}),X&&m.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-20",children:m.jsx("span",{className:"text-white font-black text-2xl animate-pulse",children:_n})})]}),m.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap bg-black/60 px-2 py-1 rounded text-[10px] font-bold text-white border border-gray-600",children:w.name})]})};return m.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[m.jsx("canvas",{ref:h,width:window.innerWidth,height:window.innerHeight,className:"block"}),Jn&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-red-900/40 animate-[pulse_0.5s_infinite] pointer-events-none",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx(bf,{className:"w-24 h-24 text-red-500 animate-bounce"}),m.jsx("h1",{className:"text-6xl font-black text-red-500 drop-shadow-[0_0_20px_rgba(220,38,38,0.8)] italic tracking-widest mt-4 animate-pulse",children:"WARNING"}),m.jsx("p",{className:"text-white font-bold text-2xl mt-2 tracking-widest uppercase",children:"Boss Approaching"})]})}),Ht&&m.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 w-[80%] max-w-2xl z-40 flex flex-col items-center pointer-events-none animate-in slide-in-from-top-10 fade-in duration-500",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(fd,{className:"w-6 h-6 text-red-500"}),m.jsx("span",{className:"font-black text-red-500 text-xl drop-shadow-md",children:"BOSS"})]}),m.jsxs("div",{className:"w-full h-6 bg-black/80 rounded-full border-2 border-red-900 overflow-hidden relative shadow-2xl",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-800 via-red-600 to-red-500 transition-all duration-200",style:{width:`${Ht.hp/Ht.maxHp*100}%`}}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent"})]}),m.jsxs("span",{className:"text-white font-bold text-sm mt-1 drop-shadow-lg",children:[(Ht.hp/Ht.maxHp*100).toFixed(1),"%"]})]}),Rt&&m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-40 pointer-events-none",children:m.jsxs("div",{className:"bg-black/80 text-white font-black text-2xl md:text-3xl px-8 py-4 rounded-xl border-2 border-yellow-500 shadow-lg flex items-center gap-4",style:{animation:"pulse-and-fade 2s ease-out forwards"},children:[m.jsx(bf,{className:"w-8 h-8 text-yellow-500"})," ",Rt," ",m.jsx(bf,{className:"w-8 h-8 text-yellow-500"})]})}),m.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start pointer-events-none",children:[m.jsxs("div",{className:"flex flex-col gap-1 w-1/3",children:[m.jsxs("div",{className:"h-4 bg-gray-800 rounded-full border border-gray-600 overflow-hidden relative",children:[m.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-300",style:{width:`${ge/Ue*100}%`}}),m.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-white drop-shadow",children:[Math.ceil(ge)," / ",Math.ceil(Ue)]})]}),m.jsx("div",{className:"h-2 bg-gray-800 rounded-full border border-gray-600 overflow-hidden relative mt-1",children:m.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500 transition-all duration-300",style:{width:`${Le}%`}})}),m.jsxs("div",{className:"text-white font-bold text-sm drop-shadow-md",children:["LV. ",Se]})]}),m.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 mt-2 flex items-center gap-1 bg-black/40 px-3 py-1 rounded-full border border-gray-500",children:[m.jsx(rd,{className:"w-4 h-4 text-white"}),m.jsx("span",{className:"font-mono text-xl font-bold text-white tracking-widest",children:rn})]}),m.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[m.jsx("div",{className:"text-white font-black text-xl drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] hidden sm:block",children:Pe.toLocaleString()}),m.jsx("button",{onClick:Ul,className:"bg-gray-800/80 hover:bg-gray-700 text-white p-2 rounded-lg backdrop-blur-sm border border-gray-600 transition-colors",children:m.jsx(Ky,{className:"w-6 h-6 fill-current"})})]})]}),m.jsxs("div",{className:"absolute top-20 left-4 bg-black/40 p-2 rounded-lg border border-gray-600 pointer-events-none",children:[m.jsx(oo,{className:"w-6 h-6 text-white"}),m.jsx("span",{className:"text-[10px] text-white font-bold block text-center mt-1",children:S.toUpperCase()})]}),e===xt.STATUS_MENU&&mo(),e===xt.PAUSED&&m.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl max-w-md w-full border border-gray-600 shadow-2xl",children:[m.jsx("h2",{className:"text-2xl font-black text-yellow-400 text-center mb-6 italic",children:"LEVEL UP!"}),m.jsx("div",{className:"space-y-3",children:fi.map((w,G)=>{const X=Ai[w.icon]||Cr;return m.jsxs("div",{onClick:()=>cs(w),className:`p-4 rounded-xl border-2 cursor-pointer transition-transform hover:scale-105 active:scale-95 flex items-center gap-4 ${w.isEvo?"bg-purple-900/50 border-purple-400":"bg-gray-700 hover:bg-gray-600 border-gray-500"}`,children:[m.jsx("div",{className:`w-14 h-14 rounded-lg flex items-center justify-center ${w.isEvo?"bg-purple-600 text-white shadow-[0_0_15px_#a855f7]":"bg-gray-800 text-gray-300"}`,children:m.jsx(X,{})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("h3",{className:`font-bold ${w.isEvo?"text-purple-300":"text-white"}`,children:w.name}),w.isEvo?m.jsxs("div",{className:"flex items-center gap-1 text-purple-400 text-xs font-black",children:[m.jsx(Il,{className:"w-3 h-3 fill-current"})," EVO"]}):m.jsxs("div",{className:"flex gap-0.5",children:[Array.from({length:5}).map((z,W)=>m.jsx("div",{className:`w-2 h-2 rounded-full ${W<w.currentLevel?"bg-yellow-400":"bg-gray-600"}`},W)),m.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse ml-1"})]})]}),m.jsx("p",{className:"text-xs text-gray-400",children:w.description})]})]},G)})})]})}),e===xt.TREASURE_OPENING&&m.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center z-50 animate-in fade-in duration-300",children:m.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl max-w-lg w-full border-2 border-yellow-500 shadow-2xl shadow-yellow-500/20",children:[m.jsxs("div",{className:"flex flex-col items-center mb-6",children:[m.jsx(Yy,{className:"w-16 h-16 text-yellow-400 drop-shadow-[0_0_10px_#facc15]"}),m.jsx("h2",{className:"text-3xl font-black text-yellow-300 text-center italic mt-2",children:"TREASURE!"}),m.jsx("p",{className:"text-yellow-500 text-sm",children:"   !"})]}),m.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:di.map((w,G)=>{const X=Ai[w.icon]||Cr;return m.jsxs("div",{className:"p-3 rounded-xl bg-gray-700 border border-gray-600 flex flex-col items-center gap-2 text-center animate-in zoom-in-50 slide-in-from-bottom-5 duration-500",style:{animationDelay:`${G*100}ms`},children:[m.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-lg flex items-center justify-center text-gray-300",children:m.jsx(X,{})}),m.jsx("h3",{className:"font-bold text-white text-xs",children:w.name})]},G)})}),m.jsx("button",{onClick:ho,className:"w-full py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-bold rounded-lg transition-colors border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1",children:" "})]})}),m.jsx(k_,{onMove:po,onStop:Pl}),m.jsx(In,{})]})},P_=({chapterId:n})=>{const e=B.useRef(null);return B.useEffect(()=>{const l=e.current;if(!l)return;const o=l.getContext("2d");if(!o)return;let r;const a=l.width,c=l.height,f=(v,E,C,N)=>{v.fillStyle="#0f172a",v.fillRect(0,0,E,C),v.fillStyle="white";for(let P=0;P<50;P++){const D=(Math.random()*E*2+N*.01)%E,V=Math.random()*C*.6,A=Math.random()*1.5;v.globalAlpha=Math.random(),v.fillRect(D,V,A,A)}v.globalAlpha=1,v.fillStyle="#1e293b",v.beginPath(),v.moveTo(0,C),v.lineTo(E*.2,C*.7),v.lineTo(E*.8,C*.7),v.lineTo(E,C),v.fill(),v.strokeStyle="#f59e0b",v.lineWidth=3,v.setLineDash([20,25]),v.beginPath(),v.moveTo(E*.5,C),v.lineTo(E*.5,C*.7),v.stroke(),v.setLineDash([]),[{x:.05,h:.6,w:.15,c:"#1e293b"},{x:.2,h:.4,w:.2,c:"#334155"},{x:.6,h:.5,w:.1,c:"#1e293b"},{x:.75,h:.7,w:.2,c:"#334155"}].forEach(P=>{v.fillStyle=P.c,v.fillRect(E*P.x,C*.7-C*P.h,E*P.w,C*P.h),v.fillStyle="#f59e0b";for(let D=C*.7-C*P.h+10;D<C*.7-10;D+=15)for(let V=E*P.x+10;V<E*P.x+E*P.w-10;V+=15)Math.random()>.6&&v.fillRect(V,D,5,5)})},p=(v,E,C,N)=>{v.fillStyle="#2a1a1a",v.fillRect(0,0,E,C),v.fillStyle="#4f2a2a",v.fillRect(0,C*.8,E,C*.2),v.fillStyle="#1a0f0f",v.beginPath(),v.moveTo(E*.1,C*.8),v.lineTo(E*.1,C*.3),v.lineTo(E*.3,C*.3),v.lineTo(E*.35,C*.1),v.lineTo(E*.4,C*.1),v.lineTo(E*.45,C*.3),v.lineTo(E*.7,C*.3),v.lineTo(E*.7,C*.8),v.fill(),v.fillStyle="rgba(255, 255, 255, 0.1)";const I=E*.375;for(let D=0;D<5;D++){const V=C*.1-(N*.1+D*20)%100,A=10+(N*.1+D*20)%100*.2;v.beginPath(),v.arc(I,V,A,0,Math.PI*2),v.fill()}v.fillStyle="#3a2a2a";const P=(D,V,A,M)=>{v.beginPath();const L=Math.PI*2/(M*2);for(let R=0;R<M*2;R++){const U=R%2===0?A:A*.8,k=R*L+N*.005;v.lineTo(D+Math.cos(k)*U,V+Math.sin(k)*U)}v.closePath(),v.fill()};P(E*.8,C*.6,40,8),P(E*.9,C*.85,30,6)},h=(v,E,C,N)=>{v.fillStyle="#1a1a2e",v.fillRect(0,0,E,C);const I=[{x:.2,y:.8,s:80,c:"#4a4ae6"},{x:.8,y:.7,s:100,c:"#a262e6"},{x:.5,y:.9,s:50,c:"#62e6e6"},{x:.3,y:.3,s:40,c:"#e662e6"}],P=(D,V,A,M,L)=>{v.save(),v.translate(D,V),v.fillStyle=M,v.globalAlpha=.5+Math.sin(L*.002+D)*.2,v.shadowColor=M,v.shadowBlur=20,v.beginPath(),v.moveTo(0,-A),v.lineTo(A/2,0),v.lineTo(0,A),v.lineTo(-A/2,0),v.closePath(),v.fill(),v.shadowBlur=0,v.globalAlpha=1,v.restore()};I.forEach(D=>{P(E*D.x,C*D.y,D.s,D.c,N)})},g=(v,E,C,N)=>{v.fillStyle="#0c0c0d",v.fillRect(0,0,E,C),v.strokeStyle="#a855f7",v.lineWidth=2,v.shadowColor="#d8b4fe",v.shadowBlur=15;const I=(P,D,V)=>{v.beginPath(),v.moveTo(P,D);let A=D;for(;A<D+V;){const M=A+Math.random()*20+5,L=P+(Math.random()-.5)*30;v.lineTo(L,M),A=M,P=L}v.stroke()};Math.random()>.95&&I(Math.random()*E,0,C),v.fillStyle="#d8b4fe",v.shadowBlur=0;for(let P=0;P<10;P++){const D=Math.random()*E,V=C-(N*.2+P*50)%C;v.globalAlpha=Math.random()*.5,v.fillRect(D,V,2,2)}v.globalAlpha=1};let b=0;const S=()=>{switch(b++,o.clearRect(0,0,a,c),n){case 1:f(o,a,c,b);break;case 2:p(o,a,c,b);break;case 3:h(o,a,c,b);break;case 4:g(o,a,c,b);break;default:f(o,a,c,b);break}r=requestAnimationFrame(S)};return S(),()=>{cancelAnimationFrame(r)}},[n]),m.jsx("canvas",{ref:e,width:500,height:300,className:"max-w-full max-h-full object-contain drop-shadow-[0_10px_15px_rgba(0,0,0,0.5)]"})},hy={"Baseball Bat":{path:"M20,80 C15,85 10,95 15,100 C20,105 30,100 35,95 L80,20 C85,15 95,5 90,0 C85,-5 75,5 70,10 Z M30,80 L40,70 M50,60 L60,50 M25,85 L35,75",viewBox:"0 0 100 100",color:"#8D6E63",accent:"#BDBDBD"},Katana:{path:"M10,90 L20,80 L30,85 L20,95 Z M25,75 Q50,50 90,10 L95,5 L85,15 Q45,55 20,80 Z",viewBox:"0 0 100 100",color:"#E0E0E0",accent:"#212121"},Shotgun:{path:"M10,60 L30,60 L35,50 L90,50 L90,65 L35,65 L30,75 L10,75 Z M40,65 L85,65 M40,55 L85,55",viewBox:"0 0 100 100",color:"#424242",accent:"#8D6E63"},Revolver:{path:"M10,70 L25,70 C30,60 35,60 40,55 L80,55 L80,45 L40,45 L35,35 L20,40 L25,50 L10,70 Z M45,50 A5,5 0 1,0 45,60 A5,5 0 1,0 45,50",viewBox:"0 0 100 100",color:"#B0BEC5",accent:"#5D4037"},Kunai:{path:"M50,10 L65,50 L50,90 L35,50 Z M45,85 L55,85 L55,95 L45,95 Z M50,95 A5,5 0 1,0 50,105 A5,5 0 1,0 50,95",viewBox:"0 0 100 120",color:"#212121",accent:"#E0E0E0"},"Magic Staff":{path:"M45,95 L55,95 L52,30 L48,30 Z M50,10 L35,25 L50,40 L65,25 Z",viewBox:"0 0 100 100",color:"#FFD700",accent:"#9C27B0"},"Emerald Necklace":{path:"M30,30 Q50,70 70,30 M50,70 L40,85 L50,100 L60,85 Z",viewBox:"0 0 100 100",color:"#50C878",accent:"#FFD700"},"Thorn Necklace":{path:"M20,20 Q50,80 80,20 M30,50 L20,60 M70,50 L80,60 M50,75 L50,90 L40,80 L60,80 Z",viewBox:"0 0 100 100",color:"#5D4037",accent:"#8D6E63"},"Metal Necklace":{path:"M25,25 Q50,75 75,25 M45,75 A10,10 0 1,0 55,75 M40,75 L60,75",viewBox:"0 0 100 100",color:"#B0BEC5",accent:"#607D8B"},"Bone Necklace":{path:"M20,20 Q50,70 80,20 M45,70 A5,5 0 1,0 55,70 L52,90 A3,3 0 1,0 48,90 Z",viewBox:"0 0 100 100",color:"#FFF8E1",accent:"#D7CCC8"},"Crystal Talisman":{path:"M30,30 Q50,60 70,30 M50,60 L40,70 L50,95 L60,70 Z",viewBox:"0 0 100 100",color:"#00BCD4",accent:"#E0F7FA"},"Golden Chain":{path:"M20,20 C30,40 40,60 50,80 C60,60 70,40 80,20 M45,80 L55,80 L55,90 L45,90 Z",viewBox:"0 0 100 100",color:"#FFC107",accent:"#FFA000"},"Leather Gloves":{path:"M30,80 L30,40 L40,30 L50,30 L60,40 L70,30 L70,80 Z M30,80 L70,80",viewBox:"0 0 100 100",color:"#795548",accent:"#3E2723"},"Shining Gloves":{path:"M30,85 L25,45 L35,35 L50,25 L65,35 L75,45 L70,85 Z M40,50 L60,50 M50,30 L50,50",viewBox:"0 0 100 100",color:"#FFFFFF",accent:"#E1F5FE"},"Destroyer Gloves":{path:"M25,85 L25,45 L35,35 L50,30 L65,35 L75,45 L75,85 Z M35,45 L30,40 M50,40 L50,35 M65,45 L70,40",viewBox:"0 0 100 100",color:"#212121",accent:"#F44336"},"Military Gloves":{path:"M25,80 L25,50 L40,40 L60,40 L75,50 L75,80 Z M30,60 H70 M30,70 H70",viewBox:"0 0 100 100",color:"#558B2F",accent:"#33691E"},"Ruler's Gloves":{path:"M30,90 L25,50 L40,30 L60,30 L75,50 L70,90 Z M50,50 A10,10 0 1,0 50,70 A10,10 0 1,0 50,50",viewBox:"0 0 100 100",color:"#7B1FA2",accent:"#FFD700"},"Void Gauntlets":{path:"M30,90 L25,40 L40,20 L60,20 L75,40 L70,90 Z M40,50 L60,50 M50,30 L50,90",viewBox:"0 0 100 100",color:"#311B92",accent:"#000000"},"Metal Suit":{path:"M20,20 L80,20 L90,40 L80,90 L20,90 L10,40 Z M40,40 L60,40 L60,60 L40,60 Z",viewBox:"0 0 100 100",color:"#90A4AE",accent:"#37474F"},"Traveler Cloak":{path:"M30,20 L70,20 L80,90 L20,90 Z M40,20 L40,90 M60,20 L60,90",viewBox:"0 0 100 100",color:"#D7CCC8",accent:"#8D6E63"},"Bulletproof Vest":{path:"M25,20 L75,20 L85,40 L80,85 L20,85 L15,40 Z M35,40 H65 M35,55 H65 M35,70 H65",viewBox:"0 0 100 100",color:"#212121",accent:"#424242"},"Military Uniform":{path:"M20,20 L80,20 L90,45 L85,90 L15,90 L10,45 Z M50,20 L50,90 M30,30 H70",viewBox:"0 0 100 100",color:"#33691E",accent:"#1B5E20"},"Shadow Tunic":{path:"M25,20 L75,20 L85,35 L80,90 L20,90 L15,35 Z M50,40 L60,50 L50,60 L40,50 Z",viewBox:"0 0 100 100",color:"#1A237E",accent:"#000000"},"Full Plate":{path:"M15,15 L85,15 L95,40 L80,95 L20,95 L5,40 Z M30,40 L70,40 M50,15 L50,95",viewBox:"0 0 100 100",color:"#CFD8DC",accent:"#B0BEC5"},"Energy Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M40,40 L40,60 M60,40 L60,60 M45,45 H55 V55 H45 Z",viewBox:"0 0 100 100",color:"#2979FF",accent:"#80D8FF"},"Leather Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M30,40 L30,60 M45,42 H55 V58 H45 Z",viewBox:"0 0 100 100",color:"#795548",accent:"#FFD700"},"Fashion Belt":{path:"M10,42 L90,42 L90,58 L10,58 Z M40,35 L50,65 L60,35",viewBox:"0 0 100 100",color:"#F48FB1",accent:"#E91E63"},"Military Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M20,40 V60 M35,40 V60 M65,40 V60 M80,40 V60",viewBox:"0 0 100 100",color:"#33691E",accent:"#1B5E20"},"Champion Belt":{path:"M5,35 L95,35 L90,65 L10,65 Z M35,35 L35,65 M65,35 L65,65 M50,40 A10,10 0 1,0 50,60 A10,10 0 1,0 50,40",viewBox:"0 0 100 100",color:"#FFC107",accent:"#FF6F00"},"Assassin Sash":{path:"M10,45 L90,45 L85,60 L15,60 Z M40,45 L40,75 M55,45 L50,75",viewBox:"0 0 100 100",color:"#D32F2F",accent:"#B71C1C"},"Military Boots":{path:"M20,90 L20,50 L50,50 L50,80 L80,80 L80,90 Z M25,55 H45 M25,65 H45 M25,75 H45",viewBox:"0 0 100 100",color:"#212121",accent:"#616161"},"Energy Runners":{path:"M15,90 L20,60 L50,55 L85,75 L85,90 Z M30,90 L40,80 L60,80 L70,90",viewBox:"0 0 100 100",color:"#C6FF00",accent:"#76FF03"},"Prosthetic Leg":{path:"M30,90 L30,40 L50,40 L50,90 Z M30,60 H50 M30,75 H50",viewBox:"0 0 100 100",color:"#BDBDBD",accent:"#757575"},"High Boots":{path:"M25,90 L25,30 L50,30 L55,80 L80,80 L80,90 Z M25,30 L50,35",viewBox:"0 0 100 100",color:"#5D4037",accent:"#3E2723"},"Ninja Tabi":{path:"M20,90 L25,60 L50,60 L80,85 L80,90 Z M80,85 L80,60",viewBox:"0 0 100 100",color:"#212121",accent:"#424242"},"Iron Greaves":{path:"M25,90 L20,40 L55,40 L60,80 L85,80 L85,90 Z M30,50 L50,50 M30,70 L55,70",viewBox:"0 0 100 100",color:"#90A4AE",accent:"#546E7A"}},U_={COMMON:{color:"#9E9E9E",bgGradient:"linear-gradient(135deg, #424242 0%, #212121 100%)",border:"1px solid #616161",boxShadow:"none"},MAGIC:{color:"#66BB6A",bgGradient:"linear-gradient(135deg, #1B5E20 0%, #004D40 100%)",border:"1px solid #4CAF50",boxShadow:"0 0 5px rgba(76, 175, 80, 0.3)"},EXQUISITE:{color:"#42A5F5",bgGradient:"linear-gradient(135deg, #0D47A1 0%, #01579B 100%)",border:"1px solid #2196F3",boxShadow:"0 0 8px rgba(33, 150, 243, 0.4)"},RARE:{color:"#AB47BC",bgGradient:"linear-gradient(135deg, #4A148C 0%, #311B92 100%)",border:"2px solid #9C27B0",boxShadow:"0 0 10px rgba(156, 39, 176, 0.5)"},EXCELLENT:{color:"#FFA726",bgGradient:"linear-gradient(135deg, #E65100 0%, #BF360C 100%)",border:"2px solid #FF9800",boxShadow:"0 0 12px rgba(255, 152, 0, 0.6)",animation:"pulse 2s infinite"},EPIC:{color:"#FF5722",bgGradient:"linear-gradient(135deg, #BF360C 0%, #880E4F 100%)",border:"2px solid #F4511E",boxShadow:"0 0 15px rgba(244, 81, 30, 0.7)",animation:"pulse 1.5s infinite"},LEGEND:{color:"#F44336",bgGradient:"linear-gradient(135deg, #B71C1C 0%, #880E4F 100%)",border:"2px solid #D32F2F",boxShadow:"0 0 20px rgba(211, 47, 47, 0.8)",animation:"breathing 2s infinite alternate"},ETERNAL:{color:"#F50057",bgGradient:"linear-gradient(135deg, #880E4F 0%, #4A148C 100%)",border:"2px solid #C51162",boxShadow:"0 0 25px rgba(245, 0, 87, 0.8), 0 0 10px #FF4081 inset",animation:"pulse 1s infinite"},TRANSCENDENT:{color:"#00E5FF",bgGradient:"linear-gradient(135deg, #006064 0%, #1A237E 100%)",border:"2px solid #00B8D4",boxShadow:"0 0 30px rgba(0, 229, 255, 0.8), 0 0 15px #18FFFF inset",animation:"electric 0.5s infinite alternate"},GOLDEN:{color:"#FFD700",bgGradient:"linear-gradient(135deg, #FF6F00 0%, #FFD700 50%, #FF6F00 100%)",border:"2px solid #FFD700",boxShadow:"0 0 40px rgba(255, 215, 0, 0.9), 0 0 20px #FFF59D inset",animation:"shine 2s infinite linear"},FOREVER:{color:"#FFFFFF",bgGradient:"conic-gradient(from 0deg, #FF0000, #FF7F00, #FFFF00, #00FF00, #0000FF, #4B0082, #9400D3, #FF0000)",border:"3px solid #FFFFFF",boxShadow:"0 0 50px rgba(255, 255, 255, 1), 0 0 30px rgba(255,255,255,0.8) inset",animation:"rotate-bg 3s linear infinite"}},io=({name:n,rarity:e,size:l="md",className:o="",onClick:r,showName:a=!1,count:c})=>{const f=hy[n]||hy.Kunai,p=U_[e],h={sm:"w-10 h-10",md:"w-14 h-14 sm:w-16 sm:h-16",lg:"w-20 h-20"},g=["LEGEND","ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"].includes(e),b=["GOLDEN","FOREVER"].includes(e);return m.jsxs("div",{onClick:r,className:`relative rounded-xl flex items-center justify-center transition-transform hover:scale-105 active:scale-95 cursor-pointer overflow-hidden group ${h[l]} ${o}`,style:{background:p.bgGradient,border:p.border,boxShadow:p.boxShadow},children:[e==="GOLDEN"&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent skew-x-12 animate-[shine_2s_infinite]"}),m.jsxs("svg",{viewBox:f.viewBox,className:`w-[70%] h-[70%] z-10 drop-shadow-md transition-all duration-300 group-hover:scale-110 ${p.animation?`animate-${p.animation}`:""}`,style:{filter:g?"drop-shadow(0 0 5px rgba(255,255,255,0.5))":"none"},children:[m.jsx("path",{d:f.path,fill:f.color,stroke:g?"#FFF":"#000",strokeWidth:g?.5:1}),m.jsx("path",{d:f.path,fill:"none",stroke:f.accent,strokeWidth:2,opacity:.6})]}),g&&m.jsx(ao,{className:"absolute top-1 right-1 w-3 h-3 text-white animate-spin-slow opacity-80"}),b&&m.jsx(ud,{className:"absolute bottom-1 w-4 h-4 text-white fill-current animate-bounce"}),c&&c>1&&m.jsxs("div",{className:"absolute top-0 right-0 bg-black/60 text-white text-[10px] font-bold px-1.5 rounded-bl-lg backdrop-blur-sm border-l border-b border-white/20",children:["x",c]}),m.jsx("div",{className:"absolute top-1 left-1 w-2 h-2 rounded-full shadow-sm",style:{backgroundColor:p.color}}),a&&m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 backdrop-blur-[2px] text-center py-0.5",children:m.jsx("span",{className:"text-[9px] text-white font-bold tracking-tight px-1 block truncate",style:{color:p.color},children:n})}),m.jsx("style",{children:`
        @keyframes shine {
          0% { transform: translateX(-150%) skewX(-12deg); }
          50%, 100% { transform: translateX(150%) skewX(-12deg); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.05); opacity: 0.9; }
        }
        @keyframes breathing {
          0% { box-shadow: 0 0 10px ${p.color}; }
          100% { box-shadow: 0 0 25px ${p.color}; }
        }
        @keyframes rotate-bg {
          0% { filter: hue-rotate(0deg); }
          100% { filter: hue-rotate(360deg); }
        }
        @keyframes electric {
          0% { opacity: 0.8; }
          100% { opacity: 1; filter: brightness(1.5); }
        }
      `})]})},G_=n=>{const l={WEAPON:["Baseball Bat","Katana","Shotgun","Revolver","Kunai","Magic Staff"],NECKLACE:["Emerald Necklace","Thorn Necklace","Metal Necklace","Bone Necklace","Crystal Talisman","Golden Chain"],GLOVES:["Leather Gloves","Shining Gloves","Destroyer Gloves","Military Gloves","Ruler's Gloves","Void Gauntlets"],SUIT:["Metal Suit","Traveler Cloak","Bulletproof Vest","Military Uniform","Shadow Tunic","Full Plate"],BELT:["Energy Belt","Leather Belt","Fashion Belt","Military Belt","Champion Belt","Assassin Sash"],BOOTS:["Military Boots","Energy Runners","Prosthetic Leg","High Boots","Ninja Tabi","Iron Greaves"]}[n]||[];return l[Math.floor(Math.random()*l.length)]||"Unknown"},py=({skinId:n})=>{const e=Rl.find(o=>o.id===n)||Rl[0],l=()=>{const o=e.effectType;return o==="FIRE"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-orange-500 blur-[60px] opacity-40 animate-pulse"}),m.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center animate-[bounce_3s_infinite]",children:[m.jsx(zy,{className:"w-full h-full text-orange-500 fill-yellow-500 drop-shadow-[0_0_25px_rgba(234,88,12,0.8)] filter contrast-125",strokeWidth:1}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"w-20 h-20 bg-yellow-200 rounded-full blur-xl opacity-50 animate-pulse"})})]}),m.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping"}),m.jsx("div",{className:"absolute bottom-10 left-0 w-2 h-2 bg-red-500 rounded-full animate-ping delay-150"}),m.jsx("div",{className:"absolute inset-[-20px] border-t-4 border-orange-600 rounded-full animate-[spin_3s_linear_infinite] opacity-60"})]}):o==="ICE"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-cyan-400 blur-[50px] opacity-30"}),m.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[m.jsx(Nm,{className:"w-full h-full text-cyan-200 drop-shadow-[0_0_20px_rgba(34,211,238,0.8)] animate-[spin_10s_linear_infinite]",strokeWidth:1}),m.jsx(Nm,{className:"absolute w-20 h-20 text-white opacity-80 animate-[spin_5s_linear_infinite_reverse]",strokeWidth:2})]}),m.jsx("div",{className:"absolute inset-[-10px] border-2 border-cyan-300 rounded-full opacity-40 animate-pulse"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[140%] h-[2px] bg-gradient-to-r from-transparent via-cyan-200 to-transparent rotate-45"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[140%] h-[2px] bg-gradient-to-r from-transparent via-cyan-200 to-transparent -rotate-45"})]}):o==="VOID"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-purple-900 blur-[60px] opacity-50"}),m.jsxs("div",{className:"relative z-10 w-36 h-36 bg-black rounded-full flex items-center justify-center shadow-[0_0_50px_#7c3aed] border-4 border-purple-800 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[conic-gradient(from_0deg,transparent_0_340deg,white_360deg)] opacity-20 animate-[spin_4s_linear_infinite]"}),m.jsx(By,{className:"w-24 h-24 text-purple-500 animate-[spin_8s_linear_infinite]",strokeWidth:1}),m.jsx("div",{className:"absolute w-10 h-10 bg-black rounded-full shadow-[0_0_20px_#000]"})]}),m.jsx("div",{className:"absolute inset-[-30px] border border-purple-500/30 rounded-full animate-ping"})]}):o==="MECHA"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-[40px] opacity-20"}),m.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center",children:[m.jsx(Hy,{className:"w-full h-full text-blue-400 drop-shadow-[0_0_10px_#3b82f6] animate-[spin_20s_linear_infinite]",strokeWidth:.5}),m.jsx("div",{className:"absolute inset-0 border-4 border-dashed border-blue-300 rounded-full animate-[spin_10s_linear_infinite_reverse] opacity-50"}),m.jsx("div",{className:"absolute inset-[20%] border-2 border-cyan-400 rounded-lg animate-pulse"}),m.jsx(eu,{className:"absolute w-16 h-16 text-white fill-blue-900/50"})]}),m.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:m.jsx("div",{className:"w-full h-1 bg-cyan-400 blur-sm animate-[ping_2s_infinite]"})})]}):o==="GHOST"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-green-500 blur-[50px] opacity-30"}),m.jsx("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center animate-[bounce_2s_infinite]",children:m.jsx(qy,{className:"w-full h-full text-green-400 fill-green-900/50 drop-shadow-[0_0_15px_#4ade80]",strokeWidth:1.5})}),m.jsx("div",{className:"absolute bottom-0 w-24 h-4 bg-green-500/50 blur-lg rounded-[100%] animate-pulse"}),m.jsx("div",{className:"absolute -top-4 -right-4 w-4 h-4 bg-green-300 rounded-full animate-ping"})]}):o==="GOLD"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-yellow-500 blur-[50px] opacity-40"}),m.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 border-[6px] border-yellow-300 rounded-full border-t-transparent animate-[spin_2s_linear_infinite]"}),m.jsx(ud,{className:"w-24 h-24 text-yellow-300 fill-yellow-500 drop-shadow-[0_0_20px_#facc15]",strokeWidth:2})]}),m.jsx(ao,{className:"absolute top-0 right-0 w-8 h-8 text-yellow-100 animate-pulse"}),m.jsx(ao,{className:"absolute bottom-0 left-0 w-6 h-6 text-yellow-200 animate-pulse delay-75"})]}):o==="BLOOD"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-red-900 blur-[60px] opacity-60"}),m.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center",children:[m.jsx(oo,{className:"w-32 h-32 text-red-600 fill-red-900 rotate-45 drop-shadow-[0_0_15px_#dc2626]",strokeWidth:1}),m.jsx(oo,{className:"absolute w-32 h-32 text-red-600 fill-red-900 -rotate-45 drop-shadow-[0_0_15px_#dc2626] opacity-70",strokeWidth:1})]}),m.jsx("div",{className:"absolute inset-0 border-2 border-red-500 rounded-full animate-ping opacity-30"})]}):o==="LIGHTNING"?null:o==="PIXEL"?m.jsxs("div",{className:"relative flex items-center justify-center group",children:[m.jsx("div",{className:"absolute inset-0 bg-pink-500 blur-[40px] opacity-30"}),m.jsxs("div",{className:"relative z-10 w-32 h-32 bg-gray-900 border-4 border-cyan-400 flex items-center justify-center shadow-[5px_5px_0px_#ec4899]",children:[m.jsx(ua,{className:"w-20 h-20 text-cyan-400"}),m.jsx("div",{className:"absolute inset-0 bg-scanline opacity-10 pointer-events-none"})]}),m.jsx("div",{className:"absolute -top-4 -left-4 w-4 h-4 bg-yellow-400 animate-bounce"}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-4 h-4 bg-green-400 animate-bounce delay-75"})]}):o==="TOXIC"?m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-lime-500 blur-[50px] opacity-40"}),m.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center animate-[pulse_3s_infinite]",children:[m.jsx("div",{className:"absolute inset-0 bg-lime-900/50 rounded-full blur-md"}),m.jsx(fd,{className:"w-24 h-24 text-lime-400 drop-shadow-[0_0_15px_#a3e635]"})]}),m.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:m.jsx("div",{className:"w-40 h-40 border-4 border-dotted border-lime-600 rounded-full animate-[spin_10s_linear_infinite]"})}),m.jsx("div",{className:"absolute top-0 w-3 h-3 bg-lime-300 rounded-full animate-ping"})]}):m.jsxs("div",{className:"relative flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-[40px] opacity-30"}),m.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[m.jsx("div",{className:"absolute inset-0 bg-gray-800 rounded-full border-4 border-gray-600"}),m.jsx(ua,{className:"relative z-10 w-24 h-24 text-gray-300"})]})]})};return m.jsxs("div",{className:"relative w-48 h-48 sm:w-64 sm:h-64 flex items-center justify-center transition-all duration-300",children:[l(),m.jsx("div",{className:`absolute -bottom-4 px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-wider shadow-lg transform translate-y-2 border z-20 ${e.rarity==="MYTHIC"?"bg-purple-900 text-purple-100 border-purple-500 shadow-purple-500/50":e.rarity==="LEGENDARY"?"bg-red-900 text-red-100 border-red-500 shadow-red-500/50":e.rarity==="EPIC"?"bg-yellow-900 text-yellow-100 border-yellow-500 shadow-yellow-500/50":"bg-gray-800 text-gray-300 border-gray-600"}`,children:e.name})]})},B_=({slotType:n,item:e,onUnequip:l})=>{let o=lo;return n==="WEAPON"&&(o=oo),n==="NECKLACE"&&(o=Ki),n==="GLOVES"&&(o=AT),n==="SUIT"&&(o=Gf),n==="BELT"&&(o=eu),n==="BOOTS"&&(o=jy),e?m.jsx(io,{name:e.name,rarity:e.rarity,size:"md",onClick:()=>l(n),showName:!0}):m.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl border-2 border-gray-700 bg-gray-800/50 flex items-center justify-center shadow-inner",children:m.jsx(o,{className:"w-6 h-6 text-gray-600"})})},kr=({item:n,onClick:e,isSelected:l})=>m.jsxs("div",{className:"relative",onClick:e,children:[m.jsx(io,{name:n.name,rarity:n.rarity,size:"md"}),l&&m.jsx("div",{className:"absolute inset-0 border-2 border-red-500 rounded-xl bg-red-500/20 z-20 flex items-center justify-center",children:m.jsx(jr,{className:"w-6 h-6 text-red-500 fill-white"})})]}),O_=({currentUser:n,keys:e,gold:l,gems:o,onAddCurrency:r})=>n?m.jsxs("div",{className:"p-3 flex justify-between items-center bg-gray-800 flex-shrink-0 border-b border-gray-700/50 shadow-md z-30 relative",children:[m.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-xl flex items-center gap-2 border border-gray-600",children:[m.jsx(ua,{className:"w-6 h-6 text-blue-400"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm text-white",children:n.username}),m.jsxs("div",{className:"text-[10px] text-gray-400",children:["LV.",n.accountLevel," Survivor"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[m.jsx($y,{className:"w-4 h-4 text-purple-400"}),m.jsx("span",{className:"font-bold text-sm text-white",children:e})]}),m.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[m.jsx(oa,{className:"w-4 h-4 text-yellow-400"}),m.jsx("span",{className:"font-bold text-sm text-white",children:l.toLocaleString()}),m.jsx("button",{onClick:r,className:"w-4 h-4 bg-green-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-green-400",children:"+"})]}),m.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[m.jsx(Ki,{className:"w-4 h-4 text-green-400"}),m.jsx("span",{className:"font-bold text-sm text-white",children:o.toLocaleString()}),m.jsx("button",{onClick:r,className:"w-4 h-4 bg-green-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-green-400",children:"+"})]})]})]}):null,V_=()=>{var w;const[n,e]=B.useState(null),[l,o]=B.useState(xt.MENU),[r,a]=B.useState("HOME"),[c,f]=B.useState(0),[p,h]=B.useState("NONE"),[g,b]=B.useState(1),[S,v]=B.useState(1),[E,C]=B.useState(5e4),[N,I]=B.useState(1250),[P,D]=B.useState(3),[V,A]=B.useState([]),[M,L]=B.useState(1),[R,U]=B.useState(0),[k,q]=B.useState(null),O=B.useRef(null),[j,K]=B.useState([]),[Q,Y]=B.useState(new Set),[te,oe]=B.useState(!1),[xe,ue]=B.useState(null),[F,J]=B.useState(null),[ee,de]=B.useState(["skin_default"]),[be,ce]=B.useState("skin_default"),[he,ge]=B.useState({WEAPON:{id:"init_w",type:"WEAPON",rarity:"COMMON",name:"Kunai"},NECKLACE:null,GLOVES:null,SUIT:{id:"init_s",type:"SUIT",rarity:"COMMON",name:"Traveler Cloak"},BELT:null,BOOTS:null}),[Ne,Ue]=B.useState(100),[_e,Se]=B.useState(null),Re=20,Le=B.useRef(null);B.useEffect(()=>{const G=()=>{if(!Le.current)try{Le.current=new(window.AudioContext||window.webkitAudioContext)}catch{console.error("Web Audio API is not supported")}Le.current&&Le.current.state==="suspended"&&Le.current.resume(),window.removeEventListener("click",G),window.removeEventListener("touchstart",G)};return window.addEventListener("click",G),window.addEventListener("touchstart",G),()=>{window.removeEventListener("click",G),window.removeEventListener("touchstart",G),Le.current&&Le.current.state!=="closed"&&(Le.current.close().catch(console.error),Le.current=null)}},[]);const Oe=G=>{J(G),setTimeout(()=>J(null),3e3)},Pe=G=>{if(!Le.current)return;const X=Le.current,z=X.currentTime;switch(G){case"click":{const W=X.createOscillator(),se=X.createGain();W.type="sine",W.frequency.setValueAtTime(440,z),se.gain.setValueAtTime(.2,z),se.gain.exponentialRampToValueAtTime(.01,z+.1),W.connect(se).connect(X.destination),W.start(z),W.stop(z+.1);break}case"purchase":{const W=X.createOscillator(),se=X.createGain();W.type="sine",W.frequency.setValueAtTime(1046,z),se.gain.setValueAtTime(.2,z),se.gain.exponentialRampToValueAtTime(.01,z+.1),W.connect(se).connect(X.destination),W.start(z),W.stop(z+.1);break}case"free_claim":{[523,659,783].forEach((W,se)=>{const $=X.createOscillator(),le=X.createGain();$.type="sine",$.frequency.setValueAtTime(W,z+se*.08),le.gain.setValueAtTime(.2,z+se*.08),le.gain.exponentialRampToValueAtTime(.01,z+.3),$.connect(le).connect(X.destination),$.start(z+se*.08),$.stop(z+.3)});break}}};B.useEffect(()=>{const G=JSON.parse(localStorage.getItem("survivor_users")||"{}"),X="Player";let z=G[X];z||(z={username:X,highScore:0,gold:5e3,gems:300,keys:1,accountLevel:1,accountXp:0,gachaLevel:1,gachaXp:0,inventory:[],equipped:{WEAPON:{id:"init_w",type:"WEAPON",rarity:"COMMON",name:"Kunai"},NECKLACE:null,GLOVES:null,SUIT:{id:"init_s",type:"SUIT",rarity:"COMMON",name:"Traveler Cloak"},BELT:null,BOOTS:null},ownedSkins:["skin_default"],equippedSkinId:"skin_default",purchasedDaily:[],unlockedChapter:1},G[X]=z,localStorage.setItem("survivor_users",JSON.stringify(G))),yt(z)},[]);const yt=G=>{e(G),C(G.gold),I(G.gems),D(G.keys),K(G.inventory),ge(G.equipped),de(G.ownedSkins),ce(G.equippedSkinId),A(G.purchasedDaily||[]),L(G.gachaLevel||1),U(G.gachaXp||0),v(G.unlockedChapter||1),b(G.unlockedChapter||1)},rn=()=>{if(!n)return;const G={...n,gold:E,gems:N,keys:P,inventory:j,equipped:he,ownedSkins:ee,equippedSkinId:be,purchasedDaily:V,gachaLevel:M,gachaXp:R,unlockedChapter:S},X=JSON.parse(localStorage.getItem("survivor_users")||"{}");X[n.username]=G,localStorage.setItem("survivor_users",JSON.stringify(X)),e(G)},Vt=B.useRef(!0);B.useEffect(()=>{if(Vt.current){Vt.current=!1;return}const G=setTimeout(()=>{rn()},1e3);return()=>{clearTimeout(G)}},[E,N,P,j,he,ee,be,V,M,R,S,n]);const fi=()=>{let G=1250,X=5400;const z={WEAPON:{atk:300,hp:0},NECKLACE:{atk:150,hp:150},GLOVES:{atk:250,hp:0},SUIT:{atk:0,hp:1e3},BELT:{atk:0,hp:600},BOOTS:{atk:0,hp:400}},W={COMMON:1,MAGIC:2,EXQUISITE:4,RARE:8,EXCELLENT:15,EPIC:25,LEGEND:50,ETERNAL:100,TRANSCENDENT:200,GOLDEN:500,FOREVER:1e3};return Object.values(he).forEach(se=>{if(!se)return;const $=z[se.type],le=W[se.rarity];G+=$.atk*le,X+=$.hp*le}),{totalAttack:Math.floor(G),totalHp:Math.floor(X)}},{totalAttack:Mn,totalHp:di}=fi(),Ci=()=>{o(xt.PLAYING)},Rt=(G,X=!1,z=1)=>{f(G),o(X?xt.VICTORY:xt.GAME_OVER);const W=z*50,se=1+(g-1)*.5,$=Math.floor((Math.floor(G/10)+W+(X?5e3+g*5e3:0))*se);C(Ee=>Ee+$);const le=X?20+g*10:0;if(le>0&&I(Ee=>Ee+le),X){const Ee=g+1;Ee>S&&ia.find(Ce=>Ce.id===Ee)&&v(Ee)}if(n){const Ee=Math.max(n.highScore,G),Ce=Math.floor(G/50);let we=n.accountLevel||1,$e=(n.accountXp||0)+Ce,Fe=we*1e3;for(;$e>=Fe;)$e-=Fe,we++,Fe=we*1e3;e(tt=>tt?{...tt,highScore:Ee,accountLevel:we,accountXp:$e}:null)}},jt=()=>{o(xt.MENU),a("HOME"),b(S),rn()},_n=G=>{C(X=>X+G)},nl=()=>{confirm("  ?")&&(localStorage.removeItem("survivor_users"),location.reload())},Jn=(G,X)=>{const z=["WEAPON","NECKLACE","GLOVES","SUIT","BELT","BOOTS"],W=z[Math.floor(Math.random()*z.length)];let se="COMMON";if(X)se=X;else{const le=(G-1)*.002,Ee=Math.random();Ee>.999?se="LEGEND":Ee>.99?se="EPIC":Ee>.97?se="EXCELLENT":Ee>.9-le?se="RARE":Ee>.75-le*2?se="EXQUISITE":Ee>.5-le*3?se="MAGIC":se="COMMON"}const $=G_(W);return{id:Math.random().toString(36).substr(2,9),type:W,rarity:se,name:$}},$n=G=>{K(X=>[G,...X])},Ht=G=>{const X=Ir.indexOf(G);return X>-1&&X<Ir.length-1?Ir[X+1]:null},wi=G=>{const X=["TRANSCENDENT","GOLDEN"],z=["EPIC","LEGEND","ETERNAL"];return X.includes(G)?7:z.includes(G)?5:3},St=(G,X,z,W)=>{if(Pe("click"),V.includes(G))return;const se=()=>{if(A($=>[...$,G]),G.includes("equip")||G.includes("scroll")||G.includes("design")||G.includes("blueprint")){const $=Jn(M,"COMMON");$n($),Oe(`${W}  !`)}else Oe(`${W}  !`)};if(X==="FREE"){C($=>$+z),Pe("free_claim"),se();return}X==="GOLD"?E>=z?(C($=>$-z),Pe("purchase"),se()):alert(" !"):X==="GEM"&&(N>=z?(I($=>$-z),Pe("purchase"),se()):alert(" !"))},Bt=(G,X,z=1)=>{Pe("click"),O.current={type:G,costPerUnit:X,count:z};let W=[];const se=X*z;if(G==="GEM"){if(N<se){alert(" !");return}I(we=>we-se)}else{if(P<se){alert(" !");return}D(we=>we-se)}Pe("purchase");for(let we=0;we<z;we++)W.push(Jn(M));const $=z*10;let le=R+$,Ee=M,Ce=Ee*50+100;for(;le>=Ce;)le-=Ce,Ee++,Ce=Ee*50+100;L(Ee),U(le),K(we=>[...W,...we]),q(W)},bt=()=>{Pe("click");const G=Ne,X=Math.floor(G/Re);if(G<2e3){alert(" 2,000 (100 )  .");return}Se({gems:X,price:` ${G.toLocaleString()}`})},Rn=(G,X)=>{Pe("click"),Se({gems:G,price:X})},qt=()=>{_e&&(Pe("purchase"),I(G=>G+_e.gems),Oe(`${_e.gems.toLocaleString()}   !`),Se(null))},ss=G=>{Pe("click"),E>=G.price?(C(X=>X-G.price),de(X=>[...X,G.id]),Pe("purchase"),Oe(`${G.name}  !`)):alert(" .")},as=G=>{Pe("click"),ce(G)},rs=G=>{Pe("click");const X=G.type,z=he[X],W=j.filter(se=>se.id!==G.id);z&&W.push(z),K(W),ge(se=>({...se,[X]:G}))},Xn=G=>{Pe("click");const X=he[G];X&&(ge(z=>({...z,[G]:null})),K(z=>[X,...z]))},il=()=>{Pe("click");const G=[...j,...Object.values(he).filter(le=>le!==null)],X=["WEAPON","NECKLACE","GLOVES","SUIT","BELT","BOOTS"],z={...he},W=[],se=new Set,$=le=>({FOREVER:11,GOLDEN:10,TRANSCENDENT:9,ETERNAL:8,LEGEND:7,EPIC:6,EXCELLENT:5,RARE:4,EXQUISITE:3,MAGIC:2,COMMON:1})[le.rarity]*1e3;X.forEach(le=>{const Ee=G.filter(Ce=>Ce.type===le);if(Ee.length>0){Ee.sort((we,$e)=>$($e)-$(we));const Ce=Ee[0];z[le]=Ce,se.add(Ce.id)}else z[le]=null}),G.forEach(le=>{se.has(le.id)||W.push(le)}),ge(z),K(W)},Ni=G=>{const X={};return G.forEach(z=>{const W=`${z.name}|${z.rarity}|${z.type}`;X[W]||(X[W]=[]),X[W].push(z)}),X},Kn=()=>{Pe("click");let G=[],X=!1;K(z=>{let W=[...z],se=!0;for(;se;){se=!1;const $=Ni(W);let le=[],Ee=new Set,Ce=[];Object.values($).forEach(we=>{const $e=we[0],{name:Fe,rarity:tt,type:yn}=$e,Me=wi(tt);if(we.length<Me)return;const ze=Ht(tt);if(!ze)return;se=!0,X=!0;const it=Math.floor(we.length/Me);we.slice(0,it*Me).forEach(Kt=>Ee.add(Kt.id));const nn={id:"",type:yn,name:Fe,rarity:ze};for(let Kt=0;Kt<it;Kt++)le.push({...nn,id:Math.random().toString(36).substr(2,9)});Ce.push({from:$e,to:nn,count:it})}),se&&(W=[...W.filter(we=>!Ee.has(we.id)),...le],G.push(...Ce))}return W}),X?(Pe("purchase"),ue(G)):alert("   .")},hi=G=>({COMMON:100,MAGIC:200,EXQUISITE:400,RARE:800,EXCELLENT:2e3,EPIC:5e3,LEGEND:15e3,ETERNAL:5e4,TRANSCENDENT:15e4,GOLDEN:5e5,FOREVER:15e5})[G.rarity]||0,Qn=()=>{Pe("purchase");const G=j.filter(z=>Q.has(z.id));if(G.length===0){oe(!1);return}const X=G.reduce((z,W)=>z+hi(W),0);K(z=>z.filter(W=>!Q.has(W.id))),C(z=>z+X),Oe(`${G.length}   ! +${X.toLocaleString()} `),Y(new Set),oe(!1),h("NONE")},us=()=>xe?m.jsxs("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-in fade-in zoom-in duration-300",children:[" ",m.jsxs("div",{className:"w-full max-w-lg flex flex-col items-center bg-[#1F2937] rounded-2xl border border-gray-600 shadow-2xl overflow-hidden max-h-[90vh]",children:[" ",m.jsx("h2",{className:"text-2xl font-black text-white p-4 drop-shadow-lg w-full text-center border-b border-gray-700",children:"   "})," ",m.jsxs("div",{className:"flex-1 w-full overflow-y-auto custom-scrollbar p-4 space-y-3",children:[" ",xe.map((G,X)=>m.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl flex items-center justify-between gap-2",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(io,{name:G.from.name,rarity:G.from.rarity,size:"sm"})," ",m.jsx("div",{className:"font-bold text-sm text-gray-300",children:G.from.name})," "]})," ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(Gr,{className:"w-5 h-5 text-green-500"})," ",m.jsxs("div",{className:"bg-green-600 text-white font-bold text-xs px-2 py-1 rounded-full",children:[" x",G.count," "]})," ",m.jsx(io,{name:G.to.name,rarity:G.to.rarity,size:"sm"})," "]})," "]},X))," "]})," ",m.jsxs("div",{className:"p-4 bg-gray-800/50 w-full border-t border-gray-700",children:[" ",m.jsx("button",{onClick:()=>{Pe("click"),ue(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white text-lg font-bold py-3 rounded-xl shadow-lg border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all",children:"  "})," "]})," "]})," "]}):null,fo=()=>{var G,X,z;return m.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in zoom-in duration-200",children:[" ",m.jsxs("div",{className:"bg-[#1F2937] w-full max-w-md rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col h-[80vh]",children:[" ",m.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(Gf,{className:"w-5 h-5 text-purple-400"})," ",m.jsx("h2",{className:"font-bold text-lg text-white",children:""})," "]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",m.jsx(so,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",m.jsxs("div",{className:"p-6 flex flex-col items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] border-b border-gray-700 relative overflow-hidden h-64",children:[" ",m.jsx("div",{className:`absolute inset-0 opacity-20 ${((G=Rl.find(W=>W.id===be))==null?void 0:G.rarity)==="MYTHIC"?"bg-yellow-500 animate-pulse":((X=Rl.find(W=>W.id===be))==null?void 0:X.rarity)==="LEGENDARY"?"bg-red-500 animate-pulse":"bg-transparent"}`})," ",m.jsx(py,{skinId:be})," ",m.jsx("h3",{className:"text-xl font-bold mt-4 text-white z-10",children:(z=Rl.find(W=>W.id===be))==null?void 0:z.name})," "]})," ",m.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1 bg-gray-900",children:[" ",m.jsxs("div",{className:"space-y-3",children:[" ",Rl.map(W=>m.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 transition-all ${be===W.id?"ring-2 ring-green-500 bg-gray-800":"bg-gray-700 border-gray-600"}`,children:[" ",m.jsxs("div",{className:"flex items-center justify-between",children:[" ",m.jsxs("div",{className:"flex items-center gap-4",children:[" ",m.jsxs("div",{className:"w-12 h-12 rounded-lg bg-black/40 flex items-center justify-center border border-gray-600 relative overflow-hidden",children:[" ",m.jsx(ua,{className:"w-8 h-8 relative z-10",style:{color:W.primaryColor}})," "]})," ",m.jsxs("div",{children:[" ",m.jsx("h4",{className:"font-bold text-gray-100",children:W.name})," ",m.jsx("span",{className:"text-[9px] px-1.5 rounded font-bold uppercase bg-black/30 text-gray-400",children:W.rarity})," "]})," "]})," ",ee.includes(W.id)?m.jsx("button",{onClick:()=>as(W.id),disabled:be===W.id,className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap ${be===W.id?"bg-green-600 text-white cursor-default":"bg-gray-600 hover:bg-gray-500 text-white"}`,children:be===W.id?" ":""}):m.jsxs("button",{onClick:()=>ss(W),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-yellow-600 hover:bg-yellow-500 text-white flex items-center gap-1",children:[m.jsx(oa,{className:"w-3 h-3"}),W.price.toLocaleString()]})," "]})," ",m.jsx("p",{className:"text-[10px] text-gray-400 italic px-1",children:W.description})," "]},W.id))," "]})," "]})," "]})," "]})},Dl=()=>{const G=Ni(j),X=Object.keys(G).filter(z=>{const W=G[z],{rarity:se}=W[0],$=wi(se);return!(W.length<$||se==="FOREVER")});return m.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",m.jsxs("div",{className:"bg-[#1F2937] w-full max-w-sm rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[" ",m.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(vf,{className:"w-5 h-5 text-yellow-400"})," ",m.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",m.jsx(so,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",m.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1",children:[" ",X.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500 gap-2",children:[" ",m.jsx(lo,{className:"w-12 h-16 opacity-20"})," ",m.jsx("p",{children:"   ."})," "]}):m.jsxs("div",{className:"space-y-3",children:[" ",X.map(z=>{const W=G[z][0],se=Ht(W.rarity);if(!se)return null;const $={...W,rarity:se},le=wi(W.rarity);return m.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl border border-gray-700 flex items-center justify-between",children:[" ",m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[" ",m.jsx(io,{name:W.name,rarity:W.rarity,size:"sm"})," ",m.jsxs("div",{className:"flex flex-col",children:[" ",m.jsx("span",{className:"font-bold text-gray-200 text-sm truncate",children:W.name})," ",m.jsxs("span",{className:"text-gray-400 text-xs",children:["x ",le]})," "]})," "]})," ",m.jsx(Gr,{className:"w-6 h-6 text-green-500 mx-2 shrink-0"})," ",m.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[" ",m.jsxs("div",{className:"flex flex-col text-right",children:[" ",m.jsx("span",{className:"font-bold text-white text-sm truncate",children:$.name})," ",m.jsx("span",{className:"text-green-400 text-xs",children:" !"})," "]})," ",m.jsx(io,{name:$.name,rarity:$.rarity,size:"sm"})," "]})," "]},z)})," "]})," "]})," ",m.jsxs("div",{className:"p-4 bg-gray-800 border-t border-gray-700",children:[" ",m.jsxs("button",{onClick:Kn,disabled:X.length===0,className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all ${X.length===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-500 text-white border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1"}`,children:[" ",m.jsx(vf,{className:"w-4 h-4"}),"   "]})," "]})," "]})," "]})},pi=()=>{const G=Object.values(he),X=new Set(G.filter(we=>we!==null).map(we=>we.id)),z=["ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"],W=j.filter(we=>!X.has(we.id)&&!z.includes(we.rarity)),se=we=>{oe(!1),Y($e=>{const Fe=new Set($e);return Fe.has(we)?Fe.delete(we):Fe.add(we),Fe})},$=we=>{Pe("click"),oe(!1);const $e=W.filter(Fe=>Fe.rarity===we).map(Fe=>Fe.id);Y(Fe=>new Set([...Fe,...$e]))},le=()=>{Pe("click"),oe(!1),Q.size>=W.length&&W.length>0?Y(new Set):Y(new Set(W.map(we=>we.id)))},Ee=Array.from(Q).reduce((we,$e)=>{const Fe=j.find(tt=>tt.id===$e);return we+(Fe?hi(Fe):0)},0),Ce=Q.size>=W.length&&W.length>0;return m.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",m.jsxs("div",{className:"bg-[#181f2a] w-full max-w-lg rounded-2xl border border-gray-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[" ",m.jsxs("div",{className:"p-4 bg-gray-800/20 border-b border-gray-700/50 flex justify-between items-center flex-shrink-0",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(Jo,{className:"w-5 h-5 text-red-400"})," ",m.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("NONE"),Y(new Set),oe(!1)},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",m.jsx(so,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",m.jsx("div",{className:"p-2 bg-red-900/80 text-center text-sm text-red-200 flex-shrink-0",children:" :     . "})," ",m.jsxs("div",{className:"p-2 flex-shrink-0 border-b border-gray-700/50 flex items-center gap-2",children:[" ",m.jsx("span",{className:"text-xs text-gray-400",children:" :"})," ",["COMMON","MAGIC","EXQUISITE","RARE"].map(we=>m.jsxs("button",{onClick:()=>$(we),className:"text-xs font-bold px-2 py-1 rounded border",style:{color:{COMMON:"#a0aec0",MAGIC:"#4ade80",EXQUISITE:"#60a5fa",RARE:"#a78bfa"}[we],borderColor:{COMMON:"#a0aec0",MAGIC:"#4ade80",EXQUISITE:"#60a5fa",RARE:"#a78bfa"}[we]},children:[" ",we," "]},we))," "]})," ",m.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[" ",W.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[" ",m.jsx(lo,{className:"w-16 h-16 opacity-20"})," ",m.jsx("p",{className:"font-bold",children:"  ."})," "]}):m.jsxs("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 lg:grid-cols-8 gap-2",children:[" ",W.map(we=>m.jsx(kr,{item:we,onClick:()=>se(we.id),isSelected:Q.has(we.id)},we.id))," "]})," "]})," ",m.jsxs("div",{className:"p-4 bg-gray-800/30 border-t border-gray-700/50 flex-shrink-0",children:[" ",m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[" ",m.jsxs("div",{className:"text-sm text-gray-400",children:[" ",Q.size>0?m.jsxs("span",{className:"text-white font-bold",children:[Q.size," "]}):m.jsx("span",{children:" "})," "]})," ",m.jsxs("button",{onClick:le,className:"text-xs font-bold text-gray-300 hover:text-white bg-gray-700 hover:bg-gray-600 px-3 py-1.5 rounded-lg transition-colors border border-gray-600",children:[" ",Ce?" ":" "," "]})," "]})," ",te?m.jsxs("div",{className:"flex flex-col gap-3 animate-in slide-in-from-bottom-2 fade-in duration-200",children:[" ",m.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 text-center mb-1",children:[" ",m.jsx("p",{className:"text-red-400 font-bold text-sm mb-1",children:" ?"})," ",m.jsx("p",{className:"text-xs text-gray-400",children:"    ."})," "]})," ",m.jsxs("div",{className:"flex gap-2",children:[" ",m.jsx("button",{onClick:()=>oe(!1),className:"flex-1 py-4 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-300 transition-all",children:"  "})," ",m.jsxs("button",{onClick:Qn,className:"flex-[2] py-4 rounded-xl font-black flex items-center justify-center gap-2 shadow-lg shadow-red-900/50 transition-all bg-red-600 hover:bg-red-500 text-white border-b-4 border-red-800 active:border-b-0 active:translate-y-1",children:[" ",m.jsx(Jo,{className:"w-5 h-5"})," ",m.jsx("span",{children:""})," "]})," "]})," "]}):m.jsxs("button",{onClick:()=>{Q.size>0&&(Pe("click"),oe(!0))},disabled:Q.size===0,className:`w-full relative overflow-hidden group py-4 px-5 rounded-2xl font-bold shadow-xl transition-all duration-300 border-b-4 active:border-b-0 active:translate-y-1 ${Q.size===0?"bg-gray-800 border-gray-900 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-rose-600 border-red-900 hover:from-red-500 hover:to-rose-500 text-white shadow-red-900/30"}`,children:[" ",m.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[" ",m.jsxs("div",{className:"flex items-center gap-3",children:[" ",m.jsxs("div",{className:`p-2.5 rounded-xl ${Q.size>0?"bg-black/20":"bg-gray-700/50"}`,children:[" ",m.jsx(Jo,{className:`w-6 h-6 ${Q.size>0?"text-white":"text-gray-500"}`})," "]})," ",m.jsxs("div",{className:"flex flex-col items-start",children:[" ",m.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${Q.size>0?"text-red-200":"text-gray-500"}`,children:"Dismantle"})," ",m.jsx("span",{className:`text-lg font-black ${Q.size>0?"text-white":"text-gray-500"}`,children:""})," "]})," "]})," ",Q.size>0?m.jsxs("div",{className:"flex items-center gap-3 bg-black/30 px-4 py-2 rounded-xl border border-white/10 backdrop-blur-sm",children:[" ",m.jsxs("div",{className:"text-right",children:[" ",m.jsx("span",{className:"text-[10px] text-yellow-200 block font-bold",children:"ESTIMATED"})," ",m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[" ",m.jsxs("span",{className:"text-yellow-400 font-black text-xl",children:["+",Ee.toLocaleString()]})," "]})," "]})," ",m.jsxs("div",{className:"bg-yellow-500/20 p-1.5 rounded-full border border-yellow-500/50",children:[" ",m.jsx(oa,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," "]})," "]}):m.jsx("div",{className:"text-gray-600 font-bold text-sm bg-gray-900/30 px-3 py-1.5 rounded-lg",children:"   "})," "]})," "]})," "]})," "]})," "]})},cs=()=>m.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",m.jsxs("div",{className:"bg-[#1F2937] w-full max-w-xs rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[" ",m.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx(Uf,{className:"w-5 h-5 text-blue-400"})," ",m.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",m.jsx(so,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",m.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1 space-y-2",children:[" ",Ir.map(G=>m.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-800/50 rounded-lg border border-gray-700",children:[" ",m.jsxs("div",{className:"w-8 h-8 flex-shrink-0 rounded-md flex items-center justify-center",children:[" ",m.jsx(io,{name:"Kunai",rarity:G,size:"sm"})," "]})," ",m.jsx("span",{className:"font-bold text-white",children:G})," "]},G))," "]})," ",m.jsxs("div",{className:"p-4 bg-gray-800 border-t border-gray-700",children:[" ",m.jsx("button",{onClick:()=>{Pe("click"),h("NONE")},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""})," "]})," "]})," "]}),ho=()=>{const G=[{name:"UnknownUser",score:999999},{name:"SlayerX",score:540200},{name:"ZombieKing",score:480100},{name:"Swift",score:320500},{name:"Rookie",score:150200},{name:"Survivor",score:80400}],X=[{name:(n==null?void 0:n.username)||"Player",score:(n==null?void 0:n.highScore)||0},...G].sort((z,W)=>W.score-z.score);return m.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-2xl mx-auto flex flex-col",children:[" ",m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[" ",m.jsx(Br,{className:"w-8 h-8 text-yellow-400"})," ",m.jsx("h1",{className:"text-3xl font-black text-white",children:""})," "]})," ",m.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 shadow-lg flex-1 overflow-y-auto custom-scrollbar",children:[" ",X.map((z,W)=>m.jsxs("div",{className:`flex items-center p-3 gap-4 border-b border-gray-700 last:border-b-0 ${z.name===(n==null?void 0:n.username)?"bg-blue-900/30":""}`,children:[" ",m.jsx("span",{className:`w-8 text-center text-lg font-bold ${W===0?"text-yellow-400":W===1?"text-gray-300":W===2?"text-yellow-600":"text-gray-500"}`,children:W+1})," ",m.jsxs("div",{className:"flex items-center gap-3",children:[" ",W<3?m.jsx(ud,{className:`w-5 h-5 ${W===0?"text-yellow-400":W===1?"text-gray-300":"text-yellow-600"}`}):m.jsx(ua,{className:"w-5 h-5 text-gray-500"})," ",m.jsx("span",{className:"font-semibold text-white",children:z.name})," "]})," ",m.jsx("span",{className:"ml-auto font-mono text-xl text-yellow-300",children:z.score.toLocaleString()})," "]},W))," "]})," "]})},po=()=>m.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-2xl mx-auto flex flex-col h-full",children:[" ",m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[" ",m.jsx(wm,{className:"w-8 h-8 text-gray-400"})," ",m.jsx("h1",{className:"text-3xl font-black text-white",children:""})," "]})," ",m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700 space-y-4",children:[" ",m.jsx("h3",{className:"font-bold text-lg text-white",children:" "})," ",m.jsx("p",{className:"text-sm text-gray-400",children:"       . "})," ",m.jsx("button",{onClick:nl,className:"w-full py-4 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-800/50 rounded-xl font-bold transition-colors",children:"   "})," "]})," "]}),Pl=G=>G>=1e6?(G/1e6).toFixed(1)+"M":G>=1e3?(G/1e3).toFixed(1)+"K":G.toString(),Ul=()=>{const G=[{count:1,cost:300,icon:lo,tag:null,color:"from-purple-800/80 to-indigo-900/80",borderColor:"border-purple-600/50"},{count:10,cost:3e3,icon:GT,tag:null,color:"from-purple-800/80 to-indigo-900/80",borderColor:"border-purple-600/50"},{count:100,cost:3e4,icon:lo,tag:"FLEX",color:"from-yellow-500/80 to-orange-700/80",borderColor:"border-yellow-400"},{count:1e3,cost:3e5,icon:Il,tag:"GOD",color:"from-red-500/80 to-pink-700/80",borderColor:"border-red-400"},{count:1e4,cost:3e6,icon:ao,tag:"UNIVERSE",color:"from-cyan-400/80 to-blue-600/80",borderColor:"border-cyan-300"}],X=[{id:"daily_free_gold",title:" ",icon:Yy,cost:5e3,costType:"FREE",buttonText:"FREE",buttonColor:"bg-green-600 hover:bg-green-500 border-b-2 border-green-800"},{id:"daily_scroll",title:" ",icon:dE,cost:3e3,costType:"GOLD",buttonText:"3000",buttonColor:"bg-yellow-700 hover:bg-yellow-600 border-b-2 border-yellow-900"},{id:"daily_random_equip",title:" ",icon:Fy,cost:200,costType:"GEM",buttonText:"200",buttonColor:"bg-teal-600 hover:bg-teal-500 border-b-2 border-teal-800"}],z=[{gems:500},{gems:1200},{gems:2500},{gems:6500}],W=M*50+100,se=R/W*100;return m.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-4xl mx-auto flex flex-col bg-gray-900",children:[" ",m.jsxs("div",{className:"bg-black/30 p-4 rounded-2xl border border-purple-500/30 mb-8",children:[" ",m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[" ",m.jsxs("div",{children:[" ",m.jsx("h1",{className:"text-3xl font-black text-white tracking-wider",children:"EDF SUPPLY"})," ",m.jsx("p",{className:"text-yellow-300 font-bold",children:"S    UP!"})," "]})," ",m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[" ",m.jsx(Jo,{className:"w-4 h-4"}),"   "]})," "]})," ",m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[" ",G.map($=>{const le=$.icon;return m.jsxs("button",{onClick:()=>Bt("GEM",$.cost/$.count,$.count),className:`relative group p-4 bg-gradient-to-br ${$.color} rounded-lg text-white font-bold flex flex-col items-center justify-center gap-2 border-2 ${$.borderColor} transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20`,children:[" ",$.tag&&m.jsx("div",{className:`absolute -top-2 text-xs px-3 py-0.5 rounded-full font-black ${$.tag==="FLEX"?"bg-yellow-400 text-black":$.tag==="GOD"?"bg-red-400 text-white":"bg-cyan-300 text-black"}`,children:$.tag})," ",m.jsx(le,{className:`w-10 h-10 mb-2 transition-transform group-hover:rotate-12 ${$.icon===ao||$.icon===Il?"text-yellow-200":"text-white/80"}`,strokeWidth:1.5})," ",m.jsxs("span",{className:"text-lg",children:[$.count," "]})," ",m.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded-full",children:[" ",m.jsx(Ki,{className:"w-4 h-4 text-green-300"})," ",m.jsx("span",{children:Pl($.cost)})," "]})," "]},$.count)})," "]})," ",m.jsxs("div",{className:"bg-black/20 p-2 rounded-lg flex items-center gap-3 mb-4",children:[" ",m.jsxs("span",{className:"font-bold text-sm text-white flex-shrink-0",children:["Lv.",M]})," ",m.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-5 relative overflow-hidden",children:[" ",m.jsx("div",{className:"absolute inset-0 bg-purple-600 h-full transition-all duration-300",style:{width:`${se}%`}})," ",m.jsxs("span",{className:"absolute inset-0 text-white text-xs font-bold flex items-center justify-center drop-shadow-md",children:[" ",R," / ",W," "]})," "]})," ",m.jsx("button",{className:"w-5 h-5 bg-gray-600 text-white rounded-full text-xs font-bold flex-shrink-0 hover:bg-gray-500",children:"i"})," "]})," ",m.jsxs("div",{className:"bg-black/20 p-3 rounded-lg flex items-center justify-between",children:[" ",m.jsxs("div",{className:"flex items-center gap-2",children:[" ",m.jsx($y,{className:"w-6 h-6 text-yellow-400"})," ",m.jsxs("span",{className:"font-bold text-lg text-white",children:[" : ",P]})," "]})," ",m.jsx("button",{onClick:()=>Bt("KEY",1,1),disabled:P<1,className:"bg-yellow-600 hover:bg-yellow-500 text-black font-bold px-8 py-2 rounded-lg disabled:bg-gray-600 disabled:cursor-not-allowed",children:"   "})," "]})," "]})," ",m.jsxs("div",{className:"mb-8",children:[" ",m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[" ",m.jsx(rd,{className:"w-5 h-5 text-gray-400"})," ",m.jsx("h2",{className:"text-xl font-bold text-white",children:" "})," "]})," ",m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[" ",X.map($=>{const le=$.icon,Ee=V.includes($.id);return m.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-xl border border-gray-700 flex flex-col items-center text-center",children:[" ",m.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-900/50 flex items-center justify-center mb-3 border-2 border-gray-600",children:[" ",m.jsx(le,{className:"w-8 h-8 text-gray-300"})," "]})," ",m.jsx("h3",{className:"font-bold text-white mb-4 flex-1",children:$.title})," ",m.jsxs("button",{onClick:()=>{$.costType==="GOLD"&&St($.id,"GOLD",$.cost,$.title),$.costType==="GEM"&&St($.id,"GEM",$.cost,$.title),$.costType==="FREE"&&St($.id,"FREE",$.cost,$.title)},disabled:Ee,className:`w-full py-2 rounded-lg font-bold text-white transition-colors ${$.buttonColor} ${Ee?"bg-gray-600 !border-gray-600 cursor-not-allowed":""}`,children:[" ",Ee?" ":m.jsxs("div",{className:"flex items-center justify-center gap-1",children:[" ",$.costType==="GOLD"&&m.jsx(oa,{className:"w-4 h-4"})," ",$.costType==="GEM"&&m.jsx(Ki,{className:"w-4 h-4"})," ",$.costType==="FREE"&&m.jsx("span",{children:"FREE"})," ",$.costType!=="FREE"&&m.jsx("span",{children:Pl($.cost)})," "]})," "]})," "]},$.id)})," "]})," "]})," ",m.jsxs("div",{className:"mt-8",children:[" ",m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[" ",m.jsx(Ki,{className:"w-5 h-5 text-green-400"})," ",m.jsx("h2",{className:"text-xl font-bold text-white",children:" "})," "]})," ",m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[" ",z.map($=>{const le=$.gems*Re;return m.jsxs("button",{onClick:()=>Rn($.gems,` ${le.toLocaleString()}`),className:"bg-gray-800/70 p-4 rounded-xl border border-gray-700 hover:border-green-500 transition-colors flex flex-col items-center text-center gap-2",children:[" ",m.jsx(Ki,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_10px_rgba(74,222,128,0.5)]"})," ",m.jsx("h3",{className:"font-bold text-white text-lg",children:$.gems.toLocaleString()})," ",m.jsxs("div",{className:"mt-auto w-full py-2 rounded-lg font-bold text-white bg-green-700 hover:bg-green-600 transition-colors",children:["  ",le.toLocaleString()," "]})," "]},$.gems)})," "]})," ",m.jsxs("div",{className:"mt-8",children:[" ",m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[" ",m.jsx(Qb,{className:"w-5 h-5 text-gray-400"})," ",m.jsx("h2",{className:"text-lg font-bold text-white",children:"   "})," "]})," ",m.jsxs("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded-lg p-1",children:[" ",m.jsxs("div",{className:"flex-1 flex items-center px-4 py-2 gap-3",children:[" ",m.jsx("span",{className:"text-gray-500 font-bold",children:"$"})," ",m.jsx("input",{type:"number",value:Ne,onChange:$=>Ue(Math.max(0,parseInt($.target.value)||0)),className:"bg-transparent border-none focus:outline-none text-white w-full font-bold text-lg placeholder-gray-600",placeholder:"  (KRW)"})," ",m.jsxs("span",{className:"text-gray-400 text-sm whitespace-nowrap flex items-center gap-1",children:[" ",m.jsx(Ki,{className:"w-3 h-3 text-green-400"})," ",Math.floor(Ne/Re).toLocaleString(),"  "]})," "]})," ",m.jsx("button",{onClick:bt,className:"bg-green-600 hover:bg-green-500 text-white font-bold px-6 py-3 rounded-md transition-colors",children:"  "})," "]})," ",m.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-1",children:"* 20 1  ."})," "]})," "]})," "]})},ll=()=>{const X=W=>({FOREVER:11,GOLDEN:10,TRANSCENDENT:9,ETERNAL:8,LEGEND:7,EPIC:6,EXCELLENT:5,RARE:4,EXQUISITE:3,MAGIC:2,COMMON:1})[W.rarity],z=[...j].sort((W,se)=>X(se)-X(W));return m.jsxs("div",{className:"w-full flex flex-col sm:flex-row gap-4 p-4",children:[" ",m.jsxs("div",{className:"w-full sm:w-1/3 flex flex-col gap-4",children:[" ",m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex flex-col items-center flex-shrink-0 relative z-0",children:[" ",m.jsx(py,{skinId:be})," ",m.jsxs("button",{onClick:W=>{W.stopPropagation(),Pe("click"),h("WARDROBE")},className:"mt-4 bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold px-4 py-2 rounded-lg flex items-center gap-2 transition-colors relative z-20 shadow-lg active:scale-95",children:[" ",m.jsx(Gf,{className:"w-4 h-4"}),"   "]})," "]})," ",m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex-shrink-0",children:[" ",m.jsx("h3",{className:"text-lg font-bold mb-3 text-white",children:""})," ",m.jsxs("div",{className:"space-y-2 text-sm",children:[" ",m.jsxs("div",{className:"flex justify-between",children:[" ",m.jsx("span",{className:"text-gray-400",children:""})," ",m.jsx("span",{className:"font-bold text-white",children:Mn.toLocaleString()})," "]})," ",m.jsxs("div",{className:"flex justify-between",children:[" ",m.jsx("span",{className:"text-gray-400",children:" HP"})," ",m.jsx("span",{className:"font-bold text-white",children:di.toLocaleString()})," "]})," "]})," "]})," ",m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex-1 sm:flex-auto",children:[" ",m.jsx("h3",{className:"text-lg font-bold mb-3 text-white",children:" "})," ",m.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-8",children:[" ",Object.keys(he).map(W=>m.jsx(B_,{slotType:W,item:he[W],onUnequip:Xn},W))," "]})," "]})," "]})," ",m.jsxs("div",{className:"w-full sm:w-2/3 bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex flex-col",children:[" ",m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[" ",m.jsxs("h2",{className:"text-xl font-bold text-white",children:[" (",j.length,")"]})," ",m.jsxs("div",{className:"flex gap-2",children:[" ",m.jsxs("button",{onClick:()=>{Pe("click"),h("RARITY_GUIDE")},className:"bg-gray-600 hover:bg-gray-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[m.jsx(Uf,{className:"w-3 h-3"}),""]})," ",m.jsxs("button",{onClick:il,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[m.jsx(ao,{className:"w-3 h-3"})," "]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("MERGE")},className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[m.jsx(vf,{className:"w-3 h-3"}),""]})," ",m.jsxs("button",{onClick:()=>{Pe("click"),h("DISMANTLE")},className:"bg-red-600 hover:bg-red-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[m.jsx(Jo,{className:"w-3 h-3"}),""]})," "]})," "]})," ",m.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2",children:[" ",j.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-600",children:[" ",m.jsx(WT,{className:"w-16 h-16"})," ",m.jsx("p",{children:"  ."})," "]}):m.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8 gap-2",children:[" ",z.slice(0,240).map(W=>m.jsx(kr,{item:W,onClick:()=>rs(W)},W.id))," ",j.length>240&&m.jsxs("div",{className:"col-span-full text-center py-4 text-gray-500",children:[" ...   ",j.length-240,"  "]})," "]})," "]})," "]})," "]})},Ai=()=>{if(!n)return null;const G=ia.find(X=>X.id===g)||ia[0];return m.jsxs("div",{className:"w-full flex-1 flex flex-col justify-center items-center p-4 relative text-center",children:[" ",m.jsx("div",{className:"absolute inset-0 bg-gray-900 z-0"})," ",m.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-4xl relative z-10",children:[" ",m.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:G.name})," ",m.jsx("p",{className:"text-sm md:text-base text-gray-300 mb-6 max-w-md",children:G.description})," ",m.jsxs("div",{className:"w-full h-1/2 min-h-[200px] max-h-[40vh] mb-6 flex items-center justify-center",children:[" ",m.jsx(P_,{chapterId:g})," "]})," ",m.jsxs("button",{onClick:Ci,className:"bg-blue-600 hover:bg-blue-500 text-white text-xl font-bold py-4 px-16 rounded-full shadow-lg border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-3 animate-pulse",children:[" START ",m.jsx(ro,{className:"w-6 h-6 fill-current"})," "]})," "]})," ",m.jsxs("button",{onClick:()=>b(X=>Math.max(1,X-1)),className:"absolute left-4 md:left-10 top-1/2 -translate-y-1/2 bg-black/30 p-3 rounded-full hover:bg-white/20 transition-colors z-20",children:[" ",m.jsx(Oy,{className:"w-6 h-6 text-white"})," "]})," ",m.jsxs("button",{onClick:()=>b(X=>Math.min(S,X+1)),className:"absolute right-4 md:right-10 top-1/2 -translate-y-1/2 bg-black/30 p-3 rounded-full hover:bg-white/20 transition-colors z-20",children:[" ",g<S?m.jsx(Gr,{className:"w-6 h-6 text-white"}):m.jsx(Xy,{className:"w-6 h-6 text-gray-500"})," "]})," "]})},mo=()=>{switch(r){case"SHOP":return Ul();case"EQUIPMENT":return ll();case"RANKING":return ho();case"SETTINGS":return po();case"HOME":default:return Ai()}};if(l===xt.PLAYING||l===xt.PAUSED||l===xt.TREASURE_OPENING||l===xt.STATUS_MENU){const G=ia.find(X=>X.id===g)||ia[0];return m.jsx("div",{className:"w-full h-full relative overflow-hidden bg-black",children:m.jsx(D_,{onGameOver:Rt,gameState:l,setGameState:o,initialStats:{hp:di,attack:Mn},equippedWeaponName:(w=he.WEAPON)==null?void 0:w.name,equippedSkinId:be,onGoldGained:_n,chapterTheme:G.theme,chapterId:G.id})})}if(l===xt.GAME_OVER||l===xt.VICTORY){const G=l===xt.VICTORY,X=Math.floor(c/10),z=G?5e3+g*5e3:0,W=X+z,se=G?20+g*10:0;return m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4 animate-in fade-in",children:[" ",m.jsxs("div",{className:"bg-gray-800/50 p-8 rounded-2xl border border-gray-700 text-center max-w-sm w-full",children:[" ",G?m.jsxs(m.Fragment,{children:[" ",m.jsx(Br,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4 drop-shadow-[0_0_10px_#facc15]"})," ",m.jsx("h1",{className:"text-4xl font-black text-yellow-300 mb-2",children:"VICTORY"})," ",m.jsx("p",{className:"text-yellow-500 mb-6",children:" !"})," "]}):m.jsxs(m.Fragment,{children:[" ",m.jsx(fd,{className:"w-16 h-16 text-red-500 mx-auto mb-4"})," ",m.jsx("h1",{className:"text-4xl font-black text-red-400 mb-2",children:"GAME OVER"})," ",m.jsx("p",{className:"text-gray-400 mb-6",children:" ."})," "]})," ",m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl space-y-3 mb-8",children:[" ",m.jsxs("div",{className:"flex justify-between text-lg",children:[" ",m.jsx("span",{children:" :"})," ",m.jsx("span",{className:"font-bold text-white",children:c.toLocaleString()})," "]})," ",m.jsxs("div",{className:"flex justify-between items-center text-lg",children:[" ",m.jsx("span",{children:" :"})," ",m.jsxs("div",{className:"flex items-center gap-1 font-bold text-yellow-400",children:[" ",m.jsx(oa,{className:"w-5 h-5"})," ",m.jsxs("span",{children:["+",W.toLocaleString(),"+"]})," "]})," "]})," ",G&&m.jsxs("div",{className:"flex justify-between items-center text-lg",children:[" ",m.jsx("span",{children:" :"})," ",m.jsxs("div",{className:"flex items-center gap-1 font-bold text-green-400",children:[" ",m.jsx(Ki,{className:"w-5 h-5"})," ",m.jsxs("span",{children:["+",se.toLocaleString()]})," "]})," "]})," "]})," ",m.jsx("button",{onClick:jt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg text-lg",children:"  "})," "]})," "]})}const In=l===xt.MENU;return m.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-900 overflow-hidden relative",children:[F&&m.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-[100] bg-black/80 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-5 fade-in duration-300",children:[m.jsx(jr,{className:"w-5 h-5 text-green-400"}),m.jsx("span",{className:"font-bold text-sm",children:F})]}),In&&m.jsx(O_,{currentUser:n,keys:P,gold:E,gems:N,onAddCurrency:()=>a("SHOP")}),m.jsx("main",{className:"flex-1 overflow-y-auto flex",children:mo()}),m.jsxs("footer",{className:"w-full flex justify-around items-center bg-gray-800 border-t-2 border-gray-700 p-2 flex-shrink-0 relative z-30",children:[" ",[{id:"SHOP",label:"",icon:xE},{id:"EQUIPMENT",label:"",icon:eu},{id:"HOME",label:"",icon:ro,isCentral:!0},{id:"RANKING",label:"",icon:Br},{id:"SETTINGS",label:"",icon:wm}].map(({id:G,label:X,icon:z,isCentral:W})=>m.jsxs("button",{onClick:()=>{Pe("click"),a(G)},className:`flex flex-col items-center justify-center transition-colors text-xs ${W?"w-16 h-16":"w-16 h-14"} ${r===G?"text-yellow-400":"text-gray-400 hover:text-white"}`,children:[" ",W?m.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transform -translate-y-4 shadow-lg border-2 border-gray-900 ${r===G?"bg-yellow-500":"bg-blue-600"} `,children:[" ",m.jsx(z,{className:"w-8 h-8 text-white fill-current"})," "]}):m.jsxs(m.Fragment,{children:[" ",m.jsx(z,{className:"w-6 h-6 mb-1"})," ",m.jsx("span",{children:X})," "]})," "]},G))," "]}),k&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"bg-[#1F2937] w-full max-w-2xl rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsx("h2",{className:"text-center p-3 text-2xl font-black text-yellow-300 border-b border-gray-700 bg-gray-800",children:" "}),k.length<100?m.jsx("div",{className:"p-4 grid grid-cols-5 sm:grid-cols-8 gap-2 overflow-y-auto custom-scrollbar",children:k.map((G,X)=>m.jsx(kr,{item:G},X))}):m.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[m.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:" "}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-center",children:["LEGEND","EPIC","EXCELLENT","RARE","EXQUISITE","MAGIC","COMMON"].map(G=>{const X=k.filter(z=>z.rarity===G).length;return X===0?null:m.jsxs("div",{className:"bg-gray-900 p-2 rounded-lg",children:[m.jsx("p",{className:"font-bold text-sm",style:{color:{LEGEND:"#ef4444",EPIC:"#f97316",EXCELLENT:"#ca8a04",RARE:"#a855f7",EXQUISITE:"#3b82f6",MAGIC:"#84cc16",COMMON:"#9ca3af"}[G]},children:G}),m.jsxs("p",{className:"text-white text-lg font-mono",children:[X,""]})]},G)}).filter(Boolean)})]}),m.jsx("h3",{className:"text-md font-bold text-gray-300 mb-2 text-center",children:"   (EPIC )"}),m.jsx("div",{className:"p-2 grid grid-cols-5 sm:grid-cols-8 gap-2",children:k.filter(G=>["EPIC","LEGEND"].includes(G.rarity)).map((G,X)=>m.jsx(kr,{item:G},X))})]}),m.jsxs("div",{className:"p-3 bg-gray-800 border-t border-gray-700 flex gap-3",children:[m.jsx("button",{onClick:()=>{Pe("click"),q(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""}),O.current&&m.jsxs("button",{onClick:()=>Bt(O.current.type,O.current.costPerUnit,O.current.count),className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg",children:["  (",O.current.count,")"]})]})]})}),p==="DISMANTLE"&&pi()," ",p==="MERGE"&&Dl()," ",p==="WARDROBE"&&fo()," ",p==="RARITY_GUIDE"&&cs()," ",xe&&us(),_e&&m.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"bg-[#1F2937] w-full max-w-xs rounded-2xl border border-gray-600 shadow-2xl p-6 text-center",children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:" "}),m.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl font-bold text-green-400 my-4",children:[m.jsx(Ki,{className:"w-7 h-7"}),m.jsx("span",{children:_e.gems.toLocaleString()})]}),m.jsxs("p",{className:"text-gray-400 mb-6",children:["  ",m.jsx("span",{className:"font-bold text-white",children:_e.price})," ?"]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>{Pe("click"),Se(null)},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 rounded-lg",children:""}),m.jsx("button",{onClick:qt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""})]})]})})]})},H_=()=>m.jsx("div",{className:"w-full h-[calc(100vh-80px)] bg-gray-900 overflow-hidden relative",children:m.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:m.jsx(V_,{})})});var Fr={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var F_=Fr.exports,my;function z_(){return my||(my=1,(function(n,e){(function(o,r){n.exports=r()})(F_,function(){return(function(l){var o={};function r(a){if(o[a])return o[a].exports;var c=o[a]={i:a,l:!1,exports:{}};return l[a].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=l,r.c=o,r.d=function(a,c,f){r.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:f})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,c){if(c&1&&(a=r(a)),c&8||c&4&&typeof a=="object"&&a&&a.__esModule)return a;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),c&2&&typeof a!="string")for(var p in a)r.d(f,p,(function(h){return a[h]}).bind(null,p));return f},r.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(c,"a",c),c},r.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},r.p="",r(r.s=20)})([(function(l,o){var r={};l.exports=r,(function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(c,f){var p,h;typeof f=="boolean"?(p=2,h=f):(p=1,h=!0);for(var g=p;g<arguments.length;g++){var b=arguments[g];if(b)for(var S in b)h&&b[S]&&b[S].constructor===Object&&(!c[S]||c[S].constructor===Object)?(c[S]=c[S]||{},r.extend(c[S],h,b[S])):c[S]=b[S]}return c},r.clone=function(c,f){return r.extend({},f,c)},r.keys=function(c){if(Object.keys)return Object.keys(c);var f=[];for(var p in c)f.push(p);return f},r.values=function(c){var f=[];if(Object.keys){for(var p=Object.keys(c),h=0;h<p.length;h++)f.push(c[p[h]]);return f}for(var g in c)f.push(c[g]);return f},r.get=function(c,f,p,h){f=f.split(".").slice(p,h);for(var g=0;g<f.length;g+=1)c=c[f[g]];return c},r.set=function(c,f,p,h,g){var b=f.split(".").slice(h,g);return r.get(c,f,0,-1)[b[b.length-1]]=p,p},r.shuffle=function(c){for(var f=c.length-1;f>0;f--){var p=Math.floor(r.random()*(f+1)),h=c[f];c[f]=c[p],c[p]=h}return c},r.choose=function(c){return c[Math.floor(r.random()*c.length)]},r.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},r.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},r.isFunction=function(c){return typeof c=="function"},r.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},r.isString=function(c){return toString.call(c)==="[object String]"},r.clamp=function(c,f,p){return c<f?f:c>p?p:c},r.sign=function(c){return c<0?-1:1},r.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(c,f){return c=typeof c<"u"?c:0,f=typeof f<"u"?f:1,c+a()*(f-c)};var a=function(){return r._seed=(r._seed*9301+49297)%233280,r._seed/233280};r.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[c]||(r.warn(c),r._warnedOnce[c]=!0)},r.deprecated=function(c,f,p){c[f]=r.chain(function(){r.warnOnce(" deprecated ",p)},c[f])},r.nextId=function(){return r._nextId++},r.indexOf=function(c,f){if(c.indexOf)return c.indexOf(f);for(var p=0;p<c.length;p++)if(c[p]===f)return p;return-1},r.map=function(c,f){if(c.map)return c.map(f);for(var p=[],h=0;h<c.length;h+=1)p.push(f(c[h]));return p},r.topologicalSort=function(c){var f=[],p=[],h=[];for(var g in c)!p[g]&&!h[g]&&r._topologicalSort(g,p,h,c,f);return f},r._topologicalSort=function(c,f,p,h,g){var b=h[c]||[];p[c]=!0;for(var S=0;S<b.length;S+=1){var v=b[S];p[v]||f[v]||r._topologicalSort(v,f,p,h,g)}p[c]=!1,f[c]=!0,g.push(c)},r.chain=function(){for(var c=[],f=0;f<arguments.length;f+=1){var p=arguments[f];p._chained?c.push.apply(c,p._chained):c.push(p)}var h=function(){for(var g,b=new Array(arguments.length),S=0,v=arguments.length;S<v;S++)b[S]=arguments[S];for(S=0;S<c.length;S+=1){var E=c[S].apply(g,b);typeof E<"u"&&(g=E)}return g};return h._chained=c,h},r.chainPathBefore=function(c,f,p){return r.set(c,f,r.chain(p,r.get(c,f)))},r.chainPathAfter=function(c,f,p){return r.set(c,f,r.chain(r.get(c,f),p))},r.setDecomp=function(c){r._decomp=c},r.getDecomp=function(){var c=r._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof im<"u"&&(c=im.decomp)}catch{c=null}return c}})()}),(function(l,o){var r={};l.exports=r,(function(){r.create=function(a){var c={min:{x:0,y:0},max:{x:0,y:0}};return a&&r.update(c,a),c},r.update=function(a,c,f){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var p=0;p<c.length;p++){var h=c[p];h.x>a.max.x&&(a.max.x=h.x),h.x<a.min.x&&(a.min.x=h.x),h.y>a.max.y&&(a.max.y=h.y),h.y<a.min.y&&(a.min.y=h.y)}f&&(f.x>0?a.max.x+=f.x:a.min.x+=f.x,f.y>0?a.max.y+=f.y:a.min.y+=f.y)},r.contains=function(a,c){return c.x>=a.min.x&&c.x<=a.max.x&&c.y>=a.min.y&&c.y<=a.max.y},r.overlaps=function(a,c){return a.min.x<=c.max.x&&a.max.x>=c.min.x&&a.max.y>=c.min.y&&a.min.y<=c.max.y},r.translate=function(a,c){a.min.x+=c.x,a.max.x+=c.x,a.min.y+=c.y,a.max.y+=c.y},r.shift=function(a,c){var f=a.max.x-a.min.x,p=a.max.y-a.min.y;a.min.x=c.x,a.max.x=c.x+f,a.min.y=c.y,a.max.y=c.y+p}})()}),(function(l,o){var r={};l.exports=r,(function(){r.create=function(a,c){return{x:a||0,y:c||0}},r.clone=function(a){return{x:a.x,y:a.y}},r.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},r.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},r.rotate=function(a,c,f){var p=Math.cos(c),h=Math.sin(c);f||(f={});var g=a.x*p-a.y*h;return f.y=a.x*h+a.y*p,f.x=g,f},r.rotateAbout=function(a,c,f,p){var h=Math.cos(c),g=Math.sin(c);p||(p={});var b=f.x+((a.x-f.x)*h-(a.y-f.y)*g);return p.y=f.y+((a.x-f.x)*g+(a.y-f.y)*h),p.x=b,p},r.normalise=function(a){var c=r.magnitude(a);return c===0?{x:0,y:0}:{x:a.x/c,y:a.y/c}},r.dot=function(a,c){return a.x*c.x+a.y*c.y},r.cross=function(a,c){return a.x*c.y-a.y*c.x},r.cross3=function(a,c,f){return(c.x-a.x)*(f.y-a.y)-(c.y-a.y)*(f.x-a.x)},r.add=function(a,c,f){return f||(f={}),f.x=a.x+c.x,f.y=a.y+c.y,f},r.sub=function(a,c,f){return f||(f={}),f.x=a.x-c.x,f.y=a.y-c.y,f},r.mult=function(a,c){return{x:a.x*c,y:a.y*c}},r.div=function(a,c){return{x:a.x/c,y:a.y/c}},r.perp=function(a,c){return c=c===!0?-1:1,{x:c*-a.y,y:c*a.x}},r.neg=function(a){return{x:-a.x,y:-a.y}},r.angle=function(a,c){return Math.atan2(c.y-a.y,c.x-a.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]})()}),(function(l,o,r){var a={};l.exports=a;var c=r(2),f=r(0);(function(){a.create=function(p,h){for(var g=[],b=0;b<p.length;b++){var S=p[b],v={x:S.x,y:S.y,index:b,body:h,isInternal:!1};g.push(v)}return g},a.fromPath=function(p,h){var g=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,b=[];return p.replace(g,function(S,v,E){b.push({x:parseFloat(v),y:parseFloat(E)})}),a.create(b,h)},a.centre=function(p){for(var h=a.area(p,!0),g={x:0,y:0},b,S,v,E=0;E<p.length;E++)v=(E+1)%p.length,b=c.cross(p[E],p[v]),S=c.mult(c.add(p[E],p[v]),b),g=c.add(g,S);return c.div(g,6*h)},a.mean=function(p){for(var h={x:0,y:0},g=0;g<p.length;g++)h.x+=p[g].x,h.y+=p[g].y;return c.div(h,p.length)},a.area=function(p,h){for(var g=0,b=p.length-1,S=0;S<p.length;S++)g+=(p[b].x-p[S].x)*(p[b].y+p[S].y),b=S;return h?g/2:Math.abs(g)/2},a.inertia=function(p,h){for(var g=0,b=0,S=p,v,E,C=0;C<S.length;C++)E=(C+1)%S.length,v=Math.abs(c.cross(S[E],S[C])),g+=v*(c.dot(S[E],S[E])+c.dot(S[E],S[C])+c.dot(S[C],S[C])),b+=v;return h/6*(g/b)},a.translate=function(p,h,g){g=typeof g<"u"?g:1;var b=p.length,S=h.x*g,v=h.y*g,E;for(E=0;E<b;E++)p[E].x+=S,p[E].y+=v;return p},a.rotate=function(p,h,g){if(h!==0){var b=Math.cos(h),S=Math.sin(h),v=g.x,E=g.y,C=p.length,N,I,P,D;for(D=0;D<C;D++)N=p[D],I=N.x-v,P=N.y-E,N.x=v+(I*b-P*S),N.y=E+(I*S+P*b);return p}},a.contains=function(p,h){for(var g=h.x,b=h.y,S=p.length,v=p[S-1],E,C=0;C<S;C++){if(E=p[C],(g-v.x)*(E.y-v.y)+(b-v.y)*(v.x-E.x)>0)return!1;v=E}return!0},a.scale=function(p,h,g,b){if(h===1&&g===1)return p;b=b||a.centre(p);for(var S,v,E=0;E<p.length;E++)S=p[E],v=c.sub(S,b),p[E].x=b.x+v.x*h,p[E].y=b.y+v.y*g;return p},a.chamfer=function(p,h,g,b,S){typeof h=="number"?h=[h]:h=h||[8],g=typeof g<"u"?g:-1,b=b||2,S=S||14;for(var v=[],E=0;E<p.length;E++){var C=p[E-1>=0?E-1:p.length-1],N=p[E],I=p[(E+1)%p.length],P=h[E<h.length?E:h.length-1];if(P===0){v.push(N);continue}var D=c.normalise({x:N.y-C.y,y:C.x-N.x}),V=c.normalise({x:I.y-N.y,y:N.x-I.x}),A=Math.sqrt(2*Math.pow(P,2)),M=c.mult(f.clone(D),P),L=c.normalise(c.mult(c.add(D,V),.5)),R=c.sub(N,c.mult(L,A)),U=g;g===-1&&(U=Math.pow(P,.32)*1.75),U=f.clamp(U,b,S),U%2===1&&(U+=1);for(var k=Math.acos(c.dot(D,V)),q=k/U,O=0;O<U;O++)v.push(c.add(c.rotate(M,q*O),R))}return v},a.clockwiseSort=function(p){var h=a.mean(p);return p.sort(function(g,b){return c.angle(h,g)-c.angle(h,b)}),p},a.isConvex=function(p){var h=0,g=p.length,b,S,v,E;if(g<3)return null;for(b=0;b<g;b++)if(S=(b+1)%g,v=(b+2)%g,E=(p[S].x-p[b].x)*(p[v].y-p[S].y),E-=(p[S].y-p[b].y)*(p[v].x-p[S].x),E<0?h|=1:E>0&&(h|=2),h===3)return!1;return h!==0?!0:null},a.hull=function(p){var h=[],g=[],b,S;for(p=p.slice(0),p.sort(function(v,E){var C=v.x-E.x;return C!==0?C:v.y-E.y}),S=0;S<p.length;S+=1){for(b=p[S];g.length>=2&&c.cross3(g[g.length-2],g[g.length-1],b)<=0;)g.pop();g.push(b)}for(S=p.length-1;S>=0;S-=1){for(b=p[S];h.length>=2&&c.cross3(h[h.length-2],h[h.length-1],b)<=0;)h.pop();h.push(b)}return h.pop(),g.pop(),h.concat(g)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(2),p=r(7),h=r(0),g=r(1),b=r(11);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=1e3/60,a.create=function(v){var E={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},C=h.extend(E,v);return S(C,v),C},a.nextGroup=function(v){return v?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var S=function(v,E){E=E||{},a.set(v,{bounds:v.bounds||g.create(v.vertices),positionPrev:v.positionPrev||f.clone(v.position),anglePrev:v.anglePrev||v.angle,vertices:v.vertices,parts:v.parts||[v],isStatic:v.isStatic,isSleeping:v.isSleeping,parent:v.parent||v}),c.rotate(v.vertices,v.angle,v.position),b.rotate(v.axes,v.angle),g.update(v.bounds,v.vertices,v.velocity),a.set(v,{axes:E.axes||v.axes,area:E.area||v.area,mass:E.mass||v.mass,inertia:E.inertia||v.inertia});var C=v.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),N=v.isStatic?"#555":"#ccc",I=v.isStatic&&v.render.fillStyle===null?1:0;v.render.fillStyle=v.render.fillStyle||C,v.render.strokeStyle=v.render.strokeStyle||N,v.render.lineWidth=v.render.lineWidth||I,v.render.sprite.xOffset+=-(v.bounds.min.x-v.position.x)/(v.bounds.max.x-v.bounds.min.x),v.render.sprite.yOffset+=-(v.bounds.min.y-v.position.y)/(v.bounds.max.y-v.bounds.min.y)};a.set=function(v,E,C){var N;typeof E=="string"&&(N=E,E={},E[N]=C);for(N in E)if(Object.prototype.hasOwnProperty.call(E,N))switch(C=E[N],N){case"isStatic":a.setStatic(v,C);break;case"isSleeping":p.set(v,C);break;case"mass":a.setMass(v,C);break;case"density":a.setDensity(v,C);break;case"inertia":a.setInertia(v,C);break;case"vertices":a.setVertices(v,C);break;case"position":a.setPosition(v,C);break;case"angle":a.setAngle(v,C);break;case"velocity":a.setVelocity(v,C);break;case"angularVelocity":a.setAngularVelocity(v,C);break;case"speed":a.setSpeed(v,C);break;case"angularSpeed":a.setAngularSpeed(v,C);break;case"parts":a.setParts(v,C);break;case"centre":a.setCentre(v,C);break;default:v[N]=C}},a.setStatic=function(v,E){for(var C=0;C<v.parts.length;C++){var N=v.parts[C];E?(N.isStatic||(N._original={restitution:N.restitution,friction:N.friction,mass:N.mass,inertia:N.inertia,density:N.density,inverseMass:N.inverseMass,inverseInertia:N.inverseInertia}),N.restitution=0,N.friction=1,N.mass=N.inertia=N.density=1/0,N.inverseMass=N.inverseInertia=0,N.positionPrev.x=N.position.x,N.positionPrev.y=N.position.y,N.anglePrev=N.angle,N.angularVelocity=0,N.speed=0,N.angularSpeed=0,N.motion=0):N._original&&(N.restitution=N._original.restitution,N.friction=N._original.friction,N.mass=N._original.mass,N.inertia=N._original.inertia,N.density=N._original.density,N.inverseMass=N._original.inverseMass,N.inverseInertia=N._original.inverseInertia,N._original=null),N.isStatic=E}},a.setMass=function(v,E){var C=v.inertia/(v.mass/6);v.inertia=C*(E/6),v.inverseInertia=1/v.inertia,v.mass=E,v.inverseMass=1/v.mass,v.density=v.mass/v.area},a.setDensity=function(v,E){a.setMass(v,E*v.area),v.density=E},a.setInertia=function(v,E){v.inertia=E,v.inverseInertia=1/v.inertia},a.setVertices=function(v,E){E[0].body===v?v.vertices=E:v.vertices=c.create(E,v),v.axes=b.fromVertices(v.vertices),v.area=c.area(v.vertices),a.setMass(v,v.density*v.area);var C=c.centre(v.vertices);c.translate(v.vertices,C,-1),a.setInertia(v,a._inertiaScale*c.inertia(v.vertices,v.mass)),c.translate(v.vertices,v.position),g.update(v.bounds,v.vertices,v.velocity)},a.setParts=function(v,E,C){var N;for(E=E.slice(0),v.parts.length=0,v.parts.push(v),v.parent=v,N=0;N<E.length;N++){var I=E[N];I!==v&&(I.parent=v,v.parts.push(I))}if(v.parts.length!==1){if(C=typeof C<"u"?C:!0,C){var P=[];for(N=0;N<E.length;N++)P=P.concat(E[N].vertices);c.clockwiseSort(P);var D=c.hull(P),V=c.centre(D);a.setVertices(v,D),c.translate(v.vertices,V)}var A=a._totalProperties(v);v.area=A.area,v.parent=v,v.position.x=A.centre.x,v.position.y=A.centre.y,v.positionPrev.x=A.centre.x,v.positionPrev.y=A.centre.y,a.setMass(v,A.mass),a.setInertia(v,A.inertia),a.setPosition(v,A.centre)}},a.setCentre=function(v,E,C){C?(v.positionPrev.x+=E.x,v.positionPrev.y+=E.y,v.position.x+=E.x,v.position.y+=E.y):(v.positionPrev.x=E.x-(v.position.x-v.positionPrev.x),v.positionPrev.y=E.y-(v.position.y-v.positionPrev.y),v.position.x=E.x,v.position.y=E.y)},a.setPosition=function(v,E,C){var N=f.sub(E,v.position);C?(v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.velocity.x=N.x,v.velocity.y=N.y,v.speed=f.magnitude(N)):(v.positionPrev.x+=N.x,v.positionPrev.y+=N.y);for(var I=0;I<v.parts.length;I++){var P=v.parts[I];P.position.x+=N.x,P.position.y+=N.y,c.translate(P.vertices,N),g.update(P.bounds,P.vertices,v.velocity)}},a.setAngle=function(v,E,C){var N=E-v.angle;C?(v.anglePrev=v.angle,v.angularVelocity=N,v.angularSpeed=Math.abs(N)):v.anglePrev+=N;for(var I=0;I<v.parts.length;I++){var P=v.parts[I];P.angle+=N,c.rotate(P.vertices,N,v.position),b.rotate(P.axes,N),g.update(P.bounds,P.vertices,v.velocity),I>0&&f.rotateAbout(P.position,N,v.position,P.position)}},a.setVelocity=function(v,E){var C=v.deltaTime/a._baseDelta;v.positionPrev.x=v.position.x-E.x*C,v.positionPrev.y=v.position.y-E.y*C,v.velocity.x=(v.position.x-v.positionPrev.x)/C,v.velocity.y=(v.position.y-v.positionPrev.y)/C,v.speed=f.magnitude(v.velocity)},a.getVelocity=function(v){var E=a._baseDelta/v.deltaTime;return{x:(v.position.x-v.positionPrev.x)*E,y:(v.position.y-v.positionPrev.y)*E}},a.getSpeed=function(v){return f.magnitude(a.getVelocity(v))},a.setSpeed=function(v,E){a.setVelocity(v,f.mult(f.normalise(a.getVelocity(v)),E))},a.setAngularVelocity=function(v,E){var C=v.deltaTime/a._baseDelta;v.anglePrev=v.angle-E*C,v.angularVelocity=(v.angle-v.anglePrev)/C,v.angularSpeed=Math.abs(v.angularVelocity)},a.getAngularVelocity=function(v){return(v.angle-v.anglePrev)*a._baseDelta/v.deltaTime},a.getAngularSpeed=function(v){return Math.abs(a.getAngularVelocity(v))},a.setAngularSpeed=function(v,E){a.setAngularVelocity(v,h.sign(a.getAngularVelocity(v))*E)},a.translate=function(v,E,C){a.setPosition(v,f.add(v.position,E),C)},a.rotate=function(v,E,C,N){if(!C)a.setAngle(v,v.angle+E,N);else{var I=Math.cos(E),P=Math.sin(E),D=v.position.x-C.x,V=v.position.y-C.y;a.setPosition(v,{x:C.x+(D*I-V*P),y:C.y+(D*P+V*I)},N),a.setAngle(v,v.angle+E,N)}},a.scale=function(v,E,C,N){var I=0,P=0;N=N||v.position;for(var D=0;D<v.parts.length;D++){var V=v.parts[D];c.scale(V.vertices,E,C,N),V.axes=b.fromVertices(V.vertices),V.area=c.area(V.vertices),a.setMass(V,v.density*V.area),c.translate(V.vertices,{x:-V.position.x,y:-V.position.y}),a.setInertia(V,a._inertiaScale*c.inertia(V.vertices,V.mass)),c.translate(V.vertices,{x:V.position.x,y:V.position.y}),D>0&&(I+=V.area,P+=V.inertia),V.position.x=N.x+(V.position.x-N.x)*E,V.position.y=N.y+(V.position.y-N.y)*C,g.update(V.bounds,V.vertices,v.velocity)}v.parts.length>1&&(v.area=I,v.isStatic||(a.setMass(v,v.density*I),a.setInertia(v,P))),v.circleRadius&&(E===C?v.circleRadius*=E:v.circleRadius=null)},a.update=function(v,E){E=(typeof E<"u"?E:1e3/60)*v.timeScale;var C=E*E,N=a._timeCorrection?E/(v.deltaTime||E):1,I=1-v.frictionAir*(E/h._baseDelta),P=(v.position.x-v.positionPrev.x)*N,D=(v.position.y-v.positionPrev.y)*N;v.velocity.x=P*I+v.force.x/v.mass*C,v.velocity.y=D*I+v.force.y/v.mass*C,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.position.x+=v.velocity.x,v.position.y+=v.velocity.y,v.deltaTime=E,v.angularVelocity=(v.angle-v.anglePrev)*I*N+v.torque/v.inertia*C,v.anglePrev=v.angle,v.angle+=v.angularVelocity;for(var V=0;V<v.parts.length;V++){var A=v.parts[V];c.translate(A.vertices,v.velocity),V>0&&(A.position.x+=v.velocity.x,A.position.y+=v.velocity.y),v.angularVelocity!==0&&(c.rotate(A.vertices,v.angularVelocity,v.position),b.rotate(A.axes,v.angularVelocity),V>0&&f.rotateAbout(A.position,v.angularVelocity,v.position,A.position)),g.update(A.bounds,A.vertices,v.velocity)}},a.updateVelocities=function(v){var E=a._baseDelta/v.deltaTime,C=v.velocity;C.x=(v.position.x-v.positionPrev.x)*E,C.y=(v.position.y-v.positionPrev.y)*E,v.speed=Math.sqrt(C.x*C.x+C.y*C.y),v.angularVelocity=(v.angle-v.anglePrev)*E,v.angularSpeed=Math.abs(v.angularVelocity)},a.applyForce=function(v,E,C){var N={x:E.x-v.position.x,y:E.y-v.position.y};v.force.x+=C.x,v.force.y+=C.y,v.torque+=N.x*C.y-N.y*C.x},a._totalProperties=function(v){for(var E={mass:0,area:0,inertia:0,centre:{x:0,y:0}},C=v.parts.length===1?0:1;C<v.parts.length;C++){var N=v.parts[C],I=N.mass!==1/0?N.mass:1;E.mass+=I,E.area+=N.area,E.inertia+=N.inertia,E.centre=f.add(E.centre,f.mult(N.position,I))}return E.centre=f.div(E.centre,E.mass),E}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(0);(function(){a.on=function(f,p,h){for(var g=p.split(" "),b,S=0;S<g.length;S++)b=g[S],f.events=f.events||{},f.events[b]=f.events[b]||[],f.events[b].push(h);return h},a.off=function(f,p,h){if(!p){f.events={};return}typeof p=="function"&&(h=p,p=c.keys(f.events).join(" "));for(var g=p.split(" "),b=0;b<g.length;b++){var S=f.events[g[b]],v=[];if(h&&S)for(var E=0;E<S.length;E++)S[E]!==h&&v.push(S[E]);f.events[g[b]]=v}},a.trigger=function(f,p,h){var g,b,S,v,E=f.events;if(E&&c.keys(E).length>0){h||(h={}),g=p.split(" ");for(var C=0;C<g.length;C++)if(b=g[C],S=E[b],S){v=c.clone(h,!1),v.name=b,v.source=f;for(var N=0;N<S.length;N++)S[N].apply(f,[v])}}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(5),f=r(0),p=r(1),h=r(4);(function(){a.create=function(g){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},g)},a.setModified=function(g,b,S,v){if(g.isModified=b,b&&g.cache&&(g.cache.allBodies=null,g.cache.allConstraints=null,g.cache.allComposites=null),S&&g.parent&&a.setModified(g.parent,b,S,v),v)for(var E=0;E<g.composites.length;E++){var C=g.composites[E];a.setModified(C,b,S,v)}},a.add=function(g,b){var S=[].concat(b);c.trigger(g,"beforeAdd",{object:b});for(var v=0;v<S.length;v++){var E=S[v];switch(E.type){case"body":if(E.parent!==E){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(g,E);break;case"constraint":a.addConstraint(g,E);break;case"composite":a.addComposite(g,E);break;case"mouseConstraint":a.addConstraint(g,E.constraint);break}}return c.trigger(g,"afterAdd",{object:b}),g},a.remove=function(g,b,S){var v=[].concat(b);c.trigger(g,"beforeRemove",{object:b});for(var E=0;E<v.length;E++){var C=v[E];switch(C.type){case"body":a.removeBody(g,C,S);break;case"constraint":a.removeConstraint(g,C,S);break;case"composite":a.removeComposite(g,C,S);break;case"mouseConstraint":a.removeConstraint(g,C.constraint);break}}return c.trigger(g,"afterRemove",{object:b}),g},a.addComposite=function(g,b){return g.composites.push(b),b.parent=g,a.setModified(g,!0,!0,!1),g},a.removeComposite=function(g,b,S){var v=f.indexOf(g.composites,b);if(v!==-1){var E=a.allBodies(b);a.removeCompositeAt(g,v);for(var C=0;C<E.length;C++)E[C].sleepCounter=0}if(S)for(var C=0;C<g.composites.length;C++)a.removeComposite(g.composites[C],b,!0);return g},a.removeCompositeAt=function(g,b){return g.composites.splice(b,1),a.setModified(g,!0,!0,!1),g},a.addBody=function(g,b){return g.bodies.push(b),a.setModified(g,!0,!0,!1),g},a.removeBody=function(g,b,S){var v=f.indexOf(g.bodies,b);if(v!==-1&&(a.removeBodyAt(g,v),b.sleepCounter=0),S)for(var E=0;E<g.composites.length;E++)a.removeBody(g.composites[E],b,!0);return g},a.removeBodyAt=function(g,b){return g.bodies.splice(b,1),a.setModified(g,!0,!0,!1),g},a.addConstraint=function(g,b){return g.constraints.push(b),a.setModified(g,!0,!0,!1),g},a.removeConstraint=function(g,b,S){var v=f.indexOf(g.constraints,b);if(v!==-1&&a.removeConstraintAt(g,v),S)for(var E=0;E<g.composites.length;E++)a.removeConstraint(g.composites[E],b,!0);return g},a.removeConstraintAt=function(g,b){return g.constraints.splice(b,1),a.setModified(g,!0,!0,!1),g},a.clear=function(g,b,S){if(S)for(var v=0;v<g.composites.length;v++)a.clear(g.composites[v],b,!0);return b?g.bodies=g.bodies.filter(function(E){return E.isStatic}):g.bodies.length=0,g.constraints.length=0,g.composites.length=0,a.setModified(g,!0,!0,!1),g},a.allBodies=function(g){if(g.cache&&g.cache.allBodies)return g.cache.allBodies;for(var b=[].concat(g.bodies),S=0;S<g.composites.length;S++)b=b.concat(a.allBodies(g.composites[S]));return g.cache&&(g.cache.allBodies=b),b},a.allConstraints=function(g){if(g.cache&&g.cache.allConstraints)return g.cache.allConstraints;for(var b=[].concat(g.constraints),S=0;S<g.composites.length;S++)b=b.concat(a.allConstraints(g.composites[S]));return g.cache&&(g.cache.allConstraints=b),b},a.allComposites=function(g){if(g.cache&&g.cache.allComposites)return g.cache.allComposites;for(var b=[].concat(g.composites),S=0;S<g.composites.length;S++)b=b.concat(a.allComposites(g.composites[S]));return g.cache&&(g.cache.allComposites=b),b},a.get=function(g,b,S){var v,E;switch(S){case"body":v=a.allBodies(g);break;case"constraint":v=a.allConstraints(g);break;case"composite":v=a.allComposites(g).concat(g);break}return v?(E=v.filter(function(C){return C.id.toString()===b.toString()}),E.length===0?null:E[0]):null},a.move=function(g,b,S){return a.remove(g,b),a.add(S,b),g},a.rebase=function(g){for(var b=a.allBodies(g).concat(a.allConstraints(g)).concat(a.allComposites(g)),S=0;S<b.length;S++)b[S].id=f.nextId();return g},a.translate=function(g,b,S){for(var v=S?a.allBodies(g):g.bodies,E=0;E<v.length;E++)h.translate(v[E],b);return g},a.rotate=function(g,b,S,v){for(var E=Math.cos(b),C=Math.sin(b),N=v?a.allBodies(g):g.bodies,I=0;I<N.length;I++){var P=N[I],D=P.position.x-S.x,V=P.position.y-S.y;h.setPosition(P,{x:S.x+(D*E-V*C),y:S.y+(D*C+V*E)}),h.rotate(P,b)}return g},a.scale=function(g,b,S,v,E){for(var C=E?a.allBodies(g):g.bodies,N=0;N<C.length;N++){var I=C[N],P=I.position.x-v.x,D=I.position.y-v.y;h.setPosition(I,{x:v.x+P*b,y:v.y+D*S}),h.scale(I,b,S)}return g},a.bounds=function(g){for(var b=a.allBodies(g),S=[],v=0;v<b.length;v+=1){var E=b[v];S.push(E.bounds.min,E.bounds.max)}return p.create(S)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(4),f=r(5),p=r(0);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(h,g){for(var b=g/p._baseDelta,S=a._motionSleepThreshold,v=0;v<h.length;v++){var E=h[v],C=c.getSpeed(E),N=c.getAngularSpeed(E),I=C*C+N*N;if(E.force.x!==0||E.force.y!==0){a.set(E,!1);continue}var P=Math.min(E.motion,I),D=Math.max(E.motion,I);E.motion=a._minBias*P+(1-a._minBias)*D,E.sleepThreshold>0&&E.motion<S?(E.sleepCounter+=1,E.sleepCounter>=E.sleepThreshold/b&&a.set(E,!0)):E.sleepCounter>0&&(E.sleepCounter-=1)}},a.afterCollisions=function(h){for(var g=a._motionSleepThreshold,b=0;b<h.length;b++){var S=h[b];if(S.isActive){var v=S.collision,E=v.bodyA.parent,C=v.bodyB.parent;if(!(E.isSleeping&&C.isSleeping||E.isStatic||C.isStatic)&&(E.isSleeping||C.isSleeping)){var N=E.isSleeping&&!E.isStatic?E:C,I=N===E?C:E;!N.isStatic&&I.motion>g&&a.set(N,!1)}}}},a.set=function(h,g){var b=h.isSleeping;g?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,b||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,b&&f.trigger(h,"sleepEnd"))}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(9);(function(){var p=[],h={overlap:0,axis:null},g={overlap:0,axis:null};a.create=function(b,S){return{pair:null,collided:!1,bodyA:b,bodyB:S,parentA:b.parent,parentB:S.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(b,S,v){if(a._overlapAxes(h,b.vertices,S.vertices,b.axes),h.overlap<=0||(a._overlapAxes(g,S.vertices,b.vertices,S.axes),g.overlap<=0))return null;var E=v&&v.table[f.id(b,S)],C;E?C=E.collision:(C=a.create(b,S),C.collided=!0,C.bodyA=b.id<S.id?b:S,C.bodyB=b.id<S.id?S:b,C.parentA=C.bodyA.parent,C.parentB=C.bodyB.parent),b=C.bodyA,S=C.bodyB;var N;h.overlap<g.overlap?N=h:N=g;var I=C.normal,P=C.tangent,D=C.penetration,V=C.supports,A=N.overlap,M=N.axis,L=M.x,R=M.y,U=S.position.x-b.position.x,k=S.position.y-b.position.y;L*U+R*k>=0&&(L=-L,R=-R),I.x=L,I.y=R,P.x=-R,P.y=L,D.x=L*A,D.y=R*A,C.depth=A;var q=a._findSupports(b,S,I,1),O=0;if(c.contains(b.vertices,q[0])&&(V[O++]=q[0]),c.contains(b.vertices,q[1])&&(V[O++]=q[1]),O<2){var j=a._findSupports(S,b,I,-1);c.contains(S.vertices,j[0])&&(V[O++]=j[0]),O<2&&c.contains(S.vertices,j[1])&&(V[O++]=j[1])}return O===0&&(V[O++]=q[0]),C.supportCount=O,C},a._overlapAxes=function(b,S,v,E){var C=S.length,N=v.length,I=S[0].x,P=S[0].y,D=v[0].x,V=v[0].y,A=E.length,M=Number.MAX_VALUE,L=0,R,U,k,q,O,j;for(O=0;O<A;O++){var K=E[O],Q=K.x,Y=K.y,te=I*Q+P*Y,oe=D*Q+V*Y,xe=te,ue=oe;for(j=1;j<C;j+=1)q=S[j].x*Q+S[j].y*Y,q>xe?xe=q:q<te&&(te=q);for(j=1;j<N;j+=1)q=v[j].x*Q+v[j].y*Y,q>ue?ue=q:q<oe&&(oe=q);if(U=xe-oe,k=ue-te,R=U<k?U:k,R<M&&(M=R,L=O,R<=0))break}b.axis=E[L],b.overlap=M},a._findSupports=function(b,S,v,E){var C=S.vertices,N=C.length,I=b.position.x,P=b.position.y,D=v.x*E,V=v.y*E,A=C[0],M=A,L=D*(I-M.x)+V*(P-M.y),R,U,k;for(k=1;k<N;k+=1)M=C[k],U=D*(I-M.x)+V*(P-M.y),U<L&&(L=U,A=M);return R=C[(N+A.index-1)%N],L=D*(I-R.x)+V*(P-R.y),M=C[(A.index+1)%N],D*(I-M.x)+V*(P-M.y)<L?(p[0]=A,p[1]=M,p):(p[0]=A,p[1]=R,p)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(16);(function(){a.create=function(f,p){var h=f.bodyA,g=f.bodyB,b={id:a.id(h,g),bodyA:h,bodyB:g,collision:f,contacts:[c.create(),c.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||g.isSensor,timeCreated:p,timeUpdated:p,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(b,f,p),b},a.update=function(f,p,h){var g=p.supports,b=p.supportCount,S=f.contacts,v=p.parentA,E=p.parentB;f.isActive=!0,f.timeUpdated=h,f.collision=p,f.separation=p.depth,f.inverseMass=v.inverseMass+E.inverseMass,f.friction=v.friction<E.friction?v.friction:E.friction,f.frictionStatic=v.frictionStatic>E.frictionStatic?v.frictionStatic:E.frictionStatic,f.restitution=v.restitution>E.restitution?v.restitution:E.restitution,f.slop=v.slop>E.slop?v.slop:E.slop,f.contactCount=b,p.pair=f;var C=g[0],N=S[0],I=g[1],P=S[1];(P.vertex===C||N.vertex===I)&&(S[1]=N,S[0]=N=P,P=S[1]),N.vertex=C,P.vertex=I},a.setActive=function(f,p,h){p?(f.isActive=!0,f.timeUpdated=h):(f.isActive=!1,f.contactCount=0)},a.id=function(f,p){return f.id<p.id?f.id.toString(36)+":"+p.id.toString(36):p.id.toString(36)+":"+f.id.toString(36)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(2),p=r(7),h=r(1),g=r(11),b=r(0);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(S){var v=S;v.bodyA&&!v.pointA&&(v.pointA={x:0,y:0}),v.bodyB&&!v.pointB&&(v.pointB={x:0,y:0});var E=v.bodyA?f.add(v.bodyA.position,v.pointA):v.pointA,C=v.bodyB?f.add(v.bodyB.position,v.pointB):v.pointB,N=f.magnitude(f.sub(E,C));v.length=typeof v.length<"u"?v.length:N,v.id=v.id||b.nextId(),v.label=v.label||"Constraint",v.type="constraint",v.stiffness=v.stiffness||(v.length>0?1:.7),v.damping=v.damping||0,v.angularStiffness=v.angularStiffness||0,v.angleA=v.bodyA?v.bodyA.angle:v.angleA,v.angleB=v.bodyB?v.bodyB.angle:v.angleB,v.plugin={};var I={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return v.length===0&&v.stiffness>.1?(I.type="pin",I.anchors=!1):v.stiffness<.9&&(I.type="spring"),v.render=b.extend(I,v.render),v},a.preSolveAll=function(S){for(var v=0;v<S.length;v+=1){var E=S[v],C=E.constraintImpulse;E.isStatic||C.x===0&&C.y===0&&C.angle===0||(E.position.x+=C.x,E.position.y+=C.y,E.angle+=C.angle)}},a.solveAll=function(S,v){for(var E=b.clamp(v/b._baseDelta,0,1),C=0;C<S.length;C+=1){var N=S[C],I=!N.bodyA||N.bodyA&&N.bodyA.isStatic,P=!N.bodyB||N.bodyB&&N.bodyB.isStatic;(I||P)&&a.solve(S[C],E)}for(C=0;C<S.length;C+=1)N=S[C],I=!N.bodyA||N.bodyA&&N.bodyA.isStatic,P=!N.bodyB||N.bodyB&&N.bodyB.isStatic,!I&&!P&&a.solve(S[C],E)},a.solve=function(S,v){var E=S.bodyA,C=S.bodyB,N=S.pointA,I=S.pointB;if(!(!E&&!C)){E&&!E.isStatic&&(f.rotate(N,E.angle-S.angleA,N),S.angleA=E.angle),C&&!C.isStatic&&(f.rotate(I,C.angle-S.angleB,I),S.angleB=C.angle);var P=N,D=I;if(E&&(P=f.add(E.position,N)),C&&(D=f.add(C.position,I)),!(!P||!D)){var V=f.sub(P,D),A=f.magnitude(V);A<a._minLength&&(A=a._minLength);var M=(A-S.length)/A,L=S.stiffness>=1||S.length===0,R=L?S.stiffness*v:S.stiffness*v*v,U=S.damping*v,k=f.mult(V,M*R),q=(E?E.inverseMass:0)+(C?C.inverseMass:0),O=(E?E.inverseInertia:0)+(C?C.inverseInertia:0),j=q+O,K,Q,Y,te,oe;if(U>0){var xe=f.create();Y=f.div(V,A),oe=f.sub(C&&f.sub(C.position,C.positionPrev)||xe,E&&f.sub(E.position,E.positionPrev)||xe),te=f.dot(Y,oe)}E&&!E.isStatic&&(Q=E.inverseMass/q,E.constraintImpulse.x-=k.x*Q,E.constraintImpulse.y-=k.y*Q,E.position.x-=k.x*Q,E.position.y-=k.y*Q,U>0&&(E.positionPrev.x-=U*Y.x*te*Q,E.positionPrev.y-=U*Y.y*te*Q),K=f.cross(N,k)/j*a._torqueDampen*E.inverseInertia*(1-S.angularStiffness),E.constraintImpulse.angle-=K,E.angle-=K),C&&!C.isStatic&&(Q=C.inverseMass/q,C.constraintImpulse.x+=k.x*Q,C.constraintImpulse.y+=k.y*Q,C.position.x+=k.x*Q,C.position.y+=k.y*Q,U>0&&(C.positionPrev.x+=U*Y.x*te*Q,C.positionPrev.y+=U*Y.y*te*Q),K=f.cross(I,k)/j*a._torqueDampen*C.inverseInertia*(1-S.angularStiffness),C.constraintImpulse.angle+=K,C.angle+=K)}}},a.postSolveAll=function(S){for(var v=0;v<S.length;v++){var E=S[v],C=E.constraintImpulse;if(!(E.isStatic||C.x===0&&C.y===0&&C.angle===0)){p.set(E,!1);for(var N=0;N<E.parts.length;N++){var I=E.parts[N];c.translate(I.vertices,C),N>0&&(I.position.x+=C.x,I.position.y+=C.y),C.angle!==0&&(c.rotate(I.vertices,C.angle,E.position),g.rotate(I.axes,C.angle),N>0&&f.rotateAbout(I.position,C.angle,E.position,I.position)),h.update(I.bounds,I.vertices,E.velocity)}C.angle*=a._warming,C.x*=a._warming,C.y*=a._warming}}},a.pointAWorld=function(S){return{x:(S.bodyA?S.bodyA.position.x:0)+(S.pointA?S.pointA.x:0),y:(S.bodyA?S.bodyA.position.y:0)+(S.pointA?S.pointA.y:0)}},a.pointBWorld=function(S){return{x:(S.bodyB?S.bodyB.position.x:0)+(S.pointB?S.pointB.x:0),y:(S.bodyB?S.bodyB.position.y:0)+(S.pointB?S.pointB.y:0)}},a.currentLength=function(S){var v=(S.bodyA?S.bodyA.position.x:0)+(S.pointA?S.pointA.x:0),E=(S.bodyA?S.bodyA.position.y:0)+(S.pointA?S.pointA.y:0),C=(S.bodyB?S.bodyB.position.x:0)+(S.pointB?S.pointB.x:0),N=(S.bodyB?S.bodyB.position.y:0)+(S.pointB?S.pointB.y:0),I=v-C,P=E-N;return Math.sqrt(I*I+P*P)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(2),f=r(0);(function(){a.fromVertices=function(p){for(var h={},g=0;g<p.length;g++){var b=(g+1)%p.length,S=c.normalise({x:p[b].y-p[g].y,y:p[g].x-p[b].x}),v=S.y===0?1/0:S.x/S.y;v=v.toFixed(3).toString(),h[v]=S}return f.values(h)},a.rotate=function(p,h){if(h!==0)for(var g=Math.cos(h),b=Math.sin(h),S=0;S<p.length;S++){var v=p[S],E;E=v.x*g-v.y*b,v.y=v.x*b+v.y*g,v.x=E}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(0),p=r(4),h=r(1),g=r(2);(function(){a.rectangle=function(b,S,v,E,C){C=C||{};var N={label:"Rectangle Body",position:{x:b,y:S},vertices:c.fromPath("L 0 0 L "+v+" 0 L "+v+" "+E+" L 0 "+E)};if(C.chamfer){var I=C.chamfer;N.vertices=c.chamfer(N.vertices,I.radius,I.quality,I.qualityMin,I.qualityMax),delete C.chamfer}return p.create(f.extend({},N,C))},a.trapezoid=function(b,S,v,E,C,N){N=N||{},C>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),C*=.5;var I=(1-C*2)*v,P=v*C,D=P+I,V=D+P,A;C<.5?A="L 0 0 L "+P+" "+-E+" L "+D+" "+-E+" L "+V+" 0":A="L 0 0 L "+D+" "+-E+" L "+V+" 0";var M={label:"Trapezoid Body",position:{x:b,y:S},vertices:c.fromPath(A)};if(N.chamfer){var L=N.chamfer;M.vertices=c.chamfer(M.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete N.chamfer}return p.create(f.extend({},M,N))},a.circle=function(b,S,v,E,C){E=E||{};var N={label:"Circle Body",circleRadius:v};C=C||25;var I=Math.ceil(Math.max(10,Math.min(C,v)));return I%2===1&&(I+=1),a.polygon(b,S,I,v,f.extend({},N,E))},a.polygon=function(b,S,v,E,C){if(C=C||{},v<3)return a.circle(b,S,E,C);for(var N=2*Math.PI/v,I="",P=N*.5,D=0;D<v;D+=1){var V=P+D*N,A=Math.cos(V)*E,M=Math.sin(V)*E;I+="L "+A.toFixed(3)+" "+M.toFixed(3)+" "}var L={label:"Polygon Body",position:{x:b,y:S},vertices:c.fromPath(I)};if(C.chamfer){var R=C.chamfer;L.vertices=c.chamfer(L.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete C.chamfer}return p.create(f.extend({},L,C))},a.fromVertices=function(b,S,v,E,C,N,I,P){var D=f.getDecomp(),V,A,M,L,R,U,k,q,O,j,K;for(V=!!(D&&D.quickDecomp),E=E||{},M=[],C=typeof C<"u"?C:!1,N=typeof N<"u"?N:.01,I=typeof I<"u"?I:10,P=typeof P<"u"?P:.01,f.isArray(v[0])||(v=[v]),j=0;j<v.length;j+=1)if(U=v[j],L=c.isConvex(U),R=!L,R&&!V&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),L||!V)L?U=c.clockwiseSort(U):U=c.hull(U),M.push({position:{x:b,y:S},vertices:U});else{var Q=U.map(function(ce){return[ce.x,ce.y]});D.makeCCW(Q),N!==!1&&D.removeCollinearPoints(Q,N),P!==!1&&D.removeDuplicatePoints&&D.removeDuplicatePoints(Q,P);var Y=D.quickDecomp(Q);for(k=0;k<Y.length;k++){var te=Y[k],oe=te.map(function(ce){return{x:ce[0],y:ce[1]}});I>0&&c.area(oe)<I||M.push({position:c.centre(oe),vertices:oe})}}for(k=0;k<M.length;k++)M[k]=p.create(f.extend(M[k],E));if(C){var xe=5;for(k=0;k<M.length;k++){var ue=M[k];for(q=k+1;q<M.length;q++){var F=M[q];if(h.overlaps(ue.bounds,F.bounds)){var J=ue.vertices,ee=F.vertices;for(O=0;O<ue.vertices.length;O++)for(K=0;K<F.vertices.length;K++){var de=g.magnitudeSquared(g.sub(J[(O+1)%J.length],ee[K])),be=g.magnitudeSquared(g.sub(J[O],ee[(K+1)%ee.length]));de<xe&&be<xe&&(J[O].isInternal=!0,ee[K].isInternal=!0)}}}}}return M.length>1?(A=p.create(f.extend({parts:M.slice(0)},E)),p.setPosition(A,{x:b,y:S}),A):M[0]}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(0),f=r(8);(function(){a.create=function(p){var h={bodies:[],collisions:[],pairs:null};return c.extend(h,p)},a.setBodies=function(p,h){p.bodies=h.slice(0)},a.clear=function(p){p.bodies=[],p.collisions=[]},a.collisions=function(p){var h=p.pairs,g=p.bodies,b=g.length,S=a.canCollide,v=f.collides,E=p.collisions,C=0,N,I;for(g.sort(a._compareBoundsX),N=0;N<b;N++){var P=g[N],D=P.bounds,V=P.bounds.max.x,A=P.bounds.max.y,M=P.bounds.min.y,L=P.isStatic||P.isSleeping,R=P.parts.length,U=R===1;for(I=N+1;I<b;I++){var k=g[I],q=k.bounds;if(q.min.x>V)break;if(!(A<q.min.y||M>q.max.y)&&!(L&&(k.isStatic||k.isSleeping))&&S(P.collisionFilter,k.collisionFilter)){var O=k.parts.length;if(U&&O===1){var j=v(P,k,h);j&&(E[C++]=j)}else for(var K=R>1?1:0,Q=O>1?1:0,Y=K;Y<R;Y++)for(var te=P.parts[Y],D=te.bounds,oe=Q;oe<O;oe++){var xe=k.parts[oe],q=xe.bounds;if(!(D.min.x>q.max.x||D.max.x<q.min.x||D.max.y<q.min.y||D.min.y>q.max.y)){var j=v(te,xe,h);j&&(E[C++]=j)}}}}}return E.length!==C&&(E.length=C),E},a.canCollide=function(p,h){return p.group===h.group&&p.group!==0?p.group>0:(p.mask&h.category)!==0&&(h.mask&p.category)!==0},a._compareBoundsX=function(p,h){return p.bounds.min.x-h.bounds.min.x}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(0);(function(){a.create=function(f){var p={};return f||c.log("Mouse.create: element was undefined, defaulting to document.body","warn"),p.element=f||document.body,p.absolute={x:0,y:0},p.position={x:0,y:0},p.mousedownPosition={x:0,y:0},p.mouseupPosition={x:0,y:0},p.offset={x:0,y:0},p.scale={x:1,y:1},p.wheelDelta=0,p.button=-1,p.pixelRatio=parseInt(p.element.getAttribute("data-pixel-ratio"),10)||1,p.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},p.mousemove=function(h){var g=a._getRelativeMousePosition(h,p.element,p.pixelRatio),b=h.changedTouches;b&&(p.button=0,h.preventDefault()),p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.sourceEvents.mousemove=h},p.mousedown=function(h){var g=a._getRelativeMousePosition(h,p.element,p.pixelRatio),b=h.changedTouches;b?(p.button=0,h.preventDefault()):p.button=h.button,p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.mousedownPosition.x=p.position.x,p.mousedownPosition.y=p.position.y,p.sourceEvents.mousedown=h},p.mouseup=function(h){var g=a._getRelativeMousePosition(h,p.element,p.pixelRatio),b=h.changedTouches;b&&h.preventDefault(),p.button=-1,p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.mouseupPosition.x=p.position.x,p.mouseupPosition.y=p.position.y,p.sourceEvents.mouseup=h},p.mousewheel=function(h){p.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault(),p.sourceEvents.mousewheel=h},a.setElement(p,p.element),p},a.setElement=function(f,p){f.element=p,p.addEventListener("mousemove",f.mousemove,{passive:!0}),p.addEventListener("mousedown",f.mousedown,{passive:!0}),p.addEventListener("mouseup",f.mouseup,{passive:!0}),p.addEventListener("wheel",f.mousewheel,{passive:!1}),p.addEventListener("touchmove",f.mousemove,{passive:!1}),p.addEventListener("touchstart",f.mousedown,{passive:!1}),p.addEventListener("touchend",f.mouseup,{passive:!1})},a.clearSourceEvents=function(f){f.sourceEvents.mousemove=null,f.sourceEvents.mousedown=null,f.sourceEvents.mouseup=null,f.sourceEvents.mousewheel=null,f.wheelDelta=0},a.setOffset=function(f,p){f.offset.x=p.x,f.offset.y=p.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},a.setScale=function(f,p){f.scale.x=p.x,f.scale.y=p.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},a._getRelativeMousePosition=function(f,p,h){var g=p.getBoundingClientRect(),b=document.documentElement||document.body.parentNode||document.body,S=window.pageXOffset!==void 0?window.pageXOffset:b.scrollLeft,v=window.pageYOffset!==void 0?window.pageYOffset:b.scrollTop,E=f.changedTouches,C,N;return E?(C=E[0].pageX-g.left-S,N=E[0].pageY-g.top-v):(C=f.pageX-g.left-S,N=f.pageY-g.top-v),{x:C/(p.clientWidth/(p.width||p.clientWidth)*h),y:N/(p.clientHeight/(p.height||p.clientHeight)*h)}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(0);(function(){a._registry={},a.register=function(f){if(a.isPlugin(f)||c.warn("Plugin.register:",a.toString(f),"does not implement all required fields."),f.name in a._registry){var p=a._registry[f.name],h=a.versionParse(f.version).number,g=a.versionParse(p.version).number;h>g?(c.warn("Plugin.register:",a.toString(p),"was upgraded to",a.toString(f)),a._registry[f.name]=f):h<g?c.warn("Plugin.register:",a.toString(p),"can not be downgraded to",a.toString(f)):f!==p&&c.warn("Plugin.register:",a.toString(f),"is already registered to different plugin object")}else a._registry[f.name]=f;return f},a.resolve=function(f){return a._registry[a.dependencyParse(f).name]},a.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},a.isPlugin=function(f){return f&&f.name&&f.version&&f.install},a.isUsed=function(f,p){return f.used.indexOf(p)>-1},a.isFor=function(f,p){var h=f.for&&a.dependencyParse(f.for);return!f.for||p.name===h.name&&a.versionSatisfies(p.version,h.range)},a.use=function(f,p){if(f.uses=(f.uses||[]).concat(p||[]),f.uses.length===0){c.warn("Plugin.use:",a.toString(f),"does not specify any dependencies to install.");return}for(var h=a.dependencies(f),g=c.topologicalSort(h),b=[],S=0;S<g.length;S+=1)if(g[S]!==f.name){var v=a.resolve(g[S]);if(!v){b.push(" "+g[S]);continue}a.isUsed(f,v.name)||(a.isFor(v,f)||(c.warn("Plugin.use:",a.toString(v),"is for",v.for,"but installed on",a.toString(f)+"."),v._warned=!0),v.install?v.install(f):(c.warn("Plugin.use:",a.toString(v),"does not specify an install function."),v._warned=!0),v._warned?(b.push(" "+a.toString(v)),delete v._warned):b.push(" "+a.toString(v)),f.used.push(v.name))}b.length>0&&c.info(b.join("  "))},a.dependencies=function(f,p){var h=a.dependencyParse(f),g=h.name;if(p=p||{},!(g in p)){f=a.resolve(f)||f,p[g]=c.map(f.uses||[],function(S){a.isPlugin(S)&&a.register(S);var v=a.dependencyParse(S),E=a.resolve(S);return E&&!a.versionSatisfies(E.version,v.range)?(c.warn("Plugin.dependencies:",a.toString(E),"does not satisfy",a.toString(v),"used by",a.toString(h)+"."),E._warned=!0,f._warned=!0):E||(c.warn("Plugin.dependencies:",a.toString(S),"used by",a.toString(h),"could not be resolved."),f._warned=!0),v.name});for(var b=0;b<p[g].length;b+=1)a.dependencies(p[g][b],p);return p}},a.dependencyParse=function(f){if(c.isString(f)){var p=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return p.test(f)||c.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},a.versionParse=function(f){var p=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;p.test(f)||c.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=p.exec(f),g=Number(h[4]),b=Number(h[5]),S=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:f,operator:h[1]||h[2]||"",major:g,minor:b,patch:S,parts:[g,b,S],prerelease:h[7],number:g*1e8+b*1e4+S}},a.versionSatisfies=function(f,p){p=p||"*";var h=a.versionParse(p),g=a.versionParse(f);if(h.isRange){if(h.operator==="*"||f==="*")return!0;if(h.operator===">")return g.number>h.number;if(h.operator===">=")return g.number>=h.number;if(h.operator==="~")return g.major===h.major&&g.minor===h.minor&&g.patch>=h.patch;if(h.operator==="^")return h.major>0?g.major===h.major&&g.number>=h.number:h.minor>0?g.minor===h.minor&&g.patch>=h.patch:g.patch===h.patch}return f===p||f==="*"}})()}),(function(l,o){var r={};l.exports=r,(function(){r.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(7),f=r(18),p=r(13),h=r(19),g=r(5),b=r(6),S=r(10),v=r(0),E=r(4);(function(){a._deltaMax=1e3/60,a.create=function(C){C=C||{};var N={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},I=v.extend(N,C);return I.world=C.world||b.create({label:"World"}),I.pairs=C.pairs||h.create(),I.detector=C.detector||p.create(),I.detector.pairs=I.pairs,I.grid={buckets:[]},I.world.gravity=I.gravity,I.broadphase=I.grid,I.metrics={},I},a.update=function(C,N){var I=v.now(),P=C.world,D=C.detector,V=C.pairs,A=C.timing,M=A.timestamp,L;N>a._deltaMax&&v.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),N=typeof N<"u"?N:v._baseDelta,N*=A.timeScale,A.timestamp+=N,A.lastDelta=N;var R={timestamp:A.timestamp,delta:N};g.trigger(C,"beforeUpdate",R);var U=b.allBodies(P),k=b.allConstraints(P);for(P.isModified&&(p.setBodies(D,U),b.setModified(P,!1,!1,!0)),C.enableSleeping&&c.update(U,N),a._bodiesApplyGravity(U,C.gravity),N>0&&a._bodiesUpdate(U,N),g.trigger(C,"beforeSolve",R),S.preSolveAll(U),L=0;L<C.constraintIterations;L++)S.solveAll(k,N);S.postSolveAll(U);var q=p.collisions(D);h.update(V,q,M),C.enableSleeping&&c.afterCollisions(V.list),V.collisionStart.length>0&&g.trigger(C,"collisionStart",{pairs:V.collisionStart,timestamp:A.timestamp,delta:N});var O=v.clamp(20/C.positionIterations,0,1);for(f.preSolvePosition(V.list),L=0;L<C.positionIterations;L++)f.solvePosition(V.list,N,O);for(f.postSolvePosition(U),S.preSolveAll(U),L=0;L<C.constraintIterations;L++)S.solveAll(k,N);for(S.postSolveAll(U),f.preSolveVelocity(V.list),L=0;L<C.velocityIterations;L++)f.solveVelocity(V.list,N);return a._bodiesUpdateVelocities(U),V.collisionActive.length>0&&g.trigger(C,"collisionActive",{pairs:V.collisionActive,timestamp:A.timestamp,delta:N}),V.collisionEnd.length>0&&g.trigger(C,"collisionEnd",{pairs:V.collisionEnd,timestamp:A.timestamp,delta:N}),a._bodiesClearForces(U),g.trigger(C,"afterUpdate",R),C.timing.lastElapsed=v.now()-I,C},a.merge=function(C,N){if(v.extend(C,N),N.world){C.world=N.world,a.clear(C);for(var I=b.allBodies(C.world),P=0;P<I.length;P++){var D=I[P];c.set(D,!1),D.id=v.nextId()}}},a.clear=function(C){h.clear(C.pairs),p.clear(C.detector)},a._bodiesClearForces=function(C){for(var N=C.length,I=0;I<N;I++){var P=C[I];P.force.x=0,P.force.y=0,P.torque=0}},a._bodiesApplyGravity=function(C,N){var I=typeof N.scale<"u"?N.scale:.001,P=C.length;if(!(N.x===0&&N.y===0||I===0))for(var D=0;D<P;D++){var V=C[D];V.isStatic||V.isSleeping||(V.force.y+=V.mass*N.y*I,V.force.x+=V.mass*N.x*I)}},a._bodiesUpdate=function(C,N){for(var I=C.length,P=0;P<I;P++){var D=C[P];D.isStatic||D.isSleeping||E.update(D,N)}},a._bodiesUpdateVelocities=function(C){for(var N=C.length,I=0;I<N;I++)E.updateVelocities(C[I])}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(0),p=r(1);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(h){var g,b,S,v=h.length;for(g=0;g<v;g++)b=h[g],b.isActive&&(S=b.contactCount,b.collision.parentA.totalContacts+=S,b.collision.parentB.totalContacts+=S)},a.solvePosition=function(h,g,b){var S,v,E,C,N,I,P,D,V=a._positionDampen*(b||1),A=f.clamp(g/f._baseDelta,0,1),M=h.length;for(S=0;S<M;S++)v=h[S],!(!v.isActive||v.isSensor)&&(E=v.collision,C=E.parentA,N=E.parentB,I=E.normal,v.separation=E.depth+I.x*(N.positionImpulse.x-C.positionImpulse.x)+I.y*(N.positionImpulse.y-C.positionImpulse.y));for(S=0;S<M;S++)v=h[S],!(!v.isActive||v.isSensor)&&(E=v.collision,C=E.parentA,N=E.parentB,I=E.normal,D=v.separation-v.slop*A,(C.isStatic||N.isStatic)&&(D*=2),C.isStatic||C.isSleeping||(P=V/C.totalContacts,C.positionImpulse.x+=I.x*D*P,C.positionImpulse.y+=I.y*D*P),N.isStatic||N.isSleeping||(P=V/N.totalContacts,N.positionImpulse.x-=I.x*D*P,N.positionImpulse.y-=I.y*D*P))},a.postSolvePosition=function(h){for(var g=a._positionWarming,b=h.length,S=c.translate,v=p.update,E=0;E<b;E++){var C=h[E],N=C.positionImpulse,I=N.x,P=N.y,D=C.velocity;if(C.totalContacts=0,I!==0||P!==0){for(var V=0;V<C.parts.length;V++){var A=C.parts[V];S(A.vertices,N),v(A.bounds,A.vertices,D),A.position.x+=I,A.position.y+=P}C.positionPrev.x+=I,C.positionPrev.y+=P,I*D.x+P*D.y<0?(N.x=0,N.y=0):(N.x*=g,N.y*=g)}}},a.preSolveVelocity=function(h){var g=h.length,b,S;for(b=0;b<g;b++){var v=h[b];if(!(!v.isActive||v.isSensor)){var E=v.contacts,C=v.contactCount,N=v.collision,I=N.parentA,P=N.parentB,D=N.normal,V=N.tangent;for(S=0;S<C;S++){var A=E[S],M=A.vertex,L=A.normalImpulse,R=A.tangentImpulse;if(L!==0||R!==0){var U=D.x*L+V.x*R,k=D.y*L+V.y*R;I.isStatic||I.isSleeping||(I.positionPrev.x+=U*I.inverseMass,I.positionPrev.y+=k*I.inverseMass,I.anglePrev+=I.inverseInertia*((M.x-I.position.x)*k-(M.y-I.position.y)*U)),P.isStatic||P.isSleeping||(P.positionPrev.x-=U*P.inverseMass,P.positionPrev.y-=k*P.inverseMass,P.anglePrev-=P.inverseInertia*((M.x-P.position.x)*k-(M.y-P.position.y)*U))}}}}},a.solveVelocity=function(h,g){var b=g/f._baseDelta,S=b*b,v=S*b,E=-a._restingThresh*b,C=a._restingThreshTangent,N=a._frictionNormalMultiplier*b,I=a._frictionMaxStatic,P=h.length,D,V,A,M;for(A=0;A<P;A++){var L=h[A];if(!(!L.isActive||L.isSensor)){var R=L.collision,U=R.parentA,k=R.parentB,q=R.normal.x,O=R.normal.y,j=R.tangent.x,K=R.tangent.y,Q=L.inverseMass,Y=L.friction*L.frictionStatic*N,te=L.contacts,oe=L.contactCount,xe=1/oe,ue=U.position.x-U.positionPrev.x,F=U.position.y-U.positionPrev.y,J=U.angle-U.anglePrev,ee=k.position.x-k.positionPrev.x,de=k.position.y-k.positionPrev.y,be=k.angle-k.anglePrev;for(M=0;M<oe;M++){var ce=te[M],he=ce.vertex,ge=he.x-U.position.x,Ne=he.y-U.position.y,Ue=he.x-k.position.x,_e=he.y-k.position.y,Se=ue-Ne*J,Re=F+ge*J,Le=ee-_e*be,Oe=de+Ue*be,Pe=Se-Le,yt=Re-Oe,rn=q*Pe+O*yt,Vt=j*Pe+K*yt,fi=L.separation+rn,Mn=Math.min(fi,1);Mn=fi<0?0:Mn;var di=Mn*Y;Vt<-di||Vt>di?(V=Vt>0?Vt:-Vt,D=L.friction*(Vt>0?1:-1)*v,D<-V?D=-V:D>V&&(D=V)):(D=Vt,V=I);var Ci=ge*O-Ne*q,Rt=Ue*O-_e*q,jt=xe/(Q+U.inverseInertia*Ci*Ci+k.inverseInertia*Rt*Rt),_n=(1+L.restitution)*rn*jt;if(D*=jt,rn<E)ce.normalImpulse=0;else{var nl=ce.normalImpulse;ce.normalImpulse+=_n,ce.normalImpulse>0&&(ce.normalImpulse=0),_n=ce.normalImpulse-nl}if(Vt<-C||Vt>C)ce.tangentImpulse=0;else{var Jn=ce.tangentImpulse;ce.tangentImpulse+=D,ce.tangentImpulse<-V&&(ce.tangentImpulse=-V),ce.tangentImpulse>V&&(ce.tangentImpulse=V),D=ce.tangentImpulse-Jn}var $n=q*_n+j*D,Ht=O*_n+K*D;U.isStatic||U.isSleeping||(U.positionPrev.x+=$n*U.inverseMass,U.positionPrev.y+=Ht*U.inverseMass,U.anglePrev+=(ge*Ht-Ne*$n)*U.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=$n*k.inverseMass,k.positionPrev.y-=Ht*k.inverseMass,k.anglePrev-=(Ue*Ht-_e*$n)*k.inverseInertia)}}}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(9),f=r(0);(function(){a.create=function(p){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},p)},a.update=function(p,h,g){var b=c.update,S=c.create,v=c.setActive,E=p.table,C=p.list,N=C.length,I=N,P=p.collisionStart,D=p.collisionEnd,V=p.collisionActive,A=h.length,M=0,L=0,R=0,U,k,q;for(q=0;q<A;q++)U=h[q],k=U.pair,k?(k.isActive&&(V[R++]=k),b(k,U,g)):(k=S(U,g),E[k.id]=k,P[M++]=k,C[I++]=k);for(I=0,N=C.length,q=0;q<N;q++)k=C[q],k.timeUpdated>=g?C[I++]=k:(v(k,!1,g),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?C[I++]=k:(D[L++]=k,delete E[k.id]));C.length!==I&&(C.length=I),P.length!==M&&(P.length=M),D.length!==L&&(D.length=L),V.length!==R&&(V.length=R)},a.clear=function(p){return p.table={},p.list.length=0,p.collisionStart.length=0,p.collisionActive.length=0,p.collisionEnd.length=0,p}})()}),(function(l,o,r){var a=l.exports=r(21);a.Axes=r(11),a.Bodies=r(12),a.Body=r(4),a.Bounds=r(1),a.Collision=r(8),a.Common=r(0),a.Composite=r(6),a.Composites=r(22),a.Constraint=r(10),a.Contact=r(16),a.Detector=r(13),a.Engine=r(17),a.Events=r(5),a.Grid=r(23),a.Mouse=r(14),a.MouseConstraint=r(24),a.Pair=r(9),a.Pairs=r(19),a.Plugin=r(15),a.Query=r(25),a.Render=r(26),a.Resolver=r(18),a.Runner=r(27),a.SAT=r(28),a.Sleeping=r(7),a.Svg=r(29),a.Vector=r(2),a.Vertices=r(3),a.World=r(30),a.Engine.run=a.Runner.run,a.Common.deprecated(a.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")}),(function(l,o,r){var a={};l.exports=a;var c=r(15),f=r(0);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){c.use(a,Array.prototype.slice.call(arguments))},a.before=function(p,h){return p=p.replace(/^Matter./,""),f.chainPathBefore(a,p,h)},a.after=function(p,h){return p=p.replace(/^Matter./,""),f.chainPathAfter(a,p,h)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(6),f=r(10),p=r(0),h=r(4),g=r(12),b=p.deprecated;(function(){a.stack=function(S,v,E,C,N,I,P){for(var D=c.create({label:"Stack"}),V=S,A=v,M,L=0,R=0;R<C;R++){for(var U=0,k=0;k<E;k++){var q=P(V,A,k,R,M,L);if(q){var O=q.bounds.max.y-q.bounds.min.y,j=q.bounds.max.x-q.bounds.min.x;O>U&&(U=O),h.translate(q,{x:j*.5,y:O*.5}),V=q.bounds.max.x+N,c.addBody(D,q),M=q,L+=1}else V+=N}A+=U+I,V=S}return D},a.chain=function(S,v,E,C,N,I){for(var P=S.bodies,D=1;D<P.length;D++){var V=P[D-1],A=P[D],M=V.bounds.max.y-V.bounds.min.y,L=V.bounds.max.x-V.bounds.min.x,R=A.bounds.max.y-A.bounds.min.y,U=A.bounds.max.x-A.bounds.min.x,k={bodyA:V,pointA:{x:L*v,y:M*E},bodyB:A,pointB:{x:U*C,y:R*N}},q=p.extend(k,I);c.addConstraint(S,f.create(q))}return S.label+=" Chain",S},a.mesh=function(S,v,E,C,N){var I=S.bodies,P,D,V,A,M;for(P=0;P<E;P++){for(D=1;D<v;D++)V=I[D-1+P*v],A=I[D+P*v],c.addConstraint(S,f.create(p.extend({bodyA:V,bodyB:A},N)));if(P>0)for(D=0;D<v;D++)V=I[D+(P-1)*v],A=I[D+P*v],c.addConstraint(S,f.create(p.extend({bodyA:V,bodyB:A},N))),C&&D>0&&(M=I[D-1+(P-1)*v],c.addConstraint(S,f.create(p.extend({bodyA:M,bodyB:A},N)))),C&&D<v-1&&(M=I[D+1+(P-1)*v],c.addConstraint(S,f.create(p.extend({bodyA:M,bodyB:A},N))))}return S.label+=" Mesh",S},a.pyramid=function(S,v,E,C,N,I,P){return a.stack(S,v,E,C,N,I,function(D,V,A,M,L,R){var U=Math.min(C,Math.ceil(E/2)),k=L?L.bounds.max.x-L.bounds.min.x:0;if(!(M>U)){M=U-M;var q=M,O=E-1-M;if(!(A<q||A>O)){R===1&&h.translate(L,{x:(A+(E%2===1?1:-1))*k,y:0});var j=L?A*k:0;return P(S+j+A*N,V,A,M,L,R)}}})},a.newtonsCradle=function(S,v,E,C,N){for(var I=c.create({label:"Newtons Cradle"}),P=0;P<E;P++){var D=1.9,V=g.circle(S+P*(C*D),v+N,C,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=f.create({pointA:{x:S+P*(C*D),y:v},bodyB:V});c.addBody(I,V),c.addConstraint(I,A)}return I},b(a,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),a.car=function(S,v,E,C,N){var I=h.nextGroup(!0),P=20,D=-E*.5+P,V=E*.5-P,A=0,M=c.create({label:"Car"}),L=g.rectangle(S,v,E,C,{collisionFilter:{group:I},chamfer:{radius:C*.5},density:2e-4}),R=g.circle(S+D,v+A,N,{collisionFilter:{group:I},friction:.8}),U=g.circle(S+V,v+A,N,{collisionFilter:{group:I},friction:.8}),k=f.create({bodyB:L,pointB:{x:D,y:A},bodyA:R,stiffness:1,length:0}),q=f.create({bodyB:L,pointB:{x:V,y:A},bodyA:U,stiffness:1,length:0});return c.addBody(M,L),c.addBody(M,R),c.addBody(M,U),c.addConstraint(M,k),c.addConstraint(M,q),M},b(a,"car","Composites.car  moved to car example"),a.softBody=function(S,v,E,C,N,I,P,D,V,A){V=p.extend({inertia:1/0},V),A=p.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var M=a.stack(S,v,E,C,N,I,function(L,R){return g.circle(L,R,D,V)});return a.mesh(M,E,C,P,A),M.label="Soft Body",M},b(a,"softBody","Composites.softBody  moved to softBody and cloth examples")})()}),(function(l,o,r){var a={};l.exports=a;var c=r(9),f=r(0),p=f.deprecated;(function(){a.create=function(h){var g={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return f.extend(g,h)},a.update=function(h,g,b,S){var v,E,C,N=b.world,I=h.buckets,P,D,V=!1;for(v=0;v<g.length;v++){var A=g[v];if(!(A.isSleeping&&!S)&&!(N.bounds&&(A.bounds.max.x<N.bounds.min.x||A.bounds.min.x>N.bounds.max.x||A.bounds.max.y<N.bounds.min.y||A.bounds.min.y>N.bounds.max.y))){var M=a._getRegion(h,A);if(!A.region||M.id!==A.region.id||S){(!A.region||S)&&(A.region=M);var L=a._regionUnion(M,A.region);for(E=L.startCol;E<=L.endCol;E++)for(C=L.startRow;C<=L.endRow;C++){D=a._getBucketId(E,C),P=I[D];var R=E>=M.startCol&&E<=M.endCol&&C>=M.startRow&&C<=M.endRow,U=E>=A.region.startCol&&E<=A.region.endCol&&C>=A.region.startRow&&C<=A.region.endRow;!R&&U&&U&&P&&a._bucketRemoveBody(h,P,A),(A.region===M||R&&!U||S)&&(P||(P=a._createBucket(I,D)),a._bucketAddBody(h,P,A))}A.region=M,V=!0}}}V&&(h.pairsList=a._createActivePairsList(h))},p(a,"update","Grid.update  replaced by Matter.Detector"),a.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},p(a,"clear","Grid.clear  replaced by Matter.Detector"),a._regionUnion=function(h,g){var b=Math.min(h.startCol,g.startCol),S=Math.max(h.endCol,g.endCol),v=Math.min(h.startRow,g.startRow),E=Math.max(h.endRow,g.endRow);return a._createRegion(b,S,v,E)},a._getRegion=function(h,g){var b=g.bounds,S=Math.floor(b.min.x/h.bucketWidth),v=Math.floor(b.max.x/h.bucketWidth),E=Math.floor(b.min.y/h.bucketHeight),C=Math.floor(b.max.y/h.bucketHeight);return a._createRegion(S,v,E,C)},a._createRegion=function(h,g,b,S){return{id:h+","+g+","+b+","+S,startCol:h,endCol:g,startRow:b,endRow:S}},a._getBucketId=function(h,g){return"C"+h+"R"+g},a._createBucket=function(h,g){var b=h[g]=[];return b},a._bucketAddBody=function(h,g,b){var S=h.pairs,v=c.id,E=g.length,C;for(C=0;C<E;C++){var N=g[C];if(!(b.id===N.id||b.isStatic&&N.isStatic)){var I=v(b,N),P=S[I];P?P[2]+=1:S[I]=[b,N,1]}}g.push(b)},a._bucketRemoveBody=function(h,g,b){var S=h.pairs,v=c.id,E;g.splice(f.indexOf(g,b),1);var C=g.length;for(E=0;E<C;E++){var N=S[v(b,g[E])];N&&(N[2]-=1)}},a._createActivePairsList=function(h){var g,b=h.pairs,S=f.keys(b),v=S.length,E=[],C;for(C=0;C<v;C++)g=b[S[C]],g[2]>0?E.push(g):delete b[S[C]];return E}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(3),f=r(7),p=r(14),h=r(5),g=r(13),b=r(10),S=r(6),v=r(0),E=r(1);(function(){a.create=function(C,N){var I=(C?C.mouse:null)||(N?N.mouse:null);I||(C&&C.render&&C.render.canvas?I=p.create(C.render.canvas):N&&N.element?I=p.create(N.element):(I=p.create(),v.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var P=b.create({label:"Mouse Constraint",pointA:I.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),D={type:"mouseConstraint",mouse:I,element:null,body:null,constraint:P,collisionFilter:{category:1,mask:4294967295,group:0}},V=v.extend(D,N);return h.on(C,"beforeUpdate",function(){var A=S.allBodies(C.world);a.update(V,A),a._triggerEvents(V)}),V},a.update=function(C,N){var I=C.mouse,P=C.constraint,D=C.body;if(I.button===0){if(P.bodyB)f.set(P.bodyB,!1),P.pointA=I.position;else for(var V=0;V<N.length;V++)if(D=N[V],E.contains(D.bounds,I.position)&&g.canCollide(D.collisionFilter,C.collisionFilter))for(var A=D.parts.length>1?1:0;A<D.parts.length;A++){var M=D.parts[A];if(c.contains(M.vertices,I.position)){P.pointA=I.position,P.bodyB=C.body=D,P.pointB={x:I.position.x-D.position.x,y:I.position.y-D.position.y},P.angleB=D.angle,f.set(D,!1),h.trigger(C,"startdrag",{mouse:I,body:D});break}}}else P.bodyB=C.body=null,P.pointB=null,D&&h.trigger(C,"enddrag",{mouse:I,body:D})},a._triggerEvents=function(C){var N=C.mouse,I=N.sourceEvents;I.mousemove&&h.trigger(C,"mousemove",{mouse:N}),I.mousedown&&h.trigger(C,"mousedown",{mouse:N}),I.mouseup&&h.trigger(C,"mouseup",{mouse:N}),p.clearSourceEvents(N)}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(2),f=r(8),p=r(1),h=r(12),g=r(3);(function(){a.collides=function(b,S){for(var v=[],E=S.length,C=b.bounds,N=f.collides,I=p.overlaps,P=0;P<E;P++){var D=S[P],V=D.parts.length,A=V===1?0:1;if(I(D.bounds,C))for(var M=A;M<V;M++){var L=D.parts[M];if(I(L.bounds,C)){var R=N(L,b);if(R){v.push(R);break}}}}return v},a.ray=function(b,S,v,E){E=E||1e-100;for(var C=c.angle(S,v),N=c.magnitude(c.sub(S,v)),I=(v.x+S.x)*.5,P=(v.y+S.y)*.5,D=h.rectangle(I,P,N,E,{angle:C}),V=a.collides(D,b),A=0;A<V.length;A+=1){var M=V[A];M.body=M.bodyB=M.bodyA}return V},a.region=function(b,S,v){for(var E=[],C=0;C<b.length;C++){var N=b[C],I=p.overlaps(N.bounds,S);(I&&!v||!I&&v)&&E.push(N)}return E},a.point=function(b,S){for(var v=[],E=0;E<b.length;E++){var C=b[E];if(p.contains(C.bounds,S))for(var N=C.parts.length===1?0:1;N<C.parts.length;N++){var I=C.parts[N];if(p.contains(I.bounds,S)&&g.contains(I.vertices,S)){v.push(C);break}}}return v}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(4),f=r(0),p=r(6),h=r(1),g=r(5),b=r(2),S=r(14);(function(){var v,E;typeof window<"u"&&(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(A){window.setTimeout(function(){A(f.now())},1e3/60)},E=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),a._goodFps=30,a._goodDelta=1e3/60,a.create=function(A){var M={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!A.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},L=f.extend(M,A);return L.canvas&&(L.canvas.width=L.options.width||L.canvas.width,L.canvas.height=L.options.height||L.canvas.height),L.mouse=A.mouse,L.engine=A.engine,L.canvas=L.canvas||I(L.options.width,L.options.height),L.context=L.canvas.getContext("2d"),L.textures={},L.bounds=L.bounds||{min:{x:0,y:0},max:{x:L.canvas.width,y:L.canvas.height}},L.controller=a,L.options.showBroadphase=!1,L.options.pixelRatio!==1&&a.setPixelRatio(L,L.options.pixelRatio),f.isElement(L.element)&&L.element.appendChild(L.canvas),L},a.run=function(A){(function M(L){A.frameRequestId=v(M),C(A,L),a.world(A,L),A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0),(A.options.showStats||A.options.showDebug)&&a.stats(A,A.context,L),(A.options.showPerformance||A.options.showDebug)&&a.performance(A,A.context,L),A.context.setTransform(1,0,0,1,0,0)})()},a.stop=function(A){E(A.frameRequestId)},a.setPixelRatio=function(A,M){var L=A.options,R=A.canvas;M==="auto"&&(M=P(R)),L.pixelRatio=M,R.setAttribute("data-pixel-ratio",M),R.width=L.width*M,R.height=L.height*M,R.style.width=L.width+"px",R.style.height=L.height+"px"},a.setSize=function(A,M,L){A.options.width=M,A.options.height=L,A.bounds.max.x=A.bounds.min.x+M,A.bounds.max.y=A.bounds.min.y+L,A.options.pixelRatio!==1?a.setPixelRatio(A,A.options.pixelRatio):(A.canvas.width=M,A.canvas.height=L)},a.lookAt=function(A,M,L,R){R=typeof R<"u"?R:!0,M=f.isArray(M)?M:[M],L=L||{x:0,y:0};for(var U={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},k=0;k<M.length;k+=1){var q=M[k],O=q.bounds?q.bounds.min:q.min||q.position||q,j=q.bounds?q.bounds.max:q.max||q.position||q;O&&j&&(O.x<U.min.x&&(U.min.x=O.x),j.x>U.max.x&&(U.max.x=j.x),O.y<U.min.y&&(U.min.y=O.y),j.y>U.max.y&&(U.max.y=j.y))}var K=U.max.x-U.min.x+2*L.x,Q=U.max.y-U.min.y+2*L.y,Y=A.canvas.height,te=A.canvas.width,oe=te/Y,xe=K/Q,ue=1,F=1;xe>oe?F=xe/oe:ue=oe/xe,A.options.hasBounds=!0,A.bounds.min.x=U.min.x,A.bounds.max.x=U.min.x+K*ue,A.bounds.min.y=U.min.y,A.bounds.max.y=U.min.y+Q*F,R&&(A.bounds.min.x+=K*.5-K*ue*.5,A.bounds.max.x+=K*.5-K*ue*.5,A.bounds.min.y+=Q*.5-Q*F*.5,A.bounds.max.y+=Q*.5-Q*F*.5),A.bounds.min.x-=L.x,A.bounds.max.x-=L.x,A.bounds.min.y-=L.y,A.bounds.max.y-=L.y,A.mouse&&(S.setScale(A.mouse,{x:(A.bounds.max.x-A.bounds.min.x)/A.canvas.width,y:(A.bounds.max.y-A.bounds.min.y)/A.canvas.height}),S.setOffset(A.mouse,A.bounds.min))},a.startViewTransform=function(A){var M=A.bounds.max.x-A.bounds.min.x,L=A.bounds.max.y-A.bounds.min.y,R=M/A.options.width,U=L/A.options.height;A.context.setTransform(A.options.pixelRatio/R,0,0,A.options.pixelRatio/U,0,0),A.context.translate(-A.bounds.min.x,-A.bounds.min.y)},a.endViewTransform=function(A){A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0)},a.world=function(A,M){var L=f.now(),R=A.engine,U=R.world,k=A.canvas,q=A.context,O=A.options,j=A.timing,K=p.allBodies(U),Q=p.allConstraints(U),Y=O.wireframes?O.wireframeBackground:O.background,te=[],oe=[],xe,ue={timestamp:R.timing.timestamp};if(g.trigger(A,"beforeRender",ue),A.currentBackground!==Y&&V(A,Y),q.globalCompositeOperation="source-in",q.fillStyle="transparent",q.fillRect(0,0,k.width,k.height),q.globalCompositeOperation="source-over",O.hasBounds){for(xe=0;xe<K.length;xe++){var F=K[xe];h.overlaps(F.bounds,A.bounds)&&te.push(F)}for(xe=0;xe<Q.length;xe++){var J=Q[xe],ee=J.bodyA,de=J.bodyB,be=J.pointA,ce=J.pointB;ee&&(be=b.add(ee.position,J.pointA)),de&&(ce=b.add(de.position,J.pointB)),!(!be||!ce)&&(h.contains(A.bounds,be)||h.contains(A.bounds,ce))&&oe.push(J)}a.startViewTransform(A),A.mouse&&(S.setScale(A.mouse,{x:(A.bounds.max.x-A.bounds.min.x)/A.options.width,y:(A.bounds.max.y-A.bounds.min.y)/A.options.height}),S.setOffset(A.mouse,A.bounds.min))}else oe=Q,te=K,A.options.pixelRatio!==1&&A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0);!O.wireframes||R.enableSleeping&&O.showSleeping?a.bodies(A,te,q):(O.showConvexHulls&&a.bodyConvexHulls(A,te,q),a.bodyWireframes(A,te,q)),O.showBounds&&a.bodyBounds(A,te,q),(O.showAxes||O.showAngleIndicator)&&a.bodyAxes(A,te,q),O.showPositions&&a.bodyPositions(A,te,q),O.showVelocity&&a.bodyVelocity(A,te,q),O.showIds&&a.bodyIds(A,te,q),O.showSeparations&&a.separations(A,R.pairs.list,q),O.showCollisions&&a.collisions(A,R.pairs.list,q),O.showVertexNumbers&&a.vertexNumbers(A,te,q),O.showMousePosition&&a.mousePosition(A,A.mouse,q),a.constraints(oe,q),O.hasBounds&&a.endViewTransform(A),g.trigger(A,"afterRender",ue),j.lastElapsed=f.now()-L},a.stats=function(A,M,L){for(var R=A.engine,U=R.world,k=p.allBodies(U),q=0,O=55,j=44,K=0,Q=0,Y=0;Y<k.length;Y+=1)q+=k[Y].parts.length;var te={Part:q,Body:k.length,Cons:p.allConstraints(U).length,Comp:p.allComposites(U).length,Pair:R.pairs.list.length};M.fillStyle="#0e0f19",M.fillRect(K,Q,O*5.5,j),M.font="12px Arial",M.textBaseline="top",M.textAlign="right";for(var oe in te){var xe=te[oe];M.fillStyle="#aaa",M.fillText(oe,K+O,Q+8),M.fillStyle="#eee",M.fillText(xe,K+O,Q+26),K+=O}},a.performance=function(A,M){var L=A.engine,R=A.timing,U=R.deltaHistory,k=R.elapsedHistory,q=R.timestampElapsedHistory,O=R.engineDeltaHistory,j=R.engineUpdatesHistory,K=R.engineElapsedHistory,Q=L.timing.lastUpdatesPerFrame,Y=L.timing.lastDelta,te=N(U),oe=N(k),xe=N(O),ue=N(j),F=N(K),J=N(q),ee=J/te||0,de=Math.round(te/Y),be=1e3/te||0,ce=4,he=12,ge=60,Ne=34,Ue=10,_e=69;M.fillStyle="#0e0f19",M.fillRect(0,50,he*5+ge*6+22,Ne),a.status(M,Ue,_e,ge,ce,U.length,Math.round(be)+" fps",be/a._goodFps,function(Se){return U[Se]/te-1}),a.status(M,Ue+he+ge,_e,ge,ce,O.length,Y.toFixed(2)+" dt",a._goodDelta/Y,function(Se){return O[Se]/xe-1}),a.status(M,Ue+(he+ge)*2,_e,ge,ce,j.length,Q+" upf",Math.pow(f.clamp(ue/de||1,0,1),4),function(Se){return j[Se]/ue-1}),a.status(M,Ue+(he+ge)*3,_e,ge,ce,K.length,F.toFixed(2)+" ut",1-Q*F/a._goodFps,function(Se){return K[Se]/F-1}),a.status(M,Ue+(he+ge)*4,_e,ge,ce,k.length,oe.toFixed(2)+" rt",1-oe/a._goodFps,function(Se){return k[Se]/oe-1}),a.status(M,Ue+(he+ge)*5,_e,ge,ce,q.length,ee.toFixed(2)+" x",ee*ee*ee,function(Se){return(q[Se]/U[Se]/ee||0)-1})},a.status=function(A,M,L,R,U,k,q,O,j){A.strokeStyle="#888",A.fillStyle="#444",A.lineWidth=1,A.fillRect(M,L+7,R,1),A.beginPath(),A.moveTo(M,L+7-U*f.clamp(.4*j(0),-2,2));for(var K=0;K<R;K+=1)A.lineTo(M+K,L+7-(K<k?U*f.clamp(.4*j(K),-2,2):0));A.stroke(),A.fillStyle="hsl("+f.clamp(25+95*O,0,120)+",100%,60%)",A.fillRect(M,L-7,4,4),A.font="12px Arial",A.textBaseline="middle",A.textAlign="right",A.fillStyle="#eee",A.fillText(q,M+R,L-5)},a.constraints=function(A,M){for(var L=M,R=0;R<A.length;R++){var U=A[R];if(!(!U.render.visible||!U.pointA||!U.pointB)){var k=U.bodyA,q=U.bodyB,O,j;if(k?O=b.add(k.position,U.pointA):O=U.pointA,U.render.type==="pin")L.beginPath(),L.arc(O.x,O.y,3,0,2*Math.PI),L.closePath();else{if(q?j=b.add(q.position,U.pointB):j=U.pointB,L.beginPath(),L.moveTo(O.x,O.y),U.render.type==="spring")for(var K=b.sub(j,O),Q=b.perp(b.normalise(K)),Y=Math.ceil(f.clamp(U.length/5,12,20)),te,oe=1;oe<Y;oe+=1)te=oe%2===0?1:-1,L.lineTo(O.x+K.x*(oe/Y)+Q.x*te*4,O.y+K.y*(oe/Y)+Q.y*te*4);L.lineTo(j.x,j.y)}U.render.lineWidth&&(L.lineWidth=U.render.lineWidth,L.strokeStyle=U.render.strokeStyle,L.stroke()),U.render.anchors&&(L.fillStyle=U.render.strokeStyle,L.beginPath(),L.arc(O.x,O.y,3,0,2*Math.PI),L.arc(j.x,j.y,3,0,2*Math.PI),L.closePath(),L.fill())}}},a.bodies=function(A,M,L){var R=L;A.engine;var U=A.options,k=U.showInternalEdges||!U.wireframes,q,O,j,K;for(j=0;j<M.length;j++)if(q=M[j],!!q.render.visible){for(K=q.parts.length>1?1:0;K<q.parts.length;K++)if(O=q.parts[K],!!O.render.visible){if(U.showSleeping&&q.isSleeping?R.globalAlpha=.5*O.render.opacity:O.render.opacity!==1&&(R.globalAlpha=O.render.opacity),O.render.sprite&&O.render.sprite.texture&&!U.wireframes){var Q=O.render.sprite,Y=D(A,Q.texture);R.translate(O.position.x,O.position.y),R.rotate(O.angle),R.drawImage(Y,Y.width*-Q.xOffset*Q.xScale,Y.height*-Q.yOffset*Q.yScale,Y.width*Q.xScale,Y.height*Q.yScale),R.rotate(-O.angle),R.translate(-O.position.x,-O.position.y)}else{if(O.circleRadius)R.beginPath(),R.arc(O.position.x,O.position.y,O.circleRadius,0,2*Math.PI);else{R.beginPath(),R.moveTo(O.vertices[0].x,O.vertices[0].y);for(var te=1;te<O.vertices.length;te++)!O.vertices[te-1].isInternal||k?R.lineTo(O.vertices[te].x,O.vertices[te].y):R.moveTo(O.vertices[te].x,O.vertices[te].y),O.vertices[te].isInternal&&!k&&R.moveTo(O.vertices[(te+1)%O.vertices.length].x,O.vertices[(te+1)%O.vertices.length].y);R.lineTo(O.vertices[0].x,O.vertices[0].y),R.closePath()}U.wireframes?(R.lineWidth=1,R.strokeStyle=A.options.wireframeStrokeStyle,R.stroke()):(R.fillStyle=O.render.fillStyle,O.render.lineWidth&&(R.lineWidth=O.render.lineWidth,R.strokeStyle=O.render.strokeStyle,R.stroke()),R.fill())}R.globalAlpha=1}}},a.bodyWireframes=function(A,M,L){var R=L,U=A.options.showInternalEdges,k,q,O,j,K;for(R.beginPath(),O=0;O<M.length;O++)if(k=M[O],!!k.render.visible)for(K=k.parts.length>1?1:0;K<k.parts.length;K++){for(q=k.parts[K],R.moveTo(q.vertices[0].x,q.vertices[0].y),j=1;j<q.vertices.length;j++)!q.vertices[j-1].isInternal||U?R.lineTo(q.vertices[j].x,q.vertices[j].y):R.moveTo(q.vertices[j].x,q.vertices[j].y),q.vertices[j].isInternal&&!U&&R.moveTo(q.vertices[(j+1)%q.vertices.length].x,q.vertices[(j+1)%q.vertices.length].y);R.lineTo(q.vertices[0].x,q.vertices[0].y)}R.lineWidth=1,R.strokeStyle=A.options.wireframeStrokeStyle,R.stroke()},a.bodyConvexHulls=function(A,M,L){var R=L,U,k,q;for(R.beginPath(),k=0;k<M.length;k++)if(U=M[k],!(!U.render.visible||U.parts.length===1)){for(R.moveTo(U.vertices[0].x,U.vertices[0].y),q=1;q<U.vertices.length;q++)R.lineTo(U.vertices[q].x,U.vertices[q].y);R.lineTo(U.vertices[0].x,U.vertices[0].y)}R.lineWidth=1,R.strokeStyle="rgba(255,255,255,0.2)",R.stroke()},a.vertexNumbers=function(A,M,L){var R=L,U,k,q;for(U=0;U<M.length;U++){var O=M[U].parts;for(q=O.length>1?1:0;q<O.length;q++){var j=O[q];for(k=0;k<j.vertices.length;k++)R.fillStyle="rgba(255,255,255,0.2)",R.fillText(U+"_"+k,j.position.x+(j.vertices[k].x-j.position.x)*.8,j.position.y+(j.vertices[k].y-j.position.y)*.8)}}},a.mousePosition=function(A,M,L){var R=L;R.fillStyle="rgba(255,255,255,0.8)",R.fillText(M.position.x+"  "+M.position.y,M.position.x+5,M.position.y-5)},a.bodyBounds=function(A,M,L){var R=L;A.engine;var U=A.options;R.beginPath();for(var k=0;k<M.length;k++){var q=M[k];if(q.render.visible)for(var O=M[k].parts,j=O.length>1?1:0;j<O.length;j++){var K=O[j];R.rect(K.bounds.min.x,K.bounds.min.y,K.bounds.max.x-K.bounds.min.x,K.bounds.max.y-K.bounds.min.y)}}U.wireframes?R.strokeStyle="rgba(255,255,255,0.08)":R.strokeStyle="rgba(0,0,0,0.1)",R.lineWidth=1,R.stroke()},a.bodyAxes=function(A,M,L){var R=L;A.engine;var U=A.options,k,q,O,j;for(R.beginPath(),q=0;q<M.length;q++){var K=M[q],Q=K.parts;if(K.render.visible)if(U.showAxes)for(O=Q.length>1?1:0;O<Q.length;O++)for(k=Q[O],j=0;j<k.axes.length;j++){var Y=k.axes[j];R.moveTo(k.position.x,k.position.y),R.lineTo(k.position.x+Y.x*20,k.position.y+Y.y*20)}else for(O=Q.length>1?1:0;O<Q.length;O++)for(k=Q[O],j=0;j<k.axes.length;j++)R.moveTo(k.position.x,k.position.y),R.lineTo((k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}U.wireframes?(R.strokeStyle="indianred",R.lineWidth=1):(R.strokeStyle="rgba(255, 255, 255, 0.4)",R.globalCompositeOperation="overlay",R.lineWidth=2),R.stroke(),R.globalCompositeOperation="source-over"},a.bodyPositions=function(A,M,L){var R=L;A.engine;var U=A.options,k,q,O,j;for(R.beginPath(),O=0;O<M.length;O++)if(k=M[O],!!k.render.visible)for(j=0;j<k.parts.length;j++)q=k.parts[j],R.arc(q.position.x,q.position.y,3,0,2*Math.PI,!1),R.closePath();for(U.wireframes?R.fillStyle="indianred":R.fillStyle="rgba(0,0,0,0.5)",R.fill(),R.beginPath(),O=0;O<M.length;O++)k=M[O],k.render.visible&&(R.arc(k.positionPrev.x,k.positionPrev.y,2,0,2*Math.PI,!1),R.closePath());R.fillStyle="rgba(255,165,0,0.8)",R.fill()},a.bodyVelocity=function(A,M,L){var R=L;R.beginPath();for(var U=0;U<M.length;U++){var k=M[U];if(k.render.visible){var q=c.getVelocity(k);R.moveTo(k.position.x,k.position.y),R.lineTo(k.position.x+q.x,k.position.y+q.y)}}R.lineWidth=3,R.strokeStyle="cornflowerblue",R.stroke()},a.bodyIds=function(A,M,L){var R=L,U,k;for(U=0;U<M.length;U++)if(M[U].render.visible){var q=M[U].parts;for(k=q.length>1?1:0;k<q.length;k++){var O=q[k];R.font="12px Arial",R.fillStyle="rgba(255,255,255,0.5)",R.fillText(O.id,O.position.x+10,O.position.y-10)}}},a.collisions=function(A,M,L){var R=L,U=A.options,k,q,O,j;for(R.beginPath(),O=0;O<M.length;O++)if(k=M[O],!!k.isActive)for(q=k.collision,j=0;j<k.contactCount;j++){var K=k.contacts[j],Q=K.vertex;R.rect(Q.x-1.5,Q.y-1.5,3.5,3.5)}for(U.wireframes?R.fillStyle="rgba(255,255,255,0.7)":R.fillStyle="orange",R.fill(),R.beginPath(),O=0;O<M.length;O++)if(k=M[O],!!k.isActive&&(q=k.collision,k.contactCount>0)){var Y=k.contacts[0].vertex.x,te=k.contacts[0].vertex.y;k.contactCount===2&&(Y=(k.contacts[0].vertex.x+k.contacts[1].vertex.x)/2,te=(k.contacts[0].vertex.y+k.contacts[1].vertex.y)/2),q.bodyB===q.supports[0].body||q.bodyA.isStatic===!0?R.moveTo(Y-q.normal.x*8,te-q.normal.y*8):R.moveTo(Y+q.normal.x*8,te+q.normal.y*8),R.lineTo(Y,te)}U.wireframes?R.strokeStyle="rgba(255,165,0,0.7)":R.strokeStyle="orange",R.lineWidth=1,R.stroke()},a.separations=function(A,M,L){var R=L,U=A.options,k,q,O,j,K;for(R.beginPath(),K=0;K<M.length;K++)if(k=M[K],!!k.isActive){q=k.collision,O=q.bodyA,j=q.bodyB;var Q=1;!j.isStatic&&!O.isStatic&&(Q=.5),j.isStatic&&(Q=0),R.moveTo(j.position.x,j.position.y),R.lineTo(j.position.x-q.penetration.x*Q,j.position.y-q.penetration.y*Q),Q=1,!j.isStatic&&!O.isStatic&&(Q=.5),O.isStatic&&(Q=0),R.moveTo(O.position.x,O.position.y),R.lineTo(O.position.x+q.penetration.x*Q,O.position.y+q.penetration.y*Q)}U.wireframes?R.strokeStyle="rgba(255,165,0,0.5)":R.strokeStyle="orange",R.stroke()},a.inspector=function(A,M){A.engine;var L=A.selected,R=A.render,U=R.options,k;if(U.hasBounds){var q=R.bounds.max.x-R.bounds.min.x,O=R.bounds.max.y-R.bounds.min.y,j=q/R.options.width,K=O/R.options.height;M.scale(1/j,1/K),M.translate(-R.bounds.min.x,-R.bounds.min.y)}for(var Q=0;Q<L.length;Q++){var Y=L[Q].data;switch(M.translate(.5,.5),M.lineWidth=1,M.strokeStyle="rgba(255,165,0,0.9)",M.setLineDash([1,2]),Y.type){case"body":k=Y.bounds,M.beginPath(),M.rect(Math.floor(k.min.x-3),Math.floor(k.min.y-3),Math.floor(k.max.x-k.min.x+6),Math.floor(k.max.y-k.min.y+6)),M.closePath(),M.stroke();break;case"constraint":var te=Y.pointA;Y.bodyA&&(te=Y.pointB),M.beginPath(),M.arc(te.x,te.y,10,0,2*Math.PI),M.closePath(),M.stroke();break}M.setLineDash([]),M.translate(-.5,-.5)}A.selectStart!==null&&(M.translate(.5,.5),M.lineWidth=1,M.strokeStyle="rgba(255,165,0,0.6)",M.fillStyle="rgba(255,165,0,0.1)",k=A.selectBounds,M.beginPath(),M.rect(Math.floor(k.min.x),Math.floor(k.min.y),Math.floor(k.max.x-k.min.x),Math.floor(k.max.y-k.min.y)),M.closePath(),M.stroke(),M.fill(),M.translate(-.5,-.5)),U.hasBounds&&M.setTransform(1,0,0,1,0,0)};var C=function(A,M){var L=A.engine,R=A.timing,U=R.historySize,k=L.timing.timestamp;R.delta=M-R.lastTime||a._goodDelta,R.lastTime=M,R.timestampElapsed=k-R.lastTimestamp||0,R.lastTimestamp=k,R.deltaHistory.unshift(R.delta),R.deltaHistory.length=Math.min(R.deltaHistory.length,U),R.engineDeltaHistory.unshift(L.timing.lastDelta),R.engineDeltaHistory.length=Math.min(R.engineDeltaHistory.length,U),R.timestampElapsedHistory.unshift(R.timestampElapsed),R.timestampElapsedHistory.length=Math.min(R.timestampElapsedHistory.length,U),R.engineUpdatesHistory.unshift(L.timing.lastUpdatesPerFrame),R.engineUpdatesHistory.length=Math.min(R.engineUpdatesHistory.length,U),R.engineElapsedHistory.unshift(L.timing.lastElapsed),R.engineElapsedHistory.length=Math.min(R.engineElapsedHistory.length,U),R.elapsedHistory.unshift(R.lastElapsed),R.elapsedHistory.length=Math.min(R.elapsedHistory.length,U)},N=function(A){for(var M=0,L=0;L<A.length;L+=1)M+=A[L];return M/A.length||0},I=function(A,M){var L=document.createElement("canvas");return L.width=A,L.height=M,L.oncontextmenu=function(){return!1},L.onselectstart=function(){return!1},L},P=function(A){var M=A.getContext("2d"),L=window.devicePixelRatio||1,R=M.webkitBackingStorePixelRatio||M.mozBackingStorePixelRatio||M.msBackingStorePixelRatio||M.oBackingStorePixelRatio||M.backingStorePixelRatio||1;return L/R},D=function(A,M){var L=A.textures[M];return L||(L=A.textures[M]=new Image,L.src=M,L)},V=function(A,M){var L=M;/(jpg|gif|png)$/.test(M)&&(L="url("+M+")"),A.canvas.style.background=L,A.canvas.style.backgroundSize="contain",A.currentBackground=M}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(5),f=r(17),p=r(0);(function(){a._maxFrameDelta=1e3/15,a._frameDeltaFallback=1e3/60,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(g){var b={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},S=p.extend(b,g);return S.fps=0,S},a.run=function(g,b){return g.timeBuffer=a._frameDeltaFallback,(function S(v){g.frameRequestId=a._onNextFrame(g,S),v&&g.enabled&&a.tick(g,b,v)})(),g},a.tick=function(g,b,S){var v=p.now(),E=g.delta,C=0,N=S-g.timeLastTick;if((!N||!g.timeLastTick||N>Math.max(a._maxFrameDelta,g.maxFrameTime))&&(N=g.frameDelta||a._frameDeltaFallback),g.frameDeltaSmoothing){g.frameDeltaHistory.push(N),g.frameDeltaHistory=g.frameDeltaHistory.slice(-g.frameDeltaHistorySize);var I=g.frameDeltaHistory.slice(0).sort(),P=g.frameDeltaHistory.slice(I.length*a._smoothingLowerBound,I.length*a._smoothingUpperBound),D=h(P);N=D||N}g.frameDeltaSnapping&&(N=1e3/Math.round(1e3/N)),g.frameDelta=N,g.timeLastTick=S,g.timeBuffer+=g.frameDelta,g.timeBuffer=p.clamp(g.timeBuffer,0,g.frameDelta+E*a._timeBufferMargin),g.lastUpdatesDeferred=0;var V=g.maxUpdates||Math.ceil(g.maxFrameTime/E),A={timestamp:b.timing.timestamp};c.trigger(g,"beforeTick",A),c.trigger(g,"tick",A);for(var M=p.now();E>0&&g.timeBuffer>=E*a._timeBufferMargin;){c.trigger(g,"beforeUpdate",A),f.update(b,E),c.trigger(g,"afterUpdate",A),g.timeBuffer-=E,C+=1;var L=p.now()-v,R=p.now()-M,U=L+a._elapsedNextEstimate*R/C;if(C>=V||U>g.maxFrameTime){g.lastUpdatesDeferred=Math.round(Math.max(0,g.timeBuffer/E-a._timeBufferMargin));break}}b.timing.lastUpdatesPerFrame=C,c.trigger(g,"afterTick",A),g.frameDeltaHistory.length>=100&&(g.lastUpdatesDeferred&&Math.round(g.frameDelta/E)>V?p.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):g.lastUpdatesDeferred&&p.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof g.isFixed<"u"&&p.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(g.deltaMin||g.deltaMax)&&p.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),g.fps!==0&&p.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(g){a._cancelNextFrame(g)},a._onNextFrame=function(g,b){if(typeof window<"u"&&window.requestAnimationFrame)g.frameRequestId=window.requestAnimationFrame(b);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return g.frameRequestId},a._cancelNextFrame=function(g){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(g.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(g){for(var b=0,S=g.length,v=0;v<S;v+=1)b+=g[v];return b/S||0}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(8),f=r(0),p=f.deprecated;(function(){a.collides=function(h,g){return c.collides(h,g)},p(a,"collides","SAT.collides  replaced by Collision.collides")})()}),(function(l,o,r){var a={};l.exports=a,r(1);var c=r(0);(function(){a.pathToVertices=function(f,p){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,g,b,S,v,E,C,N,I,P,D=[],V,A,M=0,L=0,R=0;p=p||15;var U=function(q,O,j){var K=j%2===1&&j>1;if(!I||q!=I.x||O!=I.y){I&&K?(V=I.x,A=I.y):(V=0,A=0);var Q={x:V+q,y:A+O};(K||!I)&&(I=Q),D.push(Q),L=V+q,R=A+O}},k=function(q){var O=q.pathSegTypeAsLetter.toUpperCase();if(O!=="Z"){switch(O){case"M":case"L":case"T":case"C":case"S":case"Q":L=q.x,R=q.y;break;case"H":L=q.x;break;case"V":R=q.y;break}U(L,R,q.pathSegType)}};for(a._svgPathToAbsolute(f),b=f.getTotalLength(),E=[],h=0;h<f.pathSegList.numberOfItems;h+=1)E.push(f.pathSegList.getItem(h));for(C=E.concat();M<b;){if(P=f.getPathSegAtLength(M),v=E[P],v!=N){for(;C.length&&C[0]!=v;)k(C.shift());N=v}switch(v.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":S=f.getPointAtLength(M),U(S.x,S.y,0);break}M+=p}for(h=0,g=C.length;h<g;++h)k(C[h]);return D},a._svgPathToAbsolute=function(f){for(var p,h,g,b,S,v,E=f.pathSegList,C=0,N=0,I=E.numberOfItems,P=0;P<I;++P){var D=E.getItem(P),V=D.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(V))"x"in D&&(C=D.x),"y"in D&&(N=D.y);else switch("x1"in D&&(g=C+D.x1),"x2"in D&&(S=C+D.x2),"y1"in D&&(b=N+D.y1),"y2"in D&&(v=N+D.y2),"x"in D&&(C+=D.x),"y"in D&&(N+=D.y),V){case"m":E.replaceItem(f.createSVGPathSegMovetoAbs(C,N),P);break;case"l":E.replaceItem(f.createSVGPathSegLinetoAbs(C,N),P);break;case"h":E.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(C),P);break;case"v":E.replaceItem(f.createSVGPathSegLinetoVerticalAbs(N),P);break;case"c":E.replaceItem(f.createSVGPathSegCurvetoCubicAbs(C,N,g,b,S,v),P);break;case"s":E.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(C,N,S,v),P);break;case"q":E.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(C,N,g,b),P);break;case"t":E.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(C,N),P);break;case"a":E.replaceItem(f.createSVGPathSegArcAbs(C,N,D.r1,D.r2,D.angle,D.largeArcFlag,D.sweepFlag),P);break;case"z":case"Z":C=p,N=h;break}(V=="M"||V=="m")&&(p=C,h=N)}}})()}),(function(l,o,r){var a={};l.exports=a;var c=r(6);r(0),(function(){a.create=c.create,a.add=c.add,a.remove=c.remove,a.clear=c.clear,a.addComposite=c.addComposite,a.addBody=c.addBody,a.addConstraint=c.addConstraint})()})])})})(Fr)),Fr.exports}var j_=z_();const je=td(j_);var Lt=(n=>(n.PLANNING="PLANNING",n.RUNNING="RUNNING",n.WON="WON",n.LOST="LOST",n))(Lt||{});const jn={CLIFF:"#334155",BRIDGE:"#f59e0b",CAR_CHASSIS:"#3b82f6",CAR_WHEEL:"#1e293b",CARGO:"#ef4444",GOAL:"#10b981",OBSTACLE:"#475569"},Lr={CAR_WIDTH:130,CAR_HEIGHT:25,WHEEL_SIZE:15},Af=[{level:1,title:"First Steps",description:"A simple gap. Draw a straight bridge.",terrainType:"DEFAULT",inkLimit:300,gapWidth:150,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.9},{level:2,title:"Stepping Down",description:"The destination is lower. Mind the drop.",terrainType:"DEFAULT",inkLimit:400,gapWidth:200,heightDiff:-80,hasCargo:!1,obstacles:[],carStability:.9},{level:3,title:"The Ramp",description:"Climb the slope! Build a ramp.",terrainType:"RAMP_UP",inkLimit:600,gapWidth:250,heightDiff:100,hasCargo:!1,obstacles:[],carStability:.8},{level:4,title:"Slippery Slope",description:"Start on a downhill slope. Control your speed!",terrainType:"RAMP_DOWN",inkLimit:500,gapWidth:300,heightDiff:-150,hasCargo:!1,obstacles:[],carStability:.8},{level:5,title:"Stairway to Heaven",description:"The terrain is stepped. Smooth it out.",terrainType:"STAIRS",inkLimit:700,gapWidth:300,heightDiff:120,hasCargo:!1,obstacles:[],carStability:.8},{level:6,title:"The Needle",description:"Land on the narrow peak in the middle.",terrainType:"NARROW_PEAK",inkLimit:700,gapWidth:400,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.7},{level:7,title:"Floating Isles",description:"Bridge across the floating island.",terrainType:"ISLAND",inkLimit:800,gapWidth:500,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.7},{level:8,title:"Jagged Peaks",description:"Rough terrain ahead. Careful with the cargo.",terrainType:"JAGGED",inkLimit:800,gapWidth:350,heightDiff:50,hasCargo:!0,obstacles:[],carStability:.6},{level:9,title:"The Great Wall",description:"A massive obstacle blocks the path.",terrainType:"DEFAULT",inkLimit:1e3,gapWidth:300,heightDiff:0,hasCargo:!0,obstacles:[{x:0,y:-100,w:30,h:200,isStatic:!0}],carStability:.5},{level:10,title:"Impossible Mission",description:"Long gap, high climb, fragile cargo.",terrainType:"RAMP_UP",inkLimit:1200,gapWidth:500,heightDiff:200,hasCargo:!0,obstacles:[{x:0,y:0,w:60,h:60,rotation:.78}],carStability:.4}],_l=n=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const l=new e,o=l.createOscillator(),r=l.createGain();o.connect(r),r.connect(l.destination);const a=l.currentTime;switch(n){case"draw":o.type="sine",o.frequency.setValueAtTime(400,a),o.frequency.exponentialRampToValueAtTime(600,a+.1),r.gain.setValueAtTime(.1,a),r.gain.exponentialRampToValueAtTime(.01,a+.1),o.start(a),o.stop(a+.1);break;case"start":o.type="sawtooth",o.frequency.setValueAtTime(100,a),o.frequency.linearRampToValueAtTime(200,a+.5),r.gain.setValueAtTime(.2,a),r.gain.linearRampToValueAtTime(0,a+1),o.start(a),o.stop(a+1);break;case"win":o.type="triangle",o.frequency.setValueAtTime(400,a),o.frequency.setValueAtTime(600,a+.1),o.frequency.setValueAtTime(1e3,a+.2),r.gain.setValueAtTime(.2,a),r.gain.exponentialRampToValueAtTime(.01,a+1),o.start(a),o.stop(a+1);break;case"lose":o.type="sawtooth",o.frequency.setValueAtTime(300,a),o.frequency.linearRampToValueAtTime(50,a+.5),r.gain.setValueAtTime(.2,a),r.gain.linearRampToValueAtTime(.01,a+.5),o.start(a),o.stop(a+.5);break;case"click":o.type="sine",o.frequency.setValueAtTime(800,a),r.gain.setValueAtTime(.1,a),r.gain.exponentialRampToValueAtTime(.01,a+.1),o.start(a),o.stop(a+.1);break}},q_=({levelConfig:n,status:e,setStatus:l,onInkUpdate:o,gameKey:r})=>{const a=B.useRef(null),c=B.useRef(null),f=B.useRef(null),p=B.useRef(null),h=B.useRef(null),g=B.useRef(null),b=B.useRef(!1),S=B.useRef(null),v=B.useRef(0),E=B.useRef(e);B.useEffect(()=>{E.current=e},[e]);const C=(V,A)=>{const M=je.Body.nextGroup(!0),L=je.Bodies.rectangle(V,A,Lr.CAR_WIDTH,Lr.CAR_HEIGHT,{collisionFilter:{group:M},chamfer:{radius:4},render:{fillStyle:jn.CAR_CHASSIS},density:.002,friction:.8,label:"CarChassis"}),R=20,U=je.Bodies.circle(V-45,A+R,Lr.WHEEL_SIZE,{collisionFilter:{group:M},friction:.8,restitution:.1,render:{fillStyle:jn.CAR_WHEEL},label:"CarWheel"}),k=je.Bodies.circle(V+45,A+R,Lr.WHEEL_SIZE,{collisionFilter:{group:M},friction:.8,restitution:.1,render:{fillStyle:jn.CAR_WHEEL},label:"CarWheel"}),q=je.Constraint.create({bodyA:L,bodyB:U,pointB:{x:0,y:0},pointA:{x:-45,y:R},stiffness:n.carStability,damping:.2,length:0}),O=je.Constraint.create({bodyA:L,bodyB:k,pointB:{x:0,y:0},pointA:{x:45,y:R},stiffness:n.carStability,damping:.2,length:0});return je.Composite.create({bodies:[L,U,k],constraints:[q,O]})},N=(V,A)=>{const M=[],L=V/2,R=A-150,U=250,k=n.gapWidth/2;let q=L-k;q<U&&(q=U);const O=q+n.gapWidth,j=R,K=R-n.heightDiff,Q=jn.CLIFF,Y=je.Bodies.rectangle(U/2,j+500,U,1e3,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(Y);const te=q-U;if(te>0){const ee=U+te/2;if(n.terrainType==="RAMP_DOWN"){const de=je.Bodies.trapezoid(ee,j+50,te,100,.8,{isStatic:!0,angle:Math.PI/12,render:{fillStyle:Q},label:"Ground"}),be=je.Bodies.rectangle(ee,j+550,te,900,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(de,be)}else if(n.terrainType==="JAGGED"){const de=je.Bodies.polygon(ee,j,5,te/2,{isStatic:!0,render:{fillStyle:Q},label:"Ground"}),be=je.Bodies.rectangle(ee,j+500,te,1e3,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(de,be)}else{const de=je.Bodies.rectangle(ee,j+500,te,1e3,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(de)}}const oe=V-O,xe=O+oe/2,ue=je.Bodies.rectangle(xe,K+600,oe,1e3,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});if(M.push(ue),n.terrainType==="RAMP_UP"){const ee=je.Bodies.rectangle(O+150,K+50,300,40,{isStatic:!0,angle:-.3,render:{fillStyle:Q},label:"Ground"}),de=je.Bodies.rectangle(xe,K+100,oe,200,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(ee,de)}else if(n.terrainType==="STAIRS")for(let be=0;be<4;be++){const ce=O+be*100+50,he=K+100-be*60;M.push(je.Bodies.rectangle(ce,he,100,40,{isStatic:!0,render:{fillStyle:Q},label:"Ground"})),M.push(je.Bodies.rectangle(ce,he+270,100,500,{isStatic:!0,render:{fillStyle:Q},label:"Ground"}))}else{const ee=je.Bodies.rectangle(xe,K+100,oe,200,{isStatic:!0,render:{fillStyle:Q},label:"Ground"});M.push(ee)}if(n.terrainType==="ISLAND"){const ee=je.Bodies.rectangle(L,R,180,60,{isStatic:!0,chamfer:{radius:10},render:{fillStyle:jn.OBSTACLE},label:"Ground"});M.push(ee)}else if(n.terrainType==="NARROW_PEAK"){je.Bodies.polygon(L,A,3,A-R-50,{isStatic:!0,render:{fillStyle:jn.OBSTACLE},label:"Ground"});const ee=je.Bodies.rectangle(L,A-200,40,400,{isStatic:!0,render:{fillStyle:jn.OBSTACLE},label:"Ground"}),de=je.Bodies.polygon(L,R,3,60,{isStatic:!0,angle:Math.PI/6,render:{fillStyle:jn.OBSTACLE},label:"Ground"});M.push(ee,de)}const F=n.terrainType==="STAIRS"?K-180:K-80,J=je.Bodies.rectangle(V-50,F,20,160,{isStatic:!0,isSensor:!0,render:{fillStyle:jn.GOAL,opacity:.5},label:"Goal"});return M.push(J),M};B.useEffect(()=>{if(!a.current)return;f.current&&(je.Render.stop(f.current),f.current.canvas&&f.current.canvas.remove()),p.current&&je.Runner.stop(p.current),c.current&&je.Engine.clear(c.current);const V=je.Engine.create(),A=V.world;c.current=V;const M=a.current.clientWidth,L=a.current.clientHeight,R=je.Render.create({element:a.current,engine:V,options:{width:M,height:L,wireframes:!1,background:"#0f172a",pixelRatio:window.devicePixelRatio}});f.current=R;const U=je.Runner.create();p.current=U;const k=N(M,L),q=n.obstacles.map(Y=>je.Bodies.rectangle(M/2+Y.x,L-150+Y.y,Y.w,Y.h,{isStatic:Y.isStatic??!0,angle:Y.rotation??0,render:{fillStyle:jn.OBSTACLE},label:"Obstacle"}));je.World.add(A,[...k,...q]);const O=100,K=L-150-100,Q=C(O,K);if(h.current=Q,je.World.add(A,Q),n.hasCargo){const Y=je.Bodies.rectangle(O,K-40,40,40,{render:{fillStyle:jn.CARGO},friction:.9,density:.005,label:"Cargo"});g.current=Y,je.World.add(A,Y)}else g.current=null;return je.Render.run(R),je.Runner.run(U,V),je.Events.on(U,"beforeUpdate",()=>{E.current===Lt.RUNNING&&h.current&&h.current.bodies.forEach(Y=>{Y.label==="CarWheel"&&je.Body.setAngularVelocity(Y,.15)})}),je.Events.on(U,"afterUpdate",()=>{if(!h.current)return;const Y=E.current,te=h.current.bodies.find(oe=>oe.label==="CarChassis");if(te){if(te.position.x>M-80&&Y===Lt.RUNNING){if(n.hasCargo&&g.current&&(Math.abs(g.current.position.x-te.position.x)>250||g.current.position.y>L))return;l(Lt.WON),_l("win"),U.enabled=!1}te.position.y>L+200&&Y===Lt.RUNNING&&(l(Lt.LOST),_l("lose"),U.enabled=!1),n.hasCargo&&g.current&&Y===Lt.RUNNING&&g.current.position.y>L+100&&(l(Lt.LOST),_l("lose"),U.enabled=!1)}}),v.current=0,o(0,n.inkLimit),()=>{je.Render.stop(R),je.Runner.stop(U),c.current&&je.Engine.clear(c.current),R.canvas&&R.canvas.remove()}},[r,n]),B.useEffect(()=>{e===Lt.RUNNING&&_l("start")},[e]);const I=V=>{if(e!==Lt.PLANNING)return;b.current=!0,S.current=null,V.target.setPointerCapture(V.pointerId);const A=V.target.getBoundingClientRect(),M=V.clientX-A.left,L=V.clientY-A.top;S.current={x:M,y:L}},P=V=>{if(!b.current||e!==Lt.PLANNING||!c.current)return;const A=V.target.getBoundingClientRect(),M=V.clientX-A.left,L=V.clientY-A.top;if(v.current>=n.inkLimit)return;const R=15,U=S.current;if(U){const k=Math.hypot(M-U.x,L-U.y);if(k>R){const q=(M+U.x)/2,O=(L+U.y)/2,j=Math.atan2(L-U.y,M-U.x),K=je.Bodies.rectangle(q,O,k+2,12,{isStatic:!0,angle:j,render:{fillStyle:jn.BRIDGE},chamfer:{radius:3},label:"BridgeNode"});je.World.add(c.current.world,K),v.current+=k,o(v.current,n.inkLimit),S.current={x:M,y:L},_l("draw")}}else S.current={x:M,y:L}},D=V=>{b.current=!1,S.current=null,V.target.releasePointerCapture(V.pointerId)};return m.jsx("div",{ref:a,className:"w-full h-full cursor-crosshair touch-none",onPointerDown:I,onPointerMove:P,onPointerUp:D,onPointerLeave:D})},Y_=({status:n,levelConfig:e,inkCurrent:l,inkMax:o,onStart:r,onReset:a,onNextLevel:c,isLastLevel:f})=>{const p=Math.max(0,100-l/o*100),h=p<20,g=()=>{_l("click"),r()},b=()=>{_l("click"),a()},S=()=>{_l("click"),c()};return m.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between p-4 z-10",children:[m.jsxs("div",{className:"flex justify-between items-start pointer-events-auto w-full max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-slate-800/90 backdrop-blur rounded-2xl p-4 border border-slate-700 shadow-xl min-w-[200px]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsxs("span",{className:"bg-amber-500 text-slate-900 text-xs font-black px-2 py-0.5 rounded",children:["LVL ",e.level]}),m.jsx("h2",{className:"text-white font-bold text-sm leading-tight",children:e.title})]}),m.jsx("p",{className:"text-slate-400 text-xs",children:e.description}),e.hasCargo&&m.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-400 text-xs font-bold",children:[m.jsx(lo,{size:12})," CARGO MISSION"]})]}),m.jsxs("div",{className:"bg-slate-800/90 backdrop-blur rounded-2xl p-4 border border-slate-700 shadow-xl min-w-[180px]",children:[m.jsxs("div",{className:"flex justify-between text-xs text-slate-300 font-medium mb-1",children:[m.jsx("span",{children:"INK"}),m.jsxs("span",{children:[Math.round(p),"%"]})]}),m.jsx("div",{className:"w-full h-3 bg-slate-700 rounded-full overflow-hidden border border-slate-600",children:m.jsx("div",{className:`h-full transition-all duration-300 ${h?"bg-red-500":"bg-emerald-400"}`,style:{width:`${p}%`}})})]})]}),m.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[n===Lt.WON&&m.jsxs("div",{className:"bg-emerald-500 text-white p-8 rounded-3xl shadow-2xl flex flex-col items-center animate-bounce z-50",children:[m.jsx(oT,{size:64,className:"mb-4"}),m.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider",children:"Cleared!"}),m.jsx("p",{className:"font-medium mt-2 text-emerald-100",children:"Excellent Design"})]}),n===Lt.LOST&&m.jsxs("div",{className:"bg-rose-600 text-white p-8 rounded-3xl shadow-2xl flex flex-col items-center animate-pulse z-50",children:[m.jsx(Vy,{size:64,className:"mb-4"}),m.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider",children:"Crashed!"}),m.jsx("p",{className:"font-medium mt-2 text-rose-100",children:"Structure Failed"})]})]}),m.jsxs("div",{className:"flex justify-center gap-4 pointer-events-auto mb-6",children:[n===Lt.PLANNING&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:b,className:"flex items-center justify-center w-16 h-16 bg-slate-700 hover:bg-slate-600 transition-all text-white rounded-full shadow-lg border-2 border-slate-600 group","aria-label":"Clear Canvas",children:m.jsx(Sf,{size:24,className:"group-active:-rotate-180 transition-transform duration-500"})}),m.jsxs("button",{onClick:g,className:"flex items-center gap-3 bg-amber-500 hover:bg-amber-400 active:scale-95 transition-all text-slate-900 px-10 py-4 rounded-full font-black text-2xl shadow-xl border-b-4 border-amber-700",children:[m.jsx(ro,{fill:"currentColor",size:28})," DRIVE"]})]}),n===Lt.RUNNING&&m.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-slate-900",children:[m.jsx(Sf,{})," STOP & RETRY"]}),(n===Lt.WON||n===Lt.LOST)&&m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-slate-900",children:[m.jsx(Sf,{})," RETRY LEVEL"]}),n===Lt.WON&&!f&&m.jsxs("button",{onClick:S,className:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-400 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-emerald-700",children:["NEXT LEVEL ",m.jsx(tT,{})]})]})]})]})},J_=()=>{const[n,e]=B.useState(0),[l,o]=B.useState(Lt.PLANNING),[r,a]=B.useState(0),[c,f]=B.useState({current:0,max:100}),p=Af[n],h=(S,v)=>{f({current:S,max:v})},g=()=>{o(Lt.PLANNING),a(S=>S+1),f(S=>({...S,current:0}))},b=()=>{n<Af.length-1&&(e(S=>S+1),g())};return m.jsxs("div",{className:"relative w-full h-screen bg-slate-900 overflow-hidden select-none",children:[m.jsx(q_,{levelConfig:p,status:l,setStatus:o,onInkUpdate:h,gameKey:r}),m.jsx(Y_,{status:l,levelConfig:p,inkCurrent:c.current,inkMax:c.max,onStart:()=>o(Lt.RUNNING),onReset:g,onNextLevel:b,isLastLevel:n===Af.length-1})]})},$_=()=>m.jsx(J_,{});var sn=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.SHOP="SHOP",n.GAME_OVER="GAME_OVER",n))(sn||{}),Zf=(n=>(n[n.LEFT=-1]="LEFT",n[n.CENTER=0]="CENTER",n[n.RIGHT=1]="RIGHT",n))(Zf||{}),Xi=(n=>(n.TRAIN="TRAIN",n.COIN="COIN",n))(Xi||{});const Dr=800,Mf=600,$i=160,gy=250,_f=300,X_=.9,K_=-17,yy=18,Q_=50,W_=.005,Z_=40,eR=40,vy={d:80},tR=18,ed=[{id:"default",name:"GHOST WALKER",price:0,color:"#e2e8f0",accentColor:"#94a3b8"},{id:"neon_samurai",name:"NEON SAMURAI",price:200,color:"#06b6d4",accentColor:"#cffafe"},{id:"dragon_fire",name:"DRAGON FIRE",price:600,color:"#dc2626",accentColor:"#f59e0b"},{id:"void_god",name:"VOID GOD",price:1500,color:"#020617",accentColor:"#7c3aed"}];let nR=class{constructor(){this.ctx=null}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext))}playCoin(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(1200,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(2e3,this.ctx.currentTime+.1),l.gain.setValueAtTime(.3,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}playJump(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="square",e.frequency.setValueAtTime(300,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(500,this.ctx.currentTime+.1),l.gain.setValueAtTime(.1,this.ctx.currentTime),l.gain.linearRampToValueAtTime(.01,this.ctx.currentTime+.1),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.1)}playCrash(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="sawtooth",e.frequency.setValueAtTime(100,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(10,this.ctx.currentTime+.3),l.gain.setValueAtTime(.5,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}};const Rf=new nR,iR=({gameState:n,selectedSkin:e,onGameOver:l,onCoinCollected:o,setDistance:r})=>{const a=B.useRef(null),c=B.useRef(),f=B.useRef({lane:Zf.CENTER,y:0,dy:0,isJumping:!1,skinId:e,runAnimFrame:0}),p=B.useRef([]),h=B.useRef([]),g=B.useRef([]),b=B.useRef(yy),S=B.useRef(0),v=B.useRef(!1);B.useEffect(()=>{g.current=Array.from({length:80},()=>({x:Math.random()*Dr,y:Math.random()*gy,size:Math.random()*2,speed:Math.random()*.2+.05}))},[]);const E=B.useCallback(()=>{f.current={lane:Zf.CENTER,y:0,dy:0,isJumping:!1,skinId:e,runAnimFrame:0},p.current=[],h.current=[],b.current=yy,S.current=0,v.current=!0,r(0)},[e,r]);B.useEffect(()=>{n===sn.PLAYING?E():v.current=!1},[n,E]),B.useEffect(()=>{f.current.skinId=e},[e]),B.useEffect(()=>{const M=L=>{if(n!==sn.PLAYING)return;const R=f.current;switch(L.key){case"ArrowLeft":R.lane>-1&&R.lane--;break;case"ArrowRight":R.lane<1&&R.lane++;break;case"ArrowUp":case" ":R.isJumping||(R.dy=K_,R.isJumping=!0,Rf.playJump(),C(R.lane*$i,0,0,"#ffffff",5,"dust"));break}};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[n]);const C=(M,L,R,U,k,q="spark")=>{for(let O=0;O<k;O++){let j,K,Q,Y;q==="fire"?(j=(Math.random()-.5)*5,K=Math.random()*-5-2,Q=Math.random()*20+10,Y=Math.random()*8+4):q==="void"?(j=(Math.random()-.5)*2,K=(Math.random()-.5)*2,Q=Math.random()*30+20,Y=Math.random()*6+2):(j=(Math.random()-.5)*15,K=(Math.random()-.5)*15,Q=Math.random()*10+10,Y=Math.random()*3+1),h.current.push({x:M+(Math.random()-.5)*20,y:L+(Math.random()-.5)*20,z:R+(Math.random()-.5)*20,vx:j,vy:K,life:Q,maxLife:Q,color:U,size:Y,type:q})}},N=(M,L,R)=>{if(R+_f<=0)return{x:0,y:0,scale:0,visible:!1};const k=_f/(_f+R),q=Dr/2+M*$i*k,O=gy+(L+110)*k;return{x:q,y:O,scale:k,visible:!0}},I=(M,L,R,U=null)=>{if(!L.some(k=>!k.visible)){M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let k=1;k<L.length;k++)M.lineTo(L[k].x,L[k].y);M.closePath(),U&&(M.shadowBlur=15,M.shadowColor=U),M.fillStyle=R,M.fill(),M.shadowBlur=0}},P=M=>{const L=M.createLinearGradient(0,0,0,Mf);L.addColorStop(0,"#000000"),L.addColorStop(1,"#1a1a1a"),M.fillStyle=L,M.fillRect(0,0,Dr,Mf),M.fillStyle="#ffffff",g.current.forEach(U=>{M.globalAlpha=Math.random()*.5+.3,M.beginPath(),M.arc(U.x,U.y,U.size,0,Math.PI*2),M.fill()}),M.globalAlpha=1,M.strokeStyle="rgba(255,255,255,0.05)",M.lineWidth=1;const R=S.current*10%500;for(let U=0;U<4e3;U+=500){const k=U-R;if(k<=0)continue;const q=N(-5,0,k),O=N(5,0,k);M.beginPath(),M.moveTo(q.x,q.y),M.lineTo(O.x,O.y),M.stroke()}[-1.5,-.5,.5,1.5].forEach(U=>{const k=N(U,0,0),q=N(U,0,4e3);M.beginPath(),M.moveTo(k.x,k.y),M.lineTo(q.x,q.y),M.stroke()})},D=(M,L,R)=>{const k=vy.d,q=N(L-.5/2,0,R),O=N(L+.5/2,0,R),j=N(L-.5/4,-70,R),K=N(L+.5/4,-70,R),Q=N(L-.5/4,-70,R+k),Y=N(L+.5/4,-70,R+k);if(!q.visible)return;M.fillStyle="rgba(0,0,0,0.5)";const te=N(L,0,R+k/2);M.beginPath(),M.ellipse(te.x,te.y,40*te.scale,15*te.scale,0,0,Math.PI*2),M.fill();const oe="#171717",xe="#ef4444";if(I(M,[q,O,K,j],oe),L<0){const ue=N(L+.25,0,R+k);I(M,[O,ue,Y,K],"#262626")}else{const ue=N(L-.25,0,R+k);I(M,[q,ue,Q,j],"#262626")}I(M,[j,K,Y,Q],"#404040"),M.strokeStyle=xe,M.lineWidth=2*q.scale,M.shadowBlur=10,M.shadowColor=xe,M.beginPath(),M.moveTo(q.x,q.y),M.lineTo(j.x,j.y),M.lineTo(K.x,K.y),M.lineTo(O.x,O.y),M.stroke(),M.shadowBlur=0},V=(M,L)=>{const R=ed.find(Q=>Q.id===L.skinId)||ed[0],{lane:U,y:k,runAnimFrame:q}=L,O=k,j=0;if(O<0){M.fillStyle="rgba(255,255,255,0.1)";const Q=N(U,0,j+20);M.beginPath(),M.ellipse(Q.x,Q.y,25*Q.scale,8*Q.scale,0,0,Math.PI*2),M.fill()}const K=N(U,O,j).scale;if(R.id==="dragon_fire"){const Q=Math.sin(q),Y=O-30+Q*5,te=N(U-.4,Y,j+20),oe=N(U+.4,Y,j+20),xe=N(U,O-20,j);M.fillStyle="#7f1d1d",M.beginPath(),M.moveTo(xe.x,xe.y),M.lineTo(te.x,te.y),M.lineTo(te.x,te.y-30*K),M.fill(),M.beginPath(),M.moveTo(xe.x,xe.y),M.lineTo(oe.x,oe.y),M.lineTo(oe.x,oe.y-30*K),M.fill();const ue=O-40+Q*2,F=N(U,ue,j);M.shadowBlur=30,M.shadowColor="#f59e0b",M.fillStyle="#ef4444",M.beginPath(),M.moveTo(F.x,F.y-25*K),M.lineTo(F.x+15*K,F.y),M.lineTo(F.x,F.y+25*K),M.lineTo(F.x-15*K,F.y),M.fill(),M.shadowBlur=0,M.fillStyle="#fbbf24",M.fillRect(F.x-5*K,F.y-5*K,10*K,4*K)}else if(R.id==="neon_samurai"){const Q=N(U,O,j),Y=N(U,O-50,j),te=N(U-.25,O-25,j),oe=N(U+.25,O-25,j);M.shadowBlur=20,M.shadowColor="#06b6d4",M.fillStyle="#0891b2",M.beginPath(),M.moveTo(Y.x,Y.y),M.lineTo(oe.x,oe.y),M.lineTo(Q.x,Q.y),M.lineTo(te.x,te.y),M.closePath(),M.fill(),M.strokeStyle="#cffafe",M.lineWidth=2,M.beginPath(),M.moveTo(Y.x,Y.y),M.lineTo(Q.x,Q.y),M.stroke(),M.shadowBlur=0}else if(R.id==="void_god"){const Q=N(U,O-30,j),te=(20+Math.sin(q*.5)*5)*K,oe=M.createRadialGradient(Q.x,Q.y,te*.5,Q.x,Q.y,te*2.5);oe.addColorStop(0,"rgba(124, 58, 237, 0.8)"),oe.addColorStop(1,"rgba(0, 0, 0, 0)"),M.fillStyle=oe,M.beginPath(),M.arc(Q.x,Q.y,te*3,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.strokeStyle="#7c3aed",M.lineWidth=2,M.beginPath(),M.arc(Q.x,Q.y,te,0,Math.PI*2),M.fill(),M.stroke()}else{const Y=Z_,te=N(U-.3/2,O,j),oe=N(U+.3/2,O,j),xe=N(U-.3/2,O-Y,j),ue=N(U+.3/2,O-Y,j),F=40,J=N(U-.3/2,O-Y,j+F),ee=N(U+.3/2,O-Y,j+F);I(M,[te,oe,ue,xe],R.color),I(M,[xe,ue,ee,J],R.color),M.fillStyle=R.accentColor;const de=(te.x+oe.x)/2,be=(te.y+xe.y)/2;M.fillRect(de-2*K,be-10*K,4*K,20*K)}},A=B.useCallback(M=>{if(!a.current||!v.current)return;const L=a.current.getContext("2d");if(!L)return;const R=f.current,U=b.current;v.current&&(R.skinId==="dragon_fire"?(C(R.lane*$i,R.y-20,0,"#f97316",2,"fire"),C(R.lane*$i,R.y-20,0,"#ef4444",1,"fire")):R.skinId==="neon_samurai"?Math.random()<.5&&C(R.lane*$i,R.y-20,0,"#06b6d4",1,"spark"):R.skinId==="void_god"&&C(R.lane*$i,R.y-30,0,"#7c3aed",1,"void")),R.isJumping&&(R.y+=R.dy,R.dy+=X_,R.y>=0&&(R.y=0,R.dy=0,R.isJumping=!1,C(R.lane*$i,0,0,"#ffffff",5,"dust"))),R.runAnimFrame+=.2,p.current.forEach(K=>K.z-=U),p.current=p.current.filter(K=>K.z>-300);const k=2500;if(Math.max(0,...p.current.map(K=>K.z))<k-600)if(Math.random()<.45){const Q=Math.floor(Math.random()*3)-1;p.current.push({id:Date.now(),type:Xi.TRAIN,lane:Q,z:k,active:!0})}else{const Q=Math.floor(Math.random()*3)-1;for(let Y=0;Y<4;Y++)p.current.push({id:Date.now()+Y,type:Xi.COIN,lane:Q,z:k+Y*150,active:!0})}b.current<Q_&&(b.current+=W_),S.current+=b.current*.1,r(Math.floor(S.current));const O={lane:R.lane,y:R.y};p.current.forEach(K=>{if(!K.active)return;const Q=K.z;let Y=K.type===Xi.TRAIN?vy.d:tR,te=K.type===Xi.TRAIN?.6:.4;Q<eR&&Q+Y>0&&Math.abs(K.lane-O.lane)<te&&(K.type===Xi.COIN?O.y>-60&&(K.active=!1,Rf.playCoin(),o(),C(K.lane*$i,-40,0,"#fbbf24",5,"spark")):K.type===Xi.TRAIN&&O.y>-70&&(v.current=!1,Rf.playCrash(),l(Math.floor(S.current),0)))}),P(L);const j=[...p.current];j.push({id:-999,type:"PLAYER",lane:R.lane,z:0,active:!0}),j.sort((K,Q)=>Q.z-K.z),j.forEach(K=>{if(K.active){if(K.type==="PLAYER")V(L,R);else if(K.type===Xi.TRAIN)D(L,K.lane,K.z);else if(K.type===Xi.COIN){const Q=N(K.lane,-40,K.z);Q.visible&&(L.shadowBlur=10,L.shadowColor="#fbbf24",L.fillStyle="#ffffff",L.beginPath(),L.moveTo(Q.x,Q.y-15*Q.scale),L.lineTo(Q.x+10*Q.scale,Q.y),L.lineTo(Q.x,Q.y+15*Q.scale),L.lineTo(Q.x-10*Q.scale,Q.y),L.fill(),L.shadowBlur=0)}}}),h.current.forEach(K=>{const Q=N(K.x/$i,K.y,K.z);Q.visible&&(L.fillStyle=K.color,L.globalAlpha=K.life/K.maxLife,L.beginPath(),K.type==="fire"?L.ellipse(Q.x,Q.y,K.size*Q.scale,K.size*2*Q.scale,0,0,Math.PI*2):L.arc(Q.x,Q.y,K.size*Q.scale,0,Math.PI*2),L.fill(),K.x+=K.vx,K.y+=K.vy,K.z-=U,K.life-=1,K.type==="fire"&&(K.size*=.95))}),L.globalAlpha=1,h.current=h.current.filter(K=>K.life>0&&K.z>-200),c.current=requestAnimationFrame(A)},[n,e,l,o,r]);return B.useEffect(()=>(c.current=requestAnimationFrame(A),()=>{c.current&&cancelAnimationFrame(c.current)}),[A]),m.jsx("canvas",{ref:a,width:Dr,height:Mf,className:"w-full h-full object-contain bg-black shadow-2xl rounded-none border border-slate-800"})},lR=({setGameState:n,highScore:e})=>m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm z-20",children:[m.jsxs("div",{className:"mb-16 text-center tracking-widest",children:[m.jsx("h1",{className:"text-8xl font-bold text-white mb-2 uppercase",style:{textShadow:"0 0 30px rgba(255,255,255,0.2)"},children:"VOID WALKER"}),m.jsx("div",{className:"h-1 w-32 bg-red-600 mx-auto"}),m.jsx("p",{className:"text-slate-500 mt-4 text-xl uppercase font-light",children:"Survive the Abyss"})]}),m.jsxs("div",{className:"flex flex-col gap-6 w-80",children:[m.jsxs("button",{onClick:()=>n(sn.PLAYING),className:"group relative bg-transparent border border-white/20 hover:border-white text-white py-4 px-8 transition-all duration-300 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 w-0 bg-white transition-all duration-[250ms] ease-out group-hover:w-full opacity-10"}),m.jsx("span",{className:"relative text-3xl font-bold uppercase tracking-widest",children:"Initiate Run"})]}),m.jsx("button",{onClick:()=>n(sn.SHOP),className:"group relative bg-transparent border border-white/20 hover:border-white text-slate-300 hover:text-white py-3 px-8 transition-all duration-300",children:m.jsx("span",{className:"text-2xl font-light uppercase tracking-widest",children:"Customize Core"})})]}),m.jsxs("div",{className:"absolute bottom-10 right-10 flex flex-col items-end",children:[m.jsx("span",{className:"text-slate-600 uppercase text-sm tracking-widest",children:"Personal Best"}),m.jsx("span",{className:"text-4xl text-white font-bold",children:e.toString().padStart(6,"0")})]})]}),oR=({score:n,coins:e})=>m.jsxs("div",{className:"absolute top-0 left-0 w-full p-8 flex justify-between items-start pointer-events-none z-10 text-white select-none",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-500 text-sm font-light uppercase tracking-[0.3em] mb-1",children:"Distance"}),m.jsx("span",{className:"text-5xl font-bold tracking-widest",style:{textShadow:"0 0 10px rgba(255,255,255,0.3)"},children:n.toString().padStart(5,"0")})]}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-slate-500 text-sm font-light uppercase tracking-[0.3em] mb-1",children:"Energy"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-red-500 rotate-45 animate-pulse"}),m.jsx("span",{className:"text-4xl font-bold tracking-widest",children:e})]})]})]}),sR=({coins:n,unlockedSkins:e,selectedSkin:l,onBuy:o,onSelect:r,onClose:a})=>m.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/95 z-30 text-white",children:[m.jsxs("div",{className:"absolute top-8 right-8 flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-red-500 rotate-45"}),m.jsx("span",{className:"text-2xl font-bold tracking-widest",children:n})]}),m.jsx("h2",{className:"text-5xl font-bold mb-12 uppercase tracking-[0.2em] text-white",children:"Core Selection"}),m.jsx("div",{className:"flex gap-8 mb-16 overflow-x-auto p-4 w-full justify-center",children:ed.map(c=>{const f=e.includes(c.id),p=l===c.id,h=n>=c.price;return m.jsxs("div",{className:`
                relative w-64 h-80 bg-[#0a0a0a] border flex flex-col items-center justify-between p-6 transition-all duration-300 group
                ${p?"border-white shadow-[0_0_30px_rgba(255,255,255,0.1)]":"border-white/10 hover:border-white/50"}
                ${!f&&!h?"opacity-50":"opacity-100"}
              `,children:[m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-24 h-24 transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12",style:{backgroundColor:c.color,boxShadow:`0 0 20px ${c.accentColor}`}})}),m.jsxs("div",{className:"w-full text-center",children:[m.jsx("h3",{className:"text-2xl font-bold uppercase mb-1",children:c.name}),!f&&m.jsxs("p",{className:"text-slate-500 text-sm mb-4",children:["REQ: ",c.price," ENERGY"]}),f?m.jsx("button",{onClick:()=>r(c.id),className:`
                      w-full py-3 text-lg font-bold uppercase tracking-widest border transition-colors
                      ${p?"bg-white text-black border-white":"bg-transparent text-white border-white/20 hover:border-white"}
                    `,children:p?"ACTIVE":"EQUIP"}):m.jsx("button",{onClick:()=>o(c.id,c.price),disabled:!h,className:`
                      w-full py-3 text-lg font-bold uppercase tracking-widest border
                      ${h?"border-red-500 text-red-500 hover:bg-red-500 hover:text-black":"border-slate-800 text-slate-800 cursor-not-allowed"}
                    `,children:"UNLOCK"})]})]},c.id)})}),m.jsx("button",{onClick:a,className:"text-slate-500 hover:text-white text-xl uppercase tracking-widest transition-colors",children:"Return to Void"})]}),aR=({score:n,coinsEarned:e,totalCoins:l,onRestart:o,onGoToShop:r})=>m.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/90 z-40 backdrop-blur-xl",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-7xl font-bold text-red-600 mb-2 tracking-[0.2em] uppercase",style:{textShadow:"0 0 20px rgba(220, 38, 38, 0.5)"},children:"SYNC LOST"}),m.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-red-900 to-transparent mb-12"}),m.jsxs("div",{className:"flex gap-12 mb-16",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-widest mb-2",children:"Distance Traveled"}),m.jsx("p",{className:"text-6xl text-white font-bold",children:n})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-widest mb-2",children:"Energy Collected"}),m.jsxs("p",{className:"text-6xl text-white font-bold",children:["+",e]})]})]}),m.jsxs("div",{className:"flex flex-col gap-4 w-80 mx-auto",children:[m.jsx("button",{onClick:o,className:"bg-white text-black font-bold py-4 text-xl uppercase tracking-widest hover:bg-slate-200 transition-colors",children:"Re-Initialize"}),m.jsx("button",{onClick:r,className:"border border-white/20 text-slate-400 font-bold py-3 text-lg uppercase tracking-widest hover:text-white hover:border-white transition-all",children:"Access Shop"})]})]})}),Jv="traffic_runner_save_v1",If={coins:0,unlockedSkins:["default"],selectedSkin:"default",highScore:0},rR=n=>{try{localStorage.setItem(Jv,JSON.stringify(n))}catch(e){console.error("Failed to save game data",e)}},xy=()=>{try{const n=localStorage.getItem(Jv);return n?{...If,...JSON.parse(n)}:If}catch(n){return console.error("Failed to load game data",n),If}},uR=()=>{const[n,e]=B.useState(sn.MENU),[l,o]=B.useState(xy()),[r,a]=B.useState(0),[c,f]=B.useState(0);B.useEffect(()=>{o(xy())},[]),B.useEffect(()=>{rR(l)},[l]);const p=()=>{a(0),f(0),e(sn.PLAYING)},h=v=>{a(v),o(E=>({...E,coins:E.coins+c,highScore:Math.max(E.highScore,v)})),e(sn.GAME_OVER)},g=()=>{f(v=>v+10),o(v=>({...v,coins:v.coins+10}))},b=(v,E)=>{l.coins>=E&&o(C=>({...C,coins:C.coins-E,unlockedSkins:[...C.unlockedSkins,v],selectedSkin:v}))},S=v=>{l.unlockedSkins.includes(v)&&o(E=>({...E,selectedSkin:v}))};return m.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center font-sans overflow-hidden p-0 sm:p-4 select-none",children:m.jsxs("div",{className:"relative w-full max-w-[900px] aspect-video border border-slate-800 bg-black overflow-hidden shadow-2xl",children:[m.jsx(iR,{gameState:n,selectedSkin:l.selectedSkin,onGameOver:h,onCoinCollected:g,setDistance:a}),n===sn.MENU&&m.jsx(lR,{setGameState:v=>{v===sn.PLAYING?p():e(v)},highScore:l.highScore}),n===sn.PLAYING&&m.jsx(oR,{score:r,coins:l.coins}),n===sn.SHOP&&m.jsx(sR,{coins:l.coins,unlockedSkins:l.unlockedSkins,selectedSkin:l.selectedSkin,onBuy:b,onSelect:S,onClose:()=>e(sn.MENU)}),n===sn.GAME_OVER&&m.jsx(aR,{score:r,coinsEarned:c,totalCoins:l.coins,onRestart:p,onGoToShop:()=>e(sn.SHOP)})]})})},cR=()=>m.jsx(uR,{});var Xo=(n=>(n.FRUIT="FRUIT",n.BOMB="BOMB",n))(Xo||{}),Nt=(n=>(n.WATERMELON="WATERMELON",n.ORANGE="ORANGE",n.KIWI="KIWI",n.LEMON="LEMON",n.GOLDEN="GOLDEN",n.ICE="ICE",n))(Nt||{});class fR{constructor(){this.ctx=null;try{this.ctx=new(window.AudioContext||window.webkitAudioContext)}catch{console.warn("Web Audio API not supported")}}ensureContext(){this.ctx&&this.ctx.state==="suspended"&&this.ctx.resume()}playSlice(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="sawtooth",e.frequency.setValueAtTime(800,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(100,this.ctx.currentTime+.1),l.gain.setValueAtTime(.3,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.1),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.1)}playExplosion(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="square",e.frequency.setValueAtTime(100,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(10,this.ctx.currentTime+.5),l.gain.setValueAtTime(.5,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.5),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.5)}playThrow(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(200,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(300,this.ctx.currentTime+.2),l.gain.setValueAtTime(.05,this.ctx.currentTime),l.gain.linearRampToValueAtTime(0,this.ctx.currentTime+.3),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}playCombo(e){if(this.ensureContext(),!this.ctx)return;const l=400+e*100,o=this.ctx.createOscillator(),r=this.ctx.createGain();o.type="triangle",o.frequency.setValueAtTime(l,this.ctx.currentTime),o.frequency.linearRampToValueAtTime(l+200,this.ctx.currentTime+.2),r.gain.setValueAtTime(.2,this.ctx.currentTime),r.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),o.connect(r),r.connect(this.ctx.destination),o.start(),o.stop(this.ctx.currentTime+.3)}playFreeze(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),l=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(1200,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(600,this.ctx.currentTime+.5),l.gain.setValueAtTime(.3,this.ctx.currentTime),l.gain.linearRampToValueAtTime(0,this.ctx.currentTime+.5),e.connect(l),l.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.5)}}const la=new fR,kf=.4,dR=10,hR=15,Lf={[Nt.WATERMELON]:{skin:"#2E7D32",flesh:"#FF1744",seed:"#000"},[Nt.ORANGE]:{skin:"#EF6C00",flesh:"#FF9800",seed:"#FFF3E0"},[Nt.KIWI]:{skin:"#795548",flesh:"#76FF03",seed:"#212121"},[Nt.LEMON]:{skin:"#FBC02D",flesh:"#FFEB3B",seed:"#FFF"},[Nt.GOLDEN]:{skin:"#FFD700",flesh:"#FFFF00",seed:"#FFF"},[Nt.ICE]:{skin:"#00BCD4",flesh:"#E0F7FA",seed:"#FFF"}},pR=({onGameOver:n,onScoreUpdate:e,gameActive:l,onRestart:o})=>{const r=B.useRef(null),a=B.useRef(0),c=B.useRef(3),f=B.useRef([]),p=B.useRef([]),h=B.useRef([]),g=B.useRef([]),b=B.useRef([]),S=B.useRef(0),v=B.useRef(1),E=B.useRef(0),C=B.useRef(0),N=B.useRef(0),I=B.useRef(0),P=(V,A)=>Math.random()*(A-V)+V,D=()=>{a.current=0,c.current=3,f.current=[],p.current=[],h.current=[],g.current=[],b.current=[],v.current=1,N.current=0,I.current=0,e(0,3)};return B.useEffect(()=>{l&&D()},[l]),B.useEffect(()=>{const V=r.current;if(!V)return;const A=V.getContext("2d");if(!A)return;let M;const L=()=>{V.parentElement?(V.width=V.parentElement.clientWidth,V.height=V.parentElement.clientHeight):(V.width=window.innerWidth,V.height=window.innerHeight)};window.addEventListener("resize",L),L();const R=(ue,F)=>{const J=V.getBoundingClientRect();return{x:ue-J.left,y:F-J.top}},U=(ue,F)=>{f.current.push({x:ue,y:F,life:dR})},k=ue=>{const{x:F,y:J}=R(ue.clientX,ue.clientY);U(F,J)},q=ue=>{ue.preventDefault();const F=ue.touches[0],{x:J,y:ee}=R(F.clientX,F.clientY);U(J,ee)};window.addEventListener("mousemove",k),V.addEventListener("touchmove",q,{passive:!1});const O=()=>{const ue=Math.random()<.12+v.current*.02;let F=35,J=Xo.FRUIT,ee=Nt.WATERMELON;if(ue)J=Xo.BOMB,F=30;else{const ge=Math.random();ge<.05?ee=Nt.GOLDEN:ge<.1?ee=Nt.ICE:ge<.3?ee=Nt.WATERMELON:ge<.5?ee=Nt.ORANGE:ge<.75?ee=Nt.KIWI:ee=Nt.LEMON}const de=P(F,V.width-F),be=V.height+F,ce=(V.width/2-de)*P(.005,.015)+P(-1,1),he=P(-14,-18)-v.current*.5;p.current.push({id:Date.now()+Math.random(),type:J,fruitType:ee,x:de,y:be,vx:ce,vy:he,radius:F,rotation:0,rotationSpeed:P(-.2,.2),isSliced:!1}),ue||la.playThrow()},j=(ue,F,J)=>{for(let de=0;de<12;de++)h.current.push({x:ue,y:F,vx:P(-6,6),vy:P(-6,6),life:P(20,40),color:J,size:P(2,6)})},K=ue=>{[0,Math.PI].forEach(J=>{g.current.push({x:ue.x,y:ue.y,vx:ue.vx+(J===0?-4:4),vy:ue.vy,radius:ue.radius,fruitType:ue.fruitType,rotation:ue.rotation,rotationSpeed:ue.rotationSpeed+(J===0?-.1:.1),startAngle:J,endAngle:J+Math.PI,life:60})})},Q=(ue,F,J)=>{const ee=Lf[J];if(ue.beginPath(),ue.arc(0,0,F,0,Math.PI*2),ue.fillStyle=ee.skin,ue.fill(),ue.beginPath(),ue.arc(0,0,F-4,0,Math.PI*2),ue.fillStyle=ee.flesh,ue.fill(),J===Nt.ORANGE||J===Nt.LEMON){ue.strokeStyle=ee.skin,ue.globalAlpha=.3,ue.lineWidth=2,ue.beginPath();for(let de=0;de<8;de++)ue.moveTo(0,0),ue.lineTo(Math.cos(de*Math.PI/4)*(F-4),Math.sin(de*Math.PI/4)*(F-4));ue.stroke(),ue.globalAlpha=1}else if(J===Nt.WATERMELON||J===Nt.KIWI||J===Nt.GOLDEN){ue.fillStyle=ee.seed;for(let de=0;de<6;de++){const be=de*Math.PI/3,ce=F*.5;ue.beginPath(),ue.arc(Math.cos(be)*ce,Math.sin(be)*ce,2,0,Math.PI*2),ue.fill()}}(J===Nt.GOLDEN||J===Nt.ICE)&&(ue.shadowBlur=20,ue.shadowColor=ee.skin,ue.strokeStyle="#FFF",ue.lineWidth=2,ue.stroke(),ue.shadowBlur=0)},Y=(ue,F,J)=>{const ee=F.x-ue.x,de=F.y-ue.y,be=ee*ee+de*de,ce=((J.x-ue.x)*ee+(J.y-ue.y)*de)/Math.max(be,1e-4);let he,ge;return ce<0?(he=ue.x,ge=ue.y):ce>1?(he=F.x,ge=F.y):(he=ue.x+ce*ee,ge=ue.y+ce*de),(J.x-he)**2+(J.y-ge)**2<J.radius**2},te=()=>{if(!l)return;S.current++,v.current=1+Math.floor(a.current/100)*.1;let ue=1;N.current>0&&(ue=.4,N.current--);for(let J=f.current.length-1;J>=0;J--)f.current[J].life--,f.current[J].life<=0&&f.current.splice(J,1);S.current-E.current>hR&&(C.current=0),I.current>0&&I.current--;const F=Math.max(20,60-Math.floor(a.current/20));S.current%Math.floor(F/(ue>.5?1:.5))===0&&O();for(let J=p.current.length-1;J>=0;J--){const ee=p.current[J];if(ee.x+=ee.vx*ue,ee.y+=ee.vy*ue,ee.vy+=kf*ue,ee.rotation+=ee.rotationSpeed*ue,ee.y>V.height+ee.radius+10){if(ee.type===Xo.FRUIT&&!ee.isSliced&&(c.current--,e(a.current,c.current),c.current<=0)){n(a.current);return}p.current.splice(J,1);continue}if(f.current.length>=2){const de=Math.min(f.current.length-1,5);let be=!1;for(let ce=0;ce<de;ce++){const he=f.current[f.current.length-1-ce],ge=f.current[f.current.length-2-ce];if(Y(he,ge,ee)){be=!0;break}}if(be)if(ee.isSliced=!0,ee.type===Xo.BOMB){la.playExplosion(),n(a.current);return}else{E.current=S.current,C.current++;let ce=10,he=!1;ee.fruitType===Nt.GOLDEN?(ce=50,I.current=10):ee.fruitType===Nt.ICE&&(N.current=180,la.playFreeze(),I.current=20),C.current>1?(ce+=C.current*5,he=!0,I.current=5,la.playCombo(C.current),b.current.push({x:ee.x,y:ee.y-50,text:`${C.current} COMBO!`,life:40,color:"#FFD700",size:24+C.current*2})):la.playSlice(),a.current+=ce,e(a.current,c.current);const ge=Lf[ee.fruitType];j(ee.x,ee.y,ge.flesh),K(ee),b.current.push({x:ee.x,y:ee.y,text:`+${ce}`,life:30,color:"#FFF",size:he?30:20}),p.current.splice(J,1)}}}for(let J=h.current.length-1;J>=0;J--){const ee=h.current[J];ee.x+=ee.vx*ue,ee.y+=ee.vy*ue,ee.vy+=kf*.5*ue,ee.life--,ee.life<=0&&h.current.splice(J,1)}for(let J=g.current.length-1;J>=0;J--){const ee=g.current[J];ee.x+=ee.vx*ue,ee.y+=ee.vy*ue,ee.vy+=kf*ue,ee.rotation+=ee.rotationSpeed*ue,ee.life--,ee.y>V.height+100&&g.current.splice(J,1)}for(let J=b.current.length-1;J>=0;J--){const ee=b.current[J];ee.y-=1,ee.life--,ee.life<=0&&b.current.splice(J,1)}},oe=()=>{let ue="#222";if(I.current>0&&(N.current>0?ue="#003344":C.current>4?ue="#441111":ue="#333"),A.fillStyle=ue,A.fillRect(0,0,V.width,V.height),N.current>0&&(A.fillStyle="rgba(0, 255, 255, 0.05)",A.fillRect(0,0,V.width,V.height)),p.current.forEach(F=>{A.save(),A.translate(F.x,F.y),A.rotate(F.rotation),F.type===Xo.BOMB?(A.beginPath(),A.arc(0,0,F.radius,0,Math.PI*2),A.fillStyle="#111",A.fill(),A.strokeStyle="#F00",A.lineWidth=3,A.stroke(),A.beginPath(),A.moveTo(-F.radius/2,-F.radius/2),A.lineTo(F.radius/2,F.radius/2),A.moveTo(F.radius/2,-F.radius/2),A.lineTo(-F.radius/2,F.radius/2),A.strokeStyle="#F00",A.stroke(),A.shadowBlur=20,A.shadowColor="#F00"):Q(A,F.radius,F.fruitType),A.restore()}),g.current.forEach(F=>{A.save(),A.translate(F.x,F.y),A.rotate(F.rotation);const J=Lf[F.fruitType];A.beginPath(),A.arc(0,0,F.radius,F.startAngle,F.endAngle),A.lineTo(0,0),A.fillStyle=J.skin,A.fill(),A.beginPath(),A.arc(0,0,F.radius-4,F.startAngle,F.endAngle),A.lineTo(0,0),A.fillStyle=J.flesh,A.fill(),A.restore()}),h.current.forEach(F=>{A.fillStyle=F.color,A.globalAlpha=F.life/30,A.beginPath(),A.arc(F.x,F.y,F.size,0,Math.PI*2),A.fill(),A.globalAlpha=1}),b.current.forEach(F=>{A.font=`bold ${F.size}px Arial`,A.fillStyle=F.color,A.textAlign="center",A.strokeStyle="black",A.lineWidth=3,A.globalAlpha=Math.min(1,F.life/10),A.strokeText(F.text,F.x,F.y),A.fillText(F.text,F.x,F.y),A.globalAlpha=1}),f.current.length>1){A.beginPath(),A.moveTo(f.current[0].x,f.current[0].y);for(let F=1;F<f.current.length;F++){const J=f.current[F];A.lineTo(J.x,J.y)}N.current>0?(A.strokeStyle="#00FFFF",A.shadowColor="#00FFFF"):C.current>3?(A.strokeStyle="#FFD700",A.shadowColor="#FFD700"):(A.strokeStyle="#FFF",A.shadowColor="#0FF"),A.lineWidth=5,A.lineCap="round",A.lineJoin="round",A.shadowBlur=15,A.stroke(),A.lineWidth=2,A.shadowBlur=0,A.stroke()}},xe=()=>{te(),oe(),M=requestAnimationFrame(xe)};return xe(),()=>{cancelAnimationFrame(M),window.removeEventListener("mousemove",k),V.removeEventListener("touchmove",q),window.removeEventListener("resize",L)}},[l,n,e]),m.jsx("canvas",{ref:r,className:"absolute inset-0 z-0 cursor-none"})},mR=()=>{const[n,e]=B.useState(0),[l,o]=B.useState(0),[r,a]=B.useState(3),c=()=>{o(0),a(3),e(1)},f=B.useCallback(h=>{o(h),e(2)},[]),p=B.useCallback((h,g)=>{o(h),a(g)},[]);return m.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-[#222] select-none font-sans text-white",children:[m.jsx(pR,{gameActive:n===1,onGameOver:f,onScoreUpdate:p,onRestart:c}),n===1&&m.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 flex justify-between items-start pointer-events-none z-10",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-4xl font-bold text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]",children:l}),m.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Score"})]}),m.jsx("div",{className:"flex gap-1 text-3xl filter drop-shadow-[0_0_5px_rgba(255,0,0,0.5)]",children:[...Array(3)].map((h,g)=>m.jsx("span",{className:g<r?"opacity-100":"opacity-20 grayscale",children:""},g))})]}),n===0&&m.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm",children:[m.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 drop-shadow-[0_0_15px_rgba(34,211,238,0.5)] mb-8 text-center",children:["NEON",m.jsx("br",{}),"BLADE"]}),m.jsx("p",{className:"mb-8 text-gray-300 text-lg",children:"Slice fruits. Avoid bombs. Don't drop them!"}),m.jsx("button",{onClick:c,className:"px-8 py-4 bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-2xl rounded-full shadow-[0_0_20px_rgba(6,182,212,0.6)] transition-all transform hover:scale-110 active:scale-95",children:"GAME START"})]}),n===2&&m.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in",children:[m.jsx("h2",{className:"text-6xl font-black text-red-500 drop-shadow-[0_0_20px_rgba(239,68,68,0.8)] mb-4",children:"GAME OVER"}),m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("span",{className:"text-xl text-gray-400",children:"FINAL SCORE"}),m.jsx("span",{className:"text-7xl font-bold text-white",children:l})]}),m.jsx("button",{onClick:c,className:"px-10 py-4 bg-yellow-500 hover:bg-yellow-400 text-black font-bold text-2xl rounded-full shadow-[0_0_20px_rgba(234,179,8,0.6)] transition-all transform hover:scale-110 active:scale-95",children:"RETRY"})]})]})};function gR(){return m.jsx(Ub,{children:m.jsx(Nb,{basename:"/251031-test-my-React-Project/",children:m.jsx(ib,{children:m.jsxs(bi,{path:"/",element:m.jsx(qE,{}),children:[m.jsx(bi,{index:!0,element:m.jsx(ZE,{})}),m.jsx(bi,{path:"neonbreaker",element:m.jsx(n2,{})}),m.jsx(bi,{path:"virtual-try-on",element:m.jsx(E_,{})}),m.jsx(bi,{path:"aivoca",element:m.jsx(__,{})}),m.jsx(bi,{path:"survivor-game",element:m.jsx(H_,{})}),m.jsx(bi,{path:"drawbridgegame",element:m.jsx($_,{})}),m.jsx(bi,{path:"subway-runner",element:m.jsx(cR,{})}),m.jsx(bi,{path:"slice-game",element:m.jsx(mR,{})})]})})})})}const $v=document.getElementById("root");if(!$v)throw new Error("Root element not found");rS.createRoot($v).render(m.jsx(eS.StrictMode,{children:m.jsx(gR,{})}));
