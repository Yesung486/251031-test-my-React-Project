(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ld(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hf={exports:{}},ta={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function aS(){if(rm)return ta;rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,r,s){var c=null;if(s!==void 0&&(c=""+s),r.key!==void 0&&(c=""+r.key),"key"in r){s={};for(var f in r)f!=="key"&&(s[f]=r[f])}else s=r;return r=s.ref,{$$typeof:n,type:l,key:c,ref:r!==void 0?r:null,props:s}}return ta.Fragment=e,ta.jsx=o,ta.jsxs=o,ta}var um;function rS(){return um||(um=1,hf.exports=aS()),hf.exports}var d=rS(),pf={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function uS(){if(cm)return Ye;cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function R(z,$,ee){this.props=z,this.context=$,this.refs=C,this.updater=ee||E}R.prototype.isReactComponent={},R.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=R.prototype;function D(z,$,ee){this.props=z,this.context=$,this.refs=C,this.updater=ee||E}var V=D.prototype=new U;V.constructor=D,w(V,R.prototype),V.isPureReactComponent=!0;var A=Array.isArray;function M(){}var L={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function B(z,$,ee){var he=ee.ref;return{$$typeof:n,type:z,key:$,ref:he!==void 0?he:null,props:ee}}function k(z,$){return B(z.type,$,z.props)}function q(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function P(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ee){return $[ee]})}var H=/\/+/g;function K(z,$){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):$.toString(36)}function J(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function($){z.status==="pending"&&(z.status="fulfilled",z.value=$)},function($){z.status==="pending"&&(z.status="rejected",z.reason=$)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,$,ee,he,Se){var ce=typeof z;(ce==="undefined"||ce==="boolean")&&(z=null);var pe=!1;if(z===null)pe=!0;else switch(ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(z.$$typeof){case n:case e:pe=!0;break;case g:return pe=z._init,Y(pe(z._payload),$,ee,he,Se)}}if(pe)return Se=Se(z),pe=he===""?"."+K(z,0):he,A(Se)?(ee="",pe!=null&&(ee=pe.replace(H,"$&/")+"/"),Y(Se,$,ee,"",function(Ue){return Ue})):Se!=null&&(q(Se)&&(Se=k(Se,ee+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(H,"$&/")+"/")+pe)),$.push(Se)),1;pe=0;var ge=he===""?".":he+":";if(A(z))for(var we=0;we<z.length;we++)he=z[we],ce=ge+K(he,we),pe+=Y(he,$,ee,ce,Se);else if(we=y(z),typeof we=="function")for(z=we.call(z),we=0;!(he=z.next()).done;)he=he.value,ce=ge+K(he,we++),pe+=Y(he,$,ee,ce,Se);else if(ce==="object"){if(typeof z.then=="function")return Y(J(z),$,ee,he,Se);throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Z(z,$,ee){if(z==null)return z;var he=[],Se=0;return Y(z,he,"","",function(ce){return $.call(ee,ce,Se++)}),he}function ie(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(ee){(z._status===0||z._status===-1)&&(z._status=1,z._result=ee)},function(ee){(z._status===0||z._status===-1)&&(z._status=2,z._result=ee)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},se={map:Z,forEach:function(z,$,ee){Z(z,function(){$.apply(this,arguments)},ee)},count:function(z){var $=0;return Z(z,function(){$++}),$},toArray:function(z){return Z(z,function($){return $})||[]},only:function(z){if(!q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ye.Activity=x,Ye.Children=se,Ye.Component=R,Ye.Fragment=o,Ye.Profiler=r,Ye.PureComponent=D,Ye.StrictMode=l,Ye.Suspense=p,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},Ye.cache=function(z){return function(){return z.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(z,$,ee){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=w({},z.props),Se=z.key;if($!=null)for(ce in $.key!==void 0&&(Se=""+$.key),$)!I.call($,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&$.ref===void 0||(he[ce]=$[ce]);var ce=arguments.length-2;if(ce===1)he.children=ee;else if(1<ce){for(var pe=Array(ce),ge=0;ge<ce;ge++)pe[ge]=arguments[ge+2];he.children=pe}return B(z.type,Se,he)},Ye.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},Ye.createElement=function(z,$,ee){var he,Se={},ce=null;if($!=null)for(he in $.key!==void 0&&(ce=""+$.key),$)I.call($,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=$[he]);var pe=arguments.length-2;if(pe===1)Se.children=ee;else if(1<pe){for(var ge=Array(pe),we=0;we<pe;we++)ge[we]=arguments[we+2];Se.children=ge}if(z&&z.defaultProps)for(he in pe=z.defaultProps,pe)Se[he]===void 0&&(Se[he]=pe[he]);return B(z,ce,Se)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(z){return{$$typeof:f,render:z}},Ye.isValidElement=q,Ye.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ie}},Ye.memo=function(z,$){return{$$typeof:h,type:z,compare:$===void 0?null:$}},Ye.startTransition=function(z){var $=L.T,ee={};L.T=ee;try{var he=z(),Se=L.S;Se!==null&&Se(ee,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(M,de)}catch(ce){de(ce)}finally{$!==null&&ee.types!==null&&($.types=ee.types),L.T=$}},Ye.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Ye.use=function(z){return L.H.use(z)},Ye.useActionState=function(z,$,ee){return L.H.useActionState(z,$,ee)},Ye.useCallback=function(z,$){return L.H.useCallback(z,$)},Ye.useContext=function(z){return L.H.useContext(z)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(z,$){return L.H.useDeferredValue(z,$)},Ye.useEffect=function(z,$){return L.H.useEffect(z,$)},Ye.useEffectEvent=function(z){return L.H.useEffectEvent(z)},Ye.useId=function(){return L.H.useId()},Ye.useImperativeHandle=function(z,$,ee){return L.H.useImperativeHandle(z,$,ee)},Ye.useInsertionEffect=function(z,$){return L.H.useInsertionEffect(z,$)},Ye.useLayoutEffect=function(z,$){return L.H.useLayoutEffect(z,$)},Ye.useMemo=function(z,$){return L.H.useMemo(z,$)},Ye.useOptimistic=function(z,$){return L.H.useOptimistic(z,$)},Ye.useReducer=function(z,$,ee){return L.H.useReducer(z,$,ee)},Ye.useRef=function(z){return L.H.useRef(z)},Ye.useState=function(z){return L.H.useState(z)},Ye.useSyncExternalStore=function(z,$,ee){return L.H.useSyncExternalStore(z,$,ee)},Ye.useTransition=function(){return L.H.useTransition()},Ye.version="19.2.3",Ye}var fm;function sd(){return fm||(fm=1,pf.exports=uS()),pf.exports}var G=sd();const cS=ld(G);var mf={exports:{}},na={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function fS(){return dm||(dm=1,(function(n){function e(Y,Z){var ie=Y.length;Y.push(Z);e:for(;0<ie;){var de=ie-1>>>1,se=Y[de];if(0<r(se,Z))Y[de]=Z,Y[ie]=se,ie=de;else break e}}function o(Y){return Y.length===0?null:Y[0]}function l(Y){if(Y.length===0)return null;var Z=Y[0],ie=Y.pop();if(ie!==Z){Y[0]=ie;e:for(var de=0,se=Y.length,z=se>>>1;de<z;){var $=2*(de+1)-1,ee=Y[$],he=$+1,Se=Y[he];if(0>r(ee,ie))he<se&&0>r(Se,ee)?(Y[de]=Se,Y[he]=ie,de=he):(Y[de]=ee,Y[$]=ie,de=$);else if(he<se&&0>r(Se,ie))Y[de]=Se,Y[he]=ie,de=he;else break e}}return Z}function r(Y,Z){var ie=Y.sortIndex-Z.sortIndex;return ie!==0?ie:Y.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],h=[],g=1,x=null,b=3,y=!1,E=!1,w=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(Y){for(var Z=o(h);Z!==null;){if(Z.callback===null)l(h);else if(Z.startTime<=Y)l(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=o(h)}}function A(Y){if(w=!1,V(Y),!E)if(o(p)!==null)E=!0,M||(M=!0,P());else{var Z=o(h);Z!==null&&J(A,Z.startTime-Y)}}var M=!1,L=-1,I=5,B=-1;function k(){return C?!0:!(n.unstable_now()-B<I)}function q(){if(C=!1,M){var Y=n.unstable_now();B=Y;var Z=!0;try{e:{E=!1,w&&(w=!1,U(L),L=-1),y=!0;var ie=b;try{t:{for(V(Y),x=o(p);x!==null&&!(x.expirationTime>Y&&k());){var de=x.callback;if(typeof de=="function"){x.callback=null,b=x.priorityLevel;var se=de(x.expirationTime<=Y);if(Y=n.unstable_now(),typeof se=="function"){x.callback=se,V(Y),Z=!0;break t}x===o(p)&&l(p),V(Y)}else l(p);x=o(p)}if(x!==null)Z=!0;else{var z=o(h);z!==null&&J(A,z.startTime-Y),Z=!1}}break e}finally{x=null,b=ie,y=!1}Z=void 0}}finally{Z?P():M=!1}}}var P;if(typeof D=="function")P=function(){D(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=q,P=function(){K.postMessage(null)}}else P=function(){R(q,0)};function J(Y,Z){L=R(function(){Y(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var ie=b;b=Z;try{return Y()}finally{b=ie}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=b;b=Y;try{return Z()}finally{b=ie}},n.unstable_scheduleCallback=function(Y,Z,ie){var de=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?de+ie:de):ie=de,Y){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ie+se,Y={id:g++,callback:Z,priorityLevel:Y,startTime:ie,expirationTime:se,sortIndex:-1},ie>de?(Y.sortIndex=ie,e(h,Y),o(p)===null&&Y===o(h)&&(w?(U(L),L=-1):w=!0,J(A,ie-de))):(Y.sortIndex=se,e(p,Y),E||y||(E=!0,M||(M=!0,P()))),Y},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Y){var Z=b;return function(){var ie=b;b=Z;try{return Y.apply(this,arguments)}finally{b=ie}}}})(yf)),yf}var hm;function dS(){return hm||(hm=1,gf.exports=fS()),gf.exports}var vf={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function hS(){if(pm)return Zt;pm=1;var n=sd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(p,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:p,containerInfo:h,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Zt.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(p,h,null,g)},Zt.flushSync=function(p){var h=c.T,g=l.p;try{if(c.T=null,l.p=2,p)return p()}finally{c.T=h,l.p=g,l.d.f()}},Zt.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(p,h))},Zt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},Zt.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,x=f(g,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?l.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:y}):g==="script"&&l.d.X(p,{crossOrigin:x,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zt.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);l.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(p)},Zt.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=f(g,h.crossOrigin);l.d.L(p,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zt.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=f(h.as,h.crossOrigin);l.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(p)},Zt.requestFormReset=function(p){l.d.r(p)},Zt.unstable_batchedUpdates=function(p,h){return p(h)},Zt.useFormState=function(p,h,g){return c.H.useFormState(p,h,g)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var mm;function pS(){if(mm)return vf.exports;mm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vf.exports=hS(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function mS(){if(gm)return na;gm=1;var n=dS(),e=sd(),o=pS();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(s(t)!==t)throw Error(l(188))}function h(t){var i=t.alternate;if(!i){if(i=s(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,u=i;;){var S=a.return;if(S===null)break;var T=S.alternate;if(T===null){if(u=S.return,u!==null){a=u;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===a)return p(S),t;if(T===u)return p(S),i;T=T.sibling}throw Error(l(188))}if(a.return!==u.return)a=S,u=T;else{for(var _=!1,F=S.child;F;){if(F===a){_=!0,a=S,u=T;break}if(F===u){_=!0,u=S,a=T;break}F=F.sibling}if(!_){for(F=T.child;F;){if(F===a){_=!0,a=T,u=S;break}if(F===u){_=!0,u=T,a=S;break}F=F.sibling}if(!_)throw Error(l(189))}}if(a.alternate!==u)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var H=Symbol.for("react.client.reference");function K(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===H?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case D:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return i=t.displayName||null,i!==null?i:K(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return K(t(i))}catch{}}return null}var J=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},de=[],se=-1;function z(t){return{current:t}}function $(t){0>se||(t.current=de[se],de[se]=null,se--)}function ee(t,i){se++,de[se]=t.current,t.current=i}var he=z(null),Se=z(null),ce=z(null),pe=z(null);function ge(t,i){switch(ee(ce,i),ee(Se,t),ee(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Rp(i),t=Ip(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(he),ee(he,t)}function we(){$(he),$(Se),$(ce)}function Ue(t){t.memoizedState!==null&&ee(pe,t);var i=he.current,a=Ip(i,t.type);i!==a&&(ee(Se,t),ee(he,a))}function _e(t){Se.current===t&&($(he),$(Se)),pe.current===t&&($(pe),Ws._currentValue=ie)}var be,Re;function Le(t){if(be===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);be=i&&i[1]||"",Re=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+t+Re}var Oe=!1;function Pe(t,i){if(!t||Oe)return"";Oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(me){var fe=me}Reflect.construct(t,[],xe)}else{try{xe.call()}catch(me){fe=me}t.call(xe.prototype)}}else{try{throw Error()}catch(me){fe=me}(xe=t())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=u.DetermineComponentFrameRoot(),_=T[0],F=T[1];if(_&&F){var te=_.split(`
`),ue=F.split(`
`);for(S=u=0;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;for(;S<ue.length&&!ue[S].includes("DetermineComponentFrameRoot");)S++;if(u===te.length||S===ue.length)for(u=te.length-1,S=ue.length-1;1<=u&&0<=S&&te[u]!==ue[S];)S--;for(;1<=u&&0<=S;u--,S--)if(te[u]!==ue[S]){if(u!==1||S!==1)do if(u--,S--,0>S||te[u]!==ue[S]){var ye=`
`+te[u].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=u&&0<=S);break}}}finally{Oe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Le(a):""}function yt(t,i){switch(t.tag){case 26:case 27:case 5:return Le(t.type);case 16:return Le("Lazy");case 13:return t.child!==i&&i!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Pe(t.type,!1);case 11:return Pe(t.type.render,!1);case 1:return Pe(t.type,!0);case 31:return Le("Activity");default:return""}}function rn(t){try{var i="",a=null;do i+=yt(t,a),a=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Vt=Object.prototype.hasOwnProperty,hi=n.unstable_scheduleCallback,_n=n.unstable_cancelCallback,pi=n.unstable_shouldYield,Ci=n.unstable_requestPaint,Rt=n.unstable_now,jt=n.unstable_getCurrentPriorityLevel,Rn=n.unstable_ImmediatePriority,io=n.unstable_UserBlockingPriority,Xn=n.unstable_NormalPriority,Kn=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,Ni=n.log,St=n.unstable_setDisableYieldValue,Bt=null,bt=null;function In(t){if(typeof Ni=="function"&&St(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Bt,t)}catch{}}var qt=Math.clz32?Math.clz32:cs,rs=Math.log,us=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(rs(t)/us|0)|0}var Wn=256,oo=262144,Ai=4194304;function Qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var u=t.pendingLanes;if(u===0)return 0;var S=0,T=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var F=u&134217727;return F!==0?(u=F&~T,u!==0?S=Qn(u):(_&=F,_!==0?S=Qn(_):a||(a=F&~t,a!==0&&(S=Qn(a))))):(F=u&~T,F!==0?S=Qn(F):_!==0?S=Qn(_):a||(a=u&~t,a!==0&&(S=Qn(a)))),S===0?0:i!==0&&i!==S&&(i&T)===0&&(T=S&-S,a=i&-i,T>=a||T===32&&(a&4194048)!==0)?i:S}function Zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fs(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var t=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),t}function Uo(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ds(t,i,a,u,S,T){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var F=t.entanglements,te=t.expirationTimes,ue=t.hiddenUpdates;for(a=_&~a;0<a;){var ye=31-qt(a),xe=1<<ye;F[ye]=0,te[ye]=-1;var fe=ue[ye];if(fe!==null)for(ue[ye]=null,ye=0;ye<fe.length;ye++){var me=fe[ye];me!==null&&(me.lane&=-536870913)}a&=~xe}u!==0&&ml(t,u,0),T!==0&&S===0&&t.tag!==0&&(t.suspendedLanes|=T&~(_&~i))}function ml(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-qt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function gl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var u=31-qt(a),S=1<<u;S&i|t[u]&i&&(t[u]|=i),a&=~S}}function Go(t,i){var a=i&-i;return a=(a&42)!==0?1:Bo(a),(a&(t.suspendedLanes|i))!==0?0:a}function Bo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function lo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mi(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:em(t.type))}function yl(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var kn=Math.random().toString(36).slice(2),N="__reactFiber$"+kn,O="__reactProps$"+kn,W="__reactContainer$"+kn,j="__reactEvents$"+kn,Q="__reactListeners$"+kn,ae="__reactHandles$"+kn,X="__reactResources$"+kn,le="__reactMarker$"+kn;function Ee(t){delete t[N],delete t[O],delete t[j],delete t[Q],delete t[ae]}function Ce(t){var i=t[N];if(i)return i;for(var a=t.parentNode;a;){if(i=a[W]||a[N]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Bp(t);t!==null;){if(a=t[N])return a;t=Bp(t)}return i}t=a,a=t.parentNode}return null}function Ne(t){if(t=t[N]||t[W]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Je(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function ze(t){var i=t[X];return i||(i=t[X]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function tt(t){t[le]=!0}var yn=new Set,Me={};function Fe(t,i){it(t,i),it(t+"Capture",i)}function it(t,i){for(Me[t]=i,t=0;t<i.length;t++)yn.add(i[t])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kt={},vn={};function De(t){return Vt.call(vn,t)?!0:Vt.call(Kt,t)?!1:nn.test(t)?vn[t]=!0:(Kt[t]=!0,!1)}function xn(t,i,a){if(De(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ei(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function yi(t,i,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+u)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ga(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ie(t,i,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var S=u.get,T=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return S.call(this)},set:function(_){a=""+_,T.call(this,_)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Te(t){if(!t._valueTracker){var i=ga(t)?"checked":"value";t._valueTracker=Ie(t,i,""+t[i])}}function Ke(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return t&&(u=ga(t)?t.checked?"true":"false":t.value),t=u,t!==a?(i.setValue(t),!0):!1}function ft(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ct=/[\n"\\]/g;function ct(t){return t.replace(Ct,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ln(t,i,a,u,S,T,_,F){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ti(t,_,Wt(i)):a!=null?ti(t,_,Wt(a)):u!=null&&t.removeAttribute("value"),S==null&&T!=null&&(t.defaultChecked=!!T),S!=null&&(t.checked=S&&typeof S!="function"&&typeof S!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?t.name=""+Wt(F):t.removeAttribute("name")}function Sn(t,i,a,u,S,T,_,F){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.type=T),i!=null||a!=null){if(!(T!=="submit"&&T!=="reset"||i!=null)){Te(t);return}a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,F||i===t.value||(t.value=i),t.defaultValue=i}u=u??S,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=F?t.checked:!!u,t.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Te(t)}function ti(t,i,a){i==="number"&&ft(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function rt(t,i,a,u){if(t=t.options,i){i={};for(var S=0;S<a.length;S++)i["$"+a[S]]=!0;for(a=0;a<t.length;a++)S=i.hasOwnProperty("$"+t[a].value),t[a].selected!==S&&(t[a].selected=S),S&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,S=0;S<t.length;S++){if(t[S].value===a){t[S].selected=!0,u&&(t[S].defaultSelected=!0);return}i!==null||t[S].disabled||(i=t[S])}i!==null&&(i.selected=!0)}}function Oo(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function un(t,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(l(92));if(J(u)){if(1<u.length)throw Error(l(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),Te(t)}function Qt(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ni=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _i(t,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,a):typeof a!="number"||a===0||ni.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var S in i)u=i[S],i.hasOwnProperty(S)&&a[S]!==u&&_i(t,S,u)}else for(var T in i)i.hasOwnProperty(T)&&_i(t,T,i[T])}function vi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return Dn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var hs=null;function Ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,vl=null;function _d(t){var i=Ne(t);if(i&&(t=i.stateNode)){var a=t[O]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==t&&u.form===t.form){var S=u[O]||null;if(!S)throw Error(l(90));Ln(u,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===t.form&&Ke(u)}break e;case"textarea":Oo(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&rt(t,!!a.multiple,i,!1)}}}var fu=!1;function Rd(t,i,a){if(fu)return t(i,a);fu=!0;try{var u=t(i);return u}finally{if(fu=!1,(Ii!==null||vl!==null)&&(ir(),Ii&&(i=Ii,t=vl,vl=Ii=null,_d(i),t)))for(i=0;i<t.length;i++)_d(t[i])}}function ps(t,i){var a=t.stateNode;if(a===null)return null;var u=a[O]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(ki)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){du=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{du=!1}var ao=null,hu=null,ya=null;function Id(){if(ya)return ya;var t,i=hu,a=i.length,u,S="value"in ao?ao.value:ao.textContent,T=S.length;for(t=0;t<a&&i[t]===S[t];t++);var _=a-t;for(u=1;u<=_&&i[a-u]===S[T-u];u++);return ya=S.slice(t,1<u?1-u:void 0)}function va(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xa(){return!0}function kd(){return!1}function cn(t){function i(a,u,S,T,_){this._reactName=a,this._targetInst=S,this.type=u,this.nativeEvent=T,this.target=_,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(a=t[F],this[F]=a?a(T):T[F]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?xa:kd,this.isPropagationStopped=kd,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),i}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=cn(Ho),gs=x({},Ho,{view:0,detail:0}),lx=cn(gs),pu,mu,ys,ba=x({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ys&&(ys&&t.type==="mousemove"?(pu=t.screenX-ys.screenX,mu=t.screenY-ys.screenY):mu=pu=0,ys=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),Ld=cn(ba),sx=x({},ba,{dataTransfer:0}),ax=cn(sx),rx=x({},gs,{relatedTarget:0}),gu=cn(rx),ux=x({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=cn(ux),fx=x({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dx=cn(fx),hx=x({},Ho,{data:0}),Dd=cn(hx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=gx[t])?!!i[t]:!1}function yu(){return yx}var vx=x({},gs,{key:function(t){if(t.key){var i=px[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(t){return t.type==="keypress"?va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xx=cn(vx),Sx=x({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=cn(Sx),bx=x({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Tx=cn(bx),Ex=x({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),wx=cn(Ex),Cx=x({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=cn(Cx),Ax=x({},Ho,{newState:0,oldState:0}),Mx=cn(Ax),_x=[9,13,27,32],vu=ki&&"CompositionEvent"in window,vs=null;ki&&"documentMode"in document&&(vs=document.documentMode);var Rx=ki&&"TextEvent"in window&&!vs,Ud=ki&&(!vu||vs&&8<vs&&11>=vs),Gd=" ",Bd=!1;function Od(t,i){switch(t){case"keyup":return _x.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function Ix(t,i){switch(t){case"compositionend":return Vd(i);case"keypress":return i.which!==32?null:(Bd=!0,Gd);case"textInput":return t=i.data,t===Gd&&Bd?null:t;default:return null}}function kx(t,i){if(xl)return t==="compositionend"||!vu&&Od(t,i)?(t=Id(),ya=hu=ao=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ud&&i.locale!=="ko"?null:i.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lx[t.type]:i==="textarea"}function zd(t,i,a,u){Ii?vl?vl.push(u):vl=[u]:Ii=u,i=cr(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,u),t.push({event:a,listeners:i}))}var xs=null,Ss=null;function Dx(t){wp(t,0)}function Ta(t){var i=Je(t);if(Ke(i))return t}function Fd(t,i){if(t==="change")return i}var jd=!1;if(ki){var xu;if(ki){var Su="oninput"in document;if(!Su){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),Su=typeof qd.oninput=="function"}xu=Su}else xu=!1;jd=xu&&(!document.documentMode||9<document.documentMode)}function Yd(){xs&&(xs.detachEvent("onpropertychange",$d),Ss=xs=null)}function $d(t){if(t.propertyName==="value"&&Ta(Ss)){var i=[];zd(i,Ss,t,Ri(t)),Rd(Dx,i)}}function Px(t,i,a){t==="focusin"?(Yd(),xs=i,Ss=a,xs.attachEvent("onpropertychange",$d)):t==="focusout"&&Yd()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ta(Ss)}function Gx(t,i){if(t==="click")return Ta(i)}function Bx(t,i){if(t==="input"||t==="change")return Ta(i)}function Ox(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:Ox;function bs(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var S=a[u];if(!Vt.call(i,S)||!bn(t[S],i[S]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,i){var a=Jd(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=i&&u>=i)return{node:a,offset:i-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jd(a)}}function Kd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ft(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ft(t.document)}return i}function bu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Vx=ki&&"documentMode"in document&&11>=document.documentMode,Sl=null,Tu=null,Ts=null,Eu=!1;function Qd(t,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eu||Sl==null||Sl!==ft(u)||(u=Sl,"selectionStart"in u&&bu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ts&&bs(Ts,u)||(Ts=u,u=cr(Tu,"onSelect"),0<u.length&&(i=new Sa("onSelect","select",null,i,a),t.push({event:i,listeners:u}),i.target=Sl)))}function zo(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var bl={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionrun:zo("Transition","TransitionRun"),transitionstart:zo("Transition","TransitionStart"),transitioncancel:zo("Transition","TransitionCancel"),transitionend:zo("Transition","TransitionEnd")},wu={},Zd={};ki&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Fo(t){if(wu[t])return wu[t];if(!bl[t])return t;var i=bl[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zd)return wu[t]=i[a];return t}var e0=Fo("animationend"),t0=Fo("animationiteration"),n0=Fo("animationstart"),Hx=Fo("transitionrun"),zx=Fo("transitionstart"),Fx=Fo("transitioncancel"),i0=Fo("transitionend"),o0=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function oi(t,i){o0.set(t,i),Fe(i,[t])}var Ea=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Tl=0,Nu=0;function wa(){for(var t=Tl,i=Nu=Tl=0;i<t;){var a=Un[i];Un[i++]=null;var u=Un[i];Un[i++]=null;var S=Un[i];Un[i++]=null;var T=Un[i];if(Un[i++]=null,u!==null&&S!==null){var _=u.pending;_===null?S.next=S:(S.next=_.next,_.next=S),u.pending=S}T!==0&&l0(a,S,T)}}function Ca(t,i,a,u){Un[Tl++]=t,Un[Tl++]=i,Un[Tl++]=a,Un[Tl++]=u,Nu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Au(t,i,a,u){return Ca(t,i,a,u),Na(t)}function jo(t,i){return Ca(t,null,null,i),Na(t)}function l0(t,i,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var S=!1,T=t.return;T!==null;)T.childLanes|=a,u=T.alternate,u!==null&&(u.childLanes|=a),T.tag===22&&(t=T.stateNode,t===null||t._visibility&1||(S=!0)),t=T,T=T.return;return t.tag===3?(T=t.stateNode,S&&i!==null&&(S=31-qt(a),t=T.hiddenUpdates,u=t[S],u===null?t[S]=[i]:u.push(i),i.lane=a|536870912),T):null}function Na(t){if(50<js)throw js=0,Uc=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var El={};function jx(t,i,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,u){return new jx(t,i,a,u)}function Mu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function s0(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Aa(t,i,a,u,S,T){var _=0;if(u=t,typeof t=="function")Mu(t)&&(_=1);else if(typeof t=="string")_=X1(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=Tn(31,a,i,S),t.elementType=B,t.lanes=T,t;case w:return qo(a.children,S,T,i);case C:_=8,S|=24;break;case R:return t=Tn(12,a,i,S|2),t.elementType=R,t.lanes=T,t;case A:return t=Tn(13,a,i,S),t.elementType=A,t.lanes=T,t;case M:return t=Tn(19,a,i,S),t.elementType=M,t.lanes=T,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:_=10;break e;case U:_=9;break e;case V:_=11;break e;case L:_=14;break e;case I:_=16,u=null;break e}_=29,a=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=Tn(_,a,i,S),i.elementType=t,i.type=u,i.lanes=T,i}function qo(t,i,a,u){return t=Tn(7,t,u,i),t.lanes=a,t}function _u(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function a0(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Ru(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var r0=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=r0.get(t);return a!==void 0?a:(i={value:t,source:i,stack:rn(i)},r0.set(t,i),i)}return{value:t,source:i,stack:rn(i)}}var wl=[],Cl=0,Ma=null,Es=0,Bn=[],On=0,ro=null,xi=1,Si="";function Di(t,i){wl[Cl++]=Es,wl[Cl++]=Ma,Ma=t,Es=i}function u0(t,i,a){Bn[On++]=xi,Bn[On++]=Si,Bn[On++]=ro,ro=t;var u=xi;t=Si;var S=32-qt(u)-1;u&=~(1<<S),a+=1;var T=32-qt(i)+S;if(30<T){var _=S-S%5;T=(u&(1<<_)-1).toString(32),u>>=_,S-=_,xi=1<<32-qt(i)+S|a<<S|u,Si=T+t}else xi=1<<T|a<<S|u,Si=t}function Iu(t){t.return!==null&&(Di(t,1),u0(t,1,0))}function ku(t){for(;t===Ma;)Ma=wl[--Cl],wl[Cl]=null,Es=wl[--Cl],wl[Cl]=null;for(;t===ro;)ro=Bn[--On],Bn[On]=null,Si=Bn[--On],Bn[On]=null,xi=Bn[--On],Bn[On]=null}function c0(t,i){Bn[On++]=xi,Bn[On++]=Si,Bn[On++]=ro,xi=i.id,Si=i.overflow,ro=t}var Yt=null,Tt=null,nt=!1,uo=null,Vn=!1,Lu=Error(l(519));function co(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(Gn(i,t)),Lu}function f0(t){var i=t.stateNode,a=t.type,u=t.memoizedProps;switch(i[N]=t,i[O]=u,a){case"dialog":Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":case"embed":Qe("load",i);break;case"video":case"audio":for(a=0;a<Ys.length;a++)Qe(Ys[a],i);break;case"source":Qe("error",i);break;case"img":case"image":case"link":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"input":Qe("invalid",i),Sn(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Qe("invalid",i);break;case"textarea":Qe("invalid",i),un(i,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||Mp(i.textContent,a)?(u.popover!=null&&(Qe("beforetoggle",i),Qe("toggle",i)),u.onScroll!=null&&Qe("scroll",i),u.onScrollEnd!=null&&Qe("scrollend",i),u.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||co(t,!0)}function d0(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Yt=Yt.return}}function Nl(t){if(t!==Yt)return!1;if(!nt)return d0(t),nt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wc(t.type,t.memoizedProps)),a=!a),a&&Tt&&co(t),d0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Tt=Gp(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Tt=Gp(t)}else i===27?(i=Tt,Co(t.type)?(t=nf,nf=null,Tt=t):Tt=i):Tt=Yt?zn(t.stateNode.nextSibling):null;return!0}function Yo(){Tt=Yt=null,nt=!1}function Du(){var t=uo;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),uo=null),t}function ws(t){uo===null?uo=[t]:uo.push(t)}var Pu=z(null),$o=null,Pi=null;function fo(t,i,a){ee(Pu,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=Pu.current,$(Pu)}function Uu(t,i,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===a)break;t=t.return}}function Gu(t,i,a,u){var S=t.child;for(S!==null&&(S.return=t);S!==null;){var T=S.dependencies;if(T!==null){var _=S.child;T=T.firstContext;e:for(;T!==null;){var F=T;T=S;for(var te=0;te<i.length;te++)if(F.context===i[te]){T.lanes|=a,F=T.alternate,F!==null&&(F.lanes|=a),Uu(T.return,a,t),u||(_=null);break e}T=F.next}}else if(S.tag===18){if(_=S.return,_===null)throw Error(l(341));_.lanes|=a,T=_.alternate,T!==null&&(T.lanes|=a),Uu(_,a,t),_=null}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===t){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}}function Al(t,i,a,u){t=null;for(var S=i,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var _=S.alternate;if(_===null)throw Error(l(387));if(_=_.memoizedProps,_!==null){var F=S.type;bn(S.pendingProps.value,_.value)||(t!==null?t.push(F):t=[F])}}else if(S===pe.current){if(_=S.alternate,_===null)throw Error(l(387));_.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(t!==null?t.push(Ws):t=[Ws])}S=S.return}t!==null&&Gu(i,t,a,u),i.flags|=262144}function _a(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jo(t){$o=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return h0($o,t)}function Ra(t,i){return $o===null&&Jo(t),h0(t,i)}function h0(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(l(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var qx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Yx=n.unstable_scheduleCallback,$x=n.unstable_NormalPriority,Dt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new qx,data:new Map,refCount:0}}function Cs(t){t.refCount--,t.refCount===0&&Yx($x,function(){t.controller.abort()})}var Ns=null,Ou=0,Ml=0,_l=null;function Jx(t,i){if(Ns===null){var a=Ns=[];Ou=0,Ml=zc(),_l={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ou++,i.then(p0,p0),i}function p0(){if(--Ou===0&&Ns!==null){_l!==null&&(_l.status="fulfilled");var t=Ns;Ns=null,Ml=0,_l=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Xx(t,i){var a=[],u={status:"pending",value:null,reason:null,then:function(S){a.push(S)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var S=0;S<a.length;S++)(0,a[S])(i)},function(S){for(u.status="rejected",u.reason=S,S=0;S<a.length;S++)(0,a[S])(void 0)}),u}var m0=Y.S;Y.S=function(t,i){Qh=Rt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jx(t,i),m0!==null&&m0(t,i)};var Xo=z(null);function Vu(){var t=Xo.current;return t!==null?t:vt.pooledCache}function Ia(t,i){i===null?ee(Xo,Xo.current):ee(Xo,i.pool)}function g0(){var t=Vu();return t===null?null:{parent:Dt._currentValue,pool:t}}var Rl=Error(l(460)),Hu=Error(l(474)),ka=Error(l(542)),La={then:function(){}};function y0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function v0(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,S0(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var S=i;S.status="fulfilled",S.value=u}},function(u){if(i.status==="pending"){var S=i;S.status="rejected",S.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,S0(t),t}throw Wo=i,Rl}}function Ko(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wo=a,Rl):a}}var Wo=null;function x0(){if(Wo===null)throw Error(l(459));var t=Wo;return Wo=null,t}function S0(t){if(t===Rl||t===ka)throw Error(l(483))}var Il=null,As=0;function Da(t){var i=As;return As+=1,Il===null&&(Il=[]),v0(Il,t,i)}function Ms(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Pa(t,i){throw i.$$typeof===b?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function b0(t){function i(oe,ne){if(t){var re=oe.deletions;re===null?(oe.deletions=[ne],oe.flags|=16):re.push(ne)}}function a(oe,ne){if(!t)return null;for(;ne!==null;)i(oe,ne),ne=ne.sibling;return null}function u(oe){for(var ne=new Map;oe!==null;)oe.key!==null?ne.set(oe.key,oe):ne.set(oe.index,oe),oe=oe.sibling;return ne}function S(oe,ne){return oe=Li(oe,ne),oe.index=0,oe.sibling=null,oe}function T(oe,ne,re){return oe.index=re,t?(re=oe.alternate,re!==null?(re=re.index,re<ne?(oe.flags|=67108866,ne):re):(oe.flags|=67108866,ne)):(oe.flags|=1048576,ne)}function _(oe){return t&&oe.alternate===null&&(oe.flags|=67108866),oe}function F(oe,ne,re,ve){return ne===null||ne.tag!==6?(ne=_u(re,oe.mode,ve),ne.return=oe,ne):(ne=S(ne,re),ne.return=oe,ne)}function te(oe,ne,re,ve){var Ve=re.type;return Ve===w?ye(oe,ne,re.props.children,ve,re.key):ne!==null&&(ne.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&Ko(Ve)===ne.type)?(ne=S(ne,re.props),Ms(ne,re),ne.return=oe,ne):(ne=Aa(re.type,re.key,re.props,null,oe.mode,ve),Ms(ne,re),ne.return=oe,ne)}function ue(oe,ne,re,ve){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==re.containerInfo||ne.stateNode.implementation!==re.implementation?(ne=Ru(re,oe.mode,ve),ne.return=oe,ne):(ne=S(ne,re.children||[]),ne.return=oe,ne)}function ye(oe,ne,re,ve,Ve){return ne===null||ne.tag!==7?(ne=qo(re,oe.mode,ve,Ve),ne.return=oe,ne):(ne=S(ne,re),ne.return=oe,ne)}function xe(oe,ne,re){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=_u(""+ne,oe.mode,re),ne.return=oe,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return re=Aa(ne.type,ne.key,ne.props,null,oe.mode,re),Ms(re,ne),re.return=oe,re;case E:return ne=Ru(ne,oe.mode,re),ne.return=oe,ne;case I:return ne=Ko(ne),xe(oe,ne,re)}if(J(ne)||P(ne))return ne=qo(ne,oe.mode,re,null),ne.return=oe,ne;if(typeof ne.then=="function")return xe(oe,Da(ne),re);if(ne.$$typeof===D)return xe(oe,Ra(oe,ne),re);Pa(oe,ne)}return null}function fe(oe,ne,re,ve){var Ve=ne!==null?ne.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ve!==null?null:F(oe,ne,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case y:return re.key===Ve?te(oe,ne,re,ve):null;case E:return re.key===Ve?ue(oe,ne,re,ve):null;case I:return re=Ko(re),fe(oe,ne,re,ve)}if(J(re)||P(re))return Ve!==null?null:ye(oe,ne,re,ve,null);if(typeof re.then=="function")return fe(oe,ne,Da(re),ve);if(re.$$typeof===D)return fe(oe,ne,Ra(oe,re),ve);Pa(oe,re)}return null}function me(oe,ne,re,ve,Ve){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return oe=oe.get(re)||null,F(ne,oe,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case y:return oe=oe.get(ve.key===null?re:ve.key)||null,te(ne,oe,ve,Ve);case E:return oe=oe.get(ve.key===null?re:ve.key)||null,ue(ne,oe,ve,Ve);case I:return ve=Ko(ve),me(oe,ne,re,ve,Ve)}if(J(ve)||P(ve))return oe=oe.get(re)||null,ye(ne,oe,ve,Ve,null);if(typeof ve.then=="function")return me(oe,ne,re,Da(ve),Ve);if(ve.$$typeof===D)return me(oe,ne,re,Ra(ne,ve),Ve);Pa(ne,ve)}return null}function Ge(oe,ne,re,ve){for(var Ve=null,lt=null,Be=ne,Xe=ne=0,et=null;Be!==null&&Xe<re.length;Xe++){Be.index>Xe?(et=Be,Be=null):et=Be.sibling;var st=fe(oe,Be,re[Xe],ve);if(st===null){Be===null&&(Be=et);break}t&&Be&&st.alternate===null&&i(oe,Be),ne=T(st,ne,Xe),lt===null?Ve=st:lt.sibling=st,lt=st,Be=et}if(Xe===re.length)return a(oe,Be),nt&&Di(oe,Xe),Ve;if(Be===null){for(;Xe<re.length;Xe++)Be=xe(oe,re[Xe],ve),Be!==null&&(ne=T(Be,ne,Xe),lt===null?Ve=Be:lt.sibling=Be,lt=Be);return nt&&Di(oe,Xe),Ve}for(Be=u(Be);Xe<re.length;Xe++)et=me(Be,oe,Xe,re[Xe],ve),et!==null&&(t&&et.alternate!==null&&Be.delete(et.key===null?Xe:et.key),ne=T(et,ne,Xe),lt===null?Ve=et:lt.sibling=et,lt=et);return t&&Be.forEach(function(Ro){return i(oe,Ro)}),nt&&Di(oe,Xe),Ve}function He(oe,ne,re,ve){if(re==null)throw Error(l(151));for(var Ve=null,lt=null,Be=ne,Xe=ne=0,et=null,st=re.next();Be!==null&&!st.done;Xe++,st=re.next()){Be.index>Xe?(et=Be,Be=null):et=Be.sibling;var Ro=fe(oe,Be,st.value,ve);if(Ro===null){Be===null&&(Be=et);break}t&&Be&&Ro.alternate===null&&i(oe,Be),ne=T(Ro,ne,Xe),lt===null?Ve=Ro:lt.sibling=Ro,lt=Ro,Be=et}if(st.done)return a(oe,Be),nt&&Di(oe,Xe),Ve;if(Be===null){for(;!st.done;Xe++,st=re.next())st=xe(oe,st.value,ve),st!==null&&(ne=T(st,ne,Xe),lt===null?Ve=st:lt.sibling=st,lt=st);return nt&&Di(oe,Xe),Ve}for(Be=u(Be);!st.done;Xe++,st=re.next())st=me(Be,oe,Xe,st.value,ve),st!==null&&(t&&st.alternate!==null&&Be.delete(st.key===null?Xe:st.key),ne=T(st,ne,Xe),lt===null?Ve=st:lt.sibling=st,lt=st);return t&&Be.forEach(function(sS){return i(oe,sS)}),nt&&Di(oe,Xe),Ve}function gt(oe,ne,re,ve){if(typeof re=="object"&&re!==null&&re.type===w&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case y:e:{for(var Ve=re.key;ne!==null;){if(ne.key===Ve){if(Ve=re.type,Ve===w){if(ne.tag===7){a(oe,ne.sibling),ve=S(ne,re.props.children),ve.return=oe,oe=ve;break e}}else if(ne.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===I&&Ko(Ve)===ne.type){a(oe,ne.sibling),ve=S(ne,re.props),Ms(ve,re),ve.return=oe,oe=ve;break e}a(oe,ne);break}else i(oe,ne);ne=ne.sibling}re.type===w?(ve=qo(re.props.children,oe.mode,ve,re.key),ve.return=oe,oe=ve):(ve=Aa(re.type,re.key,re.props,null,oe.mode,ve),Ms(ve,re),ve.return=oe,oe=ve)}return _(oe);case E:e:{for(Ve=re.key;ne!==null;){if(ne.key===Ve)if(ne.tag===4&&ne.stateNode.containerInfo===re.containerInfo&&ne.stateNode.implementation===re.implementation){a(oe,ne.sibling),ve=S(ne,re.children||[]),ve.return=oe,oe=ve;break e}else{a(oe,ne);break}else i(oe,ne);ne=ne.sibling}ve=Ru(re,oe.mode,ve),ve.return=oe,oe=ve}return _(oe);case I:return re=Ko(re),gt(oe,ne,re,ve)}if(J(re))return Ge(oe,ne,re,ve);if(P(re)){if(Ve=P(re),typeof Ve!="function")throw Error(l(150));return re=Ve.call(re),He(oe,ne,re,ve)}if(typeof re.then=="function")return gt(oe,ne,Da(re),ve);if(re.$$typeof===D)return gt(oe,ne,Ra(oe,re),ve);Pa(oe,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,ne!==null&&ne.tag===6?(a(oe,ne.sibling),ve=S(ne,re),ve.return=oe,oe=ve):(a(oe,ne),ve=_u(re,oe.mode,ve),ve.return=oe,oe=ve),_(oe)):a(oe,ne)}return function(oe,ne,re,ve){try{As=0;var Ve=gt(oe,ne,re,ve);return Il=null,Ve}catch(Be){if(Be===Rl||Be===ka)throw Be;var lt=Tn(29,Be,null,oe.mode);return lt.lanes=ve,lt.return=oe,lt}finally{}}}var Qo=b0(!0),T0=b0(!1),ho=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function po(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mo(t,i,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ut&2)!==0){var S=u.pending;return S===null?i.next=i:(i.next=S.next,S.next=i),u.pending=i,i=Na(t),l0(t,null,a),i}return Ca(t,u,i,a),Na(t)}function _s(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,gl(t,a)}}function ju(t,i){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var S=null,T=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};T===null?S=T=_:T=T.next=_,a=a.next}while(a!==null);T===null?S=T=i:T=T.next=i}else S=T=i;a={baseState:u.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var qu=!1;function Rs(){if(qu){var t=_l;if(t!==null)throw t}}function Is(t,i,a,u){qu=!1;var S=t.updateQueue;ho=!1;var T=S.firstBaseUpdate,_=S.lastBaseUpdate,F=S.shared.pending;if(F!==null){S.shared.pending=null;var te=F,ue=te.next;te.next=null,_===null?T=ue:_.next=ue,_=te;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,F=ye.lastBaseUpdate,F!==_&&(F===null?ye.firstBaseUpdate=ue:F.next=ue,ye.lastBaseUpdate=te))}if(T!==null){var xe=S.baseState;_=0,ye=ue=te=null,F=T;do{var fe=F.lane&-536870913,me=fe!==F.lane;if(me?(Ze&fe)===fe:(u&fe)===fe){fe!==0&&fe===Ml&&(qu=!0),ye!==null&&(ye=ye.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ge=t,He=F;fe=i;var gt=a;switch(He.tag){case 1:if(Ge=He.payload,typeof Ge=="function"){xe=Ge.call(gt,xe,fe);break e}xe=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=He.payload,fe=typeof Ge=="function"?Ge.call(gt,xe,fe):Ge,fe==null)break e;xe=x({},xe,fe);break e;case 2:ho=!0}}fe=F.callback,fe!==null&&(t.flags|=64,me&&(t.flags|=8192),me=S.callbacks,me===null?S.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ye===null?(ue=ye=me,te=xe):ye=ye.next=me,_|=fe;if(F=F.next,F===null){if(F=S.shared.pending,F===null)break;me=F,F=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);ye===null&&(te=xe),S.baseState=te,S.firstBaseUpdate=ue,S.lastBaseUpdate=ye,T===null&&(S.shared.lanes=0),So|=_,t.lanes=_,t.memoizedState=xe}}function E0(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function w0(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)E0(a[t],i)}var kl=z(null),Ua=z(0);function C0(t,i){t=qi,ee(Ua,t),ee(kl,i),qi=t|i.baseLanes}function Yu(){ee(Ua,qi),ee(kl,kl.current)}function $u(){qi=Ua.current,$(kl),$(Ua)}var En=z(null),Hn=null;function go(t){var i=t.alternate;ee(It,It.current&1),ee(En,t),Hn===null&&(i===null||kl.current!==null||i.memoizedState!==null)&&(Hn=t)}function Ju(t){ee(It,It.current),ee(En,t),Hn===null&&(Hn=t)}function N0(t){t.tag===22?(ee(It,It.current),ee(En,t),Hn===null&&(Hn=t)):yo()}function yo(){ee(It,It.current),ee(En,En.current)}function wn(t){$(En),Hn===t&&(Hn=null),$(It)}var It=z(0);function Ga(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ef(a)||tf(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,$e=null,pt=null,Pt=null,Ba=!1,Ll=!1,Zo=!1,Oa=0,ks=0,Dl=null,Kx=0;function Mt(){throw Error(l(321))}function Xu(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function Ku(t,i,a,u,S,T){return Gi=T,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?uh:fc,Zo=!1,T=a(u,S),Zo=!1,Ll&&(T=M0(i,a,u,S)),A0(t),T}function A0(t){Y.H=Ps;var i=pt!==null&&pt.next!==null;if(Gi=0,Pt=pt=$e=null,Ba=!1,ks=0,Dl=null,i)throw Error(l(300));t===null||Ut||(t=t.dependencies,t!==null&&_a(t)&&(Ut=!0))}function M0(t,i,a,u){$e=t;var S=0;do{if(Ll&&(Dl=null),ks=0,Ll=!1,25<=S)throw Error(l(301));if(S+=1,Pt=pt=null,t.updateQueue!=null){var T=t.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=ch,T=i(a,u)}while(Ll);return T}function Wx(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Ls(i):i,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&($e.flags|=1024),i}function Wu(){var t=Oa!==0;return Oa=0,t}function Qu(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zu(t){if(Ba){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ba=!1}Gi=0,Pt=pt=$e=null,Ll=!1,ks=Oa=0,Dl=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?$e.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function kt(){if(pt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var i=Pt===null?$e.memoizedState:Pt.next;if(i!==null)Pt=i,pt=t;else{if(t===null)throw $e.alternate===null?Error(l(467)):Error(l(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Pt===null?$e.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(t){var i=ks;return ks+=1,Dl===null&&(Dl=[]),t=v0(Dl,t,i),i=$e,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?uh:fc),t}function Ha(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ls(t);if(t.$$typeof===D)return $t(t)}throw Error(l(438,String(t)))}function ec(t){var i=null,a=$e.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(S){return S.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Va(),$e.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),u=0;u<t;u++)a[u]=k;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function za(t){var i=kt();return tc(i,pt,t)}function tc(t,i,a){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=a;var S=t.baseQueue,T=u.pending;if(T!==null){if(S!==null){var _=S.next;S.next=T.next,T.next=_}i.baseQueue=S=T,u.pending=null}if(T=t.baseState,S===null)t.memoizedState=T;else{i=S.next;var F=_=null,te=null,ue=i,ye=!1;do{var xe=ue.lane&-536870913;if(xe!==ue.lane?(Ze&xe)===xe:(Gi&xe)===xe){var fe=ue.revertLane;if(fe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),xe===Ml&&(ye=!0);else if((Gi&fe)===fe){ue=ue.next,fe===Ml&&(ye=!0);continue}else xe={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},te===null?(F=te=xe,_=T):te=te.next=xe,$e.lanes|=fe,So|=fe;xe=ue.action,Zo&&a(T,xe),T=ue.hasEagerState?ue.eagerState:a(T,xe)}else fe={lane:xe,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},te===null?(F=te=fe,_=T):te=te.next=fe,$e.lanes|=xe,So|=xe;ue=ue.next}while(ue!==null&&ue!==i);if(te===null?_=T:te.next=F,!bn(T,t.memoizedState)&&(Ut=!0,ye&&(a=_l,a!==null)))throw a;t.memoizedState=T,t.baseState=_,t.baseQueue=te,u.lastRenderedState=T}return S===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function nc(t){var i=kt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var u=a.dispatch,S=a.pending,T=i.memoizedState;if(S!==null){a.pending=null;var _=S=S.next;do T=t(T,_.action),_=_.next;while(_!==S);bn(T,i.memoizedState)||(Ut=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),a.lastRenderedState=T}return[T,u]}function _0(t,i,a){var u=$e,S=kt(),T=nt;if(T){if(a===void 0)throw Error(l(407));a=a()}else a=i();var _=!bn((pt||S).memoizedState,a);if(_&&(S.memoizedState=a,Ut=!0),S=S.queue,lc(k0.bind(null,u,S,t),[t]),S.getSnapshot!==i||_||Pt!==null&&Pt.memoizedState.tag&1){if(u.flags|=2048,Pl(9,{destroy:void 0},I0.bind(null,u,S,a,i),null),vt===null)throw Error(l(349));T||(Gi&127)!==0||R0(u,i,a)}return a}function R0(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=$e.updateQueue,i===null?(i=Va(),$e.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function I0(t,i,a,u){i.value=a,i.getSnapshot=u,L0(i)&&D0(t)}function k0(t,i,a){return a(function(){L0(i)&&D0(t)})}function L0(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function D0(t){var i=jo(t,2);i!==null&&mn(i,t,2)}function ic(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Zo){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function P0(t,i,a,u){return t.baseState=a,tc(t,pt,typeof u=="function"?u:Bi)}function Qx(t,i,a,u,S){if(qa(t))throw Error(l(485));if(t=i.action,t!==null){var T={payload:S,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){T.listeners.push(_)}};Y.T!==null?a(!0):T.isTransition=!1,u(T),a=i.pending,a===null?(T.next=i.pending=T,U0(i,T)):(T.next=a.next,i.pending=a.next=T)}}function U0(t,i){var a=i.action,u=i.payload,S=t.state;if(i.isTransition){var T=Y.T,_={};Y.T=_;try{var F=a(S,u),te=Y.S;te!==null&&te(_,F),G0(t,i,F)}catch(ue){oc(t,i,ue)}finally{T!==null&&_.types!==null&&(T.types=_.types),Y.T=T}}else try{T=a(S,u),G0(t,i,T)}catch(ue){oc(t,i,ue)}}function G0(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){B0(t,i,u)},function(u){return oc(t,i,u)}):B0(t,i,a)}function B0(t,i,a){i.status="fulfilled",i.value=a,O0(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,U0(t,a)))}function oc(t,i,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,O0(i),i=i.next;while(i!==u)}t.action=null}function O0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function V0(t,i){return i}function H0(t,i){if(nt){var a=vt.formState;if(a!==null){e:{var u=$e;if(nt){if(Tt){t:{for(var S=Tt,T=Vn;S.nodeType!==8;){if(!T){S=null;break t}if(S=zn(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){Tt=zn(S.nextSibling),u=S.data==="F!";break e}}co(u)}u=!1}u&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:i},a.queue=u,a=sh.bind(null,$e,u),u.dispatch=a,u=ic(!1),T=cc.bind(null,$e,!1,u.queue),u=on(),S={state:i,dispatch:null,action:t,pending:null},u.queue=S,a=Qx.bind(null,$e,S,T,a),S.dispatch=a,u.memoizedState=t,[i,a,!1]}function z0(t){var i=kt();return F0(i,pt,t)}function F0(t,i,a){if(i=tc(t,i,V0)[0],t=za(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ls(i)}catch(_){throw _===Rl?ka:_}else u=i;i=kt();var S=i.queue,T=S.dispatch;return a!==i.memoizedState&&($e.flags|=2048,Pl(9,{destroy:void 0},Zx.bind(null,S,a),null)),[u,T,t]}function Zx(t,i){t.action=i}function j0(t){var i=kt(),a=pt;if(a!==null)return F0(i,a,t);kt(),i=i.memoizedState,a=kt();var u=a.queue.dispatch;return a.memoizedState=t,[i,u,!1]}function Pl(t,i,a,u){return t={tag:t,create:a,deps:u,inst:i,next:null},i=$e.updateQueue,i===null&&(i=Va(),$e.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,i.lastEffect=t),t}function q0(){return kt().memoizedState}function Fa(t,i,a,u){var S=on();$e.flags|=t,S.memoizedState=Pl(1|i,{destroy:void 0},a,u===void 0?null:u)}function ja(t,i,a,u){var S=kt();u=u===void 0?null:u;var T=S.memoizedState.inst;pt!==null&&u!==null&&Xu(u,pt.memoizedState.deps)?S.memoizedState=Pl(i,T,a,u):($e.flags|=t,S.memoizedState=Pl(1|i,T,a,u))}function Y0(t,i){Fa(8390656,8,t,i)}function lc(t,i){ja(2048,8,t,i)}function e1(t){$e.flags|=4;var i=$e.updateQueue;if(i===null)i=Va(),$e.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function $0(t){var i=kt().memoizedState;return e1({ref:i,nextImpl:t}),function(){if((ut&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function J0(t,i){return ja(4,2,t,i)}function X0(t,i){return ja(4,4,t,i)}function K0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function W0(t,i,a){a=a!=null?a.concat([t]):null,ja(4,4,K0.bind(null,i,t),a)}function sc(){}function Q0(t,i){var a=kt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Xu(i,u[1])?u[0]:(a.memoizedState=[t,i],t)}function Z0(t,i){var a=kt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Xu(i,u[1]))return u[0];if(u=t(),Zo){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[u,i],u}function ac(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=ep(),$e.lanes|=t,So|=t,a)}function eh(t,i,a,u){return bn(a,i)?a:kl.current!==null?(t=ac(t,a,u),bn(t,i)||(Ut=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ze&261930)===0?(Ut=!0,t.memoizedState=a):(t=ep(),$e.lanes|=t,So|=t,i)}function th(t,i,a,u,S){var T=Z.p;Z.p=T!==0&&8>T?T:8;var _=Y.T,F={};Y.T=F,cc(t,!1,i,a);try{var te=S(),ue=Y.S;if(ue!==null&&ue(F,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var ye=Xx(te,u);Ds(t,i,ye,An(t))}else Ds(t,i,u,An(t))}catch(xe){Ds(t,i,{then:function(){},status:"rejected",reason:xe},An())}finally{Z.p=T,_!==null&&F.types!==null&&(_.types=F.types),Y.T=_}}function t1(){}function rc(t,i,a,u){if(t.tag!==5)throw Error(l(476));var S=nh(t).queue;th(t,S,i,ie,a===null?t1:function(){return ih(t),a(u)})}function nh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ih(t){var i=nh(t);i.next===null&&(i=t.alternate.memoizedState),Ds(t,i.next.queue,{},An())}function uc(){return $t(Ws)}function oh(){return kt().memoizedState}function lh(){return kt().memoizedState}function n1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=po(a);var u=mo(i,t,a);u!==null&&(mn(u,i,a),_s(u,i,a)),i={cache:Bu()},t.payload=i;return}i=i.return}}function i1(t,i,a){var u=An();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qa(t)?ah(i,a):(a=Au(t,i,a,u),a!==null&&(mn(a,t,u),rh(a,i,u)))}function sh(t,i,a){var u=An();Ds(t,i,a,u)}function Ds(t,i,a,u){var S={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qa(t))ah(i,S);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var _=i.lastRenderedState,F=T(_,a);if(S.hasEagerState=!0,S.eagerState=F,bn(F,_))return Ca(t,i,S,0),vt===null&&wa(),!1}catch{}finally{}if(a=Au(t,i,S,u),a!==null)return mn(a,t,u),rh(a,i,u),!0}return!1}function cc(t,i,a,u){if(u={lane:2,revertLane:zc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qa(t)){if(i)throw Error(l(479))}else i=Au(t,a,u,2),i!==null&&mn(i,t,2)}function qa(t){var i=t.alternate;return t===$e||i!==null&&i===$e}function ah(t,i){Ll=Ba=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function rh(t,i,a){if((a&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,a|=u,i.lanes=a,gl(t,a)}}var Ps={readContext:$t,use:Ha,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Ps.useEffectEvent=Mt;var uh={readContext:$t,use:Ha,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:Y0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Fa(4194308,4,K0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Fa(4194308,4,t,i)},useInsertionEffect:function(t,i){Fa(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var u=t();if(Zo){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[u,i],u},useReducer:function(t,i,a){var u=on();if(a!==void 0){var S=a(i);if(Zo){In(!0);try{a(i)}finally{In(!1)}}}else S=i;return u.memoizedState=u.baseState=S,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:S},u.queue=t,t=t.dispatch=i1.bind(null,$e,t),[u.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=ic(t);var i=t.queue,a=sh.bind(null,$e,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sc,useDeferredValue:function(t,i){var a=on();return ac(a,t,i)},useTransition:function(){var t=ic(!1);return t=th.bind(null,$e,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var u=$e,S=on();if(nt){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),vt===null)throw Error(l(349));(Ze&127)!==0||R0(u,i,a)}S.memoizedState=a;var T={value:a,getSnapshot:i};return S.queue=T,Y0(k0.bind(null,u,T,t),[t]),u.flags|=2048,Pl(9,{destroy:void 0},I0.bind(null,u,T,a,i),null),a},useId:function(){var t=on(),i=vt.identifierPrefix;if(nt){var a=Si,u=xi;a=(u&~(1<<32-qt(u)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Oa++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Kx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:uc,useFormState:H0,useActionState:H0,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cc.bind(null,$e,!0,a),a.dispatch=i,[t,i]},useMemoCache:ec,useCacheRefresh:function(){return on().memoizedState=n1.bind(null,$e)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((ut&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},fc={readContext:$t,use:Ha,useCallback:Q0,useContext:$t,useEffect:lc,useImperativeHandle:W0,useInsertionEffect:J0,useLayoutEffect:X0,useMemo:Z0,useReducer:za,useRef:q0,useState:function(){return za(Bi)},useDebugValue:sc,useDeferredValue:function(t,i){var a=kt();return eh(a,pt.memoizedState,t,i)},useTransition:function(){var t=za(Bi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:Ls(t),i]},useSyncExternalStore:_0,useId:oh,useHostTransitionStatus:uc,useFormState:z0,useActionState:z0,useOptimistic:function(t,i){var a=kt();return P0(a,pt,t,i)},useMemoCache:ec,useCacheRefresh:lh};fc.useEffectEvent=$0;var ch={readContext:$t,use:Ha,useCallback:Q0,useContext:$t,useEffect:lc,useImperativeHandle:W0,useInsertionEffect:J0,useLayoutEffect:X0,useMemo:Z0,useReducer:nc,useRef:q0,useState:function(){return nc(Bi)},useDebugValue:sc,useDeferredValue:function(t,i){var a=kt();return pt===null?ac(a,t,i):eh(a,pt.memoizedState,t,i)},useTransition:function(){var t=nc(Bi)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:Ls(t),i]},useSyncExternalStore:_0,useId:oh,useHostTransitionStatus:uc,useFormState:j0,useActionState:j0,useOptimistic:function(t,i){var a=kt();return pt!==null?P0(a,pt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ec,useCacheRefresh:lh};ch.useEffectEvent=$0;function dc(t,i,a,u){i=t.memoizedState,a=a(u,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hc={enqueueSetState:function(t,i,a){t=t._reactInternals;var u=An(),S=po(u);S.payload=i,a!=null&&(S.callback=a),i=mo(t,S,u),i!==null&&(mn(i,t,u),_s(i,t,u))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var u=An(),S=po(u);S.tag=1,S.payload=i,a!=null&&(S.callback=a),i=mo(t,S,u),i!==null&&(mn(i,t,u),_s(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),u=po(a);u.tag=2,i!=null&&(u.callback=i),i=mo(t,u,a),i!==null&&(mn(i,t,a),_s(i,t,a))}};function fh(t,i,a,u,S,T,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,T,_):i.prototype&&i.prototype.isPureReactComponent?!bs(a,u)||!bs(S,T):!0}function dh(t,i,a,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==t&&hc.enqueueReplaceState(i,i.state,null)}function el(t,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var S in t)a[S]===void 0&&(a[S]=t[S])}return a}function hh(t){Ea(t)}function ph(t){console.error(t)}function mh(t){Ea(t)}function Ya(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function gh(t,i,a){try{var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function pc(t,i,a){return a=po(a),a.tag=3,a.payload={element:null},a.callback=function(){Ya(t,i)},a}function yh(t){return t=po(t),t.tag=3,t}function vh(t,i,a,u){var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var T=u.value;t.payload=function(){return S(T)},t.callback=function(){gh(i,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){gh(i,a,u),typeof S!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})})}function o1(t,i,a,u,S){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Al(i,a,S,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?or():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=S,u===La?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Oc(t,u,S)),!1;case 22:return a.flags|=65536,u===La?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Oc(t,u,S)),!1}throw Error(l(435,a.tag))}return Oc(t,u,S),or(),!1}if(nt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=S,u!==Lu&&(t=Error(l(422),{cause:u}),ws(Gn(t,a)))):(u!==Lu&&(i=Error(l(423),{cause:u}),ws(Gn(i,a))),t=t.current.alternate,t.flags|=65536,S&=-S,t.lanes|=S,u=Gn(u,a),S=pc(t.stateNode,u,S),ju(t,S),_t!==4&&(_t=2)),!1;var T=Error(l(520),{cause:u});if(T=Gn(T,a),Fs===null?Fs=[T]:Fs.push(T),_t!==4&&(_t=2),i===null)return!0;u=Gn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=S&-S,a.lanes|=t,t=pc(a.stateNode,u,t),ju(a,t),!1;case 1:if(i=a.type,T=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(bo===null||!bo.has(T))))return a.flags|=65536,S&=-S,a.lanes|=S,S=yh(S),vh(S,t,a,u),ju(a,S),!1}a=a.return}while(a!==null);return!1}var mc=Error(l(461)),Ut=!1;function Jt(t,i,a,u){i.child=t===null?T0(i,null,a,u):Qo(i,t.child,a,u)}function xh(t,i,a,u,S){a=a.render;var T=i.ref;if("ref"in u){var _={};for(var F in u)F!=="ref"&&(_[F]=u[F])}else _=u;return Jo(i),u=Ku(t,i,a,_,T,S),F=Wu(),t!==null&&!Ut?(Qu(t,i,S),Oi(t,i,S)):(nt&&F&&Iu(i),i.flags|=1,Jt(t,i,u,S),i.child)}function Sh(t,i,a,u,S){if(t===null){var T=a.type;return typeof T=="function"&&!Mu(T)&&T.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=T,bh(t,i,T,u,S)):(t=Aa(a.type,null,u,i,i.mode,S),t.ref=i.ref,t.return=i,i.child=t)}if(T=t.child,!Ec(t,S)){var _=T.memoizedProps;if(a=a.compare,a=a!==null?a:bs,a(_,u)&&t.ref===i.ref)return Oi(t,i,S)}return i.flags|=1,t=Li(T,u),t.ref=i.ref,t.return=i,i.child=t}function bh(t,i,a,u,S){if(t!==null){var T=t.memoizedProps;if(bs(T,u)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=u=T,Ec(t,S))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Oi(t,i,S)}return gc(t,i,a,u,S)}function Th(t,i,a,u){var S=u.children,T=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(T=T!==null?T.baseLanes|a:a,t!==null){for(u=i.child=t.child,S=0;u!==null;)S=S|u.lanes|u.childLanes,u=u.sibling;u=S&~T}else u=0,i.child=null;return Eh(t,i,T,a,u)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ia(i,T!==null?T.cachePool:null),T!==null?C0(i,T):Yu(),N0(i);else return u=i.lanes=536870912,Eh(t,i,T!==null?T.baseLanes|a:a,a,u)}else T!==null?(Ia(i,T.cachePool),C0(i,T),yo(),i.memoizedState=null):(t!==null&&Ia(i,null),Yu(),yo());return Jt(t,i,S,a),i.child}function Us(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Eh(t,i,a,u,S){var T=Vu();return T=T===null?null:{parent:Dt._currentValue,pool:T},i.memoizedState={baseLanes:a,cachePool:T},t!==null&&Ia(i,null),Yu(),N0(i),t!==null&&Al(t,i,u,!0),i.childLanes=S,null}function $a(t,i){return i=Xa({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function wh(t,i,a){return Qo(i,t.child,null,a),t=$a(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function l1(t,i,a){var u=i.pendingProps,S=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(nt){if(u.mode==="hidden")return t=$a(i,u),i.lanes=536870912,Us(null,t);if(Ju(i),(t=Tt)?(t=Up(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ro!==null?{id:xi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=a0(t),a.return=i,i.child=a,Yt=i,Tt=null)):t=null,t===null)throw co(i);return i.lanes=536870912,null}return $a(i,u)}var T=t.memoizedState;if(T!==null){var _=T.dehydrated;if(Ju(i),S)if(i.flags&256)i.flags&=-257,i=wh(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(Ut||Al(t,i,a,!1),S=(a&t.childLanes)!==0,Ut||S){if(u=vt,u!==null&&(_=Go(u,a),_!==0&&_!==T.retryLane))throw T.retryLane=_,jo(t,_),mn(u,t,_),mc;or(),i=wh(t,i,a)}else t=T.treeContext,Tt=zn(_.nextSibling),Yt=i,nt=!0,uo=null,Vn=!1,t!==null&&c0(i,t),i=$a(i,u),i.flags|=4096;return i}return t=Li(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ja(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gc(t,i,a,u,S){return Jo(i),a=Ku(t,i,a,u,void 0,S),u=Wu(),t!==null&&!Ut?(Qu(t,i,S),Oi(t,i,S)):(nt&&u&&Iu(i),i.flags|=1,Jt(t,i,a,S),i.child)}function Ch(t,i,a,u,S,T){return Jo(i),i.updateQueue=null,a=M0(i,u,a,S),A0(t),u=Wu(),t!==null&&!Ut?(Qu(t,i,T),Oi(t,i,T)):(nt&&u&&Iu(i),i.flags|=1,Jt(t,i,a,T),i.child)}function Nh(t,i,a,u,S){if(Jo(i),i.stateNode===null){var T=El,_=a.contextType;typeof _=="object"&&_!==null&&(T=$t(_)),T=new a(u,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=hc,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=u,T.state=i.memoizedState,T.refs={},zu(i),_=a.contextType,T.context=typeof _=="object"&&_!==null?$t(_):El,T.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dc(i,a,_,u),T.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(_=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),_!==T.state&&hc.enqueueReplaceState(T,T.state,null),Is(i,u,T,S),Rs(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){T=i.stateNode;var F=i.memoizedProps,te=el(a,F);T.props=te;var ue=T.context,ye=a.contextType;_=El,typeof ye=="object"&&ye!==null&&(_=$t(ye));var xe=a.getDerivedStateFromProps;ye=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,ye||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F||ue!==_)&&dh(i,T,u,_),ho=!1;var fe=i.memoizedState;T.state=fe,Is(i,u,T,S),Rs(),ue=i.memoizedState,F||fe!==ue||ho?(typeof xe=="function"&&(dc(i,a,xe,u),ue=i.memoizedState),(te=ho||fh(i,a,te,u,fe,ue,_))?(ye||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ue),T.props=u,T.state=ue,T.context=_,u=te):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{T=i.stateNode,Fu(t,i),_=i.memoizedProps,ye=el(a,_),T.props=ye,xe=i.pendingProps,fe=T.context,ue=a.contextType,te=El,typeof ue=="object"&&ue!==null&&(te=$t(ue)),F=a.getDerivedStateFromProps,(ue=typeof F=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==xe||fe!==te)&&dh(i,T,u,te),ho=!1,fe=i.memoizedState,T.state=fe,Is(i,u,T,S),Rs();var me=i.memoizedState;_!==xe||fe!==me||ho||t!==null&&t.dependencies!==null&&_a(t.dependencies)?(typeof F=="function"&&(dc(i,a,F,u),me=i.memoizedState),(ye=ho||fh(i,a,ye,u,fe,me,te)||t!==null&&t.dependencies!==null&&_a(t.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(u,me,te),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(u,me,te)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=me),T.props=u,T.state=me,T.context=te,u=ye):(typeof T.componentDidUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&fe===t.memoizedState||(i.flags|=1024),u=!1)}return T=u,Ja(t,i),u=(i.flags&128)!==0,T||u?(T=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,t!==null&&u?(i.child=Qo(i,t.child,null,S),i.child=Qo(i,null,a,S)):Jt(t,i,a,S),i.memoizedState=T.state,t=i.child):t=Oi(t,i,S),t}function Ah(t,i,a,u){return Yo(),i.flags|=256,Jt(t,i,a,u),i.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vc(t){return{baseLanes:t,cachePool:g0()}}function xc(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function Mh(t,i,a){var u=i.pendingProps,S=!1,T=(i.flags&128)!==0,_;if((_=T)||(_=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),_&&(S=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(S?go(i):yo(),(t=Tt)?(t=Up(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ro!==null?{id:xi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=a0(t),a.return=i,i.child=a,Yt=i,Tt=null)):t=null,t===null)throw co(i);return tf(t)?i.lanes=32:i.lanes=536870912,null}var F=u.children;return u=u.fallback,S?(yo(),S=i.mode,F=Xa({mode:"hidden",children:F},S),u=qo(u,S,a,null),F.return=i,u.return=i,F.sibling=u,i.child=F,u=i.child,u.memoizedState=vc(a),u.childLanes=xc(t,_,a),i.memoizedState=yc,Us(null,u)):(go(i),Sc(i,F))}var te=t.memoizedState;if(te!==null&&(F=te.dehydrated,F!==null)){if(T)i.flags&256?(go(i),i.flags&=-257,i=bc(t,i,a)):i.memoizedState!==null?(yo(),i.child=t.child,i.flags|=128,i=null):(yo(),F=u.fallback,S=i.mode,u=Xa({mode:"visible",children:u.children},S),F=qo(F,S,a,null),F.flags|=2,u.return=i,F.return=i,u.sibling=F,i.child=u,Qo(i,t.child,null,a),u=i.child,u.memoizedState=vc(a),u.childLanes=xc(t,_,a),i.memoizedState=yc,i=Us(null,u));else if(go(i),tf(F)){if(_=F.nextSibling&&F.nextSibling.dataset,_)var ue=_.dgst;_=ue,u=Error(l(419)),u.stack="",u.digest=_,ws({value:u,source:null,stack:null}),i=bc(t,i,a)}else if(Ut||Al(t,i,a,!1),_=(a&t.childLanes)!==0,Ut||_){if(_=vt,_!==null&&(u=Go(_,a),u!==0&&u!==te.retryLane))throw te.retryLane=u,jo(t,u),mn(_,t,u),mc;ef(F)||or(),i=bc(t,i,a)}else ef(F)?(i.flags|=192,i.child=t.child,i=null):(t=te.treeContext,Tt=zn(F.nextSibling),Yt=i,nt=!0,uo=null,Vn=!1,t!==null&&c0(i,t),i=Sc(i,u.children),i.flags|=4096);return i}return S?(yo(),F=u.fallback,S=i.mode,te=t.child,ue=te.sibling,u=Li(te,{mode:"hidden",children:u.children}),u.subtreeFlags=te.subtreeFlags&65011712,ue!==null?F=Li(ue,F):(F=qo(F,S,a,null),F.flags|=2),F.return=i,u.return=i,u.sibling=F,i.child=u,Us(null,u),u=i.child,F=t.child.memoizedState,F===null?F=vc(a):(S=F.cachePool,S!==null?(te=Dt._currentValue,S=S.parent!==te?{parent:te,pool:te}:S):S=g0(),F={baseLanes:F.baseLanes|a,cachePool:S}),u.memoizedState=F,u.childLanes=xc(t,_,a),i.memoizedState=yc,Us(t.child,u)):(go(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sc(t,i){return i=Xa({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Xa(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function bc(t,i,a){return Qo(i,t.child,null,a),t=Sc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _h(t,i,a){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Uu(t.return,i,a)}function Tc(t,i,a,u,S,T){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:S,treeForkCount:T}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=a,_.tailMode=S,_.treeForkCount=T)}function Rh(t,i,a){var u=i.pendingProps,S=u.revealOrder,T=u.tail;u=u.children;var _=It.current,F=(_&2)!==0;if(F?(_=_&1|2,i.flags|=128):_&=1,ee(It,_),Jt(t,i,u,a),u=nt?Es:0,!F&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_h(t,a,i);else if(t.tag===19)_h(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(S){case"forwards":for(a=i.child,S=null;a!==null;)t=a.alternate,t!==null&&Ga(t)===null&&(S=a),a=a.sibling;a=S,a===null?(S=i.child,i.child=null):(S=a.sibling,a.sibling=null),Tc(i,!1,S,a,T,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,S=i.child,i.child=null;S!==null;){if(t=S.alternate,t!==null&&Ga(t)===null){i.child=S;break}t=S.sibling,S.sibling=a,a=S,S=t}Tc(i,!0,a,null,T,u);break;case"together":Tc(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Oi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),So|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Al(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ec(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_a(t)))}function s1(t,i,a){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),fo(i,Dt,t.memoizedState.cache),Yo();break;case 27:case 5:Ue(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:fo(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ju(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(go(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Mh(t,i,a):(go(i),t=Oi(t,i,a),t!==null?t.sibling:null);go(i);break;case 19:var S=(t.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Al(t,i,a,!1),u=(a&i.childLanes)!==0),S){if(u)return Rh(t,i,a);i.flags|=128}if(S=i.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ee(It,It.current),u)break;return null;case 22:return i.lanes=0,Th(t,i,a,i.pendingProps);case 24:fo(i,Dt,t.memoizedState.cache)}return Oi(t,i,a)}function Ih(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Ec(t,a)&&(i.flags&128)===0)return Ut=!1,s1(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,nt&&(i.flags&1048576)!==0&&u0(i,Es,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Ko(i.elementType),i.type=t,typeof t=="function")Mu(t)?(u=el(t,u),i.tag=1,i=Nh(null,i,t,u,a)):(i.tag=0,i=gc(null,i,t,u,a));else{if(t!=null){var S=t.$$typeof;if(S===V){i.tag=11,i=xh(null,i,t,u,a);break e}else if(S===L){i.tag=14,i=Sh(null,i,t,u,a);break e}}throw i=K(t)||t,Error(l(306,i,""))}}return i;case 0:return gc(t,i,i.type,i.pendingProps,a);case 1:return u=i.type,S=el(u,i.pendingProps),Nh(t,i,u,S,a);case 3:e:{if(ge(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var T=i.memoizedState;S=T.element,Fu(t,i),Is(i,u,null,a);var _=i.memoizedState;if(u=_.cache,fo(i,Dt,u),u!==T.cache&&Gu(i,[Dt],a,!0),Rs(),u=_.element,T.isDehydrated)if(T={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=Ah(t,i,u,a);break e}else if(u!==S){S=Gn(Error(l(424)),i),ws(S),i=Ah(t,i,u,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=zn(t.firstChild),Yt=i,nt=!0,uo=null,Vn=!0,a=T0(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),u===S){i=Oi(t,i,a);break e}Jt(t,i,u,a)}i=i.child}return i;case 26:return Ja(t,i),t===null?(a=zp(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,t=i.pendingProps,u=fr(ce.current).createElement(a),u[N]=i,u[O]=t,Xt(u,a,t),tt(u),i.stateNode=u):i.memoizedState=zp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ue(i),t===null&&nt&&(u=i.stateNode=Op(i.type,i.pendingProps,ce.current),Yt=i,Vn=!0,S=Tt,Co(i.type)?(nf=S,Tt=zn(u.firstChild)):Tt=S),Jt(t,i,i.pendingProps.children,a),Ja(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&nt&&((S=u=Tt)&&(u=U1(u,i.type,i.pendingProps,Vn),u!==null?(i.stateNode=u,Yt=i,Tt=zn(u.firstChild),Vn=!1,S=!0):S=!1),S||co(i)),Ue(i),S=i.type,T=i.pendingProps,_=t!==null?t.memoizedProps:null,u=T.children,Wc(S,T)?u=null:_!==null&&Wc(S,_)&&(i.flags|=32),i.memoizedState!==null&&(S=Ku(t,i,Wx,null,null,a),Ws._currentValue=S),Ja(t,i),Jt(t,i,u,a),i.child;case 6:return t===null&&nt&&((t=a=Tt)&&(a=G1(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,Yt=i,Tt=null,t=!0):t=!1),t||co(i)),null;case 13:return Mh(t,i,a);case 4:return ge(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Qo(i,null,u,a):Jt(t,i,u,a),i.child;case 11:return xh(t,i,i.type,i.pendingProps,a);case 7:return Jt(t,i,i.pendingProps,a),i.child;case 8:return Jt(t,i,i.pendingProps.children,a),i.child;case 12:return Jt(t,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,fo(i,i.type,u.value),Jt(t,i,u.children,a),i.child;case 9:return S=i.type._context,u=i.pendingProps.children,Jo(i),S=$t(S),u=u(S),i.flags|=1,Jt(t,i,u,a),i.child;case 14:return Sh(t,i,i.type,i.pendingProps,a);case 15:return bh(t,i,i.type,i.pendingProps,a);case 19:return Rh(t,i,a);case 31:return l1(t,i,a);case 22:return Th(t,i,a,i.pendingProps);case 24:return Jo(i),u=$t(Dt),t===null?(S=Vu(),S===null&&(S=vt,T=Bu(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=a),S=T),i.memoizedState={parent:u,cache:S},zu(i),fo(i,Dt,S)):((t.lanes&a)!==0&&(Fu(t,i),Is(i,null,null,a),Rs()),S=t.memoizedState,T=i.memoizedState,S.parent!==u?(S={parent:u,cache:u},i.memoizedState=S,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=S),fo(i,Dt,u)):(u=T.cache,fo(i,Dt,u),u!==S.cache&&Gu(i,[Dt],a,!0))),Jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Vi(t){t.flags|=4}function wc(t,i,a,u,S){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(S&335544128)===S)if(t.stateNode.complete)t.flags|=8192;else if(op())t.flags|=8192;else throw Wo=La,Hu}else t.flags&=-16777217}function kh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$p(i))if(op())t.flags|=8192;else throw Wo=La,Hu}function Ka(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pl():536870912,t.lanes|=i,Ol|=i)}function Gs(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(i)for(var S=t.child;S!==null;)a|=S.lanes|S.childLanes,u|=S.subtreeFlags&65011712,u|=S.flags&65011712,S.return=t,S=S.sibling;else for(S=t.child;S!==null;)a|=S.lanes|S.childLanes,u|=S.subtreeFlags,u|=S.flags,S.return=t,S=S.sibling;return t.subtreeFlags|=u,t.childLanes=a,i}function a1(t,i,a){var u=i.pendingProps;switch(ku(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Et(i),null;case 3:return a=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ui(Dt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Nl(i)?Vi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Du())),Et(i),null;case 26:var S=i.type,T=i.memoizedState;return t===null?(Vi(i),T!==null?(Et(i),kh(i,T)):(Et(i),wc(i,S,null,u,a))):T?T!==t.memoizedState?(Vi(i),Et(i),kh(i,T)):(Et(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&Vi(i),Et(i),wc(i,S,t,u,a)),null;case 27:if(_e(i),a=ce.current,S=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Et(i),null}t=he.current,Nl(i)?f0(i):(t=Op(S,u,a),i.stateNode=t,Vi(i))}return Et(i),null;case 5:if(_e(i),S=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Et(i),null}if(T=he.current,Nl(i))f0(i);else{var _=fr(ce.current);switch(T){case 1:T=_.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:T=_.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":T=_.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":T=_.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":T=_.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?T.multiple=!0:u.size&&(T.size=u.size);break;default:T=typeof u.is=="string"?_.createElement(S,{is:u.is}):_.createElement(S)}}T[N]=i,T[O]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)T.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=T;e:switch(Xt(T,S,u),S){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Vi(i)}}return Et(i),wc(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=ce.current,Nl(i)){if(t=i.stateNode,a=i.memoizedProps,u=null,S=Yt,S!==null)switch(S.tag){case 27:case 5:u=S.memoizedProps}t[N]=i,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Mp(t.nodeValue,a)),t||co(i,!0)}else t=fr(t).createTextNode(u),t[N]=i,i.stateNode=t}return Et(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(u=Nl(i),a!==null){if(t===null){if(!u)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[N]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),t=!1}else a=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Et(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(S=Nl(i),u!==null&&u.dehydrated!==null){if(t===null){if(!S)throw Error(l(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(l(317));S[N]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Et(i),S=!1}else S=Du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=S),S=!0;if(!S)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=i.child,S=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(S=u.alternate.memoizedState.cachePool.pool),T=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(T=u.memoizedState.cachePool.pool),T!==S&&(u.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ka(i,i.updateQueue),Et(i),null);case 4:return we(),t===null&&Yc(i.stateNode.containerInfo),Et(i),null;case 10:return Ui(i.type),Et(i),null;case 19:if($(It),u=i.memoizedState,u===null)return Et(i),null;if(S=(i.flags&128)!==0,T=u.rendering,T===null)if(S)Gs(u,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(T=Ga(t),T!==null){for(i.flags|=128,Gs(u,!1),t=T.updateQueue,i.updateQueue=t,Ka(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)s0(a,t),a=a.sibling;return ee(It,It.current&1|2),nt&&Di(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&Rt()>tr&&(i.flags|=128,S=!0,Gs(u,!1),i.lanes=4194304)}else{if(!S)if(t=Ga(T),t!==null){if(i.flags|=128,S=!0,t=t.updateQueue,i.updateQueue=t,Ka(i,t),Gs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!T.alternate&&!nt)return Et(i),null}else 2*Rt()-u.renderingStartTime>tr&&a!==536870912&&(i.flags|=128,S=!0,Gs(u,!1),i.lanes=4194304);u.isBackwards?(T.sibling=i.child,i.child=T):(t=u.last,t!==null?t.sibling=T:i.child=T,u.last=T)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Rt(),t.sibling=null,a=It.current,ee(It,S?a&1|2:a&1),nt&&Di(i,u.treeForkCount),t):(Et(i),null);case 22:case 23:return wn(i),$u(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Et(i),i.subtreeFlags&6&&(i.flags|=8192)):Et(i),a=i.updateQueue,a!==null&&Ka(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),t!==null&&$(Xo),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(Dt),Et(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function r1(t,i){switch(ku(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(Dt),we(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _e(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(l(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(It),null;case 4:return we(),null;case 10:return Ui(i.type),null;case 22:case 23:return wn(i),$u(),t!==null&&$(Xo),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(Dt),null;case 25:return null;default:return null}}function Lh(t,i){switch(ku(i),i.tag){case 3:Ui(Dt),we();break;case 26:case 27:case 5:_e(i);break;case 4:we();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:$(It);break;case 10:Ui(i.type);break;case 22:case 23:wn(i),$u(),t!==null&&$(Xo);break;case 24:Ui(Dt)}}function Bs(t,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var S=u.next;a=S;do{if((a.tag&t)===t){u=void 0;var T=a.create,_=a.inst;u=T(),_.destroy=u}a=a.next}while(a!==S)}}catch(F){ht(i,i.return,F)}}function vo(t,i,a){try{var u=i.updateQueue,S=u!==null?u.lastEffect:null;if(S!==null){var T=S.next;u=T;do{if((u.tag&t)===t){var _=u.inst,F=_.destroy;if(F!==void 0){_.destroy=void 0,S=i;var te=a,ue=F;try{ue()}catch(ye){ht(S,te,ye)}}}u=u.next}while(u!==T)}}catch(ye){ht(i,i.return,ye)}}function Dh(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{w0(i,a)}catch(u){ht(t,t.return,u)}}}function Ph(t,i,a){a.props=el(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(u){ht(t,i,u)}}function Os(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(S){ht(t,i,S)}}function bi(t,i){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(S){ht(t,i,S)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(S){ht(t,i,S)}else a.current=null}function Uh(t){var i=t.type,a=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(S){ht(t,t.return,S)}}function Cc(t,i,a){try{var u=t.stateNode;R1(u,t.type,a,i),u[O]=i}catch(S){ht(t,t.return,S)}}function Gh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Co(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Co(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ac(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(u!==4&&(u===27&&Co(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function Wa(t,i,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(u!==4&&(u===27&&Co(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wa(t,i,a),t=t.sibling;t!==null;)Wa(t,i,a),t=t.sibling}function Bh(t){var i=t.stateNode,a=t.memoizedProps;try{for(var u=t.type,S=i.attributes;S.length;)i.removeAttributeNode(S[0]);Xt(i,u,a),i[N]=t,i[O]=a}catch(T){ht(t,t.return,T)}}var Hi=!1,Gt=!1,Mc=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,zt=null;function u1(t,i){if(t=t.containerInfo,Xc=vr,t=Wd(t),bu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var S=u.anchorOffset,T=u.focusNode;u=u.focusOffset;try{a.nodeType,T.nodeType}catch{a=null;break e}var _=0,F=-1,te=-1,ue=0,ye=0,xe=t,fe=null;t:for(;;){for(var me;xe!==a||S!==0&&xe.nodeType!==3||(F=_+S),xe!==T||u!==0&&xe.nodeType!==3||(te=_+u),xe.nodeType===3&&(_+=xe.nodeValue.length),(me=xe.firstChild)!==null;)fe=xe,xe=me;for(;;){if(xe===t)break t;if(fe===a&&++ue===S&&(F=_),fe===T&&++ye===u&&(te=_),(me=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=me}a=F===-1||te===-1?null:{start:F,end:te}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kc={focusedElem:t,selectionRange:a},vr=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,T=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)S=t[a],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&T!==null){t=void 0,a=i,S=T.memoizedProps,T=T.memoizedState,u=a.stateNode;try{var Ge=el(a.type,S);t=u.getSnapshotBeforeUpdate(Ge,T),u.__reactInternalSnapshotBeforeUpdate=t}catch(He){ht(a,a.return,He)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function Vh(t,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),u&4&&Bs(5,a);break;case 1:if(Fi(t,a),u&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){ht(a,a.return,_)}else{var S=el(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(S,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ht(a,a.return,_)}}u&64&&Dh(a),u&512&&Os(a,a.return);break;case 3:if(Fi(t,a),u&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{w0(t,i)}catch(_){ht(a,a.return,_)}}break;case 27:i===null&&u&4&&Bh(a);case 26:case 5:Fi(t,a),i===null&&u&4&&Uh(a),u&512&&Os(a,a.return);break;case 12:Fi(t,a);break;case 31:Fi(t,a),u&4&&Fh(t,a);break;case 13:Fi(t,a),u&4&&jh(t,a),u&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v1.bind(null,a),B1(t,a))));break;case 22:if(u=a.memoizedState!==null||Hi,!u){i=i!==null&&i.memoizedState!==null||Gt,S=Hi;var T=Gt;Hi=u,(Gt=i)&&!T?ji(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Hi=S,Gt=T}break;case 30:break;default:Fi(t,a)}}function Hh(t){var i=t.alternate;i!==null&&(t.alternate=null,Hh(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ee(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,fn=!1;function zi(t,i,a){for(a=a.child;a!==null;)zh(t,i,a),a=a.sibling}function zh(t,i,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Bt,a)}catch{}switch(a.tag){case 26:Gt||bi(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Gt||bi(a,i);var u=wt,S=fn;Co(a.type)&&(wt=a.stateNode,fn=!1),zi(t,i,a),Js(a.stateNode),wt=u,fn=S;break;case 5:Gt||bi(a,i);case 6:if(u=wt,S=fn,wt=null,zi(t,i,a),wt=u,fn=S,wt!==null)if(fn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(a.stateNode)}catch(T){ht(a,i,T)}else try{wt.removeChild(a.stateNode)}catch(T){ht(a,i,T)}break;case 18:wt!==null&&(fn?(t=wt,Dp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$l(t)):Dp(wt,a.stateNode));break;case 4:u=wt,S=fn,wt=a.stateNode.containerInfo,fn=!0,zi(t,i,a),wt=u,fn=S;break;case 0:case 11:case 14:case 15:vo(2,a,i),Gt||vo(4,a,i),zi(t,i,a);break;case 1:Gt||(bi(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ph(a,i,u)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:Gt=(u=Gt)||a.memoizedState!==null,zi(t,i,a),Gt=u;break;default:zi(t,i,a)}}function Fh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$l(t)}catch(a){ht(i,i.return,a)}}}function jh(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$l(t)}catch(a){ht(i,i.return,a)}}function c1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Oh),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Oh),i;default:throw Error(l(435,t.tag))}}function Qa(t,i){var a=c1(t);i.forEach(function(u){if(!a.has(u)){a.add(u);var S=x1.bind(null,t,u);u.then(S,S)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var S=a[u],T=t,_=i,F=_;e:for(;F!==null;){switch(F.tag){case 27:if(Co(F.type)){wt=F.stateNode,fn=!1;break e}break;case 5:wt=F.stateNode,fn=!1;break e;case 3:case 4:wt=F.stateNode.containerInfo,fn=!0;break e}F=F.return}if(wt===null)throw Error(l(160));zh(T,_,S),wt=null,fn=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)qh(i,t),i=i.sibling}var li=null;function qh(t,i){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),hn(t),u&4&&(vo(3,t,t.return),Bs(3,t),vo(5,t,t.return));break;case 1:dn(i,t),hn(t),u&512&&(Gt||a===null||bi(a,a.return)),u&64&&Hi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var S=li;if(dn(i,t),hn(t),u&512&&(Gt||a===null||bi(a,a.return)),u&4){var T=a!==null?a.memoizedState:null;if(u=t.memoizedState,a===null)if(u===null)if(t.stateNode===null){e:{u=t.type,a=t.memoizedProps,S=S.ownerDocument||S;t:switch(u){case"title":T=S.getElementsByTagName("title")[0],(!T||T[le]||T[N]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(u),S.head.insertBefore(T,S.querySelector("head > title"))),Xt(T,u,a),T[N]=t,tt(T),u=T;break e;case"link":var _=qp("link","href",S).get(u+(a.href||""));if(_){for(var F=0;F<_.length;F++)if(T=_[F],T.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&T.getAttribute("rel")===(a.rel==null?null:a.rel)&&T.getAttribute("title")===(a.title==null?null:a.title)&&T.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(F,1);break t}}T=S.createElement(u),Xt(T,u,a),S.head.appendChild(T);break;case"meta":if(_=qp("meta","content",S).get(u+(a.content||""))){for(F=0;F<_.length;F++)if(T=_[F],T.getAttribute("content")===(a.content==null?null:""+a.content)&&T.getAttribute("name")===(a.name==null?null:a.name)&&T.getAttribute("property")===(a.property==null?null:a.property)&&T.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&T.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(F,1);break t}}T=S.createElement(u),Xt(T,u,a),S.head.appendChild(T);break;default:throw Error(l(468,u))}T[N]=t,tt(T),u=T}t.stateNode=u}else Yp(S,t.type,t.stateNode);else t.stateNode=jp(S,u,t.memoizedProps);else T!==u?(T===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):T.count--,u===null?Yp(S,t.type,t.stateNode):jp(S,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Cc(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),hn(t),u&512&&(Gt||a===null||bi(a,a.return)),a!==null&&u&4&&Cc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),hn(t),u&512&&(Gt||a===null||bi(a,a.return)),t.flags&32){S=t.stateNode;try{Qt(S,"")}catch(Ge){ht(t,t.return,Ge)}}u&4&&t.stateNode!=null&&(S=t.memoizedProps,Cc(t,S,a!==null?a.memoizedProps:S)),u&1024&&(Mc=!0);break;case 6:if(dn(i,t),hn(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,a=t.stateNode;try{a.nodeValue=u}catch(Ge){ht(t,t.return,Ge)}}break;case 3:if(pr=null,S=li,li=dr(i.containerInfo),dn(i,t),li=S,hn(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch(Ge){ht(t,t.return,Ge)}Mc&&(Mc=!1,Yh(t));break;case 4:u=li,li=dr(t.stateNode.containerInfo),dn(i,t),hn(t),li=u;break;case 12:dn(i,t),hn(t);break;case 31:dn(i,t),hn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qa(t,u)));break;case 13:dn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(er=Rt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qa(t,u)));break;case 22:S=t.memoizedState!==null;var te=a!==null&&a.memoizedState!==null,ue=Hi,ye=Gt;if(Hi=ue||S,Gt=ye||te,dn(i,t),Gt=ye,Hi=ue,hn(t),u&8192)e:for(i=t.stateNode,i._visibility=S?i._visibility&-2:i._visibility|1,S&&(a===null||te||Hi||Gt||tl(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){te=a=i;try{if(T=te.stateNode,S)_=T.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{F=te.stateNode;var xe=te.memoizedProps.style,fe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;F.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ge){ht(te,te.return,Ge)}}}else if(i.tag===6){if(a===null){te=i;try{te.stateNode.nodeValue=S?"":te.memoizedProps}catch(Ge){ht(te,te.return,Ge)}}}else if(i.tag===18){if(a===null){te=i;try{var me=te.stateNode;S?Pp(me,!0):Pp(te.stateNode,!1)}catch(Ge){ht(te,te.return,Ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Qa(t,a))));break;case 19:dn(i,t),hn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qa(t,u)));break;case 30:break;case 21:break;default:dn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,u=t.return;u!==null;){if(Gh(u)){a=u;break}u=u.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var S=a.stateNode,T=Nc(t);Wa(t,T,S);break;case 5:var _=a.stateNode;a.flags&32&&(Qt(_,""),a.flags&=-33);var F=Nc(t);Wa(t,F,_);break;case 3:case 4:var te=a.stateNode.containerInfo,ue=Nc(t);Ac(t,ue,te);break;default:throw Error(l(161))}}catch(ye){ht(t,t.return,ye)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vh(t,i.alternate,i),i=i.sibling}function tl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vo(4,i,i.return),tl(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ph(i,i.return,a),tl(i);break;case 27:Js(i.stateNode);case 26:case 5:bi(i,i.return),tl(i);break;case 22:i.memoizedState===null&&tl(i);break;case 30:tl(i);break;default:tl(i)}t=t.sibling}}function ji(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,S=t,T=i,_=T.flags;switch(T.tag){case 0:case 11:case 15:ji(S,T,a),Bs(4,T);break;case 1:if(ji(S,T,a),u=T,S=u.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ue){ht(u,u.return,ue)}if(u=T,S=u.updateQueue,S!==null){var F=u.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)E0(te[S],F)}catch(ue){ht(u,u.return,ue)}}a&&_&64&&Dh(T),Os(T,T.return);break;case 27:Bh(T);case 26:case 5:ji(S,T,a),a&&u===null&&_&4&&Uh(T),Os(T,T.return);break;case 12:ji(S,T,a);break;case 31:ji(S,T,a),a&&_&4&&Fh(S,T);break;case 13:ji(S,T,a),a&&_&4&&jh(S,T);break;case 22:T.memoizedState===null&&ji(S,T,a),Os(T,T.return);break;case 30:break;default:ji(S,T,a)}i=i.sibling}}function _c(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cs(a))}function Rc(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cs(t))}function si(t,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$h(t,i,a,u),i=i.sibling}function $h(t,i,a,u){var S=i.flags;switch(i.tag){case 0:case 11:case 15:si(t,i,a,u),S&2048&&Bs(9,i);break;case 1:si(t,i,a,u);break;case 3:si(t,i,a,u),S&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cs(t)));break;case 12:if(S&2048){si(t,i,a,u),t=i.stateNode;try{var T=i.memoizedProps,_=T.id,F=T.onPostCommit;typeof F=="function"&&F(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(te){ht(i,i.return,te)}}else si(t,i,a,u);break;case 31:si(t,i,a,u);break;case 13:si(t,i,a,u);break;case 23:break;case 22:T=i.stateNode,_=i.alternate,i.memoizedState!==null?T._visibility&2?si(t,i,a,u):Vs(t,i):T._visibility&2?si(t,i,a,u):(T._visibility|=2,Ul(t,i,a,u,(i.subtreeFlags&10256)!==0||!1)),S&2048&&_c(_,i);break;case 24:si(t,i,a,u),S&2048&&Rc(i.alternate,i);break;default:si(t,i,a,u)}}function Ul(t,i,a,u,S){for(S=S&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var T=t,_=i,F=a,te=u,ue=_.flags;switch(_.tag){case 0:case 11:case 15:Ul(T,_,F,te,S),Bs(8,_);break;case 23:break;case 22:var ye=_.stateNode;_.memoizedState!==null?ye._visibility&2?Ul(T,_,F,te,S):Vs(T,_):(ye._visibility|=2,Ul(T,_,F,te,S)),S&&ue&2048&&_c(_.alternate,_);break;case 24:Ul(T,_,F,te,S),S&&ue&2048&&Rc(_.alternate,_);break;default:Ul(T,_,F,te,S)}i=i.sibling}}function Vs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,u=i,S=u.flags;switch(u.tag){case 22:Vs(a,u),S&2048&&_c(u.alternate,u);break;case 24:Vs(a,u),S&2048&&Rc(u.alternate,u);break;default:Vs(a,u)}i=i.sibling}}var Hs=8192;function Gl(t,i,a){if(t.subtreeFlags&Hs)for(t=t.child;t!==null;)Jh(t,i,a),t=t.sibling}function Jh(t,i,a){switch(t.tag){case 26:Gl(t,i,a),t.flags&Hs&&t.memoizedState!==null&&K1(a,li,t.memoizedState,t.memoizedProps);break;case 5:Gl(t,i,a);break;case 3:case 4:var u=li;li=dr(t.stateNode.containerInfo),Gl(t,i,a),li=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Hs,Hs=16777216,Gl(t,i,a),Hs=u):Gl(t,i,a));break;default:Gl(t,i,a)}}function Xh(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function zs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];zt=u,Wh(u,t)}Xh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kh(t),t=t.sibling}function Kh(t){switch(t.tag){case 0:case 11:case 15:zs(t),t.flags&2048&&vo(9,t,t.return);break;case 3:zs(t);break;case 12:zs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Za(t)):zs(t);break;default:zs(t)}}function Za(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];zt=u,Wh(u,t)}Xh(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vo(8,i,i.return),Za(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Za(i));break;default:Za(i)}t=t.sibling}}function Wh(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:vo(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cs(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,zt=u;else e:for(a=t;zt!==null;){u=zt;var S=u.sibling,T=u.return;if(Hh(u),u===a){zt=null;break e}if(S!==null){S.return=T,zt=S;break e}zt=T}}}var f1={getCacheForType:function(t){var i=$t(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Dt).controller.signal}},d1=typeof WeakMap=="function"?WeakMap:Map,ut=0,vt=null,We=null,Ze=0,dt=0,Cn=null,xo=!1,Bl=!1,Ic=!1,qi=0,_t=0,So=0,nl=0,kc=0,Nn=0,Ol=0,Fs=null,pn=null,Lc=!1,er=0,Qh=0,tr=1/0,nr=null,bo=null,Ot=0,To=null,Vl=null,Yi=0,Dc=0,Pc=null,Zh=null,js=0,Uc=null;function An(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:Y.T!==null?zc():Mi()}function ep(){if(Nn===0)if((Ze&536870912)===0||nt){var t=oo;oo<<=1,(oo&3932160)===0&&(oo=262144),Nn=t}else Nn=536870912;return t=En.current,t!==null&&(t.flags|=32),Nn}function mn(t,i,a){(t===vt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(Hl(t,0),Eo(t,Ze,Nn,!1)),gi(t,a),((ut&2)===0||t!==vt)&&(t===vt&&((ut&2)===0&&(nl|=a),_t===4&&Eo(t,Ze,Nn,!1)),Ti(t))}function tp(t,i,a){if((ut&6)!==0)throw Error(l(327));var u=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Zn(t,i),S=u?m1(t,i):Bc(t,i,!0),T=u;do{if(S===0){Bl&&!u&&Eo(t,i,0,!1);break}else{if(a=t.current.alternate,T&&!h1(a)){S=Bc(t,i,!1),T=!1;continue}if(S===2){if(T=i,t.errorRecoveryDisabledLanes&T)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var F=t;S=Fs;var te=F.current.memoizedState.isDehydrated;if(te&&(Hl(F,_).flags|=256),_=Bc(F,_,!1),_!==2){if(Ic&&!te){F.errorRecoveryDisabledLanes|=T,nl|=T,S=4;break e}T=pn,pn=S,T!==null&&(pn===null?pn=T:pn.push.apply(pn,T))}S=_}if(T=!1,S!==2)continue}}if(S===1){Hl(t,0),Eo(t,i,0,!0);break}e:{switch(u=t,T=S,T){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Eo(u,i,Nn,!xo);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(S=er+300-Rt(),10<S)){if(Eo(u,i,Nn,!xo),mi(u,0,!0)!==0)break e;Yi=i,u.timeoutHandle=kp(np.bind(null,u,a,pn,nr,Lc,i,Nn,nl,Ol,xo,T,"Throttled",-0,0),S);break e}np(u,a,pn,nr,Lc,i,Nn,nl,Ol,xo,T,null,-0,0)}}break}while(!0);Ti(t)}function np(t,i,a,u,S,T,_,F,te,ue,ye,xe,fe,me){if(t.timeoutHandle=-1,xe=i.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Jh(i,T,xe);var Ge=(T&62914560)===T?er-Rt():(T&4194048)===T?Qh-Rt():0;if(Ge=W1(xe,Ge),Ge!==null){Yi=T,t.cancelPendingCommit=Ge(cp.bind(null,t,i,T,a,u,S,_,F,te,ye,xe,null,fe,me)),Eo(t,T,_,!ue);return}}cp(t,i,T,a,u,S,_,F,te)}function h1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var S=a[u],T=S.getSnapshot;S=S.value;try{if(!bn(T(),S))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Eo(t,i,a,u){i&=~kc,i&=~nl,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var S=i;0<S;){var T=31-qt(S),_=1<<T;u[T]=-1,S&=~_}a!==0&&ml(t,a,i)}function ir(){return(ut&6)===0?(qs(0),!1):!0}function Gc(){if(We!==null){if(dt===0)var t=We.return;else t=We,Pi=$o=null,Zu(t),Il=null,As=0,t=We;for(;t!==null;)Lh(t.alternate,t),t=t.return;We=null}}function Hl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,L1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,Gc(),vt=t,We=a=Li(t.current,null),Ze=i,dt=0,Cn=null,xo=!1,Bl=Zn(t,i),Ic=!1,Ol=Nn=kc=nl=So=_t=0,pn=Fs=null,Lc=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var S=31-qt(u),T=1<<S;i|=t[S],u&=~T}return qi=i,wa(),a}function ip(t,i){$e=null,Y.H=Ps,i===Rl||i===ka?(i=x0(),dt=3):i===Hu?(i=x0(),dt=4):dt=i===mc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,We===null&&(_t=1,Ya(t,Gn(i,t.current)))}function op(){var t=En.current;return t===null?!0:(Ze&4194048)===Ze?Hn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===Hn:!1}function lp(){var t=Y.H;return Y.H=Ps,t===null?Ps:t}function sp(){var t=Y.A;return Y.A=f1,t}function or(){_t=4,xo||(Ze&4194048)!==Ze&&En.current!==null||(Bl=!0),(So&134217727)===0&&(nl&134217727)===0||vt===null||Eo(vt,Ze,Nn,!1)}function Bc(t,i,a){var u=ut;ut|=2;var S=lp(),T=sp();(vt!==t||Ze!==i)&&(nr=null,Hl(t,i)),i=!1;var _=_t;e:do try{if(dt!==0&&We!==null){var F=We,te=Cn;switch(dt){case 8:Gc(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var ue=dt;if(dt=0,Cn=null,zl(t,F,te,ue),a&&Bl){_=0;break e}break;default:ue=dt,dt=0,Cn=null,zl(t,F,te,ue)}}p1(),_=_t;break}catch(ye){ip(t,ye)}while(!0);return i&&t.shellSuspendCounter++,Pi=$o=null,ut=u,Y.H=S,Y.A=T,We===null&&(vt=null,Ze=0,wa()),_}function p1(){for(;We!==null;)ap(We)}function m1(t,i){var a=ut;ut|=2;var u=lp(),S=sp();vt!==t||Ze!==i?(nr=null,tr=Rt()+500,Hl(t,i)):Bl=Zn(t,i);e:do try{if(dt!==0&&We!==null){i=We;var T=Cn;t:switch(dt){case 1:dt=0,Cn=null,zl(t,i,T,1);break;case 2:case 9:if(y0(T)){dt=0,Cn=null,rp(i);break}i=function(){dt!==2&&dt!==9||vt!==t||(dt=7),Ti(t)},T.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:y0(T)?(dt=0,Cn=null,rp(i)):(dt=0,Cn=null,zl(t,i,T,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var F=We;if(_?$p(_):F.stateNode.complete){dt=0,Cn=null;var te=F.sibling;if(te!==null)We=te;else{var ue=F.return;ue!==null?(We=ue,lr(ue)):We=null}break t}}dt=0,Cn=null,zl(t,i,T,5);break;case 6:dt=0,Cn=null,zl(t,i,T,6);break;case 8:Gc(),_t=6;break e;default:throw Error(l(462))}}g1();break}catch(ye){ip(t,ye)}while(!0);return Pi=$o=null,Y.H=u,Y.A=S,ut=a,We!==null?0:(vt=null,Ze=0,wa(),_t)}function g1(){for(;We!==null&&!pi();)ap(We)}function ap(t){var i=Ih(t.alternate,t,qi);t.memoizedProps=t.pendingProps,i===null?lr(t):We=i}function rp(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ch(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=Ch(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Zu(i);default:Lh(a,i),i=We=s0(i,qi),i=Ih(a,i,qi)}t.memoizedProps=t.pendingProps,i===null?lr(t):We=i}function zl(t,i,a,u){Pi=$o=null,Zu(i),Il=null,As=0;var S=i.return;try{if(o1(t,S,i,a,Ze)){_t=1,Ya(t,Gn(a,t.current)),We=null;return}}catch(T){if(S!==null)throw We=S,T;_t=1,Ya(t,Gn(a,t.current)),We=null;return}i.flags&32768?(nt||u===1?t=!0:Bl||(Ze&536870912)!==0?t=!1:(xo=t=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),up(i,t)):lr(i)}function lr(t){var i=t;do{if((i.flags&32768)!==0){up(i,xo);return}t=i.return;var a=a1(i.alternate,i,qi);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);_t===0&&(_t=5)}function up(t,i){do{var a=r1(t.alternate,t);if(a!==null){a.flags&=32767,We=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){We=t;return}We=t=a}while(t!==null);_t=6,We=null}function cp(t,i,a,u,S,T,_,F,te){t.cancelPendingCommit=null;do sr();while(Ot!==0);if((ut&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(T=i.lanes|i.childLanes,T|=Nu,ds(t,a,T,_,F,te),t===vt&&(We=vt=null,Ze=0),Vl=i,To=t,Yi=a,Dc=T,Pc=S,Zh=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S1(Xn,function(){return mp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,S=Z.p,Z.p=2,_=ut,ut|=4;try{u1(t,i,a)}finally{ut=_,Z.p=S,Y.T=u}}Ot=1,fp(),dp(),hp()}}function fp(){if(Ot===1){Ot=0;var t=To,i=Vl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var u=Z.p;Z.p=2;var S=ut;ut|=4;try{qh(i,t);var T=Kc,_=Wd(t.containerInfo),F=T.focusedElem,te=T.selectionRange;if(_!==F&&F&&F.ownerDocument&&Kd(F.ownerDocument.documentElement,F)){if(te!==null&&bu(F)){var ue=te.start,ye=te.end;if(ye===void 0&&(ye=ue),"selectionStart"in F)F.selectionStart=ue,F.selectionEnd=Math.min(ye,F.value.length);else{var xe=F.ownerDocument||document,fe=xe&&xe.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Ge=F.textContent.length,He=Math.min(te.start,Ge),gt=te.end===void 0?He:Math.min(te.end,Ge);!me.extend&&He>gt&&(_=gt,gt=He,He=_);var oe=Xd(F,He),ne=Xd(F,gt);if(oe&&ne&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==ne.node||me.focusOffset!==ne.offset)){var re=xe.createRange();re.setStart(oe.node,oe.offset),me.removeAllRanges(),He>gt?(me.addRange(re),me.extend(ne.node,ne.offset)):(re.setEnd(ne.node,ne.offset),me.addRange(re))}}}}for(xe=[],me=F;me=me.parentNode;)me.nodeType===1&&xe.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<xe.length;F++){var ve=xe[F];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}vr=!!Xc,Kc=Xc=null}finally{ut=S,Z.p=u,Y.T=a}}t.current=i,Ot=2}}function dp(){if(Ot===2){Ot=0;var t=To,i=Vl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var u=Z.p;Z.p=2;var S=ut;ut|=4;try{Vh(t,i.alternate,i)}finally{ut=S,Z.p=u,Y.T=a}}Ot=3}}function hp(){if(Ot===4||Ot===3){Ot=0,Ci();var t=To,i=Vl,a=Yi,u=Zh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ot=5:(Ot=0,Vl=To=null,pp(t,t.pendingLanes));var S=t.pendingLanes;if(S===0&&(bo=null),lo(a),i=i.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Bt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Y.T,S=Z.p,Z.p=2,Y.T=null;try{for(var T=t.onRecoverableError,_=0;_<u.length;_++){var F=u[_];T(F.value,{componentStack:F.stack})}}finally{Y.T=i,Z.p=S}}(Yi&3)!==0&&sr(),Ti(t),S=t.pendingLanes,(a&261930)!==0&&(S&42)!==0?t===Uc?js++:(js=0,Uc=t):js=0,qs(0)}}function pp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cs(i)))}function sr(){return fp(),dp(),hp(),mp()}function mp(){if(Ot!==5)return!1;var t=To,i=Dc;Dc=0;var a=lo(Yi),u=Y.T,S=Z.p;try{Z.p=32>a?32:a,Y.T=null,a=Pc,Pc=null;var T=To,_=Yi;if(Ot=0,Vl=To=null,Yi=0,(ut&6)!==0)throw Error(l(331));var F=ut;if(ut|=4,Kh(T.current),$h(T,T.current,_,a),ut=F,qs(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Bt,T)}catch{}return!0}finally{Z.p=S,Y.T=u,pp(t,i)}}function gp(t,i,a){i=Gn(a,i),i=pc(t.stateNode,i,2),t=mo(t,i,2),t!==null&&(gi(t,2),Ti(t))}function ht(t,i,a){if(t.tag===3)gp(t,t,a);else for(;i!==null;){if(i.tag===3){gp(i,t,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bo===null||!bo.has(u))){t=Gn(a,t),a=yh(2),u=mo(i,a,2),u!==null&&(vh(a,u,i,t),gi(u,2),Ti(u));break}}i=i.return}}function Oc(t,i,a){var u=t.pingCache;if(u===null){u=t.pingCache=new d1;var S=new Set;u.set(i,S)}else S=u.get(i),S===void 0&&(S=new Set,u.set(i,S));S.has(a)||(Ic=!0,S.add(a),t=y1.bind(null,t,i,a),i.then(t,t))}function y1(t,i,a){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Ze&a)===a&&(_t===4||_t===3&&(Ze&62914560)===Ze&&300>Rt()-er?(ut&2)===0&&Hl(t,0):kc|=a,Ol===Ze&&(Ol=0)),Ti(t)}function yp(t,i){i===0&&(i=pl()),t=jo(t,i),t!==null&&(gi(t,i),Ti(t))}function v1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),yp(t,a)}function x1(t,i){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,S=t.memoizedState;S!==null&&(a=S.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),yp(t,a)}function S1(t,i){return hi(t,i)}var ar=null,Fl=null,Vc=!1,rr=!1,Hc=!1,wo=0;function Ti(t){t!==Fl&&t.next===null&&(Fl===null?ar=Fl=t:Fl=Fl.next=t),rr=!0,Vc||(Vc=!0,T1())}function qs(t,i){if(!Hc&&rr){Hc=!0;do for(var a=!1,u=ar;u!==null;){if(t!==0){var S=u.pendingLanes;if(S===0)var T=0;else{var _=u.suspendedLanes,F=u.pingedLanes;T=(1<<31-qt(42|t)+1)-1,T&=S&~(_&~F),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(a=!0,bp(u,T))}else T=Ze,T=mi(u,u===vt?T:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(T&3)===0||Zn(u,T)||(a=!0,bp(u,T));u=u.next}while(a);Hc=!1}}function b1(){vp()}function vp(){rr=Vc=!1;var t=0;wo!==0&&k1()&&(t=wo);for(var i=Rt(),a=null,u=ar;u!==null;){var S=u.next,T=xp(u,i);T===0?(u.next=null,a===null?ar=S:a.next=S,S===null&&(Fl=a)):(a=u,(t!==0||(T&3)!==0)&&(rr=!0)),u=S}Ot!==0&&Ot!==5||qs(t),wo!==0&&(wo=0)}function xp(t,i){for(var a=t.suspendedLanes,u=t.pingedLanes,S=t.expirationTimes,T=t.pendingLanes&-62914561;0<T;){var _=31-qt(T),F=1<<_,te=S[_];te===-1?((F&a)===0||(F&u)!==0)&&(S[_]=fs(F,i)):te<=i&&(t.expiredLanes|=F),T&=~F}if(i=vt,a=Ze,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,a===0||t===i&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&_n(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(u!==null&&_n(u),lo(a)){case 2:case 8:a=io;break;case 32:a=Xn;break;case 268435456:a=Ht;break;default:a=Xn}return u=Sp.bind(null,t),a=hi(a,u),t.callbackPriority=i,t.callbackNode=a,i}return u!==null&&u!==null&&_n(u),t.callbackPriority=2,t.callbackNode=null,2}function Sp(t,i){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(sr()&&t.callbackNode!==a)return null;var u=Ze;return u=mi(t,t===vt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(tp(t,u,i),xp(t,Rt()),t.callbackNode!=null&&t.callbackNode===a?Sp.bind(null,t):null)}function bp(t,i){if(sr())return null;tp(t,i,!0)}function T1(){D1(function(){(ut&6)!==0?hi(Rn,b1):vp()})}function zc(){if(wo===0){var t=Ml;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),wo=t}return wo}function Tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function Ep(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function E1(t,i,a,u,S){if(i==="submit"&&a&&a.stateNode===S){var T=Tp((S[O]||null).action),_=u.submitter;_&&(i=(i=_[O]||null)?Tp(i.formAction):_.getAttribute("formAction"),i!==null&&(T=i,_=null));var F=new Sa("action","action",null,u,S);t.push({event:F,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(wo!==0){var te=_?Ep(S,_):new FormData(S);rc(a,{pending:!0,data:te,method:S.method,action:T},null,te)}}else typeof T=="function"&&(F.preventDefault(),te=_?Ep(S,_):new FormData(S),rc(a,{pending:!0,data:te,method:S.method,action:T},T,te))},currentTarget:S}]})}}for(var Fc=0;Fc<Cu.length;Fc++){var jc=Cu[Fc],w1=jc.toLowerCase(),C1=jc[0].toUpperCase()+jc.slice(1);oi(w1,"on"+C1)}oi(e0,"onAnimationEnd"),oi(t0,"onAnimationIteration"),oi(n0,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(Hx,"onTransitionRun"),oi(zx,"onTransitionStart"),oi(Fx,"onTransitionCancel"),oi(i0,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function wp(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],S=u.event;u=u.listeners;e:{var T=void 0;if(i)for(var _=u.length-1;0<=_;_--){var F=u[_],te=F.instance,ue=F.currentTarget;if(F=F.listener,te!==T&&S.isPropagationStopped())break e;T=F,S.currentTarget=ue;try{T(S)}catch(ye){Ea(ye)}S.currentTarget=null,T=te}else for(_=0;_<u.length;_++){if(F=u[_],te=F.instance,ue=F.currentTarget,F=F.listener,te!==T&&S.isPropagationStopped())break e;T=F,S.currentTarget=ue;try{T(S)}catch(ye){Ea(ye)}S.currentTarget=null,T=te}}}}function Qe(t,i){var a=i[j];a===void 0&&(a=i[j]=new Set);var u=t+"__bubble";a.has(u)||(Cp(i,t,2,!1),a.add(u))}function qc(t,i,a){var u=0;i&&(u|=4),Cp(a,t,u,i)}var ur="_reactListening"+Math.random().toString(36).slice(2);function Yc(t){if(!t[ur]){t[ur]=!0,yn.forEach(function(a){a!=="selectionchange"&&(N1.has(a)||qc(a,!1,t),qc(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ur]||(i[ur]=!0,qc("selectionchange",!1,i))}}function Cp(t,i,a,u){switch(em(i)){case 2:var S=eS;break;case 8:S=tS;break;default:S=rf}a=S.bind(null,i,a,t),S=void 0,!du||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(S=!0),u?S!==void 0?t.addEventListener(i,a,{capture:!0,passive:S}):t.addEventListener(i,a,!0):S!==void 0?t.addEventListener(i,a,{passive:S}):t.addEventListener(i,a,!1)}function $c(t,i,a,u,S){var T=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var F=u.stateNode.containerInfo;if(F===S)break;if(_===4)for(_=u.return;_!==null;){var te=_.tag;if((te===3||te===4)&&_.stateNode.containerInfo===S)return;_=_.return}for(;F!==null;){if(_=Ce(F),_===null)return;if(te=_.tag,te===5||te===6||te===26||te===27){u=T=_;continue e}F=F.parentNode}}u=u.return}Rd(function(){var ue=T,ye=Ri(a),xe=[];e:{var fe=o0.get(t);if(fe!==void 0){var me=Sa,Ge=t;switch(t){case"keypress":if(va(a)===0)break e;case"keydown":case"keyup":me=xx;break;case"focusin":Ge="focus",me=gu;break;case"focusout":Ge="blur",me=gu;break;case"beforeblur":case"afterblur":me=gu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Tx;break;case e0:case t0:case n0:me=cx;break;case i0:me=wx;break;case"scroll":case"scrollend":me=lx;break;case"wheel":me=Nx;break;case"copy":case"cut":case"paste":me=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Pd;break;case"toggle":case"beforetoggle":me=Mx}var He=(i&4)!==0,gt=!He&&(t==="scroll"||t==="scrollend"),oe=He?fe!==null?fe+"Capture":null:fe;He=[];for(var ne=ue,re;ne!==null;){var ve=ne;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||oe===null||(ve=ps(ne,oe),ve!=null&&He.push($s(ne,ve,re))),gt)break;ne=ne.return}0<He.length&&(fe=new me(fe,Ge,null,a,ye),xe.push({event:fe,listeners:He}))}}if((i&7)===0){e:{if(fe=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",fe&&a!==hs&&(Ge=a.relatedTarget||a.fromElement)&&(Ce(Ge)||Ge[W]))break e;if((me||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Ge=a.relatedTarget||a.toElement,me=ue,Ge=Ge?Ce(Ge):null,Ge!==null&&(gt=s(Ge),He=Ge.tag,Ge!==gt||He!==5&&He!==27&&He!==6)&&(Ge=null)):(me=null,Ge=ue),me!==Ge)){if(He=Ld,ve="onMouseLeave",oe="onMouseEnter",ne="mouse",(t==="pointerout"||t==="pointerover")&&(He=Pd,ve="onPointerLeave",oe="onPointerEnter",ne="pointer"),gt=me==null?fe:Je(me),re=Ge==null?fe:Je(Ge),fe=new He(ve,ne+"leave",me,a,ye),fe.target=gt,fe.relatedTarget=re,ve=null,Ce(ye)===ue&&(He=new He(oe,ne+"enter",Ge,a,ye),He.target=re,He.relatedTarget=gt,ve=He),gt=ve,me&&Ge)t:{for(He=A1,oe=me,ne=Ge,re=0,ve=oe;ve;ve=He(ve))re++;ve=0;for(var Ve=ne;Ve;Ve=He(Ve))ve++;for(;0<re-ve;)oe=He(oe),re--;for(;0<ve-re;)ne=He(ne),ve--;for(;re--;){if(oe===ne||ne!==null&&oe===ne.alternate){He=oe;break t}oe=He(oe),ne=He(ne)}He=null}else He=null;me!==null&&Np(xe,fe,me,He,!1),Ge!==null&&gt!==null&&Np(xe,gt,Ge,He,!0)}}e:{if(fe=ue?Je(ue):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var lt=Fd;else if(Hd(fe))if(jd)lt=Bx;else{lt=Ux;var Be=Px}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&vi(ue.elementType)&&(lt=Fd):lt=Gx;if(lt&&(lt=lt(t,ue))){zd(xe,lt,a,ye);break e}Be&&Be(t,fe,ue),t==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&ti(fe,"number",fe.value)}switch(Be=ue?Je(ue):window,t){case"focusin":(Hd(Be)||Be.contentEditable==="true")&&(Sl=Be,Tu=ue,Ts=null);break;case"focusout":Ts=Tu=Sl=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Qd(xe,a,ye);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":Qd(xe,a,ye)}var Xe;if(vu)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else xl?Od(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(Ud&&a.locale!=="ko"&&(xl||et!=="onCompositionStart"?et==="onCompositionEnd"&&xl&&(Xe=Id()):(ao=ye,hu="value"in ao?ao.value:ao.textContent,xl=!0)),Be=cr(ue,et),0<Be.length&&(et=new Dd(et,t,null,a,ye),xe.push({event:et,listeners:Be}),Xe?et.data=Xe:(Xe=Vd(a),Xe!==null&&(et.data=Xe)))),(Xe=Rx?Ix(t,a):kx(t,a))&&(et=cr(ue,"onBeforeInput"),0<et.length&&(Be=new Dd("onBeforeInput","beforeinput",null,a,ye),xe.push({event:Be,listeners:et}),Be.data=Xe)),E1(xe,t,ue,a,ye)}wp(xe,i)})}function $s(t,i,a){return{instance:t,listener:i,currentTarget:a}}function cr(t,i){for(var a=i+"Capture",u=[];t!==null;){var S=t,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=ps(t,a),S!=null&&u.unshift($s(t,S,T)),S=ps(t,i),S!=null&&u.push($s(t,S,T))),t.tag===3)return u;t=t.return}return[]}function A1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Np(t,i,a,u,S){for(var T=i._reactName,_=[];a!==null&&a!==u;){var F=a,te=F.alternate,ue=F.stateNode;if(F=F.tag,te!==null&&te===u)break;F!==5&&F!==26&&F!==27||ue===null||(te=ue,S?(ue=ps(a,T),ue!=null&&_.unshift($s(a,ue,te))):S||(ue=ps(a,T),ue!=null&&_.push($s(a,ue,te)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var M1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(M1,`
`).replace(_1,"")}function Mp(t,i){return i=Ap(i),Ap(t)===i}function mt(t,i,a,u,S,T){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Qt(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Qt(t,""+u);break;case"className":ei(t,"class",u);break;case"tabIndex":ei(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,a,u);break;case"style":Vo(t,u,T);break;case"data":if(i!=="object"){ei(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Pn(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(a==="formAction"?(i!=="input"&&mt(t,i,"name",S.name,S,null),mt(t,i,"formEncType",S.formEncType,S,null),mt(t,i,"formMethod",S.formMethod,S,null),mt(t,i,"formTarget",S.formTarget,S,null)):(mt(t,i,"encType",S.encType,S,null),mt(t,i,"method",S.method,S,null),mt(t,i,"target",S.target,S,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}u=Pn(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(t.onclick=ii);break;case"onScroll":u!=null&&Qe("scroll",t);break;case"onScrollEnd":u!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(S.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}a=Pn(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""+u):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,u):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(a,u):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):t.setAttribute(a,u);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),xn(t,"popover",u);break;case"xlinkActuate":yi(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yi(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yi(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yi(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yi(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yi(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yi(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xn(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=so.get(a)||a,xn(t,a,u))}}function Jc(t,i,a,u,S,T){switch(a){case"style":Vo(t,u,T);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(S.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof u=="string"?Qt(t,u):(typeof u=="number"||typeof u=="bigint")&&Qt(t,""+u);break;case"onScroll":u!=null&&Qe("scroll",t);break;case"onScrollEnd":u!=null&&Qe("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Me.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(S=a.endsWith("Capture"),i=a.slice(2,S?a.length-7:void 0),T=t[O]||null,T=T!=null?T[a]:null,typeof T=="function"&&t.removeEventListener(i,T,S),typeof u=="function")){typeof T!="function"&&T!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,u,S);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):xn(t,a,u)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var u=!1,S=!1,T;for(T in a)if(a.hasOwnProperty(T)){var _=a[T];if(_!=null)switch(T){case"src":u=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:mt(t,i,T,_,a,null)}}S&&mt(t,i,"srcSet",a.srcSet,a,null),u&&mt(t,i,"src",a.src,a,null);return;case"input":Qe("invalid",t);var F=T=_=S=null,te=null,ue=null;for(u in a)if(a.hasOwnProperty(u)){var ye=a[u];if(ye!=null)switch(u){case"name":S=ye;break;case"type":_=ye;break;case"checked":te=ye;break;case"defaultChecked":ue=ye;break;case"value":T=ye;break;case"defaultValue":F=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(l(137,i));break;default:mt(t,i,u,ye,a,null)}}Sn(t,T,F,te,ue,_,S,!1);return;case"select":Qe("invalid",t),u=_=T=null;for(S in a)if(a.hasOwnProperty(S)&&(F=a[S],F!=null))switch(S){case"value":T=F;break;case"defaultValue":_=F;break;case"multiple":u=F;default:mt(t,i,S,F,a,null)}i=T,a=_,t.multiple=!!u,i!=null?rt(t,!!u,i,!1):a!=null&&rt(t,!!u,a,!0);return;case"textarea":Qe("invalid",t),T=S=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(F=a[_],F!=null))switch(_){case"value":u=F;break;case"defaultValue":S=F;break;case"children":T=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(91));break;default:mt(t,i,_,F,a,null)}un(t,u,S,T);return;case"option":for(te in a)if(a.hasOwnProperty(te)&&(u=a[te],u!=null))switch(te){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(t,i,te,u,a,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(u=0;u<Ys.length;u++)Qe(Ys[u],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in a)if(a.hasOwnProperty(ue)&&(u=a[ue],u!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:mt(t,i,ue,u,a,null)}return;default:if(vi(i)){for(ye in a)a.hasOwnProperty(ye)&&(u=a[ye],u!==void 0&&Jc(t,i,ye,u,a,void 0));return}}for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!=null&&mt(t,i,F,u,a,null))}function R1(t,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,_=null,F=null,te=null,ue=null,ye=null;for(me in a){var xe=a[me];if(a.hasOwnProperty(me)&&xe!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":te=xe;default:u.hasOwnProperty(me)||mt(t,i,me,null,u,xe)}}for(var fe in u){var me=u[fe];if(xe=a[fe],u.hasOwnProperty(fe)&&(me!=null||xe!=null))switch(fe){case"type":T=me;break;case"name":S=me;break;case"checked":ue=me;break;case"defaultChecked":ye=me;break;case"value":_=me;break;case"defaultValue":F=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(l(137,i));break;default:me!==xe&&mt(t,i,fe,me,u,xe)}}Ln(t,_,F,te,ue,ye,T,S);return;case"select":me=_=F=fe=null;for(T in a)if(te=a[T],a.hasOwnProperty(T)&&te!=null)switch(T){case"value":break;case"multiple":me=te;default:u.hasOwnProperty(T)||mt(t,i,T,null,u,te)}for(S in u)if(T=u[S],te=a[S],u.hasOwnProperty(S)&&(T!=null||te!=null))switch(S){case"value":fe=T;break;case"defaultValue":F=T;break;case"multiple":_=T;default:T!==te&&mt(t,i,S,T,u,te)}i=F,a=_,u=me,fe!=null?rt(t,!!a,fe,!1):!!u!=!!a&&(i!=null?rt(t,!!a,i,!0):rt(t,!!a,a?[]:"",!1));return;case"textarea":me=fe=null;for(F in a)if(S=a[F],a.hasOwnProperty(F)&&S!=null&&!u.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:mt(t,i,F,null,u,S)}for(_ in u)if(S=u[_],T=a[_],u.hasOwnProperty(_)&&(S!=null||T!=null))switch(_){case"value":fe=S;break;case"defaultValue":me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(l(91));break;default:S!==T&&mt(t,i,_,S,u,T)}Oo(t,fe,me);return;case"option":for(var Ge in a)if(fe=a[Ge],a.hasOwnProperty(Ge)&&fe!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":t.selected=!1;break;default:mt(t,i,Ge,null,u,fe)}for(te in u)if(fe=u[te],me=a[te],u.hasOwnProperty(te)&&fe!==me&&(fe!=null||me!=null))switch(te){case"selected":t.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:mt(t,i,te,fe,u,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in a)fe=a[He],a.hasOwnProperty(He)&&fe!=null&&!u.hasOwnProperty(He)&&mt(t,i,He,null,u,fe);for(ue in u)if(fe=u[ue],me=a[ue],u.hasOwnProperty(ue)&&fe!==me&&(fe!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(l(137,i));break;default:mt(t,i,ue,fe,u,me)}return;default:if(vi(i)){for(var gt in a)fe=a[gt],a.hasOwnProperty(gt)&&fe!==void 0&&!u.hasOwnProperty(gt)&&Jc(t,i,gt,void 0,u,fe);for(ye in u)fe=u[ye],me=a[ye],!u.hasOwnProperty(ye)||fe===me||fe===void 0&&me===void 0||Jc(t,i,ye,fe,u,me);return}}for(var oe in a)fe=a[oe],a.hasOwnProperty(oe)&&fe!=null&&!u.hasOwnProperty(oe)&&mt(t,i,oe,null,u,fe);for(xe in u)fe=u[xe],me=a[xe],!u.hasOwnProperty(xe)||fe===me||fe==null&&me==null||mt(t,i,xe,fe,u,me)}function _p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var S=a[u],T=S.transferSize,_=S.initiatorType,F=S.duration;if(T&&F&&_p(_)){for(_=0,F=S.responseEnd,u+=1;u<a.length;u++){var te=a[u],ue=te.startTime;if(ue>F)break;var ye=te.transferSize,xe=te.initiatorType;ye&&_p(xe)&&(te=te.responseEnd,_+=ye*(te<F?1:(F-ue)/(te-ue)))}if(--u,i+=8*(T+_)/(S.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xc=null,Kc=null;function fr(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qc=null;function k1(){var t=window.event;return t&&t.type==="popstate"?t===Qc?!1:(Qc=t,!0):(Qc=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(t){return Lp.resolve(null).then(t).catch(P1)}:kp;function P1(t){setTimeout(function(){throw t})}function Co(t){return t==="head"}function Dp(t,i){var a=i,u=0;do{var S=a.nextSibling;if(t.removeChild(a),S&&S.nodeType===8)if(a=S.data,a==="/$"||a==="/&"){if(u===0){t.removeChild(S),$l(i);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Js(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Js(a);for(var T=a.firstChild;T;){var _=T.nextSibling,F=T.nodeName;T[le]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=_}}else a==="body"&&Js(t.ownerDocument.body);a=S}while(a);$l(i)}function Pp(t,i){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=u}while(a)}function Zc(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zc(a),Ee(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function U1(t,i,a,u){for(;t.nodeType===1;){var S=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[le])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(T=t.getAttribute("rel"),T==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(T!==S.rel||t.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||t.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||t.getAttribute("title")!==(S.title==null?null:S.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(T=t.getAttribute("src"),(T!==(S.src==null?null:S.src)||t.getAttribute("type")!==(S.type==null?null:S.type)||t.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&t.getAttribute("name")===T)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function G1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Up(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$?"||t.data==="$~"}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function B1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nf=null;function Gp(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Bp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Op(t,i,a){switch(i=fr(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Js(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ee(t)}var Fn=new Map,Vp=new Set;function dr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=Z.d;Z.d={f:O1,r:V1,D:H1,C:z1,L:F1,m:j1,X:Y1,S:q1,M:$1};function O1(){var t=$i.f(),i=ir();return t||i}function V1(t){var i=Ne(t);i!==null&&i.tag===5&&i.type==="form"?ih(i):$i.r(t)}var jl=typeof document>"u"?null:document;function Hp(t,i,a){var u=jl;if(u&&typeof i=="string"&&i){var S=ct(i);S='link[rel="'+t+'"][href="'+S+'"]',typeof a=="string"&&(S+='[crossorigin="'+a+'"]'),Vp.has(S)||(Vp.add(S),t={rel:t,crossOrigin:a,href:i},u.querySelector(S)===null&&(i=u.createElement("link"),Xt(i,"link",t),tt(i),u.head.appendChild(i)))}}function H1(t){$i.D(t),Hp("dns-prefetch",t,null)}function z1(t,i){$i.C(t,i),Hp("preconnect",t,i)}function F1(t,i,a){$i.L(t,i,a);var u=jl;if(u&&t&&i){var S='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(S+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(S+='[imagesizes="'+ct(a.imageSizes)+'"]')):S+='[href="'+ct(t)+'"]';var T=S;switch(i){case"style":T=ql(t);break;case"script":T=Yl(t)}Fn.has(T)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(T,t),u.querySelector(S)!==null||i==="style"&&u.querySelector(Xs(T))||i==="script"&&u.querySelector(Ks(T))||(i=u.createElement("link"),Xt(i,"link",t),tt(i),u.head.appendChild(i)))}}function j1(t,i){$i.m(t,i);var a=jl;if(a&&t){var u=i&&typeof i.as=="string"?i.as:"script",S='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(t)+'"]',T=S;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Yl(t)}if(!Fn.has(T)&&(t=x({rel:"modulepreload",href:t},i),Fn.set(T,t),a.querySelector(S)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ks(T)))return}u=a.createElement("link"),Xt(u,"link",t),tt(u),a.head.appendChild(u)}}}function q1(t,i,a){$i.S(t,i,a);var u=jl;if(u&&t){var S=ze(u).hoistableStyles,T=ql(t);i=i||"default";var _=S.get(T);if(!_){var F={loading:0,preload:null};if(_=u.querySelector(Xs(T)))F.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(T))&&of(t,a);var te=_=u.createElement("link");tt(te),Xt(te,"link",t),te._p=new Promise(function(ue,ye){te.onload=ue,te.onerror=ye}),te.addEventListener("load",function(){F.loading|=1}),te.addEventListener("error",function(){F.loading|=2}),F.loading|=4,hr(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:F},S.set(T,_)}}}function Y1(t,i){$i.X(t,i);var a=jl;if(a&&t){var u=ze(a).hoistableScripts,S=Yl(t),T=u.get(S);T||(T=a.querySelector(Ks(S)),T||(t=x({src:t,async:!0},i),(i=Fn.get(S))&&lf(t,i),T=a.createElement("script"),tt(T),Xt(T,"link",t),a.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},u.set(S,T))}}function $1(t,i){$i.M(t,i);var a=jl;if(a&&t){var u=ze(a).hoistableScripts,S=Yl(t),T=u.get(S);T||(T=a.querySelector(Ks(S)),T||(t=x({src:t,async:!0,type:"module"},i),(i=Fn.get(S))&&lf(t,i),T=a.createElement("script"),tt(T),Xt(T,"link",t),a.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},u.set(S,T))}}function zp(t,i,a,u){var S=(S=ce.current)?dr(S):null;if(!S)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ql(a.href),a=ze(S).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ql(a.href);var T=ze(S).hoistableStyles,_=T.get(t);if(_||(S=S.ownerDocument||S,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(t,_),(T=S.querySelector(Xs(t)))&&!T._p&&(_.instance=T,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),T||J1(S,t,a,_.state))),i&&u===null)throw Error(l(528,""));return _}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Yl(a),a=ze(S).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function ql(t){return'href="'+ct(t)+'"'}function Xs(t){return'link[rel="stylesheet"]['+t+"]"}function Fp(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function J1(t,i,a,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Xt(i,"link",a),tt(i),t.head.appendChild(i))}function Yl(t){return'[src="'+ct(t)+'"]'}function Ks(t){return"script[async]"+t}function jp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(u)return i.instance=u,tt(u),u;var S=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),tt(u),Xt(u,"style",S),hr(u,a.precedence,t),i.instance=u;case"stylesheet":S=ql(a.href);var T=t.querySelector(Xs(S));if(T)return i.state.loading|=4,i.instance=T,tt(T),T;u=Fp(a),(S=Fn.get(S))&&of(u,S),T=(t.ownerDocument||t).createElement("link"),tt(T);var _=T;return _._p=new Promise(function(F,te){_.onload=F,_.onerror=te}),Xt(T,"link",u),i.state.loading|=4,hr(T,a.precedence,t),i.instance=T;case"script":return T=Yl(a.src),(S=t.querySelector(Ks(T)))?(i.instance=S,tt(S),S):(u=a,(S=Fn.get(T))&&(u=x({},a),lf(u,S)),t=t.ownerDocument||t,S=t.createElement("script"),tt(S),Xt(S,"link",u),t.head.appendChild(S),i.instance=S);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,hr(u,a.precedence,t));return i.instance}function hr(t,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=u.length?u[u.length-1]:null,T=S,_=0;_<u.length;_++){var F=u[_];if(F.dataset.precedence===i)T=F;else if(T!==S)break}T?T.parentNode.insertBefore(t,T.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function of(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var pr=null;function qp(t,i,a){if(pr===null){var u=new Map,S=pr=new Map;S.set(a,u)}else S=pr,u=S.get(a),u||(u=new Map,S.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),S=0;S<a.length;S++){var T=a[S];if(!(T[le]||T[N]||t==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var _=T.getAttribute(i)||"";_=t+_;var F=u.get(_);F?F.push(T):u.set(_,[T])}}return u}function Yp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function X1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function K1(t,i,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var S=ql(u.href),T=i.querySelector(Xs(S));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=mr.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=T,tt(T);return}T=i.ownerDocument||i,u=Fp(u),(S=Fn.get(S))&&of(u,S),T=T.createElement("link"),tt(T);var _=T;_._p=new Promise(function(F,te){_.onload=F,_.onerror=te}),Xt(T,"link",u),a.instance=T}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=mr.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sf=0;function W1(t,i){return t.stylesheets&&t.count===0&&yr(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&yr(t,t.stylesheets),t.unsuspend){var T=t.unsuspend;t.unsuspend=null,T()}},6e4+i);0<t.imgBytes&&sf===0&&(sf=62500*I1());var S=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yr(t,t.stylesheets),t.unsuspend)){var T=t.unsuspend;t.unsuspend=null,T()}},(t.imgBytes>sf?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(S)}}:null}function mr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gr=null;function yr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gr=new Map,i.forEach(Q1,t),gr=null,mr.call(t))}function Q1(t,i){if(!(i.state.loading&4)){var a=gr.get(t);if(a)var u=a.get(null);else{a=new Map,gr.set(t,a);for(var S=t.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var _=S[T];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}S=i.instance,_=S.getAttribute("data-precedence"),T=a.get(_)||u,T===u&&a.set(null,S),a.set(_,S),this.count++,u=mr.bind(this),S.addEventListener("load",u),S.addEventListener("error",u),T?T.parentNode.insertBefore(S,T.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(S,t.firstChild)),i.state.loading|=4}}var Ws={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Z1(t,i,a,u,S,T,_,F,te){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.hiddenUpdates=Uo(null),this.identifierPrefix=u,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function Jp(t,i,a,u,S,T,_,F,te,ue,ye,xe){return t=new Z1(t,i,a,_,te,ue,ye,xe,F),i=1,T===!0&&(i|=24),T=Tn(3,null,null,i),t.current=T,T.stateNode=t,i=Bu(),i.refCount++,t.pooledCache=i,i.refCount++,T.memoizedState={element:u,isDehydrated:a,cache:i},zu(T),t}function Xp(t){return t?(t=El,t):El}function Kp(t,i,a,u,S,T){S=Xp(S),u.context===null?u.context=S:u.pendingContext=S,u=po(i),u.payload={element:a},T=T===void 0?null:T,T!==null&&(u.callback=T),a=mo(t,u,i),a!==null&&(mn(a,t,i),_s(a,t,i))}function Wp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function af(t,i){Wp(t,i),(t=t.alternate)&&Wp(t,i)}function Qp(t){if(t.tag===13||t.tag===31){var i=jo(t,67108864);i!==null&&mn(i,t,67108864),af(t,67108864)}}function Zp(t){if(t.tag===13||t.tag===31){var i=An();i=Bo(i);var a=jo(t,i);a!==null&&mn(a,t,i),af(t,i)}}var vr=!0;function eS(t,i,a,u){var S=Y.T;Y.T=null;var T=Z.p;try{Z.p=2,rf(t,i,a,u)}finally{Z.p=T,Y.T=S}}function tS(t,i,a,u){var S=Y.T;Y.T=null;var T=Z.p;try{Z.p=8,rf(t,i,a,u)}finally{Z.p=T,Y.T=S}}function rf(t,i,a,u){if(vr){var S=uf(u);if(S===null)$c(t,i,u,xr,a),tm(t,u);else if(iS(S,t,i,a,u))u.stopPropagation();else if(tm(t,u),i&4&&-1<nS.indexOf(t)){for(;S!==null;){var T=Ne(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var _=Qn(T.pendingLanes);if(_!==0){var F=T;for(F.pendingLanes|=2,F.entangledLanes|=2;_;){var te=1<<31-qt(_);F.entanglements[1]|=te,_&=~te}Ti(T),(ut&6)===0&&(tr=Rt()+500,qs(0))}}break;case 31:case 13:F=jo(T,2),F!==null&&mn(F,T,2),ir(),af(T,2)}if(T=uf(u),T===null&&$c(t,i,u,xr,a),T===S)break;S=T}S!==null&&u.stopPropagation()}else $c(t,i,u,null,a)}}function uf(t){return t=Ri(t),cf(t)}var xr=null;function cf(t){if(xr=null,t=Ce(t),t!==null){var i=s(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xr=t,null}function em(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Rn:return 2;case io:return 8;case Xn:case Kn:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var ff=!1,No=null,Ao=null,Mo=null,Qs=new Map,Zs=new Map,_o=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tm(t,i){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Qs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(i.pointerId)}}function ea(t,i,a,u,S,T){return t===null||t.nativeEvent!==T?(t={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:T,targetContainers:[S]},i!==null&&(i=Ne(i),i!==null&&Qp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,S!==null&&i.indexOf(S)===-1&&i.push(S),t)}function iS(t,i,a,u,S){switch(i){case"focusin":return No=ea(No,t,i,a,u,S),!0;case"dragenter":return Ao=ea(Ao,t,i,a,u,S),!0;case"mouseover":return Mo=ea(Mo,t,i,a,u,S),!0;case"pointerover":var T=S.pointerId;return Qs.set(T,ea(Qs.get(T)||null,t,i,a,u,S)),!0;case"gotpointercapture":return T=S.pointerId,Zs.set(T,ea(Zs.get(T)||null,t,i,a,u,S)),!0}return!1}function nm(t){var i=Ce(t.target);if(i!==null){var a=s(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,yl(t.priority,function(){Zp(a)});return}}else if(i===31){if(i=f(a),i!==null){t.blockedOn=i,yl(t.priority,function(){Zp(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=uf(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);hs=u,a.target.dispatchEvent(u),hs=null}else return i=Ne(a),i!==null&&Qp(i),t.blockedOn=a,!1;i.shift()}return!0}function im(t,i,a){Sr(t)&&a.delete(i)}function oS(){ff=!1,No!==null&&Sr(No)&&(No=null),Ao!==null&&Sr(Ao)&&(Ao=null),Mo!==null&&Sr(Mo)&&(Mo=null),Qs.forEach(im),Zs.forEach(im)}function br(t,i){t.blockedOn===i&&(t.blockedOn=null,ff||(ff=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oS)))}var Tr=null;function om(t){Tr!==t&&(Tr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tr===t&&(Tr=null);for(var i=0;i<t.length;i+=3){var a=t[i],u=t[i+1],S=t[i+2];if(typeof u!="function"){if(cf(u||a)===null)continue;break}var T=Ne(a);T!==null&&(t.splice(i,3),i-=3,rc(T,{pending:!0,data:S,method:a.method,action:u},u,S))}}))}function $l(t){function i(te){return br(te,t)}No!==null&&br(No,t),Ao!==null&&br(Ao,t),Mo!==null&&br(Mo,t),Qs.forEach(i),Zs.forEach(i);for(var a=0;a<_o.length;a++){var u=_o[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<_o.length&&(a=_o[0],a.blockedOn===null);)nm(a),a.blockedOn===null&&_o.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var S=a[u],T=a[u+1],_=S[O]||null;if(typeof T=="function")_||om(a);else if(_){var F=null;if(T&&T.hasAttribute("formAction")){if(S=T,_=T[O]||null)F=_.formAction;else if(cf(S)!==null)continue}else F=_.action;typeof F=="function"?a[u+1]=F:(a.splice(u,3),u-=3),om(a)}}}function lm(){function t(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(_){return S=_})},focusReset:"manual",scroll:"manual"})}function i(){S!==null&&(S(),S=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,S=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),S!==null&&(S(),S=null)}}}function df(t){this._internalRoot=t}Er.prototype.render=df.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,u=An();Kp(a,u,t,i,null,null)},Er.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Kp(t.current,2,null,t,null,null),ir(),i[W]=null}};function Er(t){this._internalRoot=t}Er.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<_o.length&&i!==0&&i<_o[a].priority;a++);_o.splice(a,0,t),a===0&&nm(t)}};var sm=e.version;if(sm!=="19.2.3")throw Error(l(527,sm,"19.2.3"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=h(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var lS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wr.isDisabled&&wr.supportsFiber)try{Bt=wr.inject(lS),bt=wr}catch{}}return na.createRoot=function(t,i){if(!r(t))throw Error(l(299));var a=!1,u="",S=hh,T=ph,_=mh;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(S=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Jp(t,1,!1,null,null,a,u,null,S,T,_,lm),t[W]=i.current,Yc(t),new df(i)},na.hydrateRoot=function(t,i,a){if(!r(t))throw Error(l(299));var u=!1,S="",T=hh,_=ph,F=mh,te=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onUncaughtError!==void 0&&(T=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(F=a.onRecoverableError),a.formState!==void 0&&(te=a.formState)),i=Jp(t,1,!0,i,a??null,u,S,te,T,_,F,lm),i.context=Xp(null),a=i.current,u=An(),u=Bo(u),S=po(u),S.callback=null,mo(a,S,u),a=u,i.current.lanes=a,gi(i,a),Ti(i),t[W]=i.current,Yc(t),new Er(i)},na.version="19.2.3",na}var ym;function gS(){if(ym)return mf.exports;ym=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=mS(),mf.exports}var yS=gS();const vS=ld(yS);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vm="popstate";function xS(n={}){function e(l,r){let{pathname:s,search:c,hash:f}=l.location;return Bf("",{pathname:s,search:c,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function o(l,r){return typeof r=="string"?r:ca(r)}return bS(e,o,null,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function xm(n,e){return{usr:n.state,key:n.key,idx:e}}function Bf(n,e,o=null,l){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:o,key:e&&e.key||l||SS()}}function ca({pathname:n="/",search:e="",hash:o=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function is(n){let e={};if(n){let o=n.indexOf("#");o>=0&&(e.hash=n.substring(o),n=n.substring(0,o));let l=n.indexOf("?");l>=0&&(e.search=n.substring(l),n=n.substring(0,l)),n&&(e.pathname=n)}return e}function bS(n,e,o,l={}){let{window:r=document.defaultView,v5Compat:s=!1}=l,c=r.history,f="POP",p=null,h=g();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function g(){return(c.state||{idx:null}).idx}function x(){f="POP";let C=g(),R=C==null?null:C-h;h=C,p&&p({action:f,location:w.location,delta:R})}function b(C,R){f="PUSH";let U=Bf(w.location,C,R);h=g()+1;let D=xm(U,h),V=w.createHref(U);try{c.pushState(D,"",V)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(V)}s&&p&&p({action:f,location:w.location,delta:1})}function y(C,R){f="REPLACE";let U=Bf(w.location,C,R);h=g();let D=xm(U,h),V=w.createHref(U);c.replaceState(D,"",V),s&&p&&p({action:f,location:w.location,delta:0})}function E(C){return TS(C)}let w={get action(){return f},get location(){return n(r,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(vm,x),p=C,()=>{r.removeEventListener(vm,x),p=null}},createHref(C){return e(r,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:y,go(C){return c.go(C)}};return w}function TS(n,e=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),At(o,"No window.location.(origin|href) available to create URL");let l=typeof n=="string"?n:ca(n);return l=l.replace(/ $/,"%20"),!e&&l.startsWith("//")&&(l=o+l),new URL(l,o)}function Ry(n,e,o="/"){return ES(n,e,o,!1)}function ES(n,e,o,l){let r=typeof e=="string"?is(e):e,s=Zi(r.pathname||"/",o);if(s==null)return null;let c=Iy(n);wS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=PS(s);f=LS(c[p],h,l)}return f}function Iy(n,e=[],o=[],l="",r=!1){let s=(c,f,p=r,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&p)return;At(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let x=Qi([l,g.relativePath]),b=o.concat(g);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Iy(c.children,e,b,x,p)),!(c.path==null&&!c.index)&&e.push({path:x,score:IS(x,c.index),routesMeta:b})};return n.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))s(c,f);else for(let h of ky(c.path))s(c,f,!0,h)}),e}function ky(n){let e=n.split("/");if(e.length===0)return[];let[o,...l]=e,r=o.endsWith("?"),s=o.replace(/\?$/,"");if(l.length===0)return r?[s,""]:[s];let c=ky(l.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),r&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function wS(n){n.sort((e,o)=>e.score!==o.score?o.score-e.score:kS(e.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}var CS=/^:[\w-]+$/,NS=3,AS=2,MS=1,_S=10,RS=-2,Sm=n=>n==="*";function IS(n,e){let o=n.split("/"),l=o.length;return o.some(Sm)&&(l+=RS),e&&(l+=AS),o.filter(r=>!Sm(r)).reduce((r,s)=>r+(CS.test(s)?NS:s===""?MS:_S),l)}function kS(n,e){return n.length===e.length&&n.slice(0,-1).every((l,r)=>l===e[r])?n[n.length-1]-e[e.length-1]:0}function LS(n,e,o=!1){let{routesMeta:l}=n,r={},s="/",c=[];for(let f=0;f<l.length;++f){let p=l[f],h=f===l.length-1,g=s==="/"?e:e.slice(s.length)||"/",x=Yr({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},g),b=p.route;if(!x&&h&&o&&!l[l.length-1].route.index&&(x=Yr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!x)return null;Object.assign(r,x.params),c.push({params:r,pathname:Qi([s,x.pathname]),pathnameBase:VS(Qi([s,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(s=Qi([s,x.pathnameBase]))}return c}function Yr(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,l]=DS(n.path,n.caseSensitive,n.end),r=e.match(o);if(!r)return null;let s=r[0],c=s.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:l.reduce((h,{paramName:g,isOptional:x},b)=>{if(g==="*"){let E=f[b]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=f[b];return x&&!y?h[g]=void 0:h[g]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:n}}function DS(n,e=!1,o=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let l=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(l.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(l.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),l]}function PS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,l=n.charAt(o);return l&&l!=="/"?null:n.slice(o)||"/"}var US=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GS=n=>US.test(n);function BS(n,e="/"){let{pathname:o,search:l="",hash:r=""}=typeof n=="string"?is(n):n,s;if(o)if(GS(o))s=o;else{if(o.includes("//")){let c=o;o=o.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${o}`)}o.startsWith("/")?s=bm(o.substring(1),"/"):s=bm(o,e)}else s=e;return{pathname:s,search:HS(l),hash:zS(r)}}function bm(n,e){let o=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?o.length>1&&o.pop():r!=="."&&o.push(r)}),o.length>1?o.join("/"):"/"}function xf(n,e,o,l){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(n){return n.filter((e,o)=>o===0||e.route.path&&e.route.path.length>0)}function Ly(n){let e=OS(n);return e.map((o,l)=>l===e.length-1?o.pathname:o.pathnameBase)}function Dy(n,e,o,l=!1){let r;typeof n=="string"?r=is(n):(r={...n},At(!r.pathname||!r.pathname.includes("?"),xf("?","pathname","search",r)),At(!r.pathname||!r.pathname.includes("#"),xf("#","pathname","hash",r)),At(!r.search||!r.search.includes("#"),xf("#","search","hash",r)));let s=n===""||r.pathname==="",c=s?"/":r.pathname,f;if(c==null)f=o;else{let x=e.length-1;if(!l&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;r.pathname=b.join("/")}f=x>=0?e[x]:"/"}let p=BS(r,f),h=c&&c!=="/"&&c.endsWith("/"),g=(s||c===".")&&o.endsWith("/");return!p.pathname.endsWith("/")&&(h||g)&&(p.pathname+="/"),p}var Qi=n=>n.join("/").replace(/\/\/+/g,"/"),VS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function jS(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Py=["POST","PUT","PATCH","DELETE"];new Set(Py);var qS=["GET",...Py];new Set(qS);var os=G.createContext(null);os.displayName="DataRouter";var tu=G.createContext(null);tu.displayName="DataRouterState";G.createContext(!1);var Uy=G.createContext({isTransitioning:!1});Uy.displayName="ViewTransition";var YS=G.createContext(new Map);YS.displayName="Fetchers";var $S=G.createContext(null);$S.displayName="Await";var fi=G.createContext(null);fi.displayName="Navigation";var da=G.createContext(null);da.displayName="Location";var wi=G.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var ad=G.createContext(null);ad.displayName="RouteError";function JS(n,{relative:e}={}){At(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:l}=G.useContext(fi),{hash:r,pathname:s,search:c}=pa(n,{relative:e}),f=s;return o!=="/"&&(f=s==="/"?o:Qi([o,s])),l.createHref({pathname:f,search:c,hash:r})}function ha(){return G.useContext(da)!=null}function Do(){return At(ha(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(da).location}var Gy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function By(n){G.useContext(fi).static||G.useLayoutEffect(n)}function XS(){let{isDataRoute:n}=G.useContext(wi);return n?cb():KS()}function KS(){At(ha(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(os),{basename:e,navigator:o}=G.useContext(fi),{matches:l}=G.useContext(wi),{pathname:r}=Do(),s=JSON.stringify(Ly(l)),c=G.useRef(!1);return By(()=>{c.current=!0}),G.useCallback((p,h={})=>{if(ci(c.current,Gy),!c.current)return;if(typeof p=="number"){o.go(p);return}let g=Dy(p,JSON.parse(s),r,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qi([e,g.pathname])),(h.replace?o.replace:o.push)(g,h.state,h)},[e,o,s,r,n])}var WS=G.createContext(null);function QS(n){let e=G.useContext(wi).outlet;return G.useMemo(()=>e&&G.createElement(WS.Provider,{value:n},e),[e,n])}function pa(n,{relative:e}={}){let{matches:o}=G.useContext(wi),{pathname:l}=Do(),r=JSON.stringify(Ly(o));return G.useMemo(()=>Dy(n,JSON.parse(r),l,e==="path"),[n,r,l,e])}function ZS(n,e){return Oy(n,e)}function Oy(n,e,o,l,r){var U;At(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=G.useContext(fi),{matches:c}=G.useContext(wi),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let D=x&&x.path||"";Vy(h,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Do(),y;if(e){let D=typeof e=="string"?is(e):e;At(g==="/"||((U=D.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),y=D}else y=b;let E=y.pathname||"/",w=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=Ry(n,{pathname:w});ci(x||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=ob(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Qi([g,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Qi([g,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,o,l,r);return e&&R?G.createElement(da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},R):R}function eb(){let n=ub(),e=FS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,l="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:l},s={padding:"2px 4px",backgroundColor:l},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),o?G.createElement("pre",{style:r},o):null,c)}var tb=G.createElement(eb,null),nb=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(wi.Provider,{value:this.props.routeContext},G.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:n,match:e,children:o}){let l=G.useContext(os);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(wi.Provider,{value:n},o)}function ob(n,e=[],o=null,l=null,r=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(e.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let s=n,c=o==null?void 0:o.errors;if(c!=null){let g=s.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);At(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let f=!1,p=-1;if(o)for(let g=0;g<s.length;g++){let x=s[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=g),x.route.id){let{loaderData:b,errors:y}=o,E=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||E){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}let h=o&&l?(g,x)=>{var b,y;l(g,{location:o.location,params:((y=(b=o.matches)==null?void 0:b[0])==null?void 0:y.params)??{},unstable_pattern:jS(o.matches),errorInfo:x})}:void 0;return s.reduceRight((g,x,b)=>{let y,E=!1,w=null,C=null;o&&(y=c&&x.route.id?c[x.route.id]:void 0,w=x.route.errorElement||tb,f&&(p<0&&b===0?(Vy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):p===b&&(E=!0,C=x.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,b+1)),U=()=>{let D;return y?D=w:E?D=C:x.route.Component?D=G.createElement(x.route.Component,null):x.route.element?D=x.route.element:D=g,G.createElement(ib,{match:x,routeContext:{outlet:g,matches:R,isDataRoute:o!=null},children:D})};return o&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?G.createElement(nb,{location:o.location,revalidation:o.revalidation,component:w,error:y,children:U(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:h}):U()},null)}function rd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(n){let e=G.useContext(os);return At(e,rd(n)),e}function sb(n){let e=G.useContext(tu);return At(e,rd(n)),e}function ab(n){let e=G.useContext(wi);return At(e,rd(n)),e}function ud(n){let e=ab(n),o=e.matches[e.matches.length-1];return At(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function rb(){return ud("useRouteId")}function ub(){var l;let n=G.useContext(ad),e=sb("useRouteError"),o=ud("useRouteError");return n!==void 0?n:(l=e.errors)==null?void 0:l[o]}function cb(){let{router:n}=lb("useNavigate"),e=ud("useNavigate"),o=G.useRef(!1);return By(()=>{o.current=!0}),G.useCallback(async(r,s={})=>{ci(o.current,Gy),o.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var Tm={};function Vy(n,e,o){!e&&!Tm[n]&&(Tm[n]=!0,ci(!1,o))}G.memo(fb);function fb({routes:n,future:e,state:o,unstable_onError:l}){return Oy(n,void 0,o,l,e)}function Em(n){return QS(n.context)}function Mn(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function db({basename:n="/",children:e=null,location:o,navigationType:l="POP",navigator:r,static:s=!1,unstable_useTransitions:c}){At(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:r,static:s,unstable_useTransitions:c,future:{}}),[f,r,s,c]);typeof o=="string"&&(o=is(o));let{pathname:h="/",search:g="",hash:x="",state:b=null,key:y="default"}=o,E=G.useMemo(()=>{let w=Zi(h,f);return w==null?null:{location:{pathname:w,search:g,hash:x,state:b,key:y},navigationType:l}},[f,h,g,x,b,y,l]);return ci(E!=null,`<Router basename="${f}"> is not able to match the URL "${h}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:G.createElement(fi.Provider,{value:p},G.createElement(da.Provider,{children:e,value:E}))}function hb({children:n,location:e}){return ZS(Of(n),e)}function Of(n,e=[]){let o=[];return G.Children.forEach(n,(l,r)=>{if(!G.isValidElement(l))return;let s=[...e,r];if(l.type===G.Fragment){o.push.apply(o,Of(l.props.children,s));return}At(l.type===Mn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!l.props.index||!l.props.children,"An index route cannot have child routes.");let c={id:l.props.id||s.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(c.children=Of(l.props.children,s)),o.push(c)}),o}var Br="get",Or="application/x-www-form-urlencoded";function nu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function pb(n){return nu(n)&&n.tagName.toLowerCase()==="button"}function mb(n){return nu(n)&&n.tagName.toLowerCase()==="form"}function gb(n){return nu(n)&&n.tagName.toLowerCase()==="input"}function yb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vb(n,e){return n.button===0&&(!e||e==="_self")&&!yb(n)}var Cr=null;function xb(){if(Cr===null)try{new FormData(document.createElement("form"),0),Cr=!1}catch{Cr=!0}return Cr}var Sb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(n){return n!=null&&!Sb.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Or}"`),null):n}function bb(n,e){let o,l,r,s,c;if(mb(n)){let f=n.getAttribute("action");l=f?Zi(f,e):null,o=n.getAttribute("method")||Br,r=Sf(n.getAttribute("enctype"))||Or,s=new FormData(n)}else if(pb(n)||gb(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(l=p?Zi(p,e):null,o=n.getAttribute("formmethod")||f.getAttribute("method")||Br,r=Sf(n.getAttribute("formenctype"))||Sf(f.getAttribute("enctype"))||Or,s=new FormData(f,n),!xb()){let{name:h,type:g,value:x}=n;if(g==="image"){let b=h?`${h}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else h&&s.append(h,x)}}else{if(nu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Br,l=null,r=Or,c=n}return s&&r==="text/plain"&&(c=s,s=void 0),{action:l,method:o.toLowerCase(),encType:r,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cd(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tb(n,e,o){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l.pathname==="/"?l.pathname=`_root.${o}`:e&&Zi(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function Eb(n,e){if(n.id in e)return e[n.id];try{let o=await import(n.module);return e[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Cb(n,e,o){let l=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let c=await Eb(s,o);return c.links?c.links():[]}return[]}));return _b(l.flat(1).filter(wb).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wm(n,e,o,l,r,s){let c=(p,h)=>o[h]?p.route.id!==o[h].route.id:!0,f=(p,h)=>{var g;return o[h].pathname!==p.pathname||((g=o[h].route.path)==null?void 0:g.endsWith("*"))&&o[h].params["*"]!==p.params["*"]};return s==="assets"?e.filter((p,h)=>c(p,h)||f(p,h)):s==="data"?e.filter((p,h)=>{var x;let g=l.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((x=o[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nb(n,e,{includeHydrateFallback:o}={}){return Ab(n.map(l=>{let r=e.routes[l.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),o&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function Ab(n){return[...new Set(n)]}function Mb(n){let e={},o=Object.keys(n).sort();for(let l of o)e[l]=n[l];return e}function _b(n,e){let o=new Set;return new Set(e),n.reduce((l,r)=>{let s=JSON.stringify(Mb(r));return o.has(s)||(o.add(s),l.push({key:s,link:r})),l},[])}function Hy(){let n=G.useContext(os);return cd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Rb(){let n=G.useContext(tu);return cd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fd=G.createContext(void 0);fd.displayName="FrameworkContext";function zy(){let n=G.useContext(fd);return cd(n,"You must render this element inside a <HydratedRouter> element"),n}function Ib(n,e){let o=G.useContext(fd),[l,r]=G.useState(!1),[s,c]=G.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:g,onTouchStart:x}=e,b=G.useRef(null);G.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let w=R=>{R.forEach(U=>{c(U.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),G.useEffect(()=>{if(l){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[l]);let y=()=>{r(!0)},E=()=>{r(!1),c(!1)};return o?n!=="intent"?[s,b,{}]:[s,b,{onFocus:ia(f,y),onBlur:ia(p,E),onMouseEnter:ia(h,y),onMouseLeave:ia(g,E),onTouchStart:ia(x,y)}]:[!1,b,{}]}function ia(n,e){return o=>{n&&n(o),o.defaultPrevented||e(o)}}function kb({page:n,...e}){let{router:o}=Hy(),l=G.useMemo(()=>Ry(o.routes,n,o.basename),[o.routes,n,o.basename]);return l?G.createElement(Db,{page:n,matches:l,...e}):null}function Lb(n){let{manifest:e,routeModules:o}=zy(),[l,r]=G.useState([]);return G.useEffect(()=>{let s=!1;return Cb(n,e,o).then(c=>{s||r(c)}),()=>{s=!0}},[n,e,o]),l}function Db({page:n,matches:e,...o}){let l=Do(),{manifest:r,routeModules:s}=zy(),{basename:c}=Hy(),{loaderData:f,matches:p}=Rb(),h=G.useMemo(()=>wm(n,e,p,r,l,"data"),[n,e,p,r,l]),g=G.useMemo(()=>wm(n,e,p,r,l,"assets"),[n,e,p,r,l]),x=G.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let E=new Set,w=!1;if(e.forEach(R=>{var D;let U=r.routes[R.route.id];!U||!U.hasLoader||(!h.some(V=>V.route.id===R.route.id)&&R.route.id in f&&((D=s[R.route.id])!=null&&D.shouldRevalidate)||U.hasClientLoader?w=!0:E.add(R.route.id))}),E.size===0)return[];let C=Tb(n,c,"data");return w&&E.size>0&&C.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[c,f,l,r,h,e,n,s]),b=G.useMemo(()=>Nb(g,r),[g,r]),y=Lb(g);return G.createElement(G.Fragment,null,x.map(E=>G.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...o})),b.map(E=>G.createElement("link",{key:E,rel:"modulepreload",href:E,...o})),y.map(({key:E,link:w})=>G.createElement("link",{key:E,nonce:o.nonce,...w})))}function Pb(...n){return e=>{n.forEach(o=>{typeof o=="function"?o(e):o!=null&&(o.current=e)})}}var Fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fy&&(window.__reactRouterVersion="7.10.1")}catch{}function Ub({basename:n,children:e,unstable_useTransitions:o,window:l}){let r=G.useRef();r.current==null&&(r.current=xS({window:l,v5Compat:!0}));let s=r.current,[c,f]=G.useState({action:s.action,location:s.location}),p=G.useCallback(h=>{o===!1?f(h):G.startTransition(()=>f(h))},[o]);return G.useLayoutEffect(()=>s.listen(p),[s,p]),G.createElement(db,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:o===!0})}var jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ma=G.forwardRef(function({onClick:e,discover:o="render",prefetch:l="none",relative:r,reloadDocument:s,replace:c,state:f,target:p,to:h,preventScrollReset:g,viewTransition:x,...b},y){let{basename:E,unstable_useTransitions:w}=G.useContext(fi),C=typeof h=="string"&&jy.test(h),R,U=!1;if(typeof h=="string"&&C&&(R=h,Fy))try{let k=new URL(window.location.href),q=h.startsWith("//")?new URL(k.protocol+h):new URL(h),P=Zi(q.pathname,E);q.origin===k.origin&&P!=null?h=P+q.search+q.hash:U=!0}catch{ci(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=JS(h,{relative:r}),[V,A,M]=Ib(l,b),L=Vb(h,{replace:c,state:f,target:p,preventScrollReset:g,relative:r,viewTransition:x,unstable_useTransitions:w});function I(k){e&&e(k),k.defaultPrevented||L(k)}let B=G.createElement("a",{...b,...M,href:R||D,onClick:U||s?e:I,ref:Pb(y,A),target:p,"data-discover":!C&&o==="render"?"true":void 0});return V&&!C?G.createElement(G.Fragment,null,B,G.createElement(kb,{page:D})):B});ma.displayName="Link";var Gb=G.forwardRef(function({"aria-current":e="page",caseSensitive:o=!1,className:l="",end:r=!1,style:s,to:c,viewTransition:f,children:p,...h},g){let x=pa(c,{relative:h.relative}),b=Do(),y=G.useContext(tu),{navigator:E,basename:w}=G.useContext(fi),C=y!=null&&qb(x)&&f===!0,R=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,U=b.pathname,D=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(U=U.toLowerCase(),D=D?D.toLowerCase():null,R=R.toLowerCase()),D&&w&&(D=Zi(D,w)||D);const V=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let A=U===R||!r&&U.startsWith(R)&&U.charAt(V)==="/",M=D!=null&&(D===R||!r&&D.startsWith(R)&&D.charAt(R.length)==="/"),L={isActive:A,isPending:M,isTransitioning:C},I=A?e:void 0,B;typeof l=="function"?B=l(L):B=[l,A?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(L):s;return G.createElement(ma,{...h,"aria-current":I,className:B,ref:g,style:k,to:c,viewTransition:f},typeof p=="function"?p(L):p)});Gb.displayName="NavLink";var Bb=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:o,reloadDocument:l,replace:r,state:s,method:c=Br,action:f,onSubmit:p,relative:h,preventScrollReset:g,viewTransition:x,...b},y)=>{let{unstable_useTransitions:E}=G.useContext(fi),w=Fb(),C=jb(f,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&jy.test(f),D=V=>{if(p&&p(V),V.defaultPrevented)return;V.preventDefault();let A=V.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||c,L=()=>w(A||V.currentTarget,{fetcherKey:e,method:M,navigate:o,replace:r,state:s,relative:h,preventScrollReset:g,viewTransition:x});E&&o!==!1?G.startTransition(()=>L()):L()};return G.createElement("form",{ref:y,method:R,action:C,onSubmit:l?p:D,...b,"data-discover":!U&&n==="render"?"true":void 0})});Bb.displayName="Form";function Ob(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qy(n){let e=G.useContext(os);return At(e,Ob(n)),e}function Vb(n,{target:e,replace:o,state:l,preventScrollReset:r,relative:s,viewTransition:c,unstable_useTransitions:f}={}){let p=XS(),h=Do(),g=pa(n,{relative:s});return G.useCallback(x=>{if(vb(x,e)){x.preventDefault();let b=o!==void 0?o:ca(h)===ca(g),y=()=>p(n,{replace:b,state:l,preventScrollReset:r,relative:s,viewTransition:c});f?G.startTransition(()=>y()):y()}},[h,p,g,o,l,e,n,r,s,c,f])}var Hb=0,zb=()=>`__${String(++Hb)}__`;function Fb(){let{router:n}=qy("useSubmit"),{basename:e}=G.useContext(fi),o=rb(),l=n.fetch,r=n.navigate;return G.useCallback(async(s,c={})=>{let{action:f,method:p,encType:h,formData:g,body:x}=bb(s,e);if(c.navigate===!1){let b=c.fetcherKey||zb();await l(b,o,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await r(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:o,flushSync:c.flushSync,viewTransition:c.viewTransition})},[l,r,e,o])}function jb(n,{relative:e}={}){let{basename:o}=G.useContext(fi),l=G.useContext(wi);At(l,"useFormAction must be used inside a RouteContext");let[r]=l.matches.slice(-1),s={...pa(n||".",{relative:e})},c=Do();if(n==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();s.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(s.pathname=s.pathname==="/"?o:Qi([o,s.pathname])),ca(s)}function qb(n,{relative:e}={}){let o=G.useContext(Uy);At(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=qy("useViewTransitionState"),r=pa(n,{relative:e});if(!o.isTransitioning)return!1;let s=Zi(o.currentLocation.pathname,l)||o.currentLocation.pathname,c=Zi(o.nextLocation.pathname,l)||o.nextLocation.pathname;return Yr(r.pathname,c)!=null||Yr(r.pathname,s)!=null}const Yy=G.createContext(void 0),Yb=({children:n})=>{const[e,o]=G.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("theme");return r==="dark"||r==="light"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});G.useEffect(()=>{const r=window.document.documentElement;r.classList.remove(e==="dark"?"light":"dark"),r.classList.add(e),localStorage.setItem("theme",e)},[e]);const l=()=>{o(r=>r==="light"?"dark":"light")};return d.jsx(Yy.Provider,{value:{theme:e,toggleTheme:l},children:n})},$b=()=>{const n=G.useContext(Yy);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,l)=>l?l.toUpperCase():o.toLowerCase()),Cm=n=>{const e=Xb(n);return e.charAt(0).toUpperCase()+e.slice(1)},$y=(...n)=>n.filter((e,o,l)=>!!e&&e.trim()!==""&&l.indexOf(e)===o).join(" ").trim(),Kb=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=G.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:r="",children:s,iconNode:c,...f},p)=>G.createElement("svg",{ref:p,...Wb,width:e,height:e,stroke:n,strokeWidth:l?Number(o)*24/Number(e):o,className:$y("lucide",r),...!s&&!Kb(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,g])=>G.createElement(h,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,e)=>{const o=G.forwardRef(({className:l,...r},s)=>G.createElement(Qb,{ref:s,iconNode:e,className:$y(`lucide-${Jb(Cm(n))}`,`lucide-${n}`,l),...r}));return o.displayName=Cm(n),o};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nr=Ae("activity",Zb);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Jy=Ae("aperture",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xy=Ae("arrow-left",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vr=Ae("arrow-right",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vf=Ae("book-open",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],sl=Ae("box",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],ua=Ae("brain",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],aT=Ae("calculator",sT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uT=Ae("calendar",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fT=Ae("chevron-right",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ky=Ae("circle-alert",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$r=Ae("circle-check-big",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mT=Ae("circle-check",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]],yT=Ae("circle-off",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xT=Ae("circle-play",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nm=Ae("circle-x",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dd=Ae("clock",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],aa=Ae("coins",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wT=Ae("copy",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Wy=Ae("crosshair",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hd=Ae("crown",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],MT=Ae("fast-forward",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qy=Ae("file-text",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Zy=Ae("flame",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],ev=Ae("footprints",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Wi=Ae("gem",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],tv=Ae("ghost",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],nv=Ae("gift",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],bf=Ae("hammer",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],GT=Ae("hand",UT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],iv=Ae("heart",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],VT=Ae("house",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zT=Ae("info",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ov=Ae("key",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],qT=Ae("keyboard",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$T=Ae("layers",YT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Am=Ae("lightbulb",JT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],KT=Ae("list-checks",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],QT=Ae("list",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jr=Ae("loader-circle",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lv=Ae("lock",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nE=Ae("moon",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],oE=Ae("mouse-pointer-click",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],sE=Ae("move-horizontal",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rE=Ae("package",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],sv=Ae("pause",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fE=Ae("pen-line",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],hE=Ae("pen-tool",dE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mm=Ae("pen",pE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fl=Ae("play",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tf=Ae("plus",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ef=Ae("refresh-ccw",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pd=Ae("rotate-ccw",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SE=Ae("save",xE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],TE=Ae("scroll",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wE=Ae("search",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_m=Ae("settings",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],iu=Ae("shield",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Hf=Ae("shirt",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],_E=Ae("shopping-cart",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],av=Ae("shuffle",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],md=Ae("skull",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Rm=Ae("snowflake",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ul=Ae("sparkles",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Im=Ae("square-check-big",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],km=Ae("square",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lo=Ae("star",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],BE=Ae("sun",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],al=Ae("sword",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xl=Ae("trash-2",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wf=Ae("triangle-alert",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hr=Ae("trophy",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jE=Ae("upload",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fa=Ae("user",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Xr=Ae("volume-2",YE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],JE=Ae("volume-x",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rl=Ae("x",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WE=Ae("zap-off",KE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ns=Ae("zap",QE),ZE=()=>{const{theme:n,toggleTheme:e}=$b();return d.jsx("header",{className:"sticky top-0 z-50 py-4",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"glass-panel px-4 py-3 flex justify-between items-center rounded-2xl",children:[d.jsx(ma,{to:"/",className:"text-decoration-none",children:d.jsxs("h1",{className:"text-xl font-bold text-text-primary hover:opacity-80 transition-opacity duration-300",children:[d.jsx("span",{className:"text-primary font-bold",children:""}),"  "]})}),d.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors","aria-label":"Toggle theme",children:n==="light"?d.jsx(nE,{className:"w-5 h-5 text-text-secondary"}):d.jsx(BE,{className:"w-5 h-5 text-text-secondary"})})]})})})},e2=()=>{const n=new Date().getFullYear();return d.jsx("footer",{className:"bg-surface border-t border-gray-700 mt-16",children:d.jsxs("div",{className:"container mx-auto px-4 py-6 text-center text-text-secondary text-sm",children:[d.jsxs("p",{className:"mb-2",children:[" ",n," Pumpkin Face. All rights reserved."]}),d.jsx("p",{children:"   351 4"})]})})},t2=()=>{const e=Do().pathname!=="/";return d.jsxs("div",{className:"app-container",children:[d.jsx(ZE,{}),e&&d.jsx("div",{className:"container mx-auto px-4 sm:px-8",children:d.jsx(ma,{to:"/",className:"back-to-home-link glass-panel",children:"  "})}),d.jsx("main",{className:"main-content",children:e?d.jsx("div",{className:"glass-panel w-full h-full overflow-hidden flex flex-col",children:d.jsx(Em,{})}):d.jsx(Em,{})}),d.jsx(e2,{})]})},n2=({website:n,onDelete:e,onEdit:o,viewColumns:l})=>{const r=d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:n.thumbnailUrl,alt:n.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),d.jsxs("div",{className:`flex flex-col flex-grow ${l===1?"p-6":"p-4"}`,children:[d.jsx("h3",{className:`font-bold text-text-primary mb-1 truncate ${l===1?"text-xl":"text-base"}`,children:n.name}),d.jsx("p",{className:`text-text-secondary flex-grow line-clamp-3 ${l===1?"text-base":"text-xs"}`,children:n.description})]}),d.jsx("div",{className:`pt-0 mt-auto ${l===1?"p-5":"p-3"}`,children:d.jsx("div",{className:"border-t border-border pt-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})]}),s="glass-panel overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-primary/20 hover:shadow-2xl flex flex-col group";return n.path?d.jsx(ma,{to:n.path,className:s,children:r}):d.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:s,children:r})},i2=({websites:n,onDelete:e,onEdit:o})=>n.length===0?d.jsxs("div",{className:"text-center py-20 bg-surface rounded-lg glass-panel mt-8",children:[d.jsx("h3",{className:"text-2xl font-semibold text-text-primary",children:"  ."}),d.jsx("p",{className:"text-text-secondary mt-2",children:"      ."})]}):d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem",marginTop:"2rem"},children:n.map(l=>d.jsx(n2,{website:l,onDelete:e,onEdit:o},l.id))}),o2=({isOpen:n,onClose:e,onAdd:o})=>{const[l,r]=G.useState(""),[s,c]=G.useState(""),[f,p]=G.useState(""),[h,g]=G.useState("");G.useEffect(()=>{n&&(r(""),c(""),p(""),g(""))},[n]);const x=b=>{b.preventDefault(),l.trim()&&s.trim()&&h.trim()&&o({name:l,description:s,category:f,url:h})};return n?d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300",onClick:e,children:[d.jsxs("div",{className:"bg-surface rounded-lg shadow-2xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-up",onClick:b=>b.stopPropagation(),children:[d.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"  "}),d.jsxs("form",{onSubmit:x,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"website-name",className:"block text-text-secondary text-sm font-bold mb-2",children:" "}),d.jsx("input",{id:"website-name",type:"text",value:l,onChange:b=>r(b.target.value),placeholder:":   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"website-url",className:"block text-text-secondary text-sm font-bold mb-2",children:"URL"}),d.jsx("input",{id:"website-url",type:"url",value:h,onChange:b=>g(b.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"website-category",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),d.jsxs("select",{id:"website-category",value:f,onChange:b=>p(b.target.value),className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"website-description",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),d.jsx("textarea",{id:"website-description",value:s,onChange:b=>c(b.target.value),placeholder:"   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24 resize-none",required:!0})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400",children:""}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:" "})]})]})]}),d.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            transform: translateY(20px) scale(0.95);
            opacity: 0;
          }
          to {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},l2=({isOpen:n,onClose:e,onUpdate:o,website:l})=>{const[r,s]=G.useState(""),[c,f]=G.useState(""),[p,h]=G.useState(""),[g,x]=G.useState("");G.useEffect(()=>{n&&l&&(s(l.name),f(l.description),h(l.category),x(l.url))},[n,l]);const b=y=>{y.preventDefault(),r.trim()&&c.trim()&&g.trim()&&l&&o({...l,name:r,description:c,category:p,url:g})};return n?d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 transition-opacity duration-300",onClick:e,children:[d.jsxs("div",{className:"bg-surface rounded-lg shadow-2xl p-8 w-full max-w-md m-4 transform transition-all duration-300 scale-95 opacity-0 animate-fade-in-up",onClick:y=>y.stopPropagation(),children:[d.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:" "}),d.jsxs("form",{onSubmit:b,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"edit-website-name",className:"block text-text-secondary text-sm font-bold mb-2",children:" "}),d.jsx("input",{id:"edit-website-name",type:"text",value:r,onChange:y=>s(y.target.value),placeholder:":   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"edit-website-url",className:"block text-text-secondary text-sm font-bold mb-2",children:"URL"}),d.jsx("input",{id:"edit-website-url",type:"url",value:g,onChange:y=>x(y.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"edit-website-category",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),d.jsxs("select",{id:"edit-website-category",value:p,onChange:y=>h(y.target.value),className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"",children:""})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"edit-website-description",className:"block text-text-secondary text-sm font-bold mb-2",children:""}),d.jsx("textarea",{id:"edit-website-description",value:c,onChange:y=>f(y.target.value),placeholder:"   ",className:"w-full px-3 py-2 text-text-primary bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24 resize-none",required:!0})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400",children:""}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:" "})]})]})]}),d.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            transform: translateY(20px) scale(0.95);
            opacity: 0;
          }
          to {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},s2=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),a2=["","","",""],r2=({activeCategory:n,onCategoryChange:e})=>d.jsx("div",{className:"container mx-auto px-4 mt-4",children:d.jsx("div",{className:"glass-panel rounded-2xl p-1",children:d.jsx("ul",{className:"flex items-center justify-around",children:a2.map(o=>d.jsx("li",{className:"flex-1 text-center",children:d.jsx("button",{onClick:()=>e(o),className:`w-full py-2.5 text-sm font-semibold rounded-[18px] transition-all duration-300 ${n===o?"bg-primary text-white shadow-md":"text-text-secondary hover:text-text-primary"}`,children:o})},o))})})}),u2=()=>{const[n,e]=G.useState([{id:"1",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/neonbreaker/500/300",category:"",url:"#",path:"/neonbreaker"},{id:"2",name:"AI  ",description:"AI      .",thumbnailUrl:"https://picsum.photos/seed/tryon/500/300",category:"",url:"#",path:"/virtual-try-on"},{id:"3",name:"AIVOCA ",description:"AI       .",thumbnailUrl:"https://picsum.photos/seed/aivoca/500/300",category:"",url:"#",path:"/aivoca"},{id:"4",name:"",description:"     .",thumbnailUrl:"https://picsum.photos/seed/survivor/500/300",category:"",url:"#",path:"/survivor-game"},{id:"5",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/drawbridge/500/300",category:"",url:"#",path:"/drawbridgegame"},{id:"6",name:"  ",description:"      .",thumbnailUrl:"https://picsum.photos/seed/subwayrunner/500/300",category:"",url:"#",path:"/subway-runner"},{id:"7",name:" ",description:"     .",thumbnailUrl:"https://picsum.photos/seed/slicegame/500/300",category:"",url:"#",path:"/slice-game"},{id:"8",name:"  ",description:"       .",thumbnailUrl:"https://picsum.photos/seed/neonstack/500/300",category:"",url:"#",path:"/neon-stack"},{id:"9",name:" ",description:"     .",thumbnailUrl:"https://picsum.photos/seed/genart/500/300",category:"",url:"#",path:"/generative-art"},{id:"10",name:"  ",description:"      .  !",thumbnailUrl:"https://picsum.photos/seed/kinetic/500/300",category:"",url:"#",path:"/kinetic-typo"}]),[o,l]=G.useState(!1),[r,s]=G.useState(!1),[c,f]=G.useState(null),[p,h]=G.useState(""),g=G.useCallback(()=>{l(!0)},[]),x=G.useCallback(()=>{l(!1)},[]),b=G.useCallback(D=>{f(D),s(!0)},[]),y=G.useCallback(()=>{s(!1),f(null)},[]),E=G.useCallback(D=>{const V={...D,id:new Date().toISOString(),thumbnailUrl:`https://picsum.photos/seed/${Math.random()}/500/300`};e(A=>[V,...A]),x()},[x]),w=G.useCallback(D=>{e(V=>V.map(A=>A.id===D.id?D:A)),y()},[y]),C=G.useCallback(D=>{e(V=>V.filter(A=>A.id!==D))},[]),R=D=>{h(D)},U=G.useMemo(()=>p===""?n:n.filter(D=>D.category===p),[n,p]);return d.jsxs(d.Fragment,{children:[d.jsx(r2,{activeCategory:p,onCategoryChange:R}),d.jsxs("div",{className:"main-header mt-8 px-4 flex justify-between items-center",children:[d.jsx("h2",{className:"main-title",children:" "}),d.jsx("button",{onClick:g,className:"add-website-button",children:d.jsx(s2,{})})]}),d.jsx(i2,{websites:U,onDelete:C,onEdit:b}),d.jsx(o2,{isOpen:o,onClose:x,onAdd:E}),d.jsx(l2,{isOpen:r,onClose:y,onUpdate:w,website:c})]})};var zf=(n=>(n.MULTI_BALL="MULTI_BALL",n))(zf||{}),en=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.PAUSED="PAUSED",n.GAME_OVER="GAME_OVER",n.VICTORY="VICTORY",n))(en||{});const jn={BACKGROUND:"#0f172a",PADDLE:"#38bdf8",BALL:"#ffffff",BRICK_TIER_1:"#ef4444",BRICK_TIER_2:"#f59e0b",BRICK_TIER_3:"#10b981",ITEM_MULTI:"#e879f9",BRICK_TEXT:"#ffffff"},ot={CANVAS_WIDTH:800,CANVAS_HEIGHT:600,PADDLE_WIDTH:100,PADDLE_HEIGHT:16,BALL_RADIUS:6,BALL_SPEED_BASE:5,BALL_SPEED_MAX:10,BRICK_ROWS:6,BRICK_COLS:8,BRICK_PADDING:8,BRICK_OFFSET_TOP:60,LIVES_START:3,ITEM_DROP_CHANCE:.2,ITEM_FALL_SPEED:3,ITEM_SIZE:20};let c2=class{constructor(){this.audioCtx=null,this.masterGain=null,this.isMuted=!1}init(){this.audioCtx||(this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioCtx.createGain(),this.masterGain.connect(this.audioCtx.destination),this.masterGain.gain.value=.3)}setVolume(e){this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:e)}toggleMute(){return this.isMuted=!this.isMuted,this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:.3),this.isMuted}playTone(e,o,l,r=0){if(this.init(),!this.audioCtx||!this.masterGain)return;const s=this.audioCtx.createOscillator(),c=this.audioCtx.createGain();s.type=o,s.frequency.setValueAtTime(e,this.audioCtx.currentTime+r),c.gain.setValueAtTime(.1,this.audioCtx.currentTime+r),c.gain.exponentialRampToValueAtTime(.001,this.audioCtx.currentTime+r+l),s.connect(c),c.connect(this.masterGain),s.start(this.audioCtx.currentTime+r),s.stop(this.audioCtx.currentTime+r+l)}playPaddleHit(){this.playTone(440,"sine",.1),this.playTone(880,"triangle",.05)}playBrickHit(e){const o=500+e*200;this.playTone(o,"square",.1)}playWallHit(){this.playTone(200,"sine",.05)}playLostLife(){this.playTone(150,"sawtooth",.4),this.playTone(100,"sawtooth",.4,.2)}playWin(){this.playTone(440,"sine",.2,0),this.playTone(554,"sine",.2,0+.1),this.playTone(659,"sine",.4,0+.2),this.playTone(880,"square",.6,0+.3)}playItemSpawn(){this.playTone(1200,"sine",.2),this.playTone(1500,"sine",.2,.1)}playPowerUp(){this.playTone(300,"square",.1,0),this.playTone(600,"square",.1,0+.1),this.playTone(900,"square",.2,0+.2)}};const Ji=new c2,f2=()=>{const n=G.useRef(null),e=G.useRef(0),[o,l]=G.useState(en.MENU),[r,s]=G.useState(0),[c,f]=G.useState(ot.LIVES_START),[p,h]=G.useState(!1),[g,x]=G.useState(!1),b=G.useRef([]),y=G.useRef({pos:{x:ot.CANVAS_WIDTH/2-ot.PADDLE_WIDTH/2,y:ot.CANVAS_HEIGHT-40},width:ot.PADDLE_WIDTH,height:ot.PADDLE_HEIGHT,color:jn.PADDLE}),E=G.useRef([]),w=G.useRef([]),C=G.useRef([]),R=G.useCallback(()=>{const k=[],q=ot.BRICK_ROWS,P=ot.BRICK_COLS,H=(ot.CANVAS_WIDTH-(P+1)*ot.BRICK_PADDING)/P,K=30;for(let J=0;J<q;J++)for(let Y=0;Y<P;Y++){const Z=Math.ceil((q-J)/2);let ie=jn.BRICK_TIER_1;Z===2&&(ie=jn.BRICK_TIER_2),Z===3&&(ie=jn.BRICK_TIER_3);const de=Math.random()<ot.ITEM_DROP_CHANCE;k.push({id:`${J}-${Y}`,pos:{x:Y*(H+ot.BRICK_PADDING)+ot.BRICK_PADDING,y:J*(K+ot.BRICK_PADDING)+ot.BRICK_OFFSET_TOP},width:H,height:K,value:Z,status:Z,maxHealth:Z,color:ie,itemType:de?zf.MULTI_BALL:null})}E.current=k,C.current=[],w.current=[]},[]),U=G.useCallback(()=>{b.current=[{id:"primary",pos:{x:y.current.pos.x+y.current.width/2,y:y.current.pos.y-20},vel:{x:0,y:0},radius:ot.BALL_RADIUS,active:!1,speed:ot.BALL_SPEED_BASE}]},[]),D=G.useCallback(()=>{const k=b.current[0];if(k&&!k.active){k.active=!0;const q=Math.random()>.5?1:-1;k.vel={x:4*q,y:-4}}},[]),V=()=>{s(0),f(ot.LIVES_START),R(),U(),l(en.PLAYING)},A=G.useCallback((k,q,P)=>{C.current.push({id:Math.random().toString(36),pos:{x:k,y:q},vel:{x:0,y:ot.ITEM_FALL_SPEED},type:P,width:ot.ITEM_SIZE,height:ot.ITEM_SIZE,active:!0}),Ji.playItemSpawn()},[]),M=G.useCallback(k=>{if(Ji.playPowerUp(),k===zf.MULTI_BALL){const q=[...b.current],P=[];q.forEach(H=>{H.active&&(P.push({id:Math.random().toString(36),pos:{...H.pos},vel:{x:-H.vel.x,y:H.vel.y},radius:H.radius,active:!0,speed:H.speed}),P.push({id:Math.random().toString(36),pos:{...H.pos},vel:{x:H.vel.x*.5,y:H.vel.y*1.2},radius:H.radius,active:!0,speed:H.speed}))}),b.current=[...b.current,...P]}},[]),L=(k,q,P,H)=>{for(let K=0;K<H;K++)w.current.push({id:Math.random().toString(36),pos:{x:k,y:q},vel:{x:(Math.random()-.5)*4,y:(Math.random()-.5)*4},life:1,color:P,size:Math.random()*3+1})},I=G.useCallback(()=>{const k=y.current,q=E.current;for(let P=C.current.length-1;P>=0;P--){const H=C.current[P];if(H.pos.y+=H.vel.y,H.pos.y+H.height>=k.pos.y&&H.pos.y<=k.pos.y+k.height&&H.pos.x+H.width>=k.pos.x&&H.pos.x<=k.pos.x+k.width){M(H.type),C.current.splice(P,1);continue}H.pos.y>ot.CANVAS_HEIGHT&&C.current.splice(P,1)}for(let P=b.current.length-1;P>=0;P--){const H=b.current[P];if(H.active?(H.pos.x+=H.vel.x,H.pos.y+=H.vel.y):(H.pos.x=k.pos.x+k.width/2,H.pos.y=k.pos.y-H.radius-2),(H.pos.x+H.radius>ot.CANVAS_WIDTH||H.pos.x-H.radius<0)&&(H.vel.x*=-1,Ji.playWallHit()),H.pos.y-H.radius<0&&(H.vel.y*=-1,Ji.playWallHit()),H.pos.y+H.radius>ot.CANVAS_HEIGHT){b.current.splice(P,1),b.current.length===0&&f(K=>{const J=K-1;return J<=0?l(en.GAME_OVER):(U(),Ji.playLostLife()),J});continue}if(H.pos.y+H.radius>=k.pos.y&&H.pos.y-H.radius<=k.pos.y+k.height&&H.pos.x>=k.pos.x&&H.pos.x<=k.pos.x+k.width&&H.vel.y>0){H.vel.y*=-1;const K=H.pos.x-(k.pos.x+k.width/2);H.vel.x=K*.15,Math.sqrt(H.vel.x**2+H.vel.y**2)<ot.BALL_SPEED_MAX&&(H.vel.x*=1.05,H.vel.y*=1.05),Ji.playPaddleHit(),L(H.pos.x,H.pos.y,jn.PADDLE,5)}for(let K=0;K<q.length;K++){const J=q[K];if(J.status>0&&H.pos.x>J.pos.x&&H.pos.x<J.pos.x+J.width&&H.pos.y>J.pos.y&&H.pos.y<J.pos.y+J.height){H.vel.y*=-1,J.status--,Ji.playBrickHit(J.status),L(H.pos.x,H.pos.y,J.color,5),s(Y=>Y+10*J.value),J.status<=0&&J.itemType&&A(J.pos.x+J.width/2,J.pos.y+J.height/2,J.itemType);break}}}E.current.length>0&&q.every(P=>P.status<=0)&&(l(en.VICTORY),Ji.playWin());for(let P=w.current.length-1;P>=0;P--){const H=w.current[P];H.pos.x+=H.vel.x,H.pos.y+=H.vel.y,H.life-=.02,H.vel.y+=.1,H.life<=0&&w.current.splice(P,1)}},[U,M,A]),B=G.useCallback(k=>{k.fillStyle=jn.BACKGROUND,k.fillRect(0,0,ot.CANVAS_WIDTH,ot.CANVAS_HEIGHT),k.font="bold 14px monospace",k.textAlign="center",k.textBaseline="middle",E.current.forEach(P=>{P.status>0&&(k.fillStyle=P.color,k.shadowBlur=P.status*3,k.shadowColor=P.color,k.fillRect(P.pos.x,P.pos.y,P.width,P.height),k.shadowBlur=0,k.fillStyle="rgba(255,255,255,0.1)",k.fillRect(P.pos.x,P.pos.y,P.width,P.height/2),P.itemType&&(k.beginPath(),k.arc(P.pos.x+10,P.pos.y+10,4,0,Math.PI*2),k.fillStyle=jn.ITEM_MULTI,k.fill(),k.strokeStyle="white",k.lineWidth=1,k.stroke()),k.fillStyle=jn.BRICK_TEXT,k.fillText(P.status.toString(),P.pos.x+P.width/2,P.pos.y+P.height/2))}),C.current.forEach(P=>{k.shadowBlur=10,k.shadowColor=jn.ITEM_MULTI,k.fillStyle=jn.ITEM_MULTI,k.beginPath(),k.roundRect(P.pos.x,P.pos.y,P.width,P.height,5),k.fill(),k.fillStyle="white",k.font="10px Arial",k.fillText("x3",P.pos.x+P.width/2,P.pos.y+P.height/2),k.shadowBlur=0});const q=y.current;k.fillStyle=q.color,k.shadowBlur=15,k.shadowColor=q.color,k.beginPath(),k.roundRect(q.pos.x,q.pos.y,q.width,q.height,8),k.fill(),k.shadowBlur=0,b.current.forEach(P=>{k.beginPath(),k.arc(P.pos.x,P.pos.y,P.radius,0,Math.PI*2),k.fillStyle=jn.BALL,k.shadowBlur=10,k.shadowColor=jn.BALL,k.fill(),k.closePath(),k.shadowBlur=0}),w.current.forEach(P=>{k.globalAlpha=P.life,k.fillStyle=P.color,k.beginPath(),k.arc(P.pos.x,P.pos.y,P.size,0,Math.PI*2),k.fill(),k.globalAlpha=1})},[]);return G.useEffect(()=>{const k=n.current;if(!k)return;const q=k.getContext("2d");if(!q)return;const P=()=>{o===en.PLAYING&&(I(),B(q),e.current=requestAnimationFrame(P))};return o===en.PLAYING?(D(),e.current=requestAnimationFrame(P)):B(q),()=>{cancelAnimationFrame(e.current)}},[o,B,I,D]),G.useEffect(()=>{const k=K=>{if(!n.current)return;const J=n.current.getBoundingClientRect(),Y=ot.CANVAS_WIDTH/J.width;let Z=(K-J.left)*Y;Z=Math.max(0,Math.min(ot.CANVAS_WIDTH-ot.PADDLE_WIDTH,Z-ot.PADDLE_WIDTH/2)),y.current.pos.x=Z,b.current.forEach(ie=>{ie.active||(ie.pos.x=Z+ot.PADDLE_WIDTH/2)})},q=K=>k(K.clientX),P=K=>{K.preventDefault(),k(K.touches[0].clientX)},H=n.current;return H&&(H.addEventListener("mousemove",q),H.addEventListener("touchmove",P,{passive:!1})),()=>{H&&(H.removeEventListener("mousemove",q),H.removeEventListener("touchmove",P))}},[]),d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-slate-950 p-4 font-sans",children:[d.jsxs("div",{className:"w-full max-w-[800px] flex justify-between items-center mb-4 p-4 bg-slate-900/80 backdrop-blur rounded-xl border border-slate-800 shadow-lg text-white select-none",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"flex items-center text-cyan-400",children:[d.jsx(Hr,{className:"w-5 h-5 mr-2"}),d.jsx("span",{className:"font-bold text-xl",children:r})]}),d.jsxs("div",{className:"flex items-center text-pink-500",children:[d.jsx(iv,{className:"w-5 h-5 mr-2 fill-current"}),d.jsx("span",{className:"font-bold text-xl",children:c})]})]}),d.jsx("h1",{className:"hidden sm:block text-2xl font-extrabold tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 animate-pulse",children:"NEON BREAKER"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-slate-800 rounded-full transition-colors",title:"Project Info",children:d.jsx(zT,{className:"w-6 h-6 text-slate-400 hover:text-white"})}),d.jsx("button",{onClick:()=>{const k=Ji.toggleMute();h(k)},className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:p?d.jsx(JE,{className:"w-6 h-6 text-slate-400"}):d.jsx(Xr,{className:"w-6 h-6 text-cyan-400"})}),d.jsx("button",{onClick:()=>{o===en.PLAYING?l(en.PAUSED):o===en.PAUSED&&l(en.PLAYING)},className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:o===en.PAUSED?d.jsx(fl,{className:"w-6 h-6 text-green-400"}):d.jsx(sv,{className:"w-6 h-6 text-amber-400"})})]})]}),d.jsxs("div",{className:"relative group shadow-2xl rounded-lg overflow-hidden ring-4 ring-slate-800/50",children:[d.jsx("canvas",{ref:n,width:ot.CANVAS_WIDTH,height:ot.CANVAS_HEIGHT,className:"bg-slate-900 cursor-none touch-none w-full max-w-[800px] max-h-[600px] aspect-[4/3]",style:{maxWidth:"100%",height:"auto"}}),o===en.MENU&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900/90 backdrop-blur-sm z-10",children:[d.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-2 tracking-tighter drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]",children:["NEON ",d.jsx("span",{className:"text-cyan-400",children:"BREAKER"})]}),d.jsx("p",{className:"text-slate-400 mb-8 text-lg animate-pulse",children:"Use Mouse or Touch to Play"}),d.jsxs("button",{onClick:V,className:"flex items-center px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white rounded-full text-xl font-bold shadow-lg transform hover:scale-105 transition-all",children:[d.jsx(fl,{className:"mr-2 w-6 h-6 fill-white"})," GAME START"]})]}),o===en.GAME_OVER&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/95 z-20",children:[d.jsx("h2",{className:"text-5xl font-bold text-red-500 mb-4 drop-shadow-lg",children:"GAME OVER"}),d.jsxs("p",{className:"text-2xl text-white mb-8",children:["Final Score: ",d.jsx("span",{className:"text-cyan-400 font-mono",children:r})]}),d.jsxs("button",{onClick:V,className:"flex items-center px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-lg font-semibold transition-all",children:[d.jsx(pd,{className:"mr-2 w-5 h-5"})," Try Again"]})]}),o===en.VICTORY&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/90 z-20",children:[d.jsx("h2",{className:"text-5xl font-bold text-yellow-400 mb-4 drop-shadow-[0_0_25px_rgba(250,204,21,0.6)]",children:"STAGE CLEAR!"}),d.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"All Bricks Destroyed!"}),d.jsxs("button",{onClick:V,className:"flex items-center px-6 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg text-lg font-semibold transition-all",children:[d.jsx(ns,{className:"mr-2 w-5 h-5"})," Play Next Level"]})]}),o===en.PAUSED&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px] z-20",children:d.jsx("div",{className:"bg-slate-800 px-8 py-4 rounded-lg border border-slate-600",children:d.jsx("span",{className:"text-2xl font-bold text-white tracking-widest",children:"PAUSED"})})})]})]})},d2=()=>d.jsx(f2,{}),h2=()=>d.jsx("header",{className:"bg-white dark:bg-slate-800/50 shadow-sm backdrop-blur-md sticky top-0 z-10",children:d.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"AI   "}),d.jsx("p",{className:"mt-1 text-base text-slate-600 dark:text-slate-400",children:"AI Virtual Try-On"})]})})}),p2=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Lm=({title:n,subtitle:e,onImageUpload:o,image:l,disabled:r=!1})=>{const s=G.useRef(null),c=p=>{var g;const h=(g=p.target.files)==null?void 0:g[0];if(h){const x=new FileReader;x.onload=()=>{o(x.result)},x.readAsDataURL(h)}},f=()=>{var p;(p=s.current)==null||p.click()};return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg h-full flex flex-col justify-between transition-opacity duration-300",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:n}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e})]}),d.jsxs("div",{className:`mt-4 flex-grow flex items-center justify-center border-2 border-dashed rounded-lg transition-all duration-300 ${r?"cursor-not-allowed bg-slate-100 dark:bg-slate-800/50":"border-slate-300 dark:border-slate-600 hover:border-indigo-500 dark:hover:border-indigo-400 cursor-pointer"}`,onClick:r?void 0:f,children:[d.jsx("input",{type:"file",accept:"image/*",ref:s,onChange:c,className:"hidden",disabled:r}),l?d.jsx("div",{className:"relative w-full h-full p-2",children:d.jsx("img",{src:l,alt:"Upload preview",className:"w-full h-full object-contain rounded-md"})}):d.jsxs("div",{className:"text-center p-8",children:[d.jsx(p2,{}),d.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:[d.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:"Click to upload"})," or drag and drop"]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:"PNG, JPG, WEBP"})]})]})]})},m2=()=>d.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"Generating your look..."}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"The AI is working its magic. This may take a moment."})]}),g2=()=>d.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),d.jsx("p",{className:"mt-4 font-medium",children:"Your virtual try-on will appear here."}),d.jsx("p",{className:"text-sm",children:'Upload your photos and click "Virtual Try-On".'})]}),y2=({message:n})=>d.jsxs("div",{className:"text-center text-red-500 bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"mt-2 font-semibold",children:"Oops! Something went wrong."}),d.jsx("p",{className:"text-sm mt-1",children:n})]}),v2=({isLoading:n,generatedImage:e,error:o})=>d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg h-full flex flex-col",children:[d.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Step 3: Result"}),d.jsxs("div",{className:"mt-4 flex-grow flex items-center justify-center bg-slate-100 dark:bg-slate-800/50 rounded-lg min-h-[300px] md:min-h-0",children:[n&&d.jsx(m2,{}),!n&&o&&d.jsx(y2,{message:o}),!n&&!o&&e&&d.jsx("div",{className:"p-2 w-full h-full",children:d.jsx("img",{src:e,alt:"Generated virtual try-on",className:"w-full h-full object-contain rounded-md"})}),!n&&!o&&!e&&d.jsx(g2,{})]})]});var x2={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S2,b2;function T2(){return{geminiUrl:S2,vertexUrl:b2}}function E2(n,e,o,l){var r,s;if(!(n!=null&&n.baseUrl)){const c=T2();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:o:(s=c.geminiUrl)!==null&&s!==void 0?s:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{}function ke(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function v(n,e,o){for(let s=0;s<e.length-1;s++){const c=e[s];if(c.endsWith("[]")){const f=c.slice(0,-2);if(!(f in n))if(Array.isArray(o))n[f]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[f])){const p=n[f];if(Array.isArray(o))for(let h=0;h<p.length;h++){const g=p[h];v(g,e.slice(s+1),o[h])}else for(const h of p)v(h,e.slice(s+1),o)}return}else if(c.endsWith("[0]")){const f=c.slice(0,-3);f in n||(n[f]=[{}]);const p=n[f];v(p[0],e.slice(s+1),o);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const l=e[e.length-1],r=n[l];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function m(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return o;const r=e[l];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const c=n[s];return Array.isArray(c)?c.map(f=>m(f,e.slice(l+1),o)):o}else return o}else n=n[r]}return n}catch(l){if(l instanceof TypeError)return o;throw l}}function w2(n,e){for(const[o,l]of Object.entries(e)){const r=o.split("."),s=l.split("."),c=new Set;let f=-1;for(let p=0;p<r.length;p++)if(r[p]==="*"){f=p;break}if(f!==-1&&s.length>f)for(let p=f;p<s.length;p++){const h=s[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Ff(n,r,s,0,c)}}function Ff(n,e,o,l,r){if(l>=e.length||typeof n!="object"||n===null)return;const s=e[l];if(s.endsWith("[]")){const c=s.slice(0,-2),f=n;if(c in f&&Array.isArray(f[c]))for(const p of f[c])Ff(p,e,o,l+1,r)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,f=Object.keys(c).filter(h=>!h.startsWith("_")&&!r.has(h)),p={};for(const h of f)p[h]=c[h];for(const[h,g]of Object.entries(p)){const x=[];for(const b of o.slice(l))b==="*"?x.push(h):x.push(b);v(c,x,g)}for(const h of f)delete c[h]}}else{const c=n;s in c&&Ff(c[s],e,o,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gd(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C2(n){const e={},o=m(n,["operationName"]);o!=null&&v(e,["operationName"],o);const l=m(n,["resourceName"]);return l!=null&&v(e,["_url","resourceName"],l),e}function N2(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response","generateVideoResponse"]);return c!=null&&v(e,["response"],M2(c)),e}function A2(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response"]);return c!=null&&v(e,["response"],_2(c)),e}function M2(n){const e={},o=m(n,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>R2(c))),v(e,["generatedVideos"],s)}const l=m(n,["raiMediaFilteredCount"]);l!=null&&v(e,["raiMediaFilteredCount"],l);const r=m(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function _2(n){const e={},o=m(n,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>I2(c))),v(e,["generatedVideos"],s)}const l=m(n,["raiMediaFilteredCount"]);l!=null&&v(e,["raiMediaFilteredCount"],l);const r=m(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function R2(n){const e={},o=m(n,["video"]);return o!=null&&v(e,["video"],G2(o)),e}function I2(n){const e={},o=m(n,["_self"]);return o!=null&&v(e,["video"],B2(o)),e}function k2(n){const e={},o=m(n,["operationName"]);return o!=null&&v(e,["_url","operationName"],o),e}function L2(n){const e={},o=m(n,["operationName"]);return o!=null&&v(e,["_url","operationName"],o),e}function D2(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response"]);return c!=null&&v(e,["response"],P2(c)),e}function P2(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["parent"]);l!=null&&v(e,["parent"],l);const r=m(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function rv(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response"]);return c!=null&&v(e,["response"],U2(c)),e}function U2(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["parent"]);l!=null&&v(e,["parent"],l);const r=m(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function G2(n){const e={},o=m(n,["uri"]);o!=null&&v(e,["uri"],o);const l=m(n,["encodedVideo"]);l!=null&&v(e,["videoBytes"],gd(l));const r=m(n,["encoding"]);return r!=null&&v(e,["mimeType"],r),e}function B2(n){const e={},o=m(n,["gcsUri"]);o!=null&&v(e,["uri"],o);const l=m(n,["bytesBase64Encoded"]);l!=null&&v(e,["videoBytes"],gd(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Dm||(Dm={}));var Pm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Pm||(Pm={}));var Um;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Um||(Um={}));var gn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(gn||(gn={}));var Gm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gm||(Gm={}));var Bm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bm||(Bm={}));var Om;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Om||(Om={}));var Vm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Vm||(Vm={}));var Hm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hm||(Hm={}));var zm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(zm||(zm={}));var Fm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fm||(Fm={}));var jm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(jm||(jm={}));var qm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(qm||(qm={}));var Ym;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Ym||(Ym={}));var $m;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})($m||($m={}));var Jm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jm||(Jm={}));var Xm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xm||(Xm={}));var Km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Km||(Km={}));var Wm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wm||(Wm={}));var dl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(dl||(dl={}));var Qm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qm||(Qm={}));var Zm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Zm||(Zm={}));var eg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eg||(eg={}));var jf;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jf||(jf={}));var tg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(tg||(tg={}));var ng;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ng||(ng={}));var ig;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(ig||(ig={}));var og;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(og||(og={}));var lg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(lg||(lg={}));var sg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sg||(sg={}));var ag;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ag||(ag={}));var rg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(rg||(rg={}));var ug;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ug||(ug={}));var cg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(cg||(cg={}));var fg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fg||(fg={}));var dg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dg||(dg={}));var hg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hg||(hg={}));var pg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pg||(pg={}));var mg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(mg||(mg={}));var gg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(gg||(gg={}));var yg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(yg||(yg={}));var vg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(vg||(vg={}));var xg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xg||(xg={}));var Sg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Sg||(Sg={}));var bg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(bg||(bg={}));var Tg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Tg||(Tg={}));var Eg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Eg||(Eg={}));var wg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(wg||(wg={}));var Cg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Cg||(Cg={}));var Ng;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ng||(Ng={}));var Ag;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ag||(Ag={}));var Mg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Mg||(Mg={}));var _g;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_g||(_g={}));var Rg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rg||(Rg={}));var Ig;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Ig||(Ig={}));var Ql;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ql||(Ql={}));class qf{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class oa{get text(){var e,o,l,r,s,c,f,p;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const x=[];for(const b of(p=(f=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[y,E]of Object.entries(b))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&x.push(y);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;g=!0,h+=b.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,o,l,r,s,c,f,p;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const x of(p=(f=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[b,y]of Object.entries(x))b!=="inlineData"&&(y!==null||y!==void 0)&&g.push(b);x.inlineData&&typeof x.inlineData.data=="string"&&(h+=atob(x.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,l,r,s,c,f,p;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(f=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,l,r,s,c,f,p,h;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(f=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,l,r,s,c,f,p,h;if(((r=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(f=(c=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class kg{}class Lg{}class O2{}class V2{}class H2{}class z2{}class Dg{}class Pg{}class Ug{}class F2{}class Kr{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new Kr;let r;const s=e;return o?r=A2(s):r=N2(s),Object.assign(l,r),l}}class Gg{}class Bg{}class Og{}class Vg{}class j2{}class q2{}class Y2{}class yd{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new yd,s=D2(e);return Object.assign(l,s),l}}class $2{}class J2{}class X2{}class Hg{}class K2{get text(){var e,o,l;let r="",s=!1;const c=[];for(const f of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,h]of Object.entries(f))p!=="text"&&p!=="thought"&&h!==null&&c.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;s=!0,r+=f.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,o,l;let r="";const s=[];for(const c of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[f,p]of Object.entries(c))f!=="inlineData"&&p!==null&&s.push(f);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class W2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class vd{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const l=new vd,s=rv(e);return Object.assign(l,s),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function at(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uv(n,e){const o=at(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function cv(n){return Array.isArray(n)?n.map(e=>Wr(e)):[Wr(n)]}function Wr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function fv(n){const e=Wr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dv(n){const e=Wr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function hv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>zg(e)):[zg(n)]}function Yf(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Fg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function jg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function tn(n){if(n==null)throw new Error("ContentUnion is required");return Yf(n)?n:{role:"user",parts:hv(n)}}function xd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=tn(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=tn(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>tn(o)):[tn(e)]}function $n(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Fg(n)||jg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tn(n)]}const e=[],o=[],l=Yf(n[0]);for(const r of n){const s=Yf(r);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(Fg(r)||jg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return l||e.push({role:"user",parts:hv(o)}),e}function Q2(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(gn).includes(o[0].toUpperCase())?o[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(gn).includes(l.toUpperCase())?l.toUpperCase():gn.TYPE_UNSPECIFIED})}}function es(n){const e={},o=["items"],l=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Q2(n.type,e);for(const[c,f]of Object.entries(n))if(f!=null)if(c=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(gn).includes(f.toUpperCase())?f.toUpperCase():gn.TYPE_UNSPECIFIED}else if(o.includes(c))e[c]=es(f);else if(l.includes(c)){const p=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}p.push(es(h))}e[c]=p}else if(r.includes(c)){const p={};for(const[h,g]of Object.entries(f))p[h]=es(g);e[c]=p}else{if(c==="additionalProperties")continue;e[c]=f}return e}function Sd(n){return es(n)}function bd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Td(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ls(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=es(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=es(e.response));return n}function ss(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function Z2(n,e,o,l=1){const r=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:r?`${o}/${e}`:e}function no(n,e){if(typeof e!="string")throw new Error("name must be a string");return Z2(n,e,"cachedContents")}function pv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Po(n){return gd(n)}function ew(n){return n!=null&&typeof n=="object"&&"name"in n}function tw(n){return n!=null&&typeof n=="object"&&"video"in n}function nw(n){return n!=null&&typeof n=="object"&&"uri"in n}function mv(n){var e;let o;if(ew(n)&&(o=n.name),!(nw(n)&&(o=n.uri,o===void 0))&&!(tw(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function gv(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function yv(n){for(const e of["models","tunedModels","publisherModels"])if(iw(n,e))return n[e];return[]}function iw(n,e){return n!==null&&typeof n=="object"&&e in n}function ow(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function lw(n,e={}){const o=[],l=new Set;for(const r of n){const s=r.name;if(l.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);l.add(s);const c=ow(r,e);c.functionDeclarations&&o.push(...c.functionDeclarations)}return{functionDeclarations:o}}function vv(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function sw(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function xv(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let s=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const p=c.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function as(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Sv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aw(n){const e={},o=m(n,["responsesFile"]);o!=null&&v(e,["fileName"],o);const l=m(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>Hw(c))),v(e,["inlinedResponses"],s)}const r=m(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["inlinedEmbedContentResponses"],s)}return e}function rw(n){const e={},o=m(n,["predictionsFormat"]);o!=null&&v(e,["format"],o);const l=m(n,["gcsDestination","outputUriPrefix"]);l!=null&&v(e,["gcsUri"],l);const r=m(n,["bigqueryDestination","outputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function uw(n){const e={},o=m(n,["format"]);o!=null&&v(e,["predictionsFormat"],o);const l=m(n,["gcsUri"]);l!=null&&v(e,["gcsDestination","outputUriPrefix"],l);const r=m(n,["bigqueryUri"]);if(r!=null&&v(e,["bigqueryDestination","outputUri"],r),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zr(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata","displayName"]);l!=null&&v(e,["displayName"],l);const r=m(n,["metadata","state"]);r!=null&&v(e,["state"],Sv(r));const s=m(n,["metadata","createTime"]);s!=null&&v(e,["createTime"],s);const c=m(n,["metadata","endTime"]);c!=null&&v(e,["endTime"],c);const f=m(n,["metadata","updateTime"]);f!=null&&v(e,["updateTime"],f);const p=m(n,["metadata","model"]);p!=null&&v(e,["model"],p);const h=m(n,["metadata","output"]);return h!=null&&v(e,["dest"],aw(xv(h))),e}function $f(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["displayName"]);l!=null&&v(e,["displayName"],l);const r=m(n,["state"]);r!=null&&v(e,["state"],Sv(r));const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["createTime"]);c!=null&&v(e,["createTime"],c);const f=m(n,["startTime"]);f!=null&&v(e,["startTime"],f);const p=m(n,["endTime"]);p!=null&&v(e,["endTime"],p);const h=m(n,["updateTime"]);h!=null&&v(e,["updateTime"],h);const g=m(n,["model"]);g!=null&&v(e,["model"],g);const x=m(n,["inputConfig"]);x!=null&&v(e,["src"],cw(x));const b=m(n,["outputConfig"]);b!=null&&v(e,["dest"],rw(xv(b)));const y=m(n,["completionStats"]);return y!=null&&v(e,["completionStats"],y),e}function cw(n){const e={},o=m(n,["instancesFormat"]);o!=null&&v(e,["format"],o);const l=m(n,["gcsSource","uris"]);l!=null&&v(e,["gcsUri"],l);const r=m(n,["bigquerySource","inputUri"]);return r!=null&&v(e,["bigqueryUri"],r),e}function fw(n,e){const o={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=m(e,["fileName"]);l!=null&&v(o,["fileName"],l);const r=m(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Vw(n,c))),v(o,["requests","requests"],s)}return o}function dw(n){const e={},o=m(n,["format"]);o!=null&&v(e,["instancesFormat"],o);const l=m(n,["gcsUri"]);l!=null&&v(e,["gcsSource","uris"],l);const r=m(n,["bigqueryUri"]);if(r!=null&&v(e,["bigquerySource","inputUri"],r),m(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hw(n){const e={},o=m(n,["data"]);if(o!=null&&v(e,["data"],o),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function pw(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function mw(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function gw(n){const e={},o=m(n,["content"]);o!=null&&v(e,["content"],o);const l=m(n,["citationMetadata"]);l!=null&&v(e,["citationMetadata"],yw(l));const r=m(n,["tokenCount"]);r!=null&&v(e,["tokenCount"],r);const s=m(n,["finishReason"]);s!=null&&v(e,["finishReason"],s);const c=m(n,["avgLogprobs"]);c!=null&&v(e,["avgLogprobs"],c);const f=m(n,["groundingMetadata"]);f!=null&&v(e,["groundingMetadata"],f);const p=m(n,["index"]);p!=null&&v(e,["index"],p);const h=m(n,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const g=m(n,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(y=>y)),v(e,["safetyRatings"],b)}const x=m(n,["urlContextMetadata"]);return x!=null&&v(e,["urlContextMetadata"],x),e}function yw(n){const e={},o=m(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),v(e,["citations"],l)}return e}function bv(n){const e={},o=m(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Jw(s))),v(e,["parts"],r)}const l=m(n,["role"]);return l!=null&&v(e,["role"],l),e}function vw(n,e){const o={},l=m(n,["displayName"]);if(e!==void 0&&l!=null&&v(e,["batch","displayName"],l),m(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function xw(n,e){const o={},l=m(n,["displayName"]);e!==void 0&&l!=null&&v(e,["displayName"],l);const r=m(n,["dest"]);return e!==void 0&&r!=null&&v(e,["outputConfig"],uw(sw(r))),o}function qg(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["src"]);r!=null&&v(o,["batch","inputConfig"],fw(n,vv(n,r)));const s=m(e,["config"]);return s!=null&&vw(s,o),o}function Sw(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["model"],at(n,l));const r=m(e,["src"]);r!=null&&v(o,["inputConfig"],dw(vv(n,r)));const s=m(e,["config"]);return s!=null&&xw(s,o),o}function bw(n,e){const o={},l=m(n,["displayName"]);return e!==void 0&&l!=null&&v(e,["batch","displayName"],l),o}function Tw(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["src"]);r!=null&&v(o,["batch","inputConfig"],_w(n,r));const s=m(e,["config"]);return s!=null&&bw(s,o),o}function Ew(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function ww(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function Cw(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["name"]);l!=null&&v(e,["name"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);return s!=null&&v(e,["error"],s),e}function Nw(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["name"]);l!=null&&v(e,["name"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);return s!=null&&v(e,["error"],s),e}function Aw(n,e){const o={},l=m(e,["contents"]);if(l!=null){let s=xd(n,l);Array.isArray(s)&&(s=s.map(c=>c)),v(o,["requests[]","request","content"],s)}const r=m(e,["config"]);return r!=null&&(v(o,["_self"],Mw(r,o)),w2(o,{"requests[].*":"requests[].request.*"})),o}function Mw(n,e){const o={},l=m(n,["taskType"]);e!==void 0&&l!=null&&v(e,["requests[]","taskType"],l);const r=m(n,["title"]);e!==void 0&&r!=null&&v(e,["requests[]","title"],r);const s=m(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function _w(n,e){const o={},l=m(e,["fileName"]);l!=null&&v(o,["file_name"],l);const r=m(e,["inlinedRequests"]);return r!=null&&v(o,["requests"],Aw(n,r)),o}function Rw(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(n,["fileUri"]);o!=null&&v(e,["fileUri"],o);const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function Iw(n){const e={},o=m(n,["id"]);o!=null&&v(e,["id"],o);const l=m(n,["args"]);l!=null&&v(e,["args"],l);const r=m(n,["name"]);if(r!=null&&v(e,["name"],r),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kw(n){const e={},o=m(n,["mode"]);o!=null&&v(e,["mode"],o);const l=m(n,["allowedFunctionNames"]);if(l!=null&&v(e,["allowedFunctionNames"],l),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Lw(n,e,o){const l={},r=m(e,["systemInstruction"]);o!==void 0&&r!=null&&v(o,["systemInstruction"],bv(tn(r)));const s=m(e,["temperature"]);s!=null&&v(l,["temperature"],s);const c=m(e,["topP"]);c!=null&&v(l,["topP"],c);const f=m(e,["topK"]);f!=null&&v(l,["topK"],f);const p=m(e,["candidateCount"]);p!=null&&v(l,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&v(l,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&v(l,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&v(l,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&v(l,["logprobs"],b);const y=m(e,["presencePenalty"]);y!=null&&v(l,["presencePenalty"],y);const E=m(e,["frequencyPenalty"]);E!=null&&v(l,["frequencyPenalty"],E);const w=m(e,["seed"]);w!=null&&v(l,["seed"],w);const C=m(e,["responseMimeType"]);C!=null&&v(l,["responseMimeType"],C);const R=m(e,["responseSchema"]);R!=null&&v(l,["responseSchema"],Sd(R));const U=m(e,["responseJsonSchema"]);if(U!=null&&v(l,["responseJsonSchema"],U),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(o!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map(K=>Xw(K))),v(o,["safetySettings"],H)}const V=m(e,["tools"]);if(o!==void 0&&V!=null){let H=ss(V);Array.isArray(H)&&(H=H.map(K=>Ww(ls(K)))),v(o,["tools"],H)}const A=m(e,["toolConfig"]);if(o!==void 0&&A!=null&&v(o,["toolConfig"],Kw(A)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=m(e,["cachedContent"]);o!==void 0&&M!=null&&v(o,["cachedContent"],no(n,M));const L=m(e,["responseModalities"]);L!=null&&v(l,["responseModalities"],L);const I=m(e,["mediaResolution"]);I!=null&&v(l,["mediaResolution"],I);const B=m(e,["speechConfig"]);if(B!=null&&v(l,["speechConfig"],bd(B)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=m(e,["thinkingConfig"]);k!=null&&v(l,["thinkingConfig"],k);const q=m(e,["imageConfig"]);q!=null&&v(l,["imageConfig"],Ow(q));const P=m(e,["enableEnhancedCivicAnswers"]);return P!=null&&v(l,["enableEnhancedCivicAnswers"],P),l}function Dw(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>gw(h))),v(e,["candidates"],p)}const r=m(n,["modelVersion"]);r!=null&&v(e,["modelVersion"],r);const s=m(n,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const c=m(n,["responseId"]);c!=null&&v(e,["responseId"],c);const f=m(n,["usageMetadata"]);return f!=null&&v(e,["usageMetadata"],f),e}function Pw(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function Uw(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],as(n,l)),o}function Gw(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=m(n,["enableWidget"]);return o!=null&&v(e,["enableWidget"],o),e}function Bw(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=m(n,["timeRangeFilter"]);return o!=null&&v(e,["timeRangeFilter"],o),e}function Ow(n){const e={},o=m(n,["aspectRatio"]);o!=null&&v(e,["aspectRatio"],o);const l=m(n,["imageSize"]);if(l!=null&&v(e,["imageSize"],l),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Vw(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["request","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let f=$n(r);Array.isArray(f)&&(f=f.map(p=>bv(p))),v(o,["request","contents"],f)}const s=m(e,["metadata"]);s!=null&&v(o,["metadata"],s);const c=m(e,["config"]);return c!=null&&v(o,["request","generationConfig"],Lw(n,c,m(o,["request"],{}))),o}function Hw(n){const e={},o=m(n,["response"]);o!=null&&v(e,["response"],Dw(o));const l=m(n,["error"]);return l!=null&&v(e,["error"],l),e}function zw(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);if(e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),m(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Fw(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);e!==void 0&&r!=null&&v(e,["_query","pageToken"],r);const s=m(n,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),o}function jw(n){const e={},o=m(n,["config"]);return o!=null&&zw(o,e),e}function qw(n){const e={},o=m(n,["config"]);return o!=null&&Fw(o,e),e}function Yw(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>zr(c))),v(e,["batchJobs"],s)}return e}function $w(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>$f(c))),v(e,["batchJobs"],s)}return e}function Jw(n){const e={},o=m(n,["mediaResolution"]);o!=null&&v(e,["mediaResolution"],o);const l=m(n,["codeExecutionResult"]);l!=null&&v(e,["codeExecutionResult"],l);const r=m(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=m(n,["fileData"]);s!=null&&v(e,["fileData"],Rw(s));const c=m(n,["functionCall"]);c!=null&&v(e,["functionCall"],Iw(c));const f=m(n,["functionResponse"]);f!=null&&v(e,["functionResponse"],f);const p=m(n,["inlineData"]);p!=null&&v(e,["inlineData"],hw(p));const h=m(n,["text"]);h!=null&&v(e,["text"],h);const g=m(n,["thought"]);g!=null&&v(e,["thought"],g);const x=m(n,["thoughtSignature"]);x!=null&&v(e,["thoughtSignature"],x);const b=m(n,["videoMetadata"]);return b!=null&&v(e,["videoMetadata"],b),e}function Xw(n){const e={},o=m(n,["category"]);if(o!=null&&v(e,["category"],o),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=m(n,["threshold"]);return l!=null&&v(e,["threshold"],l),e}function Kw(n){const e={},o=m(n,["functionCallingConfig"]);o!=null&&v(e,["functionCallingConfig"],kw(o));const l=m(n,["retrievalConfig"]);return l!=null&&v(e,["retrievalConfig"],l),e}function Ww(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(e,["functionDeclarations"],g)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=m(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const r=m(n,["computerUse"]);r!=null&&v(e,["computerUse"],r);const s=m(n,["fileSearch"]);s!=null&&v(e,["fileSearch"],s);const c=m(n,["codeExecution"]);if(c!=null&&v(e,["codeExecution"],c),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=m(n,["googleMaps"]);f!=null&&v(e,["googleMaps"],Gw(f));const p=m(n,["googleSearch"]);p!=null&&v(e,["googleSearch"],Bw(p));const h=m(n,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(eo||(eo={}));class hl{constructor(e,o,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,r)}init(e,o,l){var r,s;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=o.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(s=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw extends to{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new hl(eo.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=qg(this.apiClient,e),l=o._url,r=ke("{model}:batchGenerateContent",l),f=o.batch.inputConfig.requests,p=f.requests,h=[];for(const g of p){const x=Object.assign({},g);if(x.systemInstruction){const b=x.systemInstruction;delete x.systemInstruction;const y=x.request;y.systemInstruction=b,x.request=y}h.push(x)}return f.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const s=this.getGcsUri(e),c=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?l.dest=`${s.slice(0,-6)}/dest`:l.dest=`${s}_dest_${r}`;else if(c)l.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Sw(this.apiClient,e);return f=ke("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>$f(g))}else{const h=qg(this.apiClient,e);return f=ke("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>zr(g))}}async createEmbeddingsInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Tw(this.apiClient,e);return s=ke("{model}:asyncBatchEmbedContent",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>zr(p))}}async get(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Uw(this.apiClient,e);return f=ke("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>$f(g))}else{const h=Pw(this.apiClient,e);return f=ke("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>zr(g))}}async cancel(e){var o,l,r,s;let c="",f={};if(this.apiClient.isVertexAI()){const p=mw(this.apiClient,e);c=ke("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const p=pw(this.apiClient,e);c=ke("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=qw(e);return f=ke("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=$w(g),b=new Hg;return Object.assign(b,x),b})}else{const h=jw(e);return f=ke("batches",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=Yw(g),b=new Hg;return Object.assign(b,x),b})}}async delete(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=ww(this.apiClient,e);return f=ke("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>Nw(g))}else{const h=Ew(this.apiClient,e);return f=ke("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>Cw(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zw(n){const e={},o=m(n,["data"]);if(o!=null&&v(e,["data"],o),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function Yg(n){const e={},o=m(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>TC(s))),v(e,["parts"],r)}const l=m(n,["role"]);return l!=null&&v(e,["role"],l),e}function eC(n,e){const o={},l=m(n,["ttl"]);e!==void 0&&l!=null&&v(e,["ttl"],l);const r=m(n,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const s=m(n,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const c=m(n,["contents"]);if(e!==void 0&&c!=null){let g=$n(c);Array.isArray(g)&&(g=g.map(x=>Yg(x))),v(e,["contents"],g)}const f=m(n,["systemInstruction"]);e!==void 0&&f!=null&&v(e,["systemInstruction"],Yg(tn(f)));const p=m(n,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(x=>wC(x))),v(e,["tools"],g)}const h=m(n,["toolConfig"]);if(e!==void 0&&h!=null&&v(e,["toolConfig"],EC(h)),m(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function tC(n,e){const o={},l=m(n,["ttl"]);e!==void 0&&l!=null&&v(e,["ttl"],l);const r=m(n,["expireTime"]);e!==void 0&&r!=null&&v(e,["expireTime"],r);const s=m(n,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const c=m(n,["contents"]);if(e!==void 0&&c!=null){let x=$n(c);Array.isArray(x)&&(x=x.map(b=>b)),v(e,["contents"],x)}const f=m(n,["systemInstruction"]);e!==void 0&&f!=null&&v(e,["systemInstruction"],tn(f));const p=m(n,["tools"]);if(e!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(b=>CC(b))),v(e,["tools"],x)}const h=m(n,["toolConfig"]);e!==void 0&&h!=null&&v(e,["toolConfig"],h);const g=m(n,["kmsKeyName"]);return e!==void 0&&g!=null&&v(e,["encryption_spec","kmsKeyName"],g),o}function nC(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["model"],uv(n,l));const r=m(e,["config"]);return r!=null&&eC(r,o),o}function iC(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["model"],uv(n,l));const r=m(e,["config"]);return r!=null&&tC(r,o),o}function oC(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],no(n,l)),o}function lC(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],no(n,l)),o}function sC(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function aC(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function rC(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(n,["fileUri"]);o!=null&&v(e,["fileUri"],o);const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function uC(n){const e={},o=m(n,["id"]);o!=null&&v(e,["id"],o);const l=m(n,["args"]);l!=null&&v(e,["args"],l);const r=m(n,["name"]);if(r!=null&&v(e,["name"],r),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cC(n){const e={},o=m(n,["mode"]);o!=null&&v(e,["mode"],o);const l=m(n,["allowedFunctionNames"]);if(l!=null&&v(e,["allowedFunctionNames"],l),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fC(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=m(n,["description"]);o!=null&&v(e,["description"],o);const l=m(n,["name"]);l!=null&&v(e,["name"],l);const r=m(n,["parameters"]);r!=null&&v(e,["parameters"],r);const s=m(n,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const c=m(n,["response"]);c!=null&&v(e,["response"],c);const f=m(n,["responseJsonSchema"]);return f!=null&&v(e,["responseJsonSchema"],f),e}function dC(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],no(n,l)),o}function hC(n,e){const o={},l=m(e,["name"]);return l!=null&&v(o,["_url","name"],no(n,l)),o}function pC(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=m(n,["enableWidget"]);return o!=null&&v(e,["enableWidget"],o),e}function mC(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=m(n,["timeRangeFilter"]);return o!=null&&v(e,["timeRangeFilter"],o),e}function gC(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),o}function yC(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),o}function vC(n){const e={},o=m(n,["config"]);return o!=null&&gC(o,e),e}function xC(n){const e={},o=m(n,["config"]);return o!=null&&yC(o,e),e}function SC(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["cachedContents"],s)}return e}function bC(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["cachedContents"],s)}return e}function TC(n){const e={},o=m(n,["mediaResolution"]);o!=null&&v(e,["mediaResolution"],o);const l=m(n,["codeExecutionResult"]);l!=null&&v(e,["codeExecutionResult"],l);const r=m(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=m(n,["fileData"]);s!=null&&v(e,["fileData"],rC(s));const c=m(n,["functionCall"]);c!=null&&v(e,["functionCall"],uC(c));const f=m(n,["functionResponse"]);f!=null&&v(e,["functionResponse"],f);const p=m(n,["inlineData"]);p!=null&&v(e,["inlineData"],Zw(p));const h=m(n,["text"]);h!=null&&v(e,["text"],h);const g=m(n,["thought"]);g!=null&&v(e,["thought"],g);const x=m(n,["thoughtSignature"]);x!=null&&v(e,["thoughtSignature"],x);const b=m(n,["videoMetadata"]);return b!=null&&v(e,["videoMetadata"],b),e}function EC(n){const e={},o=m(n,["functionCallingConfig"]);o!=null&&v(e,["functionCallingConfig"],cC(o));const l=m(n,["retrievalConfig"]);return l!=null&&v(e,["retrievalConfig"],l),e}function wC(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(e,["functionDeclarations"],g)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=m(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const r=m(n,["computerUse"]);r!=null&&v(e,["computerUse"],r);const s=m(n,["fileSearch"]);s!=null&&v(e,["fileSearch"],s);const c=m(n,["codeExecution"]);if(c!=null&&v(e,["codeExecution"],c),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=m(n,["googleMaps"]);f!=null&&v(e,["googleMaps"],pC(f));const p=m(n,["googleSearch"]);p!=null&&v(e,["googleSearch"],mC(p));const h=m(n,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function CC(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(b=>fC(b))),v(e,["functionDeclarations"],x)}const l=m(n,["retrieval"]);l!=null&&v(e,["retrieval"],l);const r=m(n,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const s=m(n,["computerUse"]);if(s!=null&&v(e,["computerUse"],s),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=m(n,["codeExecution"]);c!=null&&v(e,["codeExecution"],c);const f=m(n,["enterpriseWebSearch"]);f!=null&&v(e,["enterpriseWebSearch"],f);const p=m(n,["googleMaps"]);p!=null&&v(e,["googleMaps"],p);const h=m(n,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=m(n,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function NC(n,e){const o={},l=m(n,["ttl"]);e!==void 0&&l!=null&&v(e,["ttl"],l);const r=m(n,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),o}function AC(n,e){const o={},l=m(n,["ttl"]);e!==void 0&&l!=null&&v(e,["ttl"],l);const r=m(n,["expireTime"]);return e!==void 0&&r!=null&&v(e,["expireTime"],r),o}function MC(n,e){const o={},l=m(e,["name"]);l!=null&&v(o,["_url","name"],no(n,l));const r=m(e,["config"]);return r!=null&&NC(r,o),o}function _C(n,e){const o={},l=m(e,["name"]);l!=null&&v(o,["_url","name"],no(n,l));const r=m(e,["config"]);return r!=null&&AC(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends to{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new hl(eo.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=iC(this.apiClient,e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=nC(this.apiClient,e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async get(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=hC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=dC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async delete(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=lC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=aC(g),b=new Og;return Object.assign(b,x),b})}else{const h=oC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=sC(g),b=new Og;return Object.assign(b,x),b})}}async update(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=_C(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>g)}else{const h=MC(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>g)}}async listInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=xC(e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=bC(g),b=new Vg;return Object.assign(b,x),b})}else{const h=vC(e);return f=ke("cachedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=SC(g),b=new Vg;return Object.assign(b,x),b})}}}function Qr(n,e){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,l=Object.getOwnPropertySymbols(n);r<l.length;r++)e.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(n,l[r])&&(o[l[r]]=n[l[r]]);return o}function $g(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function ri(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(y){return function(E){return Promise.resolve(E).then(y,x)}}function f(y,E){l[y]&&(r[y]=function(w){return new Promise(function(C,R){s.push([y,w,C,R])>1||p(y,w)})},E&&(r[y]=E(r[y])))}function p(y,E){try{h(l[y](E))}catch(w){b(s[0][3],w)}}function h(y){y.value instanceof qe?Promise.resolve(y.value.v).then(g,x):b(s[0][2],y)}function g(y){p("next",y)}function x(y){p("throw",y)}function b(y,E){y(E),s.shift(),s.length&&p(s[0][0],s[0][1])}}function ui(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof $g=="function"?$g(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(s){o[s]=n[s]&&function(c){return new Promise(function(f,p){c=n[s](c),r(f,p,c.done,c.value)})}}function r(s,c,f,p){Promise.resolve(p).then(function(h){s({value:h,done:f})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Tv(o)}function Tv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Jg(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const r=[];let s=!0;for(;l<o&&n[l].role==="model";)r.push(n[l]),s&&!Tv(n[l])&&(s=!1),l++;s?e.push(...r):e.pop()}return e}class LC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new DC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class DC{constructor(e,o,l,r={},s=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),kC(s)}async sendMessage(e){var o;await this.sendPromise;const l=tn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var s,c,f;const p=await r,h=(c=(s=p.candidates)===null||s===void 0?void 0:s[0])===null||c===void 0?void 0:c.content,g=p.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let b=[];g!=null&&(b=(f=g.slice(x))!==null&&f!==void 0?f:[]);const y=h?[h]:[];this.recordHistory(l,y,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var o;await this.sendPromise;const l=tn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,l)}getHistory(e=!1){const o=e?Jg(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return ri(this,arguments,function*(){var r,s,c,f,p,h;const g=[];try{for(var x=!0,b=ui(e),y;y=yield qe(b.next()),r=y.done,!r;x=!0){f=y.value,x=!1;const E=f;if(IC(E)){const w=(h=(p=E.candidates)===null||p===void 0?void 0:p[0])===null||h===void 0?void 0:h.content;w!==void 0&&g.push(w)}yield yield qe(E)}}catch(E){s={error:E}}finally{try{!x&&!r&&(c=b.return)&&(yield qe(c.call(b)))}finally{if(s)throw s.error}}this.recordHistory(o,g)})}recordHistory(e,o,l){let r=[];o.length>0&&o.every(s=>s.role!==void 0)?r=o:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Jg(l)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ou extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ou.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(n){const e={},o=m(n,["file"]);return o!=null&&v(e,["file"],o),e}function UC(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function GC(n){const e={},o=m(n,["name"]);return o!=null&&v(e,["_url","file"],mv(o)),e}function BC(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function OC(n){const e={},o=m(n,["name"]);return o!=null&&v(e,["_url","file"],mv(o)),e}function VC(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),o}function HC(n){const e={},o=m(n,["config"]);return o!=null&&VC(o,e),e}function zC(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends to{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new hl(eo.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=HC(e);return s=ke("files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=zC(p),g=new $2;return Object.assign(g,h),g})}}async createInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=PC(e);return s=ke("upload/v1beta/files",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=UC(p),g=new J2;return Object.assign(g,h),g})}}async get(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=OC(e);return s=ke("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GC(e);return s=ke("files/{file}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=BC(p),g=new X2;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fr(n){const e={},o=m(n,["data"]);if(o!=null&&v(e,["data"],o),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function jC(n){const e={},o=m(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>sN(s))),v(e,["parts"],r)}const l=m(n,["role"]);return l!=null&&v(e,["role"],l),e}function qC(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(n,["fileUri"]);o!=null&&v(e,["fileUri"],o);const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function YC(n){const e={},o=m(n,["id"]);o!=null&&v(e,["id"],o);const l=m(n,["args"]);l!=null&&v(e,["args"],l);const r=m(n,["name"]);if(r!=null&&v(e,["name"],r),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $C(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=m(n,["description"]);o!=null&&v(e,["description"],o);const l=m(n,["name"]);l!=null&&v(e,["name"],l);const r=m(n,["parameters"]);r!=null&&v(e,["parameters"],r);const s=m(n,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const c=m(n,["response"]);c!=null&&v(e,["response"],c);const f=m(n,["responseJsonSchema"]);return f!=null&&v(e,["responseJsonSchema"],f),e}function JC(n){const e={},o=m(n,["modelSelectionConfig"]);o!=null&&v(e,["modelConfig"],o);const l=m(n,["responseJsonSchema"]);l!=null&&v(e,["responseJsonSchema"],l);const r=m(n,["audioTimestamp"]);r!=null&&v(e,["audioTimestamp"],r);const s=m(n,["candidateCount"]);s!=null&&v(e,["candidateCount"],s);const c=m(n,["enableAffectiveDialog"]);c!=null&&v(e,["enableAffectiveDialog"],c);const f=m(n,["frequencyPenalty"]);f!=null&&v(e,["frequencyPenalty"],f);const p=m(n,["logprobs"]);p!=null&&v(e,["logprobs"],p);const h=m(n,["maxOutputTokens"]);h!=null&&v(e,["maxOutputTokens"],h);const g=m(n,["mediaResolution"]);g!=null&&v(e,["mediaResolution"],g);const x=m(n,["presencePenalty"]);x!=null&&v(e,["presencePenalty"],x);const b=m(n,["responseLogprobs"]);b!=null&&v(e,["responseLogprobs"],b);const y=m(n,["responseMimeType"]);y!=null&&v(e,["responseMimeType"],y);const E=m(n,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const w=m(n,["responseSchema"]);w!=null&&v(e,["responseSchema"],w);const C=m(n,["routingConfig"]);C!=null&&v(e,["routingConfig"],C);const R=m(n,["seed"]);R!=null&&v(e,["seed"],R);const U=m(n,["speechConfig"]);U!=null&&v(e,["speechConfig"],Ev(U));const D=m(n,["stopSequences"]);D!=null&&v(e,["stopSequences"],D);const V=m(n,["temperature"]);V!=null&&v(e,["temperature"],V);const A=m(n,["thinkingConfig"]);A!=null&&v(e,["thinkingConfig"],A);const M=m(n,["topK"]);M!=null&&v(e,["topK"],M);const L=m(n,["topP"]);if(L!=null&&v(e,["topP"],L),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XC(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=m(n,["enableWidget"]);return o!=null&&v(e,["enableWidget"],o),e}function KC(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=m(n,["timeRangeFilter"]);return o!=null&&v(e,["timeRangeFilter"],o),e}function WC(n,e){const o={},l=m(n,["generationConfig"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig"],l);const r=m(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=m(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const c=m(n,["topP"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topP"],c);const f=m(n,["topK"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","topK"],f);const p=m(n,["maxOutputTokens"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(n,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=m(n,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const x=m(n,["speechConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","speechConfig"],Td(x));const b=m(n,["thinkingConfig"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","thinkingConfig"],b);const y=m(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=m(n,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],jC(tn(E)));const w=m(n,["tools"]);if(e!==void 0&&w!=null){let M=ss(w);Array.isArray(M)&&(M=M.map(L=>rN(ls(L)))),v(e,["setup","tools"],M)}const C=m(n,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],aN(C));const R=m(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const U=m(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const D=m(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const V=m(n,["contextWindowCompression"]);e!==void 0&&V!=null&&v(e,["setup","contextWindowCompression"],V);const A=m(n,["proactivity"]);if(e!==void 0&&A!=null&&v(e,["setup","proactivity"],A),m(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function QC(n,e){const o={},l=m(n,["generationConfig"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig"],JC(l));const r=m(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=m(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const c=m(n,["topP"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topP"],c);const f=m(n,["topK"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","topK"],f);const p=m(n,["maxOutputTokens"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(n,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=m(n,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const x=m(n,["speechConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","speechConfig"],Ev(Td(x)));const b=m(n,["thinkingConfig"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","thinkingConfig"],b);const y=m(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=m(n,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],tn(E));const w=m(n,["tools"]);if(e!==void 0&&w!=null){let L=ss(w);Array.isArray(L)&&(L=L.map(I=>uN(ls(I)))),v(e,["setup","tools"],L)}const C=m(n,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],C);const R=m(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const U=m(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const D=m(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const V=m(n,["contextWindowCompression"]);e!==void 0&&V!=null&&v(e,["setup","contextWindowCompression"],V);const A=m(n,["proactivity"]);e!==void 0&&A!=null&&v(e,["setup","proactivity"],A);const M=m(n,["explicitVadSignal"]);return e!==void 0&&M!=null&&v(e,["setup","explicitVadSignal"],M),o}function ZC(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["setup","model"],at(n,l));const r=m(e,["config"]);return r!=null&&v(o,["config"],WC(r,o)),o}function eN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["setup","model"],at(n,l));const r=m(e,["config"]);return r!=null&&v(o,["config"],QC(r,o)),o}function tN(n){const e={},o=m(n,["musicGenerationConfig"]);return o!=null&&v(e,["musicGenerationConfig"],o),e}function nN(n){const e={},o=m(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),v(e,["weightedPrompts"],l)}return e}function iN(n){const e={},o=m(n,["media"]);if(o!=null){let h=cv(o);Array.isArray(h)&&(h=h.map(g=>Fr(g))),v(e,["mediaChunks"],h)}const l=m(n,["audio"]);l!=null&&v(e,["audio"],Fr(dv(l)));const r=m(n,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const s=m(n,["video"]);s!=null&&v(e,["video"],Fr(fv(s)));const c=m(n,["text"]);c!=null&&v(e,["text"],c);const f=m(n,["activityStart"]);f!=null&&v(e,["activityStart"],f);const p=m(n,["activityEnd"]);return p!=null&&v(e,["activityEnd"],p),e}function oN(n){const e={},o=m(n,["media"]);if(o!=null){let h=cv(o);Array.isArray(h)&&(h=h.map(g=>g)),v(e,["mediaChunks"],h)}const l=m(n,["audio"]);l!=null&&v(e,["audio"],dv(l));const r=m(n,["audioStreamEnd"]);r!=null&&v(e,["audioStreamEnd"],r);const s=m(n,["video"]);s!=null&&v(e,["video"],fv(s));const c=m(n,["text"]);c!=null&&v(e,["text"],c);const f=m(n,["activityStart"]);f!=null&&v(e,["activityStart"],f);const p=m(n,["activityEnd"]);return p!=null&&v(e,["activityEnd"],p),e}function lN(n){const e={},o=m(n,["setupComplete"]);o!=null&&v(e,["setupComplete"],o);const l=m(n,["serverContent"]);l!=null&&v(e,["serverContent"],l);const r=m(n,["toolCall"]);r!=null&&v(e,["toolCall"],r);const s=m(n,["toolCallCancellation"]);s!=null&&v(e,["toolCallCancellation"],s);const c=m(n,["usageMetadata"]);c!=null&&v(e,["usageMetadata"],cN(c));const f=m(n,["goAway"]);f!=null&&v(e,["goAway"],f);const p=m(n,["sessionResumptionUpdate"]);p!=null&&v(e,["sessionResumptionUpdate"],p);const h=m(n,["voiceActivityDetectionSignal"]);return h!=null&&v(e,["voiceActivityDetectionSignal"],h),e}function sN(n){const e={},o=m(n,["mediaResolution"]);o!=null&&v(e,["mediaResolution"],o);const l=m(n,["codeExecutionResult"]);l!=null&&v(e,["codeExecutionResult"],l);const r=m(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=m(n,["fileData"]);s!=null&&v(e,["fileData"],qC(s));const c=m(n,["functionCall"]);c!=null&&v(e,["functionCall"],YC(c));const f=m(n,["functionResponse"]);f!=null&&v(e,["functionResponse"],f);const p=m(n,["inlineData"]);p!=null&&v(e,["inlineData"],Fr(p));const h=m(n,["text"]);h!=null&&v(e,["text"],h);const g=m(n,["thought"]);g!=null&&v(e,["thought"],g);const x=m(n,["thoughtSignature"]);x!=null&&v(e,["thoughtSignature"],x);const b=m(n,["videoMetadata"]);return b!=null&&v(e,["videoMetadata"],b),e}function aN(n){const e={},o=m(n,["handle"]);if(o!=null&&v(e,["handle"],o),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ev(n){const e={},o=m(n,["voiceConfig"]);o!=null&&v(e,["voiceConfig"],o);const l=m(n,["languageCode"]);if(l!=null&&v(e,["languageCode"],l),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rN(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(e,["functionDeclarations"],g)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=m(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const r=m(n,["computerUse"]);r!=null&&v(e,["computerUse"],r);const s=m(n,["fileSearch"]);s!=null&&v(e,["fileSearch"],s);const c=m(n,["codeExecution"]);if(c!=null&&v(e,["codeExecution"],c),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=m(n,["googleMaps"]);f!=null&&v(e,["googleMaps"],XC(f));const p=m(n,["googleSearch"]);p!=null&&v(e,["googleSearch"],KC(p));const h=m(n,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function uN(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(b=>$C(b))),v(e,["functionDeclarations"],x)}const l=m(n,["retrieval"]);l!=null&&v(e,["retrieval"],l);const r=m(n,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const s=m(n,["computerUse"]);if(s!=null&&v(e,["computerUse"],s),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=m(n,["codeExecution"]);c!=null&&v(e,["codeExecution"],c);const f=m(n,["enterpriseWebSearch"]);f!=null&&v(e,["enterpriseWebSearch"],f);const p=m(n,["googleMaps"]);p!=null&&v(e,["googleMaps"],p);const h=m(n,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=m(n,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function cN(n){const e={},o=m(n,["promptTokenCount"]);o!=null&&v(e,["promptTokenCount"],o);const l=m(n,["cachedContentTokenCount"]);l!=null&&v(e,["cachedContentTokenCount"],l);const r=m(n,["candidatesTokenCount"]);r!=null&&v(e,["responseTokenCount"],r);const s=m(n,["toolUsePromptTokenCount"]);s!=null&&v(e,["toolUsePromptTokenCount"],s);const c=m(n,["thoughtsTokenCount"]);c!=null&&v(e,["thoughtsTokenCount"],c);const f=m(n,["totalTokenCount"]);f!=null&&v(e,["totalTokenCount"],f);const p=m(n,["promptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["promptTokensDetails"],y)}const h=m(n,["cacheTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["cacheTokensDetails"],y)}const g=m(n,["candidatesTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["responseTokensDetails"],y)}const x=m(n,["toolUsePromptTokensDetails"]);if(x!=null){let y=x;Array.isArray(y)&&(y=y.map(E=>E)),v(e,["toolUsePromptTokensDetails"],y)}const b=m(n,["trafficType"]);return b!=null&&v(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(n){const e={},o=m(n,["data"]);if(o!=null&&v(e,["data"],o),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function dN(n){const e={},o=m(n,["content"]);o!=null&&v(e,["content"],o);const l=m(n,["citationMetadata"]);l!=null&&v(e,["citationMetadata"],hN(l));const r=m(n,["tokenCount"]);r!=null&&v(e,["tokenCount"],r);const s=m(n,["finishReason"]);s!=null&&v(e,["finishReason"],s);const c=m(n,["avgLogprobs"]);c!=null&&v(e,["avgLogprobs"],c);const f=m(n,["groundingMetadata"]);f!=null&&v(e,["groundingMetadata"],f);const p=m(n,["index"]);p!=null&&v(e,["index"],p);const h=m(n,["logprobsResult"]);h!=null&&v(e,["logprobsResult"],h);const g=m(n,["safetyRatings"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(y=>y)),v(e,["safetyRatings"],b)}const x=m(n,["urlContextMetadata"]);return x!=null&&v(e,["urlContextMetadata"],x),e}function hN(n){const e={},o=m(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),v(e,["citations"],l)}return e}function pN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let s=$n(r);Array.isArray(s)&&(s=s.map(c=>c)),v(o,["contents"],s)}return o}function mN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(s=>s)),v(e,["tokensInfo"],r)}return e}function gN(n){const e={},o=m(n,["values"]);o!=null&&v(e,["values"],o);const l=m(n,["statistics"]);return l!=null&&v(e,["statistics"],yN(l)),e}function yN(n){const e={},o=m(n,["truncated"]);o!=null&&v(e,["truncated"],o);const l=m(n,["token_count"]);return l!=null&&v(e,["tokenCount"],l),e}function lu(n){const e={},o=m(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>NA(s))),v(e,["parts"],r)}const l=m(n,["role"]);return l!=null&&v(e,["role"],l),e}function vN(n){const e={},o=m(n,["controlType"]);o!=null&&v(e,["controlType"],o);const l=m(n,["enableControlImageComputation"]);return l!=null&&v(e,["computeControl"],l),e}function xN(n){const e={};if(m(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function SN(n,e){const o={},l=m(n,["systemInstruction"]);e!==void 0&&l!=null&&v(e,["systemInstruction"],tn(l));const r=m(n,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Mv(f))),v(e,["tools"],c)}const s=m(n,["generationConfig"]);return e!==void 0&&s!=null&&v(e,["generationConfig"],fA(s)),o}function bN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let c=$n(r);Array.isArray(c)&&(c=c.map(f=>lu(f))),v(o,["contents"],c)}const s=m(e,["config"]);return s!=null&&xN(s),o}function TN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let c=$n(r);Array.isArray(c)&&(c=c.map(f=>f)),v(o,["contents"],c)}const s=m(e,["config"]);return s!=null&&SN(s,o),o}function EN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["totalTokens"]);l!=null&&v(e,["totalTokens"],l);const r=m(n,["cachedContentTokenCount"]);return r!=null&&v(e,["cachedContentTokenCount"],r),e}function wN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["totalTokens"]);return l!=null&&v(e,["totalTokens"],l),e}function CN(n,e){const o={},l=m(e,["model"]);return l!=null&&v(o,["_url","name"],at(n,l)),o}function NN(n,e){const o={},l=m(e,["model"]);return l!=null&&v(o,["_url","name"],at(n,l)),o}function AN(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function MN(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}function _N(n,e){const o={},l=m(n,["outputGcsUri"]);e!==void 0&&l!=null&&v(e,["parameters","storageUri"],l);const r=m(n,["negativePrompt"]);e!==void 0&&r!=null&&v(e,["parameters","negativePrompt"],r);const s=m(n,["numberOfImages"]);e!==void 0&&s!=null&&v(e,["parameters","sampleCount"],s);const c=m(n,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=m(n,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const p=m(n,["seed"]);e!==void 0&&p!=null&&v(e,["parameters","seed"],p);const h=m(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=m(n,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&v(e,["parameters","includeSafetyAttributes"],x);const b=m(n,["includeRaiReason"]);e!==void 0&&b!=null&&v(e,["parameters","includeRaiReason"],b);const y=m(n,["language"]);e!==void 0&&y!=null&&v(e,["parameters","language"],y);const E=m(n,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const w=m(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const C=m(n,["addWatermark"]);e!==void 0&&C!=null&&v(e,["parameters","addWatermark"],C);const R=m(n,["labels"]);e!==void 0&&R!=null&&v(e,["labels"],R);const U=m(n,["editMode"]);e!==void 0&&U!=null&&v(e,["parameters","editMode"],U);const D=m(n,["baseSteps"]);return e!==void 0&&D!=null&&v(e,["parameters","editConfig","baseSteps"],D),o}function RN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["prompt"]);r!=null&&v(o,["instances[0]","prompt"],r);const s=m(e,["referenceImages"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>kA(p))),v(o,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&_N(c,o),o}function IN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(s=>su(s))),v(e,["generatedImages"],r)}return e}function kN(n,e){const o={},l=m(n,["taskType"]);e!==void 0&&l!=null&&v(e,["requests[]","taskType"],l);const r=m(n,["title"]);e!==void 0&&r!=null&&v(e,["requests[]","title"],r);const s=m(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),m(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function LN(n,e){const o={},l=m(n,["taskType"]);e!==void 0&&l!=null&&v(e,["instances[]","task_type"],l);const r=m(n,["title"]);e!==void 0&&r!=null&&v(e,["instances[]","title"],r);const s=m(n,["outputDimensionality"]);e!==void 0&&s!=null&&v(e,["parameters","outputDimensionality"],s);const c=m(n,["mimeType"]);e!==void 0&&c!=null&&v(e,["instances[]","mimeType"],c);const f=m(n,["autoTruncate"]);return e!==void 0&&f!=null&&v(e,["parameters","autoTruncate"],f),o}function DN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let f=xd(n,r);Array.isArray(f)&&(f=f.map(p=>p)),v(o,["requests[]","content"],f)}const s=m(e,["config"]);s!=null&&kN(s,o);const c=m(e,["model"]);return c!==void 0&&v(o,["requests[]","model"],at(n,c)),o}function PN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let c=xd(n,r);Array.isArray(c)&&(c=c.map(f=>f)),v(o,["instances[]","content"],c)}const s=m(e,["config"]);return s!=null&&LN(s,o),o}function UN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["embeddings"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["embeddings"],s)}const r=m(n,["metadata"]);return r!=null&&v(e,["metadata"],r),e}function GN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["predictions[]","embeddings"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>gN(c))),v(e,["embeddings"],s)}const r=m(n,["metadata"]);return r!=null&&v(e,["metadata"],r),e}function BN(n){const e={},o=m(n,["endpoint"]);o!=null&&v(e,["name"],o);const l=m(n,["deployedModelId"]);return l!=null&&v(e,["deployedModelId"],l),e}function ON(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(n,["fileUri"]);o!=null&&v(e,["fileUri"],o);const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function VN(n){const e={},o=m(n,["id"]);o!=null&&v(e,["id"],o);const l=m(n,["args"]);l!=null&&v(e,["args"],l);const r=m(n,["name"]);if(r!=null&&v(e,["name"],r),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HN(n){const e={},o=m(n,["mode"]);o!=null&&v(e,["mode"],o);const l=m(n,["allowedFunctionNames"]);if(l!=null&&v(e,["allowedFunctionNames"],l),m(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zN(n){const e={};if(m(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=m(n,["description"]);o!=null&&v(e,["description"],o);const l=m(n,["name"]);l!=null&&v(e,["name"],l);const r=m(n,["parameters"]);r!=null&&v(e,["parameters"],r);const s=m(n,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const c=m(n,["response"]);c!=null&&v(e,["response"],c);const f=m(n,["responseJsonSchema"]);return f!=null&&v(e,["responseJsonSchema"],f),e}function FN(n,e,o){const l={},r=m(e,["systemInstruction"]);o!==void 0&&r!=null&&v(o,["systemInstruction"],lu(tn(r)));const s=m(e,["temperature"]);s!=null&&v(l,["temperature"],s);const c=m(e,["topP"]);c!=null&&v(l,["topP"],c);const f=m(e,["topK"]);f!=null&&v(l,["topK"],f);const p=m(e,["candidateCount"]);p!=null&&v(l,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&v(l,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&v(l,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&v(l,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&v(l,["logprobs"],b);const y=m(e,["presencePenalty"]);y!=null&&v(l,["presencePenalty"],y);const E=m(e,["frequencyPenalty"]);E!=null&&v(l,["frequencyPenalty"],E);const w=m(e,["seed"]);w!=null&&v(l,["seed"],w);const C=m(e,["responseMimeType"]);C!=null&&v(l,["responseMimeType"],C);const R=m(e,["responseSchema"]);R!=null&&v(l,["responseSchema"],Sd(R));const U=m(e,["responseJsonSchema"]);if(U!=null&&v(l,["responseJsonSchema"],U),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(o!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map(K=>LA(K))),v(o,["safetySettings"],H)}const V=m(e,["tools"]);if(o!==void 0&&V!=null){let H=ss(V);Array.isArray(H)&&(H=H.map(K=>VA(ls(K)))),v(o,["tools"],H)}const A=m(e,["toolConfig"]);if(o!==void 0&&A!=null&&v(o,["toolConfig"],OA(A)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=m(e,["cachedContent"]);o!==void 0&&M!=null&&v(o,["cachedContent"],no(n,M));const L=m(e,["responseModalities"]);L!=null&&v(l,["responseModalities"],L);const I=m(e,["mediaResolution"]);I!=null&&v(l,["mediaResolution"],I);const B=m(e,["speechConfig"]);if(B!=null&&v(l,["speechConfig"],bd(B)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=m(e,["thinkingConfig"]);k!=null&&v(l,["thinkingConfig"],k);const q=m(e,["imageConfig"]);q!=null&&v(l,["imageConfig"],gA(q));const P=m(e,["enableEnhancedCivicAnswers"]);return P!=null&&v(l,["enableEnhancedCivicAnswers"],P),l}function jN(n,e,o){const l={},r=m(e,["systemInstruction"]);o!==void 0&&r!=null&&v(o,["systemInstruction"],tn(r));const s=m(e,["temperature"]);s!=null&&v(l,["temperature"],s);const c=m(e,["topP"]);c!=null&&v(l,["topP"],c);const f=m(e,["topK"]);f!=null&&v(l,["topK"],f);const p=m(e,["candidateCount"]);p!=null&&v(l,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&v(l,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&v(l,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&v(l,["responseLogprobs"],x);const b=m(e,["logprobs"]);b!=null&&v(l,["logprobs"],b);const y=m(e,["presencePenalty"]);y!=null&&v(l,["presencePenalty"],y);const E=m(e,["frequencyPenalty"]);E!=null&&v(l,["frequencyPenalty"],E);const w=m(e,["seed"]);w!=null&&v(l,["seed"],w);const C=m(e,["responseMimeType"]);C!=null&&v(l,["responseMimeType"],C);const R=m(e,["responseSchema"]);R!=null&&v(l,["responseSchema"],Sd(R));const U=m(e,["responseJsonSchema"]);U!=null&&v(l,["responseJsonSchema"],U);const D=m(e,["routingConfig"]);D!=null&&v(l,["routingConfig"],D);const V=m(e,["modelSelectionConfig"]);V!=null&&v(l,["modelConfig"],V);const A=m(e,["safetySettings"]);if(o!==void 0&&A!=null){let Y=A;Array.isArray(Y)&&(Y=Y.map(Z=>Z)),v(o,["safetySettings"],Y)}const M=m(e,["tools"]);if(o!==void 0&&M!=null){let Y=ss(M);Array.isArray(Y)&&(Y=Y.map(Z=>Mv(ls(Z)))),v(o,["tools"],Y)}const L=m(e,["toolConfig"]);o!==void 0&&L!=null&&v(o,["toolConfig"],L);const I=m(e,["labels"]);o!==void 0&&I!=null&&v(o,["labels"],I);const B=m(e,["cachedContent"]);o!==void 0&&B!=null&&v(o,["cachedContent"],no(n,B));const k=m(e,["responseModalities"]);k!=null&&v(l,["responseModalities"],k);const q=m(e,["mediaResolution"]);q!=null&&v(l,["mediaResolution"],q);const P=m(e,["speechConfig"]);P!=null&&v(l,["speechConfig"],Av(bd(P)));const H=m(e,["audioTimestamp"]);H!=null&&v(l,["audioTimestamp"],H);const K=m(e,["thinkingConfig"]);K!=null&&v(l,["thinkingConfig"],K);const J=m(e,["imageConfig"]);if(J!=null&&v(l,["imageConfig"],yA(J)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Xg(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let c=$n(r);Array.isArray(c)&&(c=c.map(f=>lu(f))),v(o,["contents"],c)}const s=m(e,["config"]);return s!=null&&v(o,["generationConfig"],FN(n,s,o)),o}function Kg(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["contents"]);if(r!=null){let c=$n(r);Array.isArray(c)&&(c=c.map(f=>f)),v(o,["contents"],c)}const s=m(e,["config"]);return s!=null&&v(o,["generationConfig"],jN(n,s,o)),o}function Wg(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>dN(h))),v(e,["candidates"],p)}const r=m(n,["modelVersion"]);r!=null&&v(e,["modelVersion"],r);const s=m(n,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const c=m(n,["responseId"]);c!=null&&v(e,["responseId"],c);const f=m(n,["usageMetadata"]);return f!=null&&v(e,["usageMetadata"],f),e}function Qg(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["candidates"],h)}const r=m(n,["createTime"]);r!=null&&v(e,["createTime"],r);const s=m(n,["modelVersion"]);s!=null&&v(e,["modelVersion"],s);const c=m(n,["promptFeedback"]);c!=null&&v(e,["promptFeedback"],c);const f=m(n,["responseId"]);f!=null&&v(e,["responseId"],f);const p=m(n,["usageMetadata"]);return p!=null&&v(e,["usageMetadata"],p),e}function qN(n,e){const o={};if(m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=m(n,["numberOfImages"]);e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l);const r=m(n,["aspectRatio"]);e!==void 0&&r!=null&&v(e,["parameters","aspectRatio"],r);const s=m(n,["guidanceScale"]);if(e!==void 0&&s!=null&&v(e,["parameters","guidanceScale"],s),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=m(n,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const p=m(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&v(e,["parameters","includeSafetyAttributes"],p);const h=m(n,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const g=m(n,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const x=m(n,["outputMimeType"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","mimeType"],x);const b=m(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&v(e,["parameters","outputOptions","compressionQuality"],b),m(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=m(n,["imageSize"]);if(e!==void 0&&y!=null&&v(e,["parameters","sampleImageSize"],y),m(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function YN(n,e){const o={},l=m(n,["outputGcsUri"]);e!==void 0&&l!=null&&v(e,["parameters","storageUri"],l);const r=m(n,["negativePrompt"]);e!==void 0&&r!=null&&v(e,["parameters","negativePrompt"],r);const s=m(n,["numberOfImages"]);e!==void 0&&s!=null&&v(e,["parameters","sampleCount"],s);const c=m(n,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=m(n,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const p=m(n,["seed"]);e!==void 0&&p!=null&&v(e,["parameters","seed"],p);const h=m(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=m(n,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(n,["includeSafetyAttributes"]);e!==void 0&&x!=null&&v(e,["parameters","includeSafetyAttributes"],x);const b=m(n,["includeRaiReason"]);e!==void 0&&b!=null&&v(e,["parameters","includeRaiReason"],b);const y=m(n,["language"]);e!==void 0&&y!=null&&v(e,["parameters","language"],y);const E=m(n,["outputMimeType"]);e!==void 0&&E!=null&&v(e,["parameters","outputOptions","mimeType"],E);const w=m(n,["outputCompressionQuality"]);e!==void 0&&w!=null&&v(e,["parameters","outputOptions","compressionQuality"],w);const C=m(n,["addWatermark"]);e!==void 0&&C!=null&&v(e,["parameters","addWatermark"],C);const R=m(n,["labels"]);e!==void 0&&R!=null&&v(e,["labels"],R);const U=m(n,["imageSize"]);e!==void 0&&U!=null&&v(e,["parameters","sampleImageSize"],U);const D=m(n,["enhancePrompt"]);return e!==void 0&&D!=null&&v(e,["parameters","enhancePrompt"],D),o}function $N(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["prompt"]);r!=null&&v(o,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&qN(s,o),o}function JN(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["prompt"]);r!=null&&v(o,["instances[0]","prompt"],r);const s=m(e,["config"]);return s!=null&&YN(s,o),o}function XN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>aA(c))),v(e,["generatedImages"],s)}const r=m(n,["positivePromptSafetyAttributes"]);return r!=null&&v(e,["positivePromptSafetyAttributes"],Cv(r)),e}function KN(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>su(c))),v(e,["generatedImages"],s)}const r=m(n,["positivePromptSafetyAttributes"]);return r!=null&&v(e,["positivePromptSafetyAttributes"],Nv(r)),e}function WN(n,e){const o={},l=m(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l),m(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=m(n,["durationSeconds"]);if(e!==void 0&&r!=null&&v(e,["parameters","durationSeconds"],r),m(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=m(n,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const c=m(n,["resolution"]);e!==void 0&&c!=null&&v(e,["parameters","resolution"],c);const f=m(n,["personGeneration"]);if(e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f),m(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=m(n,["negativePrompt"]);e!==void 0&&p!=null&&v(e,["parameters","negativePrompt"],p);const h=m(n,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),m(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(n,["lastFrame"]);e!==void 0&&g!=null&&v(e,["instances[0]","lastFrame"],au(g));const x=m(n,["referenceImages"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(y=>ZA(y))),v(e,["instances[0]","referenceImages"],b)}if(m(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function QN(n,e){const o={},l=m(n,["numberOfVideos"]);e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l);const r=m(n,["outputGcsUri"]);e!==void 0&&r!=null&&v(e,["parameters","storageUri"],r);const s=m(n,["fps"]);e!==void 0&&s!=null&&v(e,["parameters","fps"],s);const c=m(n,["durationSeconds"]);e!==void 0&&c!=null&&v(e,["parameters","durationSeconds"],c);const f=m(n,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const p=m(n,["aspectRatio"]);e!==void 0&&p!=null&&v(e,["parameters","aspectRatio"],p);const h=m(n,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const g=m(n,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(n,["pubsubTopic"]);e!==void 0&&x!=null&&v(e,["parameters","pubsubTopic"],x);const b=m(n,["negativePrompt"]);e!==void 0&&b!=null&&v(e,["parameters","negativePrompt"],b);const y=m(n,["enhancePrompt"]);e!==void 0&&y!=null&&v(e,["parameters","enhancePrompt"],y);const E=m(n,["generateAudio"]);e!==void 0&&E!=null&&v(e,["parameters","generateAudio"],E);const w=m(n,["lastFrame"]);e!==void 0&&w!=null&&v(e,["instances[0]","lastFrame"],di(w));const C=m(n,["referenceImages"]);if(e!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(V=>e5(V))),v(e,["instances[0]","referenceImages"],D)}const R=m(n,["mask"]);e!==void 0&&R!=null&&v(e,["instances[0]","mask"],QA(R));const U=m(n,["compressionQuality"]);return e!==void 0&&U!=null&&v(e,["parameters","compressionQuality"],U),o}function ZN(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response","generateVideoResponse"]);return c!=null&&v(e,["response"],iA(c)),e}function eA(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response"]);return c!=null&&v(e,["response"],oA(c)),e}function tA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["prompt"]);r!=null&&v(o,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&v(o,["instances[0]","image"],au(s));const c=m(e,["video"]);c!=null&&v(o,["instances[0]","video"],_v(c));const f=m(e,["source"]);f!=null&&lA(f,o);const p=m(e,["config"]);return p!=null&&WN(p,o),o}function nA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["prompt"]);r!=null&&v(o,["instances[0]","prompt"],r);const s=m(e,["image"]);s!=null&&v(o,["instances[0]","image"],di(s));const c=m(e,["video"]);c!=null&&v(o,["instances[0]","video"],Rv(c));const f=m(e,["source"]);f!=null&&sA(f,o);const p=m(e,["config"]);return p!=null&&QN(p,o),o}function iA(n){const e={},o=m(n,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>uA(c))),v(e,["generatedVideos"],s)}const l=m(n,["raiMediaFilteredCount"]);l!=null&&v(e,["raiMediaFilteredCount"],l);const r=m(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function oA(n){const e={},o=m(n,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>cA(c))),v(e,["generatedVideos"],s)}const l=m(n,["raiMediaFilteredCount"]);l!=null&&v(e,["raiMediaFilteredCount"],l);const r=m(n,["raiMediaFilteredReasons"]);return r!=null&&v(e,["raiMediaFilteredReasons"],r),e}function lA(n,e){const o={},l=m(n,["prompt"]);e!==void 0&&l!=null&&v(e,["instances[0]","prompt"],l);const r=m(n,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],au(r));const s=m(n,["video"]);return e!==void 0&&s!=null&&v(e,["instances[0]","video"],_v(s)),o}function sA(n,e){const o={},l=m(n,["prompt"]);e!==void 0&&l!=null&&v(e,["instances[0]","prompt"],l);const r=m(n,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],di(r));const s=m(n,["video"]);return e!==void 0&&s!=null&&v(e,["instances[0]","video"],Rv(s)),o}function aA(n){const e={},o=m(n,["_self"]);o!=null&&v(e,["image"],vA(o));const l=m(n,["raiFilteredReason"]);l!=null&&v(e,["raiFilteredReason"],l);const r=m(n,["_self"]);return r!=null&&v(e,["safetyAttributes"],Cv(r)),e}function su(n){const e={},o=m(n,["_self"]);o!=null&&v(e,["image"],wv(o));const l=m(n,["raiFilteredReason"]);l!=null&&v(e,["raiFilteredReason"],l);const r=m(n,["_self"]);r!=null&&v(e,["safetyAttributes"],Nv(r));const s=m(n,["prompt"]);return s!=null&&v(e,["enhancedPrompt"],s),e}function rA(n){const e={},o=m(n,["_self"]);o!=null&&v(e,["mask"],wv(o));const l=m(n,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(s=>s)),v(e,["labels"],r)}return e}function uA(n){const e={},o=m(n,["video"]);return o!=null&&v(e,["video"],KA(o)),e}function cA(n){const e={},o=m(n,["_self"]);return o!=null&&v(e,["video"],WA(o)),e}function fA(n){const e={},o=m(n,["modelSelectionConfig"]);o!=null&&v(e,["modelConfig"],o);const l=m(n,["responseJsonSchema"]);l!=null&&v(e,["responseJsonSchema"],l);const r=m(n,["audioTimestamp"]);r!=null&&v(e,["audioTimestamp"],r);const s=m(n,["candidateCount"]);s!=null&&v(e,["candidateCount"],s);const c=m(n,["enableAffectiveDialog"]);c!=null&&v(e,["enableAffectiveDialog"],c);const f=m(n,["frequencyPenalty"]);f!=null&&v(e,["frequencyPenalty"],f);const p=m(n,["logprobs"]);p!=null&&v(e,["logprobs"],p);const h=m(n,["maxOutputTokens"]);h!=null&&v(e,["maxOutputTokens"],h);const g=m(n,["mediaResolution"]);g!=null&&v(e,["mediaResolution"],g);const x=m(n,["presencePenalty"]);x!=null&&v(e,["presencePenalty"],x);const b=m(n,["responseLogprobs"]);b!=null&&v(e,["responseLogprobs"],b);const y=m(n,["responseMimeType"]);y!=null&&v(e,["responseMimeType"],y);const E=m(n,["responseModalities"]);E!=null&&v(e,["responseModalities"],E);const w=m(n,["responseSchema"]);w!=null&&v(e,["responseSchema"],w);const C=m(n,["routingConfig"]);C!=null&&v(e,["routingConfig"],C);const R=m(n,["seed"]);R!=null&&v(e,["seed"],R);const U=m(n,["speechConfig"]);U!=null&&v(e,["speechConfig"],Av(U));const D=m(n,["stopSequences"]);D!=null&&v(e,["stopSequences"],D);const V=m(n,["temperature"]);V!=null&&v(e,["temperature"],V);const A=m(n,["thinkingConfig"]);A!=null&&v(e,["thinkingConfig"],A);const M=m(n,["topK"]);M!=null&&v(e,["topK"],M);const L=m(n,["topP"]);if(L!=null&&v(e,["topP"],L),m(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dA(n,e){const o={},l=m(e,["model"]);return l!=null&&v(o,["_url","name"],at(n,l)),o}function hA(n,e){const o={},l=m(e,["model"]);return l!=null&&v(o,["_url","name"],at(n,l)),o}function pA(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=m(n,["enableWidget"]);return o!=null&&v(e,["enableWidget"],o),e}function mA(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=m(n,["timeRangeFilter"]);return o!=null&&v(e,["timeRangeFilter"],o),e}function gA(n){const e={},o=m(n,["aspectRatio"]);o!=null&&v(e,["aspectRatio"],o);const l=m(n,["imageSize"]);if(l!=null&&v(e,["imageSize"],l),m(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yA(n){const e={},o=m(n,["aspectRatio"]);o!=null&&v(e,["aspectRatio"],o);const l=m(n,["imageSize"]);l!=null&&v(e,["imageSize"],l);const r=m(n,["outputMimeType"]);r!=null&&v(e,["imageOutputOptions","mimeType"],r);const s=m(n,["outputCompressionQuality"]);return s!=null&&v(e,["imageOutputOptions","compressionQuality"],s),e}function vA(n){const e={},o=m(n,["bytesBase64Encoded"]);o!=null&&v(e,["imageBytes"],Po(o));const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function wv(n){const e={},o=m(n,["gcsUri"]);o!=null&&v(e,["gcsUri"],o);const l=m(n,["bytesBase64Encoded"]);l!=null&&v(e,["imageBytes"],Po(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function au(n){const e={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=m(n,["imageBytes"]);o!=null&&v(e,["bytesBase64Encoded"],Po(o));const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function di(n){const e={},o=m(n,["gcsUri"]);o!=null&&v(e,["gcsUri"],o);const l=m(n,["imageBytes"]);l!=null&&v(e,["bytesBase64Encoded"],Po(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function xA(n,e,o){const l={},r=m(e,["pageSize"]);o!==void 0&&r!=null&&v(o,["_query","pageSize"],r);const s=m(e,["pageToken"]);o!==void 0&&s!=null&&v(o,["_query","pageToken"],s);const c=m(e,["filter"]);o!==void 0&&c!=null&&v(o,["_query","filter"],c);const f=m(e,["queryBase"]);return o!==void 0&&f!=null&&v(o,["_url","models_url"],gv(n,f)),l}function SA(n,e,o){const l={},r=m(e,["pageSize"]);o!==void 0&&r!=null&&v(o,["_query","pageSize"],r);const s=m(e,["pageToken"]);o!==void 0&&s!=null&&v(o,["_query","pageToken"],s);const c=m(e,["filter"]);o!==void 0&&c!=null&&v(o,["_query","filter"],c);const f=m(e,["queryBase"]);return o!==void 0&&f!=null&&v(o,["_url","models_url"],gv(n,f)),l}function bA(n,e){const o={},l=m(e,["config"]);return l!=null&&xA(n,l,o),o}function TA(n,e){const o={},l=m(e,["config"]);return l!=null&&SA(n,l,o),o}function EA(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["_self"]);if(r!=null){let s=yv(r);Array.isArray(s)&&(s=s.map(c=>Jf(c))),v(e,["models"],s)}return e}function wA(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["_self"]);if(r!=null){let s=yv(r);Array.isArray(s)&&(s=s.map(c=>Xf(c))),v(e,["models"],s)}return e}function CA(n){const e={},o=m(n,["maskMode"]);o!=null&&v(e,["maskMode"],o);const l=m(n,["segmentationClasses"]);l!=null&&v(e,["maskClasses"],l);const r=m(n,["maskDilation"]);return r!=null&&v(e,["dilation"],r),e}function Jf(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["displayName"]);l!=null&&v(e,["displayName"],l);const r=m(n,["description"]);r!=null&&v(e,["description"],r);const s=m(n,["version"]);s!=null&&v(e,["version"],s);const c=m(n,["_self"]);c!=null&&v(e,["tunedModelInfo"],HA(c));const f=m(n,["inputTokenLimit"]);f!=null&&v(e,["inputTokenLimit"],f);const p=m(n,["outputTokenLimit"]);p!=null&&v(e,["outputTokenLimit"],p);const h=m(n,["supportedGenerationMethods"]);h!=null&&v(e,["supportedActions"],h);const g=m(n,["temperature"]);g!=null&&v(e,["temperature"],g);const x=m(n,["maxTemperature"]);x!=null&&v(e,["maxTemperature"],x);const b=m(n,["topP"]);b!=null&&v(e,["topP"],b);const y=m(n,["topK"]);y!=null&&v(e,["topK"],y);const E=m(n,["thinking"]);return E!=null&&v(e,["thinking"],E),e}function Xf(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["displayName"]);l!=null&&v(e,["displayName"],l);const r=m(n,["description"]);r!=null&&v(e,["description"],r);const s=m(n,["versionId"]);s!=null&&v(e,["version"],s);const c=m(n,["deployedModels"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>BN(b))),v(e,["endpoints"],x)}const f=m(n,["labels"]);f!=null&&v(e,["labels"],f);const p=m(n,["_self"]);p!=null&&v(e,["tunedModelInfo"],zA(p));const h=m(n,["defaultCheckpointId"]);h!=null&&v(e,["defaultCheckpointId"],h);const g=m(n,["checkpoints"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>b)),v(e,["checkpoints"],x)}return e}function NA(n){const e={},o=m(n,["mediaResolution"]);o!=null&&v(e,["mediaResolution"],o);const l=m(n,["codeExecutionResult"]);l!=null&&v(e,["codeExecutionResult"],l);const r=m(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=m(n,["fileData"]);s!=null&&v(e,["fileData"],ON(s));const c=m(n,["functionCall"]);c!=null&&v(e,["functionCall"],VN(c));const f=m(n,["functionResponse"]);f!=null&&v(e,["functionResponse"],f);const p=m(n,["inlineData"]);p!=null&&v(e,["inlineData"],fN(p));const h=m(n,["text"]);h!=null&&v(e,["text"],h);const g=m(n,["thought"]);g!=null&&v(e,["thought"],g);const x=m(n,["thoughtSignature"]);x!=null&&v(e,["thoughtSignature"],x);const b=m(n,["videoMetadata"]);return b!=null&&v(e,["videoMetadata"],b),e}function AA(n){const e={},o=m(n,["productImage"]);return o!=null&&v(e,["image"],di(o)),e}function MA(n,e){const o={},l=m(n,["numberOfImages"]);e!==void 0&&l!=null&&v(e,["parameters","sampleCount"],l);const r=m(n,["baseSteps"]);e!==void 0&&r!=null&&v(e,["parameters","baseSteps"],r);const s=m(n,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const c=m(n,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=m(n,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const p=m(n,["personGeneration"]);e!==void 0&&p!=null&&v(e,["parameters","personGeneration"],p);const h=m(n,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const g=m(n,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const x=m(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","compressionQuality"],x);const b=m(n,["enhancePrompt"]);e!==void 0&&b!=null&&v(e,["parameters","enhancePrompt"],b);const y=m(n,["labels"]);return e!==void 0&&y!=null&&v(e,["labels"],y),o}function _A(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["source"]);r!=null&&IA(r,o);const s=m(e,["config"]);return s!=null&&MA(s,o),o}function RA(n){const e={},o=m(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>su(r))),v(e,["generatedImages"],l)}return e}function IA(n,e){const o={},l=m(n,["prompt"]);e!==void 0&&l!=null&&v(e,["instances[0]","prompt"],l);const r=m(n,["personImage"]);e!==void 0&&r!=null&&v(e,["instances[0]","personImage","image"],di(r));const s=m(n,["productImages"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>AA(f))),v(e,["instances[0]","productImages"],c)}return o}function kA(n){const e={},o=m(n,["referenceImage"]);o!=null&&v(e,["referenceImage"],di(o));const l=m(n,["referenceId"]);l!=null&&v(e,["referenceId"],l);const r=m(n,["referenceType"]);r!=null&&v(e,["referenceType"],r);const s=m(n,["maskImageConfig"]);s!=null&&v(e,["maskImageConfig"],CA(s));const c=m(n,["controlImageConfig"]);c!=null&&v(e,["controlImageConfig"],vN(c));const f=m(n,["styleImageConfig"]);f!=null&&v(e,["styleImageConfig"],f);const p=m(n,["subjectImageConfig"]);return p!=null&&v(e,["subjectImageConfig"],p),e}function Cv(n){const e={},o=m(n,["safetyAttributes","categories"]);o!=null&&v(e,["categories"],o);const l=m(n,["safetyAttributes","scores"]);l!=null&&v(e,["scores"],l);const r=m(n,["contentType"]);return r!=null&&v(e,["contentType"],r),e}function Nv(n){const e={},o=m(n,["safetyAttributes","categories"]);o!=null&&v(e,["categories"],o);const l=m(n,["safetyAttributes","scores"]);l!=null&&v(e,["scores"],l);const r=m(n,["contentType"]);return r!=null&&v(e,["contentType"],r),e}function LA(n){const e={},o=m(n,["category"]);if(o!=null&&v(e,["category"],o),m(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=m(n,["threshold"]);return l!=null&&v(e,["threshold"],l),e}function DA(n){const e={},o=m(n,["image"]);return o!=null&&v(e,["image"],di(o)),e}function PA(n,e){const o={},l=m(n,["mode"]);e!==void 0&&l!=null&&v(e,["parameters","mode"],l);const r=m(n,["maxPredictions"]);e!==void 0&&r!=null&&v(e,["parameters","maxPredictions"],r);const s=m(n,["confidenceThreshold"]);e!==void 0&&s!=null&&v(e,["parameters","confidenceThreshold"],s);const c=m(n,["maskDilation"]);e!==void 0&&c!=null&&v(e,["parameters","maskDilation"],c);const f=m(n,["binaryColorThreshold"]);e!==void 0&&f!=null&&v(e,["parameters","binaryColorThreshold"],f);const p=m(n,["labels"]);return e!==void 0&&p!=null&&v(e,["labels"],p),o}function UA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["source"]);r!=null&&BA(r,o);const s=m(e,["config"]);return s!=null&&PA(s,o),o}function GA(n){const e={},o=m(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>rA(r))),v(e,["generatedMasks"],l)}return e}function BA(n,e){const o={},l=m(n,["prompt"]);e!==void 0&&l!=null&&v(e,["instances[0]","prompt"],l);const r=m(n,["image"]);e!==void 0&&r!=null&&v(e,["instances[0]","image"],di(r));const s=m(n,["scribbleImage"]);return e!==void 0&&s!=null&&v(e,["instances[0]","scribble"],DA(s)),o}function Av(n){const e={},o=m(n,["voiceConfig"]);o!=null&&v(e,["voiceConfig"],o);const l=m(n,["languageCode"]);if(l!=null&&v(e,["languageCode"],l),m(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function OA(n){const e={},o=m(n,["functionCallingConfig"]);o!=null&&v(e,["functionCallingConfig"],HN(o));const l=m(n,["retrievalConfig"]);return l!=null&&v(e,["retrievalConfig"],l),e}function VA(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(e,["functionDeclarations"],g)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=m(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const r=m(n,["computerUse"]);r!=null&&v(e,["computerUse"],r);const s=m(n,["fileSearch"]);s!=null&&v(e,["fileSearch"],s);const c=m(n,["codeExecution"]);if(c!=null&&v(e,["codeExecution"],c),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=m(n,["googleMaps"]);f!=null&&v(e,["googleMaps"],pA(f));const p=m(n,["googleSearch"]);p!=null&&v(e,["googleSearch"],mA(p));const h=m(n,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function Mv(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(b=>zN(b))),v(e,["functionDeclarations"],x)}const l=m(n,["retrieval"]);l!=null&&v(e,["retrieval"],l);const r=m(n,["googleSearchRetrieval"]);r!=null&&v(e,["googleSearchRetrieval"],r);const s=m(n,["computerUse"]);if(s!=null&&v(e,["computerUse"],s),m(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=m(n,["codeExecution"]);c!=null&&v(e,["codeExecution"],c);const f=m(n,["enterpriseWebSearch"]);f!=null&&v(e,["enterpriseWebSearch"],f);const p=m(n,["googleMaps"]);p!=null&&v(e,["googleMaps"],p);const h=m(n,["googleSearch"]);h!=null&&v(e,["googleSearch"],h);const g=m(n,["urlContext"]);return g!=null&&v(e,["urlContext"],g),e}function HA(n){const e={},o=m(n,["baseModel"]);o!=null&&v(e,["baseModel"],o);const l=m(n,["createTime"]);l!=null&&v(e,["createTime"],l);const r=m(n,["updateTime"]);return r!=null&&v(e,["updateTime"],r),e}function zA(n){const e={},o=m(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&v(e,["baseModel"],o);const l=m(n,["createTime"]);l!=null&&v(e,["createTime"],l);const r=m(n,["updateTime"]);return r!=null&&v(e,["updateTime"],r),e}function FA(n,e){const o={},l=m(n,["displayName"]);e!==void 0&&l!=null&&v(e,["displayName"],l);const r=m(n,["description"]);e!==void 0&&r!=null&&v(e,["description"],r);const s=m(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&v(e,["defaultCheckpointId"],s),o}function jA(n,e){const o={},l=m(n,["displayName"]);e!==void 0&&l!=null&&v(e,["displayName"],l);const r=m(n,["description"]);e!==void 0&&r!=null&&v(e,["description"],r);const s=m(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&v(e,["defaultCheckpointId"],s),o}function qA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","name"],at(n,l));const r=m(e,["config"]);return r!=null&&FA(r,o),o}function YA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["config"]);return r!=null&&jA(r,o),o}function $A(n,e){const o={},l=m(n,["outputGcsUri"]);e!==void 0&&l!=null&&v(e,["parameters","storageUri"],l);const r=m(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&v(e,["parameters","safetySetting"],r);const s=m(n,["personGeneration"]);e!==void 0&&s!=null&&v(e,["parameters","personGeneration"],s);const c=m(n,["includeRaiReason"]);e!==void 0&&c!=null&&v(e,["parameters","includeRaiReason"],c);const f=m(n,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const p=m(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&v(e,["parameters","outputOptions","compressionQuality"],p);const h=m(n,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const x=m(n,["labels"]);e!==void 0&&x!=null&&v(e,["labels"],x);const b=m(n,["numberOfImages"]);e!==void 0&&b!=null&&v(e,["parameters","sampleCount"],b);const y=m(n,["mode"]);return e!==void 0&&y!=null&&v(e,["parameters","mode"],y),o}function JA(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["_url","model"],at(n,l));const r=m(e,["image"]);r!=null&&v(o,["instances[0]","image"],di(r));const s=m(e,["upscaleFactor"]);s!=null&&v(o,["parameters","upscaleConfig","upscaleFactor"],s);const c=m(e,["config"]);return c!=null&&$A(c,o),o}function XA(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(s=>su(s))),v(e,["generatedImages"],r)}return e}function KA(n){const e={},o=m(n,["uri"]);o!=null&&v(e,["uri"],o);const l=m(n,["encodedVideo"]);l!=null&&v(e,["videoBytes"],Po(l));const r=m(n,["encoding"]);return r!=null&&v(e,["mimeType"],r),e}function WA(n){const e={},o=m(n,["gcsUri"]);o!=null&&v(e,["uri"],o);const l=m(n,["bytesBase64Encoded"]);l!=null&&v(e,["videoBytes"],Po(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function QA(n){const e={},o=m(n,["image"]);o!=null&&v(e,["_self"],di(o));const l=m(n,["maskMode"]);return l!=null&&v(e,["maskMode"],l),e}function ZA(n){const e={},o=m(n,["image"]);o!=null&&v(e,["image"],au(o));const l=m(n,["referenceType"]);return l!=null&&v(e,["referenceType"],l),e}function e5(n){const e={},o=m(n,["image"]);o!=null&&v(e,["image"],di(o));const l=m(n,["referenceType"]);return l!=null&&v(e,["referenceType"],l),e}function _v(n){const e={},o=m(n,["uri"]);o!=null&&v(e,["uri"],o);const l=m(n,["videoBytes"]);l!=null&&v(e,["encodedVideo"],Po(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["encoding"],r),e}function Rv(n){const e={},o=m(n,["uri"]);o!=null&&v(e,["gcsUri"],o);const l=m(n,["videoBytes"]);l!=null&&v(e,["bytesBase64Encoded"],Po(l));const r=m(n,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t5(n,e){const o={},l=m(n,["displayName"]);return e!==void 0&&l!=null&&v(e,["displayName"],l),o}function n5(n){const e={},o=m(n,["config"]);return o!=null&&t5(o,e),e}function i5(n,e){const o={},l=m(n,["force"]);return e!==void 0&&l!=null&&v(e,["_query","force"],l),o}function o5(n){const e={},o=m(n,["name"]);o!=null&&v(e,["_url","name"],o);const l=m(n,["config"]);return l!=null&&i5(l,e),e}function l5(n){const e={},o=m(n,["name"]);return o!=null&&v(e,["_url","name"],o),e}function s5(n,e){const o={},l=m(n,["customMetadata"]);if(e!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["customMetadata"],s)}const r=m(n,["chunkingConfig"]);return e!==void 0&&r!=null&&v(e,["chunkingConfig"],r),o}function a5(n){const e={},o=m(n,["name"]);o!=null&&v(e,["name"],o);const l=m(n,["metadata"]);l!=null&&v(e,["metadata"],l);const r=m(n,["done"]);r!=null&&v(e,["done"],r);const s=m(n,["error"]);s!=null&&v(e,["error"],s);const c=m(n,["response"]);return c!=null&&v(e,["response"],u5(c)),e}function r5(n){const e={},o=m(n,["fileSearchStoreName"]);o!=null&&v(e,["_url","file_search_store_name"],o);const l=m(n,["fileName"]);l!=null&&v(e,["fileName"],l);const r=m(n,["config"]);return r!=null&&s5(r,e),e}function u5(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["parent"]);l!=null&&v(e,["parent"],l);const r=m(n,["documentName"]);return r!=null&&v(e,["documentName"],r),e}function c5(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),o}function f5(n){const e={},o=m(n,["config"]);return o!=null&&c5(o,e),e}function d5(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["fileSearchStores"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["fileSearchStores"],s)}return e}function Iv(n,e){const o={},l=m(n,["mimeType"]);e!==void 0&&l!=null&&v(e,["mimeType"],l);const r=m(n,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const s=m(n,["customMetadata"]);if(e!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),v(e,["customMetadata"],f)}const c=m(n,["chunkingConfig"]);return e!==void 0&&c!=null&&v(e,["chunkingConfig"],c),o}function h5(n){const e={},o=m(n,["fileSearchStoreName"]);o!=null&&v(e,["_url","file_search_store_name"],o);const l=m(n,["config"]);return l!=null&&Iv(l,e),e}function p5(n){const e={},o=m(n,["sdkHttpResponse"]);return o!=null&&v(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m5="Content-Type",g5="X-Server-Timeout",y5="User-Agent",Kf="x-goog-api-client",v5="1.33.0",x5=`google-genai-sdk/${v5}`,S5="v1beta1",b5="v1beta";class T5{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:S5,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:b5,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const r=[this.getRequestUrlInternal(o)];return l&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[c,f]of Object.entries(e.queryParams))r.searchParams.append(c,String(f));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,o,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(o))typeof s=="object"?l[r]=Object.assign(Object.assign({},l[r]),s):s!==void 0&&(l[r]=s);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,o,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,o,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l,r){if(o&&o.timeout||r){const s=new AbortController,c=s.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const f=setTimeout(()=>s.abort(),o.timeout);f&&typeof f.unref=="function"&&f.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=c}return o&&o.extraBody!==null&&E5(e,o.extraBody),e.headers=await this.getHeadersInternal(o,l),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Zg(r),new qf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async r=>(await Zg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ri(this,arguments,function*(){var l;const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield qe(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=s.decode(g,{stream:!0});try{const E=JSON.parse(x);if("error"in E){const w=JSON.parse(JSON.stringify(E.error)),C=w.status,R=w.code,U=`got status: ${C}. ${JSON.stringify(E)}`;if(R>=400&&R<600)throw new ou({message:U,status:R})}}catch(E){if(E.name==="ApiError")throw E}c+=x;let b=-1,y=0;for(;;){b=-1,y=0;for(const C of p){const R=c.indexOf(C);R!==-1&&(b===-1||R<b)&&(b=R,y=C.length)}if(b===-1)break;const E=c.substring(0,b);c=c.substring(b+y);const w=E.trim();if(w.startsWith(f)){const C=w.substring(f.length).trim();try{const R=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new qf(R))}catch(R){throw new Error(`exception parsing stream chunk ${C}. ${R}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=x5+" "+this.clientOptions.userAgentExtra;return e[y5]=o,e[Kf]=o,e[m5]="application/json",e}async getHeadersInternal(e,o){const l=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))l.append(r,s);e.timeout&&e.timeout>0&&l.append(g5,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(e){var o;let l="";return typeof e=="string"&&(l=e.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(e,o){var l;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,c=await s.stat(e);r.sizeBytes=String(c.size);const f=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=f;const p={file:r},h=this.getFileName(e),g=ke("upload/v1beta/files",p._url),x=await this.fetchUploadUrl(g,r.sizeBytes,r.mimeType,h,p,o==null?void 0:o.httpOptions);return s.upload(e,x,this)}async uploadFileToFileSearchStore(e,o,l){var r;const s=this.clientOptions.uploader,c=await s.stat(o),f=String(c.size),p=(r=l==null?void 0:l.mimeType)!==null&&r!==void 0?r:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(o),x={};l!=null&&Iv(l,x);const b=await this.fetchUploadUrl(h,f,p,g,x,l==null?void 0:l.httpOptions);return s.uploadToFileSearchStore(o,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,l,r,s,c){var f;let p={};c?p=c:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(f=h==null?void 0:h.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Zg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(l);throw o>=400&&o<600?new ou({message:r,status:o}):new Error(r)}}function E5(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))o=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(s,c){const f=Object.assign({},s);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p)){const h=c[p],g=f[p];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?f[p]=l(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),f[p]=h)}return f}const r=l(o,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w5="mcp_used/unknown";let C5=!1;function kv(n){for(const e of n)if(N5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return C5}function Lv(n){var e;const o=(e=n[Kf])!==null&&e!==void 0?e:"";n[Kf]=(o+` ${w5}`).trimStart()}function N5(n){return n!==null&&typeof n=="object"&&n instanceof Ed}function A5(n){return ri(this,arguments,function*(o,l=100){let r,s=0;for(;s<l;){const c=yield qe(o.listTools({cursor:r}));for(const f of c.tools)yield yield qe(f),s++;if(!c.nextCursor)break;r=c.nextCursor}})}class Ed{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Ed(e,o)}async initialize(){var e,o,l,r;if(this.mcpTools.length>0)return;const s={},c=[];for(const g of this.mcpClients)try{for(var f=!0,p=(o=void 0,ui(A5(g))),h;h=await p.next(),e=h.done,!e;f=!0){r=h.value,f=!1;const x=r;c.push(x);const b=x.name;if(s[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);s[b]=g}}catch(x){o={error:x}}finally{try{!f&&!e&&(l=p.return)&&await l.call(p)}finally{if(o)throw o.error}}this.mcpTools=c,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),lw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const c=await r.callTool({name:l.name,arguments:l.args},void 0,s);o.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function M5(n,e,o){const l=new W2;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(l,r),e(l)}class _5{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),c=k5(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const g=new Promise(D=>{h=D}),x=e.callbacks,b=function(){h({})},y=this.apiClient,E={onopen:b,onmessage:D=>{M5(y,x.onmessage,D)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(D){},onclose:(l=x==null?void 0:x.onclose)!==null&&l!==void 0?l:function(D){}},w=this.webSocketFactory.create(p,I5(c),E);w.connect(),await g;const U={setup:{model:at(this.apiClient,e.model)}};return w.send(JSON.stringify(U)),new R5(w,this.apiClient)}}class R5{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=nN(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=tN(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ql.PLAY)}pause(){this.sendPlaybackControl(Ql.PAUSE)}stop(){this.sendPlaybackControl(Ql.STOP)}resetContext(){this.sendPlaybackControl(Ql.RESET_CONTEXT)}close(){this.conn.close()}}function I5(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function k5(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L5="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function D5(n,e,o){const l=new K2;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const s=JSON.parse(r);if(n.isVertexAI()){const c=lN(s);Object.assign(l,c)}else Object.assign(l,s);e(l)}class P5{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new _5(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,r,s,c,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const x=this.apiClient.getHeaders();e.config&&e.config.tools&&kv(e.config.tools)&&Lv(x);const b=O5(x);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,g);else{const B=this.apiClient.getApiKey();let k="BidiGenerateContent",q="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",q="access_token"),g=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${k}?${q}=${B}`}let y=()=>{};const E=new Promise(B=>{y=B}),w=e.callbacks,C=function(){var B;(B=w==null?void 0:w.onopen)===null||B===void 0||B.call(w),y({})},R=this.apiClient,U={onopen:C,onmessage:B=>{D5(R,w.onmessage,B)},onerror:(o=w==null?void 0:w.onerror)!==null&&o!==void 0?o:function(B){},onclose:(l=w==null?void 0:w.onclose)!==null&&l!==void 0?l:function(B){}},D=this.webSocketFactory.create(g,B5(b),U);D.connect(),await E;let V=at(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const B=this.apiClient.getProject(),k=this.apiClient.getLocation();V=`projects/${B}/locations/${k}/`+V}let A={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[dl.AUDIO]}:e.config.responseModalities=[dl.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(f=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[],L=[];for(const B of M)if(this.isCallableTool(B)){const k=B;L.push(await k.tool())}else L.push(B);L.length>0&&(e.config.tools=L);const I={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=eN(this.apiClient,I):A=ZC(this.apiClient,I),delete A.config,D.send(JSON.stringify(A)),new G5(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const U5={turnComplete:!0};class G5{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=$n(o.turns),e.isVertexAI()||(l=l.map(r=>lu(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const s of l){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(L5)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},U5),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:oN(e)}:o={realtimeInput:iN(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function B5(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function O5(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ey=10;function ty(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(ts(c)){r=!0;break}if(!r)return!0;const s=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function ts(n){return"callTool"in n&&typeof n.callTool=="function"}function V5(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(r=>ts(r)))!==null&&l!==void 0?l:!1}function ny(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((l,r)=>{if(ts(l))return;const s=l;s.functionDeclarations&&s.functionDeclarations.length>0&&o.push(r)}),o}function iy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H5 extends to{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,r,s,c,f;const p=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!V5(o)||ty(o.config))return await this.generateContentInternal(p);const h=ny(o);if(h.length>0){const w=h.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let g,x;const b=$n(p.contents),y=(s=(r=(l=p.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:ey;let E=0;for(;E<y&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const w=g.candidates[0].content,C=[];for(const R of(f=(c=o.config)===null||c===void 0?void 0:c.tools)!==null&&f!==void 0?f:[])if(ts(R)){const D=await R.callTool(g.functionCalls);C.push(...D)}E++,x={role:"user",parts:C},p.contents=$n(p.contents),p.contents.push(w),p.contents.push(x),iy(p.config)&&(b.push(w),b.push(x))}return iy(p.config)&&(g.automaticFunctionCallingHistory=b),g},this.generateContentStream=async o=>{var l,r,s,c,f;if(this.maybeMoveToResponseJsonSchem(o),ty(o.config)){const x=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(x)}const p=ny(o);if(p.length>0){const x=p.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(r=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,g=(f=(c=o==null?void 0:o.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var r;let s;const c=[];if(l!=null&&l.generatedImages)for(const p of l.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((r=p==null?void 0:p.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=p==null?void 0:p.safetyAttributes:c.push(p);let f;return s?f={generatedImages:c,positivePromptSafetyAttributes:s,sdkHttpResponse:l.sdkHttpResponse}:f={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},f}),this.list=async o=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new hl(eo.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(c),c)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var l,r,s,c,f,p;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((c=(s=o.source)===null||s===void 0?void 0:s.video)===null||c===void 0)&&c.uri&&(!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,r;const s=(o=e.config)===null||o===void 0?void 0:o.tools;if(!s)return e;const c=await Promise.all(s.map(async p=>ts(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(f.config.tools=c,e.config&&e.config.tools&&kv(e.config.tools)){const p=(r=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Lv(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var o,l,r;const s=new Map;for(const c of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(ts(c)){const f=c,p=await f.tool();for(const h of(r=p.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,f)}}return s}async processAfcStream(e){var o,l,r;const s=(r=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:ey;let c=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(h,g,x){return ri(this,arguments,function*(){for(var b,y,E,w,C,R;f<s;){c&&(f++,c=!1);const A=yield qe(h.processParamsMaybeAddMcpUsage(x)),M=yield qe(h.generateContentStreamInternal(A)),L=[],I=[];try{for(var U=!0,D=(y=void 0,ui(M)),V;V=yield qe(D.next()),b=V.done,!b;U=!0){w=V.value,U=!1;const B=w;if(yield yield qe(B),B.candidates&&(!((C=B.candidates[0])===null||C===void 0)&&C.content)){I.push(B.candidates[0].content);for(const k of(R=B.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(f<s&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(k.functionCall.name)){const q=yield qe(g.get(k.functionCall.name).callTool([k.functionCall]));L.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(B){y={error:B}}finally{try{!U&&!b&&(E=D.return)&&(yield qe(E.call(D)))}finally{if(y)throw y.error}}if(L.length>0){c=!0;const B=new oa;B.candidates=[{content:{role:"user",parts:L}}],yield yield qe(B);const k=[];k.push(...I),k.push({role:"user",parts:L});const q=$n(x.contents).concat(k);x.contents=q}else break}})})(this,p,e)}async generateContentInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Kg(this.apiClient,e);return f=ke("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=Qg(g),b=new oa;return Object.assign(b,x),b})}else{const h=Xg(this.apiClient,e);return f=ke("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=Wg(g),b=new oa;return Object.assign(b,x),b})}}async generateContentStreamInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=Kg(this.apiClient,e);return f=ke("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(x){return ri(this,arguments,function*(){var b,y,E,w;try{for(var C=!0,R=ui(x),U;U=yield qe(R.next()),b=U.done,!b;C=!0){w=U.value,C=!1;const D=w,V=Qg(yield qe(D.json()));V.sdkHttpResponse={headers:D.headers};const A=new oa;Object.assign(A,V),yield yield qe(A)}}catch(D){y={error:D}}finally{try{!C&&!b&&(E=R.return)&&(yield qe(E.call(R)))}finally{if(y)throw y.error}}})})}else{const h=Xg(this.apiClient,e);return f=ke("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(x){return ri(this,arguments,function*(){var b,y,E,w;try{for(var C=!0,R=ui(x),U;U=yield qe(R.next()),b=U.done,!b;C=!0){w=U.value,C=!1;const D=w,V=Wg(yield qe(D.json()));V.sdkHttpResponse={headers:D.headers};const A=new oa;Object.assign(A,V),yield yield qe(A)}}catch(D){y={error:D}}finally{try{!C&&!b&&(E=R.return)&&(yield qe(E.call(R)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=PN(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=GN(g),b=new kg;return Object.assign(b,x),b})}else{const h=DN(this.apiClient,e);return f=ke("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=UN(g),b=new kg;return Object.assign(b,x),b})}}async generateImagesInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=JN(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=KN(g),b=new Lg;return Object.assign(b,x),b})}else{const h=$N(this.apiClient,e);return f=ke("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=XN(g),b=new Lg;return Object.assign(b,x),b})}}async editImageInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=RN(this.apiClient,e);return s=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=IN(p),g=new O2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=JA(this.apiClient,e);return s=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=XA(p),g=new V2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=_A(this.apiClient,e);return s=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=RA(p),g=new H2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=UA(this.apiClient,e);return s=ke("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=GA(p),g=new z2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=hA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>Xf(g))}else{const h=dA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>Jf(g))}}async listInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=TA(this.apiClient,e);return f=ke("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=wA(g),b=new Dg;return Object.assign(b,x),b})}else{const h=bA(this.apiClient,e);return f=ke("{models_url}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=EA(g),b=new Dg;return Object.assign(b,x),b})}}async update(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=YA(this.apiClient,e);return f=ke("{model}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>Xf(g))}else{const h=qA(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>Jf(g))}}async delete(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=NN(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=MN(g),b=new Pg;return Object.assign(b,x),b})}else{const h=CN(this.apiClient,e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=AN(g),b=new Pg;return Object.assign(b,x),b})}}async countTokens(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=TN(this.apiClient,e);return f=ke("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=wN(g),b=new Ug;return Object.assign(b,x),b})}else{const h=bN(this.apiClient,e);return f=ke("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=EN(g),b=new Ug;return Object.assign(b,x),b})}}async computeTokens(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=pN(this.apiClient,e);return s=ke("{model}:computeTokens",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>{const h=mN(p),g=new F2;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=nA(this.apiClient,e);return f=ke("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c.then(g=>{const x=eA(g),b=new Kr;return Object.assign(b,x),b})}else{const h=tA(this.apiClient,e);return f=ke("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c.then(g=>{const x=ZN(g),b=new Kr;return Object.assign(b,x),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z5 extends to{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let s;l&&"httpOptions"in l&&(s=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:s}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let s;l&&"httpOptions"in l&&(s=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:s}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=L2(e);return f=ke("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),c}else{const h=k2(e);return f=ke("{operationName}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),c}}async fetchPredictVideosOperationInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=C2(e);return s=ke("{resourceName}:fetchPredictOperation",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F5(n){const e={},o=m(n,["data"]);if(o!=null&&v(e,["data"],o),m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function j5(n){const e={},o=m(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Z5(s))),v(e,["parts"],r)}const l=m(n,["role"]);return l!=null&&v(e,["role"],l),e}function q5(n,e,o){const l={},r=m(e,["expireTime"]);o!==void 0&&r!=null&&v(o,["expireTime"],r);const s=m(e,["newSessionExpireTime"]);o!==void 0&&s!=null&&v(o,["newSessionExpireTime"],s);const c=m(e,["uses"]);o!==void 0&&c!=null&&v(o,["uses"],c);const f=m(e,["liveConnectConstraints"]);o!==void 0&&f!=null&&v(o,["bidiGenerateContentSetup"],Q5(n,f));const p=m(e,["lockAdditionalFields"]);return o!==void 0&&p!=null&&v(o,["fieldMask"],p),l}function Y5(n,e){const o={},l=m(e,["config"]);return l!=null&&v(o,["config"],q5(n,l,o)),o}function $5(n){const e={};if(m(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=m(n,["fileUri"]);o!=null&&v(e,["fileUri"],o);const l=m(n,["mimeType"]);return l!=null&&v(e,["mimeType"],l),e}function J5(n){const e={},o=m(n,["id"]);o!=null&&v(e,["id"],o);const l=m(n,["args"]);l!=null&&v(e,["args"],l);const r=m(n,["name"]);if(r!=null&&v(e,["name"],r),m(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function X5(n){const e={};if(m(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=m(n,["enableWidget"]);return o!=null&&v(e,["enableWidget"],o),e}function K5(n){const e={};if(m(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=m(n,["timeRangeFilter"]);return o!=null&&v(e,["timeRangeFilter"],o),e}function W5(n,e){const o={},l=m(n,["generationConfig"]);e!==void 0&&l!=null&&v(e,["setup","generationConfig"],l);const r=m(n,["responseModalities"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig","responseModalities"],r);const s=m(n,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const c=m(n,["topP"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topP"],c);const f=m(n,["topK"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","topK"],f);const p=m(n,["maxOutputTokens"]);e!==void 0&&p!=null&&v(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(n,["mediaResolution"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","mediaResolution"],h);const g=m(n,["seed"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","seed"],g);const x=m(n,["speechConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","speechConfig"],Td(x));const b=m(n,["thinkingConfig"]);e!==void 0&&b!=null&&v(e,["setup","generationConfig","thinkingConfig"],b);const y=m(n,["enableAffectiveDialog"]);e!==void 0&&y!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=m(n,["systemInstruction"]);e!==void 0&&E!=null&&v(e,["setup","systemInstruction"],j5(tn(E)));const w=m(n,["tools"]);if(e!==void 0&&w!=null){let M=ss(w);Array.isArray(M)&&(M=M.map(L=>tM(ls(L)))),v(e,["setup","tools"],M)}const C=m(n,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],eM(C));const R=m(n,["inputAudioTranscription"]);e!==void 0&&R!=null&&v(e,["setup","inputAudioTranscription"],R);const U=m(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&v(e,["setup","outputAudioTranscription"],U);const D=m(n,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const V=m(n,["contextWindowCompression"]);e!==void 0&&V!=null&&v(e,["setup","contextWindowCompression"],V);const A=m(n,["proactivity"]);if(e!==void 0&&A!=null&&v(e,["setup","proactivity"],A),m(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Q5(n,e){const o={},l=m(e,["model"]);l!=null&&v(o,["setup","model"],at(n,l));const r=m(e,["config"]);return r!=null&&v(o,["config"],W5(r,o)),o}function Z5(n){const e={},o=m(n,["mediaResolution"]);o!=null&&v(e,["mediaResolution"],o);const l=m(n,["codeExecutionResult"]);l!=null&&v(e,["codeExecutionResult"],l);const r=m(n,["executableCode"]);r!=null&&v(e,["executableCode"],r);const s=m(n,["fileData"]);s!=null&&v(e,["fileData"],$5(s));const c=m(n,["functionCall"]);c!=null&&v(e,["functionCall"],J5(c));const f=m(n,["functionResponse"]);f!=null&&v(e,["functionResponse"],f);const p=m(n,["inlineData"]);p!=null&&v(e,["inlineData"],F5(p));const h=m(n,["text"]);h!=null&&v(e,["text"],h);const g=m(n,["thought"]);g!=null&&v(e,["thought"],g);const x=m(n,["thoughtSignature"]);x!=null&&v(e,["thoughtSignature"],x);const b=m(n,["videoMetadata"]);return b!=null&&v(e,["videoMetadata"],b),e}function eM(n){const e={},o=m(n,["handle"]);if(o!=null&&v(e,["handle"],o),m(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tM(n){const e={},o=m(n,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(e,["functionDeclarations"],g)}if(m(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=m(n,["googleSearchRetrieval"]);l!=null&&v(e,["googleSearchRetrieval"],l);const r=m(n,["computerUse"]);r!=null&&v(e,["computerUse"],r);const s=m(n,["fileSearch"]);s!=null&&v(e,["fileSearch"],s);const c=m(n,["codeExecution"]);if(c!=null&&v(e,["codeExecution"],c),m(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=m(n,["googleMaps"]);f!=null&&v(e,["googleMaps"],X5(f));const p=m(n,["googleSearch"]);p!=null&&v(e,["googleSearch"],K5(p));const h=m(n,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(s=>`${o}.${s}`);e.push(...r)}else e.push(o)}return e.join(",")}function iM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const s=l.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,o=s):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(o){const s=nM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];r.length>0&&(f=r.map(h=>c.includes(h)?`generationConfig.${h}`:h));const p=[];s&&p.push(s),f.length>0&&p.push(...f),p.length>0?n.fieldMask=p.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class oM extends to{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=Y5(this.apiClient,e);s=ke("auth_tokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const p=iM(f,e.config);return r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lM(n,e){const o={},l=m(n,["force"]);return e!==void 0&&l!=null&&v(e,["_query","force"],l),o}function sM(n){const e={},o=m(n,["name"]);o!=null&&v(e,["_url","name"],o);const l=m(n,["config"]);return l!=null&&lM(l,e),e}function aM(n){const e={},o=m(n,["name"]);return o!=null&&v(e,["_url","name"],o),e}function rM(n,e){const o={},l=m(n,["pageSize"]);e!==void 0&&l!=null&&v(e,["_query","pageSize"],l);const r=m(n,["pageToken"]);return e!==void 0&&r!=null&&v(e,["_query","pageToken"],r),o}function uM(n){const e={},o=m(n,["parent"]);o!=null&&v(e,["_url","parent"],o);const l=m(n,["config"]);return l!=null&&rM(l,e),e}function cM(n){const e={},o=m(n,["sdkHttpResponse"]);o!=null&&v(e,["sdkHttpResponse"],o);const l=m(n,["nextPageToken"]);l!=null&&v(e,["nextPageToken"],l);const r=m(n,["documents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),v(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fM extends to{constructor(e){super(),this.apiClient=e,this.list=async o=>new hl(eo.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=aM(e);return s=ke("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var o,l;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sM(e);r=ke("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uM(e);return s=ke("{parent}/documents",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=cM(p),g=new j2;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dM extends to{constructor(e,o=new fM(e)){super(),this.apiClient=e,this.documents=o,this.list=async(l={})=>new hl(eo.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(l),l)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=n5(e);return s=ke("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async get(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=l5(e);return s=ke("{name}",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>p)}}async delete(e){var o,l;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=o5(e);r=ke("{name}",c._url),s=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=f5(e);return s=ke("fileSearchStores",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=d5(p),g=new q2;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=h5(e);return s=ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=p5(p),g=new Y2;return Object.assign(g,h),g})}}async importFile(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=r5(e);return s=ke("{file_search_store_name}:importFile",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),r.then(p=>{const h=a5(p),g=new yd;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Dv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const hM=()=>Dv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wf(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Qf=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jn extends Error{}class an extends Jn{constructor(e,o,l,r){super(`${an.makeMessage(e,o,l)}`),this.status=e,this.headers=r,this.error=o}static makeMessage(e,o,l){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,o,l,r){if(!e||!r)return new ru({message:l,cause:Qf(o)});const s=o;return e===400?new Uv(e,s,l,r):e===401?new Gv(e,s,l,r):e===403?new Bv(e,s,l,r):e===404?new Ov(e,s,l,r):e===409?new Vv(e,s,l,r):e===422?new Hv(e,s,l,r):e===429?new zv(e,s,l,r):e>=500?new Fv(e,s,l,r):new an(e,s,l,r)}}class Zf extends an{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ru extends an{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Pv extends ru{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Uv extends an{}class Gv extends an{}class Bv extends an{}class Ov extends an{}class Vv extends an{}class Hv extends an{}class zv extends an{}class Fv extends an{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pM=/^[a-z][a-z0-9+.-]*:/i,mM=n=>pM.test(n);let ed=n=>(ed=Array.isArray,ed(n));const gM=ed;let yM=gM;const oy=yM;function vM(n){if(!n)return!0;for(const e in n)return!1;return!0}function xM(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const SM=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Jn(`${n} must be an integer`);if(e<0)throw new Jn(`${n} must be a positive integer`);return e},bM=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TM=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const wM=()=>{var n,e,o,l,r;const s=EM();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kl,"X-Stainless-OS":sy(Deno.build.os),"X-Stainless-Arch":ly(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kl,"X-Stainless-OS":sy((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":ly((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=CM();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function CM(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const l=o.exec(navigator.userAgent);if(l){const r=l[1]||0,s=l[2]||0,c=l[3]||0;return{browser:e,version:`${r}.${s}.${c}`}}}return null}const ly=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",sy=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Ar;const NM=()=>Ar??(Ar=wM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function MM(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return jv({start(){},async pull(o){const{done:l,value:r}=await e.next();l?o.close():o.enqueue(r)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function qv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function _M(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const l=n.getReader(),r=l.cancel();l.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RM=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Cf(n,e,o){return Yv(),new File(n,e??"unknown_file",o)}function IM(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const kM=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $v=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",LM=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&$v(n),DM=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function PM(n,e,o){if(Yv(),n=await n,LM(n))return n instanceof File?n:Cf([await n.arrayBuffer()],n.name);if(DM(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Cf(await td(r),e,o)}const l=await td(n);if(e||(e=IM(n)),!(o!=null&&o.type)){const r=l.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Cf(l,e,o)}async function td(n){var e,o,l,r,s;let c=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)c.push(n);else if($v(n))c.push(n instanceof Blob?n:await n.arrayBuffer());else if(kM(n))try{for(var f=!0,p=ui(n),h;h=await p.next(),e=h.done,!e;f=!0){r=h.value,f=!1;const g=r;c.push(...await td(g))}}catch(g){o={error:g}}finally{try{!f&&!e&&(l=p.return)&&await l.call(p)}finally{if(o)throw o.error}}else{const g=(s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof n}${g?`; constructor: ${g}`:""}${UM(n)}`)}return c}function UM(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jv{constructor(e){this._client=e}}Jv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ay=Object.freeze(Object.create(null)),GM=(n=Xv)=>(function(o,...l){if(o.length===1)return o[0];let r=!1;const s=[],c=o.reduce((g,x,b)=>{var y,E,w;/[?#]/.test(x)&&(r=!0);const C=l[b];let R=(r?encodeURIComponent:n)(""+C);return b!==l.length&&(C==null||typeof C=="object"&&C.toString===((w=Object.getPrototypeOf((E=Object.getPrototypeOf((y=C.hasOwnProperty)!==null&&y!==void 0?y:ay))!==null&&E!==void 0?E:ay))===null||w===void 0?void 0:w.toString))&&(R=C+"",s.push({start:g.length+x.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),g+x+(b===l.length?"":R)},""),f=c.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=p.exec(f))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((g,x)=>g.start-x.start),s.length>0){let g=0;const x=s.reduce((b,y)=>{const E=" ".repeat(y.start-g),w="^".repeat(y.length);return g=y.start+y.length,b+E+w},"");throw new Jn(`Path parameters result in path with invalid segments:
${s.map(b=>b.error).join(`
`)}
${c}
${x}`)}return c}),Mr=GM(Xv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kv extends Jv{create(e,o){var l;const{api_version:r=this._client.apiVersion}=e,s=Qr(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Jn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Jn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Mr`/${r}/interactions`,Object.assign(Object.assign({body:s},o),{stream:(l=e.stream)!==null&&l!==void 0?l:!1}))}delete(e,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Mr`/${r}/interactions/${e}`,l)}cancel(e,o={},l){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Mr`/${r}/interactions/${e}/cancel`,l)}get(e,o={},l){var r;const s=o??{},{api_version:c=this._client.apiVersion}=s,f=Qr(s,["api_version"]);return this._client.get(Mr`/${c}/interactions/${e}`,Object.assign(Object.assign({query:f},l),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Kv._key=Object.freeze(["interactions"]);class Wv extends Kv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(n){let e=0;for(const r of n)e+=r.length;const o=new Uint8Array(e);let l=0;for(const r of n)o.set(r,l),l+=r.length;return o}let _r;function wd(n){let e;return(_r??(e=new globalThis.TextEncoder,_r=e.encode.bind(e)))(n)}let Rr;function ry(n){let e;return(Rr??(e=new globalThis.TextDecoder,Rr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?wd(e):e;this.buffer=BM([this.buffer,o]);const l=[];let r;for(;(r=OM(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){l.push(ry(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=ry(this.buffer.subarray(0,s));l.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}uu.NEWLINE_CHARS=new Set([`
`,"\r"]);uu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OM(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function VM(n){for(let l=0;l<n.length-1;l++){if(n[l]===10&&n[l+1]===10||n[l]===13&&n[l+1]===13)return l+2;if(n[l]===13&&n[l+1]===10&&l+3<n.length&&n[l+2]===13&&n[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zr={off:0,error:200,warn:300,info:400,debug:500},uy=(n,e,o)=>{if(n){if(xM(Zr,n))return n;ln(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Zr))}`)}};function ra(){}function Ir(n,e,o){return!e||Zr[n]>Zr[o]?ra:e[n].bind(e)}const HM={error:ra,warn:ra,info:ra,debug:ra};let cy=new WeakMap;function ln(n){var e;const o=n.logger,l=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return HM;const r=cy.get(o);if(r&&r[0]===l)return r[1];const s={error:Ir("error",o,l),warn:Ir("warn",o,l),info:Ir("info",o,l),debug:Ir("debug",o,l)};return cy.set(o,[l,s]),s}const ol=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zl{constructor(e,o,l){this.iterator=e,this.controller=o,this.client=l}static fromSSEResponse(e,o,l){let r=!1;const s=l?ln(l):console;function c(){return ri(this,arguments,function*(){var p,h,g,x;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var y=!0,E=ui(zM(e,o)),w;w=yield qe(E.next()),p=w.done,!p;y=!0){x=w.value,y=!1;const C=x;if(!b)if(C.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield qe(JSON.parse(C.data))}catch(R){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),R}}}catch(C){h={error:C}}finally{try{!y&&!p&&(g=E.return)&&(yield qe(g.call(E)))}finally{if(h)throw h.error}}b=!0}catch(C){if(Wf(C))return yield qe(void 0);throw C}finally{b||o.abort()}})}return new Zl(c,o,l)}static fromReadableStream(e,o,l){let r=!1;function s(){return ri(this,arguments,function*(){var p,h,g,x;const b=new uu,y=qv(e);try{for(var E=!0,w=ui(y),C;C=yield qe(w.next()),p=C.done,!p;E=!0){x=C.value,E=!1;const R=x;for(const U of b.decode(R))yield yield qe(U)}}catch(R){h={error:R}}finally{try{!E&&!p&&(g=w.return)&&(yield qe(g.call(w)))}finally{if(h)throw h.error}}for(const R of b.flush())yield yield qe(R)})}function c(){return ri(this,arguments,function*(){var p,h,g,x;if(r)throw new Jn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var y=!0,E=ui(s()),w;w=yield qe(E.next()),p=w.done,!p;y=!0){x=w.value,y=!1;const C=x;b||C&&(yield yield qe(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!y&&!p&&(g=E.return)&&(yield qe(g.call(E)))}finally{if(h)throw h.error}}b=!0}catch(C){if(Wf(C))return yield qe(void 0);throw C}finally{b||o.abort()}})}return new Zl(c,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],l=this.iterator(),r=s=>({next:()=>{if(s.length===0){const c=l.next();e.push(c),o.push(c)}return s.shift()}});return[new Zl(()=>r(e),this.controller,this.client),new Zl(()=>r(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return jv({async start(){o=e[Symbol.asyncIterator]()},async pull(l){try{const{value:r,done:s}=await o.next();if(s)return l.close();const c=wd(JSON.stringify(r)+`
`);l.enqueue(c)}catch(r){l.error(r)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function zM(n,e){return ri(this,arguments,function*(){var l,r,s,c;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Jn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Jn("Attempted to iterate over a response with no body");const f=new jM,p=new uu,h=qv(n.body);try{for(var g=!0,x=ui(FM(h)),b;b=yield qe(x.next()),l=b.done,!l;g=!0){c=b.value,g=!1;const y=c;for(const E of p.decode(y)){const w=f.decode(E);w&&(yield yield qe(w))}}}catch(y){r={error:y}}finally{try{!g&&!l&&(s=x.return)&&(yield qe(s.call(x)))}finally{if(r)throw r.error}}for(const y of p.flush()){const E=f.decode(y);E&&(yield yield qe(E))}})}function FM(n){return ri(this,arguments,function*(){var o,l,r,s;let c=new Uint8Array;try{for(var f=!0,p=ui(n),h;h=yield qe(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;const g=s;if(g==null)continue;const x=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?wd(g):g;let b=new Uint8Array(c.length+x.length);b.set(c),b.set(x,c.length),c=b;let y;for(;(y=VM(c))!==-1;)yield yield qe(c.slice(0,y)),c=c.slice(y)}}catch(g){l={error:g}}finally{try{!f&&!o&&(r=p.return)&&(yield qe(r.call(p)))}finally{if(l)throw l.error}}c.length>0&&(yield yield qe(c))})}class jM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,l,r]=qM(e,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function qM(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YM(n,e){const{response:o,requestLogID:l,retryOfRequestLogID:r,startTime:s}=e,c=await(async()=>{var f;if(e.options.stream)return ln(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Zl.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const p=o.headers.get("content-type"),h=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return ln(n).debug(`[${l}] response parsed`,ol({retryOfRequestLogID:r,url:o.url,status:o.status,body:c,durationMs:Date.now()-s})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd extends Promise{constructor(e,o,l=YM){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=l,this.client=e}_thenUnwrap(e){return new Cd(this.client,this.responsePromise,async(o,l)=>e(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qv=Symbol("brand.privateNullableHeaders");function*$M(n){if(!n)return;if(Qv in n){const{values:l,nulls:r}=n;yield*l.entries();for(const s of r)yield[s,null];return}let e=!1,o;n instanceof Headers?o=n.entries():oy(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let l of o){const r=l[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const s=oy(l[1])?l[1]:[l[1]];let c=!1;for(const f of s)f!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,f])}}const Nf=n=>{const e=new Headers,o=new Set;for(const l of n){const r=new Set;for(const[s,c]of $M(l)){const f=s.toLowerCase();r.has(f)||(e.delete(s),r.add(f)),c===null?(e.delete(s),o.add(f)):(e.append(s,c),o.delete(f))}}return{[Qv]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Af=n=>{var e,o,l,r,s,c;if(typeof globalThis.process<"u")return(l=(o=(e=x2)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(c=(s=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||s===void 0?void 0:s.call(r,n))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zv;class cu{constructor(e){var o,l,r,s,c,f,p,h=e===void 0?{}:e,{baseURL:g=Af("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=Af("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:b="v1beta"}=h,y=Qr(h,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:b},y),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:cu.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(c=(s=uy(E.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:uy(Af("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:w,this.fetchOptions=E.fetchOptions,this.maxRetries=(f=E.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=E.fetch)!==null&&p!==void 0?p:AM(),this.encoder=RM,this._options=E,this.apiKey=x,this.apiVersion=b}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){if(this.apiKey!=null)return Nf([{"x-goog-api-key":this.apiKey}])}stringifyQuery(e){return Object.entries(e).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new Jn(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Kl}`}defaultIdempotencyKey(){return`stainless-node-retry-${hM()}`}makeStatusError(e,o,l,r){return an.generate(e,o,l,r)}buildURL(e,o,l){const r=!this.baseURLOverridden()&&l||this.baseURL,s=mM(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return vM(c)||(o=Object.assign(Object.assign({},c),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(e){}async prepareRequest(e,{url:o,options:l}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,l){return this.request(Promise.resolve(l).then(r=>Object.assign({method:e,path:o},r)))}request(e,o=null){return new Cd(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,l){var r,s,c;const f=await e,p=(r=f.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=p),await this.prepareOptions(f);const{req:h,url:g,timeout:x}=await this.buildRequest(f,{retryCount:p-o});await this.prepareRequest(h,{url:g,options:f});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=l===void 0?"":`, retryOf: ${l}`,E=Date.now();if(ln(this).debug(`[${b}] sending request`,ol({retryOfRequestLogID:l,method:f.method,url:g,options:f,headers:h.headers})),!((s=f.signal)===null||s===void 0)&&s.aborted)throw new Zf;const w=new AbortController,C=await this.fetchWithTimeout(g,h,x,w).catch(Qf),R=Date.now();if(C instanceof globalThis.Error){const D=`retrying, ${o} attempts remaining`;if(!((c=f.signal)===null||c===void 0)&&c.aborted)throw new Zf;const V=Wf(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(o)return ln(this).info(`[${b}] connection ${V?"timed out":"failed"} - ${D}`),ln(this).debug(`[${b}] connection ${V?"timed out":"failed"} (${D})`,ol({retryOfRequestLogID:l,url:g,durationMs:R-E,message:C.message})),this.retryRequest(f,o,l??b);throw ln(this).info(`[${b}] connection ${V?"timed out":"failed"} - error; no more retries left`),ln(this).debug(`[${b}] connection ${V?"timed out":"failed"} (error; no more retries left)`,ol({retryOfRequestLogID:l,url:g,durationMs:R-E,message:C.message})),V?new Pv:new ru({cause:C})}const U=`[${b}${y}] ${h.method} ${g} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${R-E}ms`;if(!C.ok){const D=await this.shouldRetry(C);if(o&&D){const B=`retrying, ${o} attempts remaining`;return await _M(C.body),ln(this).info(`${U} - ${B}`),ln(this).debug(`[${b}] response error (${B})`,ol({retryOfRequestLogID:l,url:C.url,status:C.status,headers:C.headers,durationMs:R-E})),this.retryRequest(f,o,l??b,C.headers)}const V=D?"error; no more retries left":"error; not retryable";ln(this).info(`${U} - ${V}`);const A=await C.text().catch(B=>Qf(B).message),M=bM(A),L=M?void 0:A;throw ln(this).debug(`[${b}] response error (${V})`,ol({retryOfRequestLogID:l,url:C.url,status:C.status,headers:C.headers,message:L,durationMs:Date.now()-E})),this.makeStatusError(C.status,M,L,C.headers)}return ln(this).info(U),ln(this).debug(`[${b}] response start`,ol({retryOfRequestLogID:l,url:C.url,status:C.status,headers:C.headers,durationMs:R-E})),{response:C,options:f,controller:w,requestLogID:b,retryOfRequestLogID:l,startTime:E}}async fetchWithTimeout(e,o,l,r){const s=o||{},{signal:c,method:f}=s,p=Qr(s,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),l),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},g?{duplex:"half"}:{}),{method:"GET"}),p);f&&(x.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,x)}finally{clearTimeout(h)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,l,r){var s;let c;const f=r==null?void 0:r.get("retry-after-ms");if(f){const h=parseFloat(f);Number.isNaN(h)||(c=h)}const p=r==null?void 0:r.get("retry-after");if(p&&!c){const h=parseFloat(p);Number.isNaN(h)?c=Date.parse(p)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(o,h)}return await TM(c),this.makeRequest(e,o-1,l)}calculateDefaultRetryTimeoutMillis(e,o){const s=o-e,c=Math.min(.5*Math.pow(2,s),8),f=1-Math.random()*.25;return c*f*1e3}async buildRequest(e,{retryCount:o=0}={}){var l,r,s;const c=Object.assign({},e),{method:f,path:p,query:h,defaultBaseURL:g}=c,x=this.buildURL(p,h,g);"timeout"in c&&SM("timeout",c.timeout),c.timeout=(l=c.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:b,body:y}=this.buildBody({options:c}),E=await this.buildHeaders({options:e,method:f,bodyHeaders:b,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:E},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(s=c.fetchOptions)!==null&&s!==void 0?s:{}),url:x,timeout:c.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:l,retryCount:r}){let s={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const c=Nf([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),NM()),await this.authHeaders(e),this._options.defaultHeaders,l,e.headers]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const l=Nf([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&l.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:MM(e)}:this.encoder({body:e,headers:l})}}cu.DEFAULT_TIMEOUT=6e4;class Ft extends cu{constructor(){super(...arguments),this.interactions=new Wv(this)}}Zv=Ft;Ft.GeminiNextGenAPIClient=Zv;Ft.GeminiNextGenAPIClientError=Jn;Ft.APIError=an;Ft.APIConnectionError=ru;Ft.APIConnectionTimeoutError=Pv;Ft.APIUserAbortError=Zf;Ft.NotFoundError=Ov;Ft.ConflictError=Vv;Ft.RateLimitError=zv;Ft.BadRequestError=Uv;Ft.AuthenticationError=Gv;Ft.InternalServerError=Fv;Ft.PermissionDeniedError=Bv;Ft.UnprocessableEntityError=Hv;Ft.toFile=PM;Ft.Interactions=Wv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JM(n,e){const o={},l=m(n,["name"]);return l!=null&&v(o,["_url","name"],l),o}function XM(n,e){const o={},l=m(n,["name"]);return l!=null&&v(o,["_url","name"],l),o}function KM(n,e){const o={},l=m(n,["sdkHttpResponse"]);return l!=null&&v(o,["sdkHttpResponse"],l),o}function WM(n,e){const o={},l=m(n,["sdkHttpResponse"]);return l!=null&&v(o,["sdkHttpResponse"],l),o}function QM(n,e,o){const l={};if(m(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=m(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&v(e,["displayName"],r),m(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(n,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const c=m(n,["learningRateMultiplier"]);if(c!=null&&v(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),m(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=m(n,["batchSize"]);e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","batchSize"],f);const p=m(n,["learningRate"]);if(e!==void 0&&p!=null&&v(e,["tuningTask","hyperparameters","learningRate"],p),m(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function ZM(n,e,o){const l={};let r=m(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=m(n,["validationDataset"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec"],fy(y))}else if(r==="PREFERENCE_TUNING"){const y=m(n,["validationDataset"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec"],fy(y))}const s=m(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const c=m(n,["description"]);e!==void 0&&c!=null&&v(e,["description"],c);let f=m(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=m(n,["epochCount"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(f==="PREFERENCE_TUNING"){const y=m(n,["epochCount"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let p=m(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const y=m(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(p==="PREFERENCE_TUNING"){const y=m(n,["learningRateMultiplier"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let h=m(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const y=m(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(h==="PREFERENCE_TUNING"){const y=m(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let g=m(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const y=m(n,["adapterSize"]);e!==void 0&&y!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(g==="PREFERENCE_TUNING"){const y=m(n,["adapterSize"]);e!==void 0&&y!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(m(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=m(n,["labels"]);e!==void 0&&x!=null&&v(e,["labels"],x);const b=m(n,["beta"]);return e!==void 0&&b!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),l}function e_(n,e){const o={},l=m(n,["baseModel"]);l!=null&&v(o,["baseModel"],l);const r=m(n,["preTunedModel"]);r!=null&&v(o,["preTunedModel"],r);const s=m(n,["trainingDataset"]);s!=null&&f_(s);const c=m(n,["config"]);return c!=null&&QM(c,o),o}function t_(n,e){const o={},l=m(n,["baseModel"]);l!=null&&v(o,["baseModel"],l);const r=m(n,["preTunedModel"]);r!=null&&v(o,["preTunedModel"],r);const s=m(n,["trainingDataset"]);s!=null&&d_(s,o,e);const c=m(n,["config"]);return c!=null&&ZM(c,o,e),o}function n_(n,e){const o={},l=m(n,["name"]);return l!=null&&v(o,["_url","name"],l),o}function i_(n,e){const o={},l=m(n,["name"]);return l!=null&&v(o,["_url","name"],l),o}function o_(n,e,o){const l={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=m(n,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const c=m(n,["filter"]);return e!==void 0&&c!=null&&v(e,["_query","filter"],c),l}function l_(n,e,o){const l={},r=m(n,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const s=m(n,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const c=m(n,["filter"]);return e!==void 0&&c!=null&&v(e,["_query","filter"],c),l}function s_(n,e){const o={},l=m(n,["config"]);return l!=null&&o_(l,o),o}function a_(n,e){const o={},l=m(n,["config"]);return l!=null&&l_(l,o),o}function r_(n,e){const o={},l=m(n,["sdkHttpResponse"]);l!=null&&v(o,["sdkHttpResponse"],l);const r=m(n,["nextPageToken"]);r!=null&&v(o,["nextPageToken"],r);const s=m(n,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>ex(f))),v(o,["tuningJobs"],c)}return o}function u_(n,e){const o={},l=m(n,["sdkHttpResponse"]);l!=null&&v(o,["sdkHttpResponse"],l);const r=m(n,["nextPageToken"]);r!=null&&v(o,["nextPageToken"],r);const s=m(n,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>nd(f))),v(o,["tuningJobs"],c)}return o}function c_(n,e){const o={},l=m(n,["name"]);l!=null&&v(o,["model"],l);const r=m(n,["name"]);return r!=null&&v(o,["endpoint"],r),o}function f_(n,e){const o={};if(m(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=m(n,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(s=>s)),v(o,["examples","examples"],r)}return o}function d_(n,e,o){const l={};let r=m(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=m(n,["gcsUri"]);e!==void 0&&c!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=m(n,["gcsUri"]);e!==void 0&&c!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let s=m(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const c=m(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(s==="PREFERENCE_TUNING"){const c=m(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(m(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function ex(n,e){const o={},l=m(n,["sdkHttpResponse"]);l!=null&&v(o,["sdkHttpResponse"],l);const r=m(n,["name"]);r!=null&&v(o,["name"],r);const s=m(n,["state"]);s!=null&&v(o,["state"],pv(s));const c=m(n,["createTime"]);c!=null&&v(o,["createTime"],c);const f=m(n,["tuningTask","startTime"]);f!=null&&v(o,["startTime"],f);const p=m(n,["tuningTask","completeTime"]);p!=null&&v(o,["endTime"],p);const h=m(n,["updateTime"]);h!=null&&v(o,["updateTime"],h);const g=m(n,["description"]);g!=null&&v(o,["description"],g);const x=m(n,["baseModel"]);x!=null&&v(o,["baseModel"],x);const b=m(n,["_self"]);return b!=null&&v(o,["tunedModel"],c_(b)),o}function nd(n,e){const o={},l=m(n,["sdkHttpResponse"]);l!=null&&v(o,["sdkHttpResponse"],l);const r=m(n,["name"]);r!=null&&v(o,["name"],r);const s=m(n,["state"]);s!=null&&v(o,["state"],pv(s));const c=m(n,["createTime"]);c!=null&&v(o,["createTime"],c);const f=m(n,["startTime"]);f!=null&&v(o,["startTime"],f);const p=m(n,["endTime"]);p!=null&&v(o,["endTime"],p);const h=m(n,["updateTime"]);h!=null&&v(o,["updateTime"],h);const g=m(n,["error"]);g!=null&&v(o,["error"],g);const x=m(n,["description"]);x!=null&&v(o,["description"],x);const b=m(n,["baseModel"]);b!=null&&v(o,["baseModel"],b);const y=m(n,["tunedModel"]);y!=null&&v(o,["tunedModel"],y);const E=m(n,["preTunedModel"]);E!=null&&v(o,["preTunedModel"],E);const w=m(n,["supervisedTuningSpec"]);w!=null&&v(o,["supervisedTuningSpec"],w);const C=m(n,["preferenceOptimizationSpec"]);C!=null&&v(o,["preferenceOptimizationSpec"],C);const R=m(n,["tuningDataStats"]);R!=null&&v(o,["tuningDataStats"],R);const U=m(n,["encryptionSpec"]);U!=null&&v(o,["encryptionSpec"],U);const D=m(n,["partnerModelTuningSpec"]);D!=null&&v(o,["partnerModelTuningSpec"],D);const V=m(n,["customBaseModel"]);V!=null&&v(o,["customBaseModel"],V);const A=m(n,["experiment"]);A!=null&&v(o,["experiment"],A);const M=m(n,["labels"]);M!=null&&v(o,["labels"],M);const L=m(n,["outputUri"]);L!=null&&v(o,["outputUri"],L);const I=m(n,["pipelineJob"]);I!=null&&v(o,["pipelineJob"],I);const B=m(n,["serviceAccount"]);B!=null&&v(o,["serviceAccount"],B);const k=m(n,["tunedModelDisplayName"]);k!=null&&v(o,["tunedModelDisplayName"],k);const q=m(n,["veoTuningSpec"]);return q!=null&&v(o,["veoTuningSpec"],q),o}function h_(n,e){const o={},l=m(n,["sdkHttpResponse"]);l!=null&&v(o,["sdkHttpResponse"],l);const r=m(n,["name"]);r!=null&&v(o,["name"],r);const s=m(n,["metadata"]);s!=null&&v(o,["metadata"],s);const c=m(n,["done"]);c!=null&&v(o,["done"],c);const f=m(n,["error"]);return f!=null&&v(o,["error"],f),o}function fy(n,e){const o={},l=m(n,["gcsUri"]);l!=null&&v(o,["validationDatasetUri"],l);const r=m(n,["vertexDatasetResource"]);return r!=null&&v(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p_ extends to{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new hl(eo.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},o),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),s=await this.tuneMldevInternal(r);let c="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?c=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(c=s.name.split("/operations/")[0]),{name:c,state:jf.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=i_(e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>nd(g))}else{const h=n_(e);return f=ke("{name}",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>ex(g))}}async listInternal(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=a_(e);return f=ke("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=u_(g),b=new Gg;return Object.assign(b,x),b})}else{const h=s_(e);return f=ke("tunedModels",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=r_(g),b=new Gg;return Object.assign(b,x),b})}}async cancel(e){var o,l,r,s;let c,f="",p={};if(this.apiClient.isVertexAI()){const h=XM(e);return f=ke("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=WM(g),b=new Bg;return Object.assign(b,x),b})}else{const h=JM(e);return f=ke("{name}:cancel",h._url),p=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(x=>{const b=x;return b.sdkHttpResponse={headers:g.headers},b})),c.then(g=>{const x=KM(g),b=new Bg;return Object.assign(b,x),b})}}async tuneInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI()){const f=t_(e,e);return s=ke("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>nd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let r,s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=e_(e);return s=ke("tunedModels",f._url),c=f._query,delete f._url,delete f._query,r=this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),r.then(p=>h_(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const g_=1024*1024*8,y_=3,v_=1e3,x_=2,eu="x-goog-upload-status";async function S_(n,e,o){var l;const r=await tx(n,e,o),s=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[eu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function b_(n,e,o){var l;const r=await tx(n,e,o),s=await(r==null?void 0:r.json());if(((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[eu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=rv(s),f=new vd;return Object.assign(f,c),f}async function tx(n,e,o){var l,r;let s=0,c=0,f=new qf(new Response),p="upload";for(s=n.size;c<s;){const h=Math.min(g_,s-c),g=n.slice(c,c+h);c+h>=s&&(p+=", finalize");let x=0,b=v_;for(;x<y_&&(f=await o.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((l=f==null?void 0:f.headers)===null||l===void 0)&&l[eu]));)x++,await E_(b),b=b*x_;if(c+=h,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r[eu])!=="active")break;if(s<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function T_(n){return{size:n.size,type:n.type}}function E_(n){return new Promise(e=>setTimeout(e,n))}class w_{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await S_(e,o,l)}async uploadToFileSearchStore(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await b_(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_{create(e,o,l){return new N_(e,o,l)}}class N_{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dy="x-goog-api-key";class A_{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(dy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(dy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M_="gl-node/";class nx{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ft({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=E2(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new A_(this.apiKey);this.apiClient=new T5({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:M_+"web",uploader:new w_,downloader:new m_}),this.models=new H5(this.apiClient),this.live=new P5(this.apiClient,r,new C_),this.batches=new Qw(this.apiClient),this.chats=new LC(this.models,this.apiClient),this.caches=new RC(this.apiClient),this.files=new FC(this.apiClient),this.operations=new z5(this.apiClient),this.authTokens=new oM(this.apiClient),this.tunings=new p_(this.apiClient),this.fileSearchStores=new dM(this.apiClient)}}const __="PLACEHOLDER_API_KEY",R_=new nx({apiKey:__});function hy(n){var r;const[e,o]=n.split(","),l=(r=e.match(/:(.*?);/))==null?void 0:r[1];if(!l||!o)throw new Error("Invalid data URL format");return{inlineData:{mimeType:l,data:o}}}const I_=async(n,e)=>{var s;const o=hy(n),l=hy(e),r={text:`You are a fashion AI expert. Your task is to perform a virtual try-on.
        - The first image contains a person.
        - The second image contains an article of clothing.
        Generate a new, photorealistic image where the person from the first image is wearing the clothing from the second image.
        The clothing must be realistically adjusted to fit the person's body and pose. Preserve the original background, head, and limbs from the first image.
        The output must be only the generated image. Do not output any text.`};try{const c=await R_.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:[o,l,r]},config:{responseModalities:[dl.IMAGE,dl.TEXT]}});for(const p of c.candidates[0].content.parts)if(p.inlineData){const h=p.inlineData.data;return`data:${p.inlineData.mimeType};base64,${h}`}const f=(s=c.text)==null?void 0:s.trim();throw f?new Error(`The model returned an unexpected text response: "${f}"`):new Error("The AI model did not return an image. Please try again with different images.")}catch(c){throw console.error("Error calling Gemini API:",c),c instanceof Error?new Error(`Gemini API Error: ${c.message}`):new Error("An unknown error occurred while communicating with the Gemini API.")}},k_=()=>{const[n,e]=G.useState({userImage:null,clothingImage:null,generatedImage:null,isLoading:!1,error:null}),o=G.useCallback(async()=>{if(!n.userImage||!n.clothingImage){e(s=>({...s,error:"Please upload both a person and a clothing image."}));return}e(s=>({...s,isLoading:!0,error:null,generatedImage:null}));try{const s=await I_(n.userImage,n.clothingImage);e(c=>({...c,generatedImage:s,isLoading:!1}))}catch(s){const c=s instanceof Error?s.message:"An unknown error occurred.";e(f=>({...f,error:`Failed to generate image. ${c}`,isLoading:!1})),console.error(s)}},[n.userImage,n.clothingImage]),l=()=>{e({userImage:null,clothingImage:null,generatedImage:null,isLoading:!1,error:null})},r=n.userImage&&n.clothingImage&&!n.isLoading;return d.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[d.jsx(h2,{}),d.jsxs("main",{className:"flex-grow container mx-auto p-4 md:p-8",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx(Lm,{title:"Step 1: Your Photo",subtitle:"Upload a full-body photo of yourself.",onImageUpload:s=>e(c=>({...c,userImage:s})),image:n.userImage,disabled:n.isLoading}),d.jsx(Lm,{title:"Step 2: Clothing Item",subtitle:"Upload a clear photo of the clothing.",onImageUpload:s=>e(c=>({...c,clothingImage:s})),image:n.clothingImage,disabled:n.isLoading||!n.userImage}),d.jsx(v2,{isLoading:n.isLoading,generatedImage:n.generatedImage,error:n.error})]}),d.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[d.jsxs("button",{onClick:o,disabled:!r,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-4 text-lg font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 disabled:bg-indigo-300 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 3.104l-2.28 2.28-1.06-1.06a1.5 1.5 0 00-2.12 0l-.88.88a1.5 1.5 0 000 2.12l1.06 1.06L2.25 9.75l1.06 1.06-2.28 2.28a1.5 1.5 0 000 2.12l.88.88a1.5 1.5 0 002.12 0l2.28-2.28 1.06 1.06a1.5 1.5 0 002.12 0l.88-.88a1.5 1.5 0 000-2.12l-1.06-1.06 2.28-2.28a1.5 1.5 0 000-2.12l-.88-.88a1.5 1.5 0 00-2.12 0L9.75 5.384l-1.06-1.06a1.5 1.5 0 00-2.12 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.375 12.735l-1.06-1.06 2.28-2.28a1.5 1.5 0 000-2.12l-.88-.88a1.5 1.5 0 00-2.12 0l-2.28 2.28-1.06-1.06a1.5 1.5 0 00-2.12 0l-.88.88a1.5 1.5 0 000 2.12l1.06 1.06-2.28 2.28a1.5 1.5 0 000 2.12l.88.88a1.5 1.5 0 002.12 0l2.28-2.28 1.06 1.06a1.5 1.5 0 002.12 0l.88-.88a1.5 1.5 0 000-2.12z"})]}),"Virtual Try-On"]}),(n.userImage||n.clothingImage)&&d.jsx("button",{onClick:l,className:"w-full sm:w-auto px-6 py-3 font-medium text-slate-600 dark:text-slate-300 bg-transparent rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-colors",children:"Start Over"})]})]}),d.jsx("footer",{className:"text-center p-4 text-sm text-slate-500",children:"Powered by Gemini."})]})},L_=()=>d.jsx(k_,{}),Nd=new nx({apiKey:"PLACEHOLDER_API_KEY"}),Mf=new Map,_f=new Map,kr=new Map,Ad=n=>{var e,o,l;return((e=n.message)==null?void 0:e.includes("429"))||n.status===429||n.code===429||((o=n.message)==null?void 0:o.toLowerCase().includes("quota"))||((l=n.message)==null?void 0:l.toLowerCase().includes("resource_exhausted"))};async function Md(n,e=3,o=1e3){var r;let l;for(let s=0;s<e;s++)try{return await n()}catch(c){l=c;const f=Ad(c),p=c.status===503||c.status===500||((r=c.message)==null?void 0:r.includes("Rpc failed"));if((f||p)&&s<e-1){const h=o*Math.pow(2,s);await new Promise(g=>setTimeout(g,h));continue}throw c}throw l}const py=async n=>{const e=n.split(/[\n\r]+/),o=[],l=(r,s)=>({id:`word-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,term:r.trim(),definition:s.trim(),exampleSentence:"",exampleTranslation:"",tags:["Direct Input"],masteryLevel:0,incorrectCount:0,userNote:"",isFavorite:!1});return e.forEach(r=>{if(!r.trim())return;const s=r.split("	").map(g=>g.trim()).filter(g=>g!=="");if(s.length>=2&&s.length%2===0){for(let g=0;g<s.length;g+=2)o.push(l(s[g],s[g+1]));return}const c=r.split(/\s{2,}/).map(g=>g.trim()).filter(g=>g!=="");if(c.length>=2&&c.length%2===0){for(let g=0;g<c.length;g+=2)o.push(l(c[g],c[g+1]));return}let f="",p="";const h=r.search(/[-]/);if(h>0)f=r.substring(0,h).trim(),p=r.substring(h).trim();else{const g=r.match(/[:=-]/);if(g){const x=r.split(g[0]);f=x[0],p=x.slice(1).join(g[0])}else if(r.includes("	")){const x=r.split("	");f=x[0],p=x.slice(1).join(", ")}else{const x=r.indexOf(" ");x>0?(f=r.substring(0,x),p=r.substring(x+1)):(f=r,p="???")}}f&&p&&o.push(l(f,p))}),o},D_=async(n,e,o)=>{const l=`${n}|${o}`;if(_f.has(l))return _f.get(l);try{const s=(await Md(()=>Nd.models.generateContent({model:"gemini-2.5-flash",contents:`
        You are a strict but reasonable language teacher grading a vocabulary quiz.
        
        Task: Assess if the [User Answer] is correct for the given [Word] and [Reference Definition].

        Word: "${n}"
        Reference Definition: "${e}"
        User Answer: "${o}"

        Grading Rules:
        1. **Strict Homonym Check**: 
           - Distinctly differentiate words with similar spellings or sounds but different meanings.
        2. **Partial Credit for Lists**: 
           - If the User Answer contains multiple meanings, mark it **CORRECT** if **AT LEAST ONE** meaning is valid.
        3. **Polysemy**: Accept valid alternate meanings.
        4. **Grammar**: Ignore minor typos.
        
        Output:
        - isCorrect: boolean
        - explanation: A short, helpful sentence in Korean explaining the judgment. 

        Respond strictly in JSON.
      `,config:{responseMimeType:"application/json",responseSchema:{type:gn.OBJECT,properties:{isCorrect:{type:gn.BOOLEAN},explanation:{type:gn.STRING}}}}}))).text;if(!s)throw new Error("No response text from AI");const c=JSON.parse(s),f={isCorrect:c.isCorrect,explanation:c.explanation||(c.isCorrect?".":" .")};return _f.set(l,f),f}catch(r){return Ad(r)?{isCorrect:!1,explanation:"AI     ."}:(console.warn("AI Validation Warning:",r.message),{isCorrect:!1,explanation:"AI     ."})}},jr=async n=>{const e=n.trim().toLowerCase();if(Mf.has(e))return Mf.get(e);if(kr.has(e))return kr.get(e);const o=(async()=>{var l,r,s,c,f,p;try{const g=(p=(f=(c=(s=(r=(l=(await Md(()=>Nd.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:{parts:[{text:n}]},config:{responseModalities:[dl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}}))).candidates)==null?void 0:l[0])==null?void 0:r.content)==null?void 0:s.parts)==null?void 0:c[0])==null?void 0:f.inlineData)==null?void 0:p.data;if(!g)return null;const x=atob(g),b=x.length,y=new Uint8Array(b);for(let E=0;E<b;E++)y[E]=x.charCodeAt(E);return Mf.set(e,y),y}catch(h){return console.warn(`TTS Generation Failed (using fallback): ${h.message||"Unknown Error"}`),null}finally{kr.delete(e)}})();return kr.set(e,o),o},P_=async(n,e)=>{try{const l=(await Md(()=>Nd.models.generateContent({model:"gemini-2.5-flash",contents:`
                Create a simple, modern English example sentence for the word "${n}" (meaning: ${e}).
                The sentence should be relevant to daily life or middle school context.
                Also provide a Korean translation.
                
                Respond in JSON:
                {
                    "sentence": "English sentence",
                    "translation": "Korean translation"
                }
            `,config:{responseMimeType:"application/json",responseSchema:{type:gn.OBJECT,properties:{sentence:{type:gn.STRING},translation:{type:gn.STRING}}}}}))).text;if(!l)return{sentence:"",translation:""};const r=JSON.parse(l);return{sentence:r.sentence,translation:r.translation}}catch(o){return Ad(o)?{sentence:"",translation:""}:(console.warn("Example generation failed (silent fallback):",o.message),{sentence:"",translation:""})}},U_=({words:n,allWords:e=[],quizMode:o="TYPING",timeLimit:l,onSave:r,onRetry:s,onExit:c,onToggleFavorite:f,hasNextBatch:p,onNextBatch:h})=>{const[g,x]=G.useState(0),[b,y]=G.useState("INPUT"),[E,w]=G.useState(""),[C,R]=G.useState(!1),[U,D]=G.useState(l),[V,A]=G.useState([]),[M,L]=G.useState([]),[I,B]=G.useState({displayedDefinition:"",isTrue:!0}),[k,q]=G.useState(!1),P=G.useRef(null),H=G.useRef(null),K=G.useRef(!1),J=G.useRef([]);G.useEffect(()=>(H.current||(H.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),H.current.state==="suspended"&&H.current.resume(),()=>{var ce;(ce=H.current)==null||ce.close(),H.current=null}),[]);const Y=()=>{const ce=[];for(let pe=g;pe<n.length;pe++)ce.push({word:n[pe],userInput:"  (Time Over)",isCorrect:!1,isAiCorrect:!1,originalVerdict:!1,aiFeedback:"  ."});A(pe=>[...pe,...ce]),y("GRADING")};G.useEffect(()=>{if(U===void 0||b!=="INPUT")return;const ce=setInterval(()=>{D(pe=>pe!==void 0&&pe<=1?(clearInterval(ce),Y(),0):pe!==void 0?pe-1:void 0)},1e3);return()=>clearInterval(ce)},[U,b]),G.useEffect(()=>{const ce=g+1;ce<n.length&&jr(n[ce].term),g<n.length&&jr(n[g].term)},[g,n]);const Z=G.useCallback(ce=>{const pe=H.current;if(!pe)return;const ge=pe.createOscillator(),we=pe.createGain();ge.connect(we),we.connect(pe.destination);const Ue=pe.currentTime;ce==="correct"?(ge.type="sine",ge.frequency.setValueAtTime(523.25,Ue),ge.frequency.exponentialRampToValueAtTime(1046.5,Ue+.1),we.gain.setValueAtTime(.1,Ue),we.gain.exponentialRampToValueAtTime(.01,Ue+.3),ge.start(),ge.stop(Ue+.3)):ce==="incorrect"?(ge.type="triangle",ge.frequency.setValueAtTime(150,Ue),ge.frequency.linearRampToValueAtTime(100,Ue+.2),we.gain.setValueAtTime(.1,Ue),we.gain.linearRampToValueAtTime(.01,Ue+.3),ge.start(),ge.stop(Ue+.3)):(ge.type="sine",ge.frequency.setValueAtTime(800,Ue),we.gain.setValueAtTime(.05,Ue),we.gain.exponentialRampToValueAtTime(.001,Ue+.1),ge.start(),ge.stop(Ue+.1))},[]),ie=async(ce,pe=!1)=>{if(!(C&&!pe)){pe||R(!0);try{const ge=await jr(ce);if(pe)return;if(ge&&H.current){const we=H.current;we.state==="suspended"&&await we.resume();const Ue=1,_e=new Int16Array(ge.buffer),be=_e.length,Re=we.createBuffer(Ue,be,24e3),Le=Re.getChannelData(0);for(let Pe=0;Pe<be;Pe++)Le[Pe]=_e[Pe]/32768;const Oe=we.createBufferSource();Oe.buffer=Re,Oe.connect(we.destination),Oe.onended=()=>R(!1),Oe.start()}else R(!1)}catch(ge){console.error("Audio playback error",ge),R(!1)}}},de=n[g];G.useEffect(()=>{if(b!=="INPUT")return;const ce=setTimeout(()=>{var ge;K.current=!1,o==="TYPING"&&((ge=P.current)==null||ge.focus())},100),pe=e.length>0?e:n;if(o==="MULTIPLE_CHOICE"){const ge=de.definition,_e=pe.filter(Re=>Re.definition!==ge).map(Re=>Re.definition).sort(()=>.5-Math.random()).slice(0,3),be=[ge,..._e].sort(()=>.5-Math.random());L(be)}if(o==="OX")if(Math.random()>.5||pe.length<2)B({displayedDefinition:de.definition,isTrue:!0});else{const we=pe.filter(_e=>_e.definition!==de.definition),Ue=we[Math.floor(Math.random()*we.length)];B({displayedDefinition:Ue.definition,isTrue:!1})}return q(!1),w(""),()=>clearTimeout(ce)},[g,o,b,de,n,e]);const se=ce=>{const pe=["","","","","","","","","","","","","","","","","","",""];let ge="";for(let we=0;we<ce.length;we++){const Ue=ce.charCodeAt(we)-44032;Ue>-1&&Ue<11172?ge+=pe[Math.floor(Ue/588)]:ge+=ce.charAt(we)}return ge},z=async()=>{const ce=await Promise.all(J.current),pe=V.map((ge,we)=>{if(ge.isCorrect&&ge.originalVerdict||ge.userInput.includes("Time Over"))return ge;if(o==="TYPING"&&!ge.isCorrect){const Ue=ce[we];if(Ue)return{...ge,isCorrect:Ue.isCorrect,isAiCorrect:Ue.isCorrect,aiFeedback:Ue.explanation}}return ge});A(pe),y("SUMMARY")};G.useEffect(()=>{b==="GRADING"&&z()},[b]);const $=(ce,pe)=>{if(!pe)return!1;const ge=Le=>Le.replace(/\s+/g,"").toLowerCase().replace(/[.,;]/g,""),we=ge(pe),Ue=ge(ce.definition);if(we===Ue||Ue.includes(we)&&we.length>=2)return!0;const _e=Le=>Le.split(/[,;/]+/).map(Oe=>Oe.replace(/\s+/g,"").toLowerCase()).filter(Oe=>Oe.length>0),be=_e(pe),Re=_e(ce.definition);return be.length>0&&be.every(Le=>Re.includes(Le))},ee=ce=>{if(K.current)return;K.current=!0,document.activeElement instanceof HTMLElement&&document.activeElement.blur();let pe=!1,ge="",we=Promise.resolve(null);if(o==="OX"){const _e=ce;pe=_e===I.isTrue,ge=_e?"O":"X"}else if(o==="MULTIPLE_CHOICE"){const _e=ce;pe=_e===de.definition,ge=_e}else ge=E,pe=$(de,ge),pe||(we=D_(de.term,de.definition,ge));J.current.push(we);const Ue={word:de,userInput:ge,isCorrect:pe,isAiCorrect:!1,originalVerdict:pe};A(_e=>[..._e,Ue]),Z("click"),setTimeout(()=>{g<n.length-1?x(_e=>_e+1):(y("GRADING"),K.current=!1)},50)};G.useEffect(()=>{const ce=pe=>{if(b==="INPUT"){if(K.current){pe.preventDefault();return}if(o==="MULTIPLE_CHOICE"){if(["1","2","3","4"].includes(pe.key)){pe.preventDefault();const ge=parseInt(pe.key)-1;M[ge]&&ee(M[ge])}}else o==="OX"?(["o","O","1"].includes(pe.key)&&(pe.preventDefault(),ee(!0)),["x","X","2"].includes(pe.key)&&(pe.preventDefault(),ee(!1))):o==="TYPING"&&pe.key==="Enter"&&(pe.preventDefault(),pe.repeat||ee(E));pe.key==="Escape"&&(pe.preventDefault(),ee(o==="OX"?!I.isTrue:""))}};return window.addEventListener("keydown",ce),()=>window.removeEventListener("keydown",ce)},[b,g,o,M,I,E]);const he=ce=>{const pe=Math.floor(ce/60),ge=ce%60;return`${pe} ${ge.toString().padStart(2,"0")}`};if(b==="GRADING")return d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] animate-fade-in text-center p-4",children:[d.jsx(ua,{className:"w-20 h-20 text-purple-500 mb-6 animate-pulse"}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI   ..."}),d.jsxs("p",{className:"text-slate-400 max-w-md",children:["   . ",d.jsx("br",{}),d.jsx("span",{className:"text-indigo-400 font-semibold",children:" !"})]}),d.jsx(Jr,{className:"w-8 h-8 text-purple-500 mt-8 animate-spin"})]});if(b==="SUMMARY"){const ce=V.filter(_e=>_e.isCorrect).length,pe=V.length-ce,ge=Math.round(ce/n.length*100),we=V.filter(_e=>_e.isCorrect).map(_e=>_e.word.id),Ue=V.filter(_e=>!_e.isCorrect).map(_e=>_e.word.id);return d.jsx("div",{className:"max-w-3xl mx-auto p-4 animate-slide-up pb-20",children:d.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-800 p-6 flex flex-col items-center border-b border-slate-700 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-500/10 to-transparent"}),d.jsxs("div",{className:"relative z-10 text-center w-full",children:[d.jsx("div",{className:"text-sm text-slate-400 uppercase tracking-widest mb-1",children:"Final Score"}),d.jsxs("div",{className:"text-5xl font-black text-white mb-2",children:[ge,""]}),d.jsxs("div",{className:"flex justify-center gap-4 text-sm font-medium mb-4",children:[d.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[d.jsx($r,{className:"w-4 h-4"}),"  ",ce]}),d.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[d.jsx(Nm,{className:"w-4 h-4"}),"  ",pe]})]}),l!==void 0&&U!==void 0&&d.jsxs("div",{className:"bg-slate-900/50 border border-slate-600 rounded-xl p-3 inline-flex flex-col items-center animate-pulse-glow shadow-lg max-w-xs mx-auto w-full",children:[d.jsxs("span",{className:"text-yellow-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1 mb-1",children:[d.jsx(ns,{className:"w-3 h-3 fill-yellow-400"})," Speed Mode Result"]}),d.jsxs("div",{className:"text-white font-mono font-bold text-lg",children:[" ",he(l-U)," ",d.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["/ ",he(l)]})]}),d.jsx("div",{className:`text-xs mt-1 font-bold ${U===0?"text-red-400":"text-green-400"}`,children:U===0?"  (Time Over)":"  (Mission Clear!)"})]})]})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[d.jsx(KT,{className:"w-5 h-5 text-indigo-400"}),"   "]}),d.jsx("div",{className:"space-y-3",children:V.map((_e,be)=>{const Re=n.find(Le=>Le.id===_e.word.id)||_e.word;return d.jsxs("div",{className:`flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-xl border ${_e.isCorrect?"bg-slate-800/50 border-slate-700":"bg-red-900/10 border-red-900/30"}`,children:[d.jsx("div",{className:"hidden md:flex flex-col items-center justify-center w-12 shrink-0",children:_e.isCorrect?_e.isAiCorrect?d.jsxs("div",{className:"flex flex-col items-center text-green-400",children:[d.jsx(ua,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[10px] font-bold mt-1",children:"AI"})]}):d.jsx($r,{className:"w-6 h-6 text-green-500"}):d.jsx(Nm,{className:"w-6 h-6 text-red-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-lg font-bold text-white",children:Re.term}),d.jsx("button",{onClick:()=>f(Re.id),className:"p-1 group",children:d.jsx(Lo,{className:`w-4 h-4 transition-transform group-active:scale-125 ${Re.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})}),d.jsx("button",{onClick:()=>ie(Re.term),className:`p-1 transition-colors ${C?"text-purple-400":"text-slate-500 hover:text-purple-400"}`,children:d.jsx(Xr,{className:"w-4 h-4"})}),d.jsx("span",{className:`md:hidden text-xs font-bold px-2 py-0.5 rounded-full ${_e.isCorrect?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:_e.isCorrect?_e.isAiCorrect?"AI ":"":""})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-slate-500 text-xs",children:" "}),d.jsx("span",{className:`font-medium ${_e.isCorrect?"text-slate-300":"text-red-300 line-through"}`,children:_e.userInput||"()"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-slate-500 text-xs",children:" "}),d.jsx("span",{className:"font-medium text-purple-300",children:Re.definition})]})]}),_e.aiFeedback&&d.jsxs("div",{className:`mt-2 text-xs px-3 py-2 rounded-lg flex items-start gap-2 ${_e.isCorrect?"bg-indigo-900/20 text-indigo-300":"bg-red-900/20 text-red-300"}`,children:[d.jsx(Am,{className:"w-3 h-3 mt-0.5 shrink-0"}),d.jsxs("span",{children:[d.jsx("span",{className:"font-bold",children:"AI :"})," ",_e.aiFeedback]})]})]})]},be)})}),d.jsxs("div",{className:"mt-8 flex flex-col gap-3",children:[p&&d.jsxs("button",{onClick:()=>{r({correct:we,incorrect:Ue}),h==null||h()},className:"w-full py-4 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-purple-900/30 flex justify-center gap-2 animate-pulse-glow",children:[d.jsx(MT,{className:"w-5 h-5"}),"   "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>{s("ALL",{correct:we,incorrect:Ue})},className:"py-4 bg-slate-700 hover:bg-slate-600 text-white font-bold rounded-xl transition-colors flex justify-center gap-2",children:[d.jsx(av,{className:"w-5 h-5"}),"  "]}),Ue.length>0&&d.jsxs("button",{onClick:()=>s("INCORRECT",{correct:we,incorrect:Ue}),className:"py-4 bg-red-600 hover:bg-red-500 text-white font-bold rounded-xl transition-colors shadow-lg shadow-red-900/30 flex justify-center gap-2",children:[d.jsx(pd,{className:"w-5 h-5"}),"  "]})]}),d.jsxs("button",{onClick:()=>{r({correct:we,incorrect:Ue}),c()},className:"py-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 font-bold rounded-xl transition-colors flex justify-center gap-2",children:[d.jsx(VT,{className:"w-5 h-5"}),"   ()"]})]})]})]})})}const Se=g/n.length*100;return d.jsxs("div",{className:"max-w-xl mx-auto p-4 animate-fade-in relative min-h-[calc(100vh-100px)] flex flex-col justify-center",children:[d.jsx("button",{onClick:c,className:"absolute top-0 right-4 text-slate-500 hover:text-white text-sm transition-colors z-10",children:" ( )"}),U!==void 0&&d.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[d.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-yellow-400 uppercase tracking-widest animate-pulse",children:[d.jsx(dd,{className:"w-3 h-3"})," Speed Mode"]}),d.jsxs("span",{className:`text-sm font-mono font-bold ${U<=10?"text-red-500 animate-bounce":"text-slate-400"}`,children:[Math.floor(U/60),":",(U%60).toString().padStart(2,"0")]})]}),d.jsxs("div",{className:"w-full bg-slate-800 h-2 rounded-full mb-8 border border-slate-700 relative overflow-hidden",children:[d.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${Se}%`}}),l&&U!==void 0&&d.jsx("div",{className:"absolute top-0 left-0 h-full bg-yellow-500/50 transition-all duration-1000 ease-linear",style:{width:`${U/l*100}%`}})]}),d.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 shadow-xl text-center relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-50"}),d.jsxs("div",{className:"relative mb-6 flex justify-end items-center h-8",children:[d.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:d.jsxs("span",{className:"text-slate-500 text-xs font-bold tracking-widest uppercase bg-slate-800 px-3 py-1 rounded-full",children:["Question ",g+1," / ",n.length]})}),d.jsx("button",{onClick:()=>ie(de.term),className:`p-2 rounded-full transition-colors z-10 ${C?"text-purple-400 bg-purple-900/30":"text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,title:"  (AI)",disabled:C,children:C?d.jsx(Jr,{className:"w-6 h-6 animate-spin"}):d.jsx(Xr,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"mb-10 min-h-[120px] flex flex-col justify-center items-center relative",children:[d.jsx("button",{onClick:()=>f(de.id),className:"mb-2 p-2 hover:bg-slate-800 rounded-full transition-colors group",children:d.jsx(Lo,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${de.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})}),d.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 break-words animate-slide-up leading-tight",children:de.term}),d.jsx("p",{className:"text-slate-400 text-sm font-medium",children:o==="MULTIPLE_CHOICE"?"  ":o==="OX"?"  ":" "})]}),d.jsx("div",{className:"space-y-6 w-full animate-fade-in",children:o==="TYPING"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{ref:P,type:"text",value:E,onChange:ce=>w(ce.target.value),placeholder:k?se(de.definition):" ...",className:"w-full bg-slate-800 text-white text-xl p-4 rounded-xl border-2 border-slate-700 focus:border-purple-500 outline-none text-center placeholder:text-slate-600 transition-all shadow-inner",autoComplete:"off",autoFocus:!0}),!k&&d.jsx("button",{onClick:()=>q(!0),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-yellow-400 transition-colors",children:d.jsx(Am,{className:"w-5 h-5"})})]}),d.jsxs("button",{type:"button",onClick:()=>ee(E),className:"mt-6 w-full py-4 bg-slate-800 hover:bg-slate-700 border border-slate-600 hover:border-purple-500 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2 group active:scale-95",children:["  (Enter) ",d.jsx(Vr,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}):o==="OX"?d.jsxs("div",{children:[d.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 mb-8 min-h-[100px] flex items-center justify-center shadow-inner",children:d.jsx("span",{className:"text-2xl text-indigo-200 font-medium break-keep",children:I.displayedDefinition})}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("button",{onClick:()=>ee(!0),className:"aspect-square flex flex-col items-center justify-center bg-slate-800 hover:bg-green-900/30 border border-slate-700 hover:border-green-500 rounded-2xl transition-all group active:scale-95",children:[d.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-green-500 flex items-center justify-center mb-2 bg-green-500/10",children:d.jsx("div",{className:"w-8 h-8 rounded-full border-4 border-green-500"})}),d.jsx("span",{className:"text-green-400 font-bold text-xl",children:" (O)"})]}),d.jsxs("button",{onClick:()=>ee(!1),className:"aspect-square flex flex-col items-center justify-center bg-slate-800 hover:bg-red-900/30 border border-slate-700 hover:border-red-500 rounded-2xl transition-all group active:scale-95",children:[d.jsx("div",{className:"w-16 h-16 rounded-full relative mb-2",children:d.jsx(rl,{className:"w-full h-full text-red-500",strokeWidth:3})}),d.jsx("span",{className:"text-red-400 font-bold text-xl",children:" (X)"})]})]})]}):d.jsx("div",{className:"grid grid-cols-1 gap-3",children:M.map((ce,pe)=>d.jsxs("button",{onClick:()=>ee(ce),className:"w-full p-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-purple-500 text-white text-lg rounded-xl transition-all text-left flex items-center gap-3 group active:scale-95",children:[d.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-slate-900 rounded-full text-sm font-bold text-slate-400 group-hover:text-purple-400 group-hover:bg-purple-900/30 transition-colors border border-slate-700",children:pe+1}),d.jsx("span",{className:"flex-1",children:ce})]},pe))})})]})]})},G_=({words:n,filterType:e,onUpdateWord:o,onToggleFavorite:l,onStartQuizWithWords:r,onStartFavoriteQuiz:s})=>{const[c,f]=G.useState(""),[p,h]=G.useState(null),[g,x]=G.useState(""),[b,y]=G.useState(null),[E,w]=G.useState(null),[C,R]=G.useState(!1),[U,D]=G.useState(null),[V,A]=G.useState(1),M=G.useRef(null),[L,I]=G.useState(new Set);G.useEffect(()=>(M.current||(M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),()=>{var $;($=M.current)==null||$.close(),M.current=null}),[]),G.useEffect(()=>{I(new Set),R(!1),D(null)},[e]);const B=n.filter($=>{const ee=$.term.toLowerCase().includes(c.toLowerCase())||$.definition.includes(c);return e==="REVIEW"?ee&&$.incorrectCount>0:ee}),k=n.filter($=>$.incorrectCount>0),q=$=>{h($.id),x($.userNote||"")},P=$=>{o($,{userNote:g}),h(null)},H=async($,ee)=>{if(!b){y($);try{M.current||(M.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}));const he=M.current;he.state==="suspended"&&await he.resume();const Se=await jr(ee);if(Se){const pe=new Int16Array(Se.buffer),ge=pe.length,we=he.createBuffer(1,ge,24e3),Ue=we.getChannelData(0);for(let be=0;be<ge;be++)Ue[be]=pe[be]/32768;const _e=he.createBufferSource();_e.buffer=we,_e.connect(he.destination),_e.onended=()=>y(null),_e.start()}else y(null)}catch(he){console.error("Audio playback error",he),y(null)}}},K=async $=>{w($.id);try{const ee=await P_($.term,$.definition);o($.id,{exampleSentence:ee.sentence,exampleTranslation:ee.translation})}finally{w(null)}},J=$=>{const ee=new Set(L);ee.has($)?ee.delete($):ee.add($),I(ee)},Y=()=>{L.size===B.length?I(new Set):I(new Set(B.map($=>$.id)))},Z=$=>{if(!(p||b)){if(!C){J($);return}if(U===null){D($);const ee=new Set(L);ee.add($),I(ee)}else{const ee=B.findIndex(Se=>Se.id===U),he=B.findIndex(Se=>Se.id===$);if(ee!==-1&&he!==-1){const Se=Math.min(ee,he),ce=Math.max(ee,he),pe=new Set(L);for(let ge=Se;ge<=ce;ge++)pe.add(B[ge].id);I(pe)}D(null),R(!1)}}},ie=()=>{R(!1),D(null)},de=()=>{const $=n.filter(ee=>L.has(ee.id));r($)},se=()=>{if(s)s();else{const $=n.filter(ee=>ee.isFavorite);r($)}},z=()=>{k.length>0&&r(k)};return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[e==="REVIEW"?d.jsx(Ky,{className:"text-orange-500"}):d.jsx(Vf,{className:"text-purple-500"}),e==="REVIEW"?"  (Review)":" "]}),d.jsxs("div",{className:"relative w-full md:w-64",children:[d.jsx(wE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4"}),d.jsx("input",{type:"text",placeholder:" ...",value:c,onChange:$=>f($.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-full py-2 pl-10 pr-4 text-sm text-white focus:border-purple-500 outline-none"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm text-slate-300 transition-colors",children:[L.size>0&&L.size===B.length?d.jsx(Im,{className:"w-4 h-4 text-purple-400"}):d.jsx(km,{className:"w-4 h-4"}),""]}),d.jsxs("button",{onClick:()=>{C?ie():R(!0)},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all border ${C?"bg-cyan-900/40 border-cyan-500 text-cyan-300 animate-pulse":"bg-slate-700 hover:bg-slate-600 border-transparent text-slate-300"}`,children:[d.jsx(sE,{className:"w-4 h-4"}),C?" ":" "]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700",children:[d.jsx("button",{onClick:()=>A(1),title:"1 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===1?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"1"}),d.jsx("button",{onClick:()=>A(2),title:"2 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===2?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"2"}),d.jsx("button",{onClick:()=>A(3),title:"3 ",className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${V===3?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"3"})]}),d.jsx("div",{className:"w-px h-6 bg-slate-700"}),d.jsxs("button",{onClick:z,disabled:k.length===0,className:"flex items-center gap-2 px-3 py-1.5 bg-red-900/30 border border-red-700/50 hover:bg-red-900/50 disabled:opacity-30 disabled:cursor-not-allowed rounded-lg text-sm text-red-200 transition-colors",children:[d.jsx(pd,{className:"w-4 h-4"})," "]}),d.jsxs("button",{onClick:se,className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-900/30 border border-yellow-700/50 hover:bg-yellow-900/50 rounded-lg text-sm text-yellow-200 transition-colors",children:[d.jsx(Lo,{className:"w-4 h-4 fill-yellow-500 text-yellow-500"}),""]}),d.jsxs("button",{onClick:de,disabled:L.size===0,className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-800 disabled:text-slate-600 disabled:cursor-not-allowed rounded-lg text-sm text-white font-bold transition-colors shadow-lg shadow-purple-900/20",children:[d.jsx(fl,{className:"w-4 h-4 fill-white"})," "]})]})]}),C&&d.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-500/50 rounded-xl p-3 flex items-center justify-center text-cyan-200 text-sm font-medium animate-slide-up",children:[" ",U===null?d.jsx("span",{children:"    ()"}):d.jsx("span",{children:"    ( )"})," "]})]}),B.length===0?d.jsxs("div",{className:"text-center py-20 text-slate-500 bg-slate-900/50 rounded-2xl border border-slate-800",children:[d.jsx("p",{className:"mb-2",children:e==="REVIEW"?"  ! ":"  ."}),e==="ALL"&&d.jsx("p",{className:"text-sm",children:"  ."})]}):d.jsx("div",{className:`grid gap-3 transition-all ${V===1?"grid-cols-1":V===2?"grid-cols-1 md:grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:B.map($=>{const ee=U===$.id;return d.jsxs("div",{className:`relative rounded-xl p-4 border transition-all flex gap-4 cursor-pointer select-none h-full ${ee?"ring-2 ring-cyan-400 border-cyan-400 bg-cyan-900/20 z-10 scale-[1.02]":""} ${!ee&&L.has($.id)?"border-purple-500 bg-slate-800/80":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,onClick:he=>{he.target.closest("button")||he.target.closest("input")||Z($.id)},children:[d.jsx("div",{className:"flex flex-col items-center justify-center w-8 shrink-0",children:ee?d.jsx("div",{className:"w-6 h-6 rounded bg-cyan-500 flex items-center justify-center text-slate-900 font-bold text-xs",children:""}):d.jsxs("div",{className:`transition-colors ${L.has($.id)?"text-purple-500":"text-slate-600 group-hover:text-slate-500"}`,children:[" ",L.has($.id)?d.jsx(Im,{className:"w-6 h-6"}):d.jsx(km,{className:"w-6 h-6"})]})}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold text-white truncate",children:$.term}),d.jsx("button",{onClick:he=>{he.stopPropagation(),H($.id,$.term)},className:`p-1 transition-colors shrink-0 ${b===$.id?"text-purple-400":"text-slate-500 hover:text-purple-400"}`,disabled:b!==null&&b!==$.id,children:b===$.id?d.jsx(Jr,{className:"w-4 h-4 animate-spin"}):d.jsx(Xr,{className:"w-4 h-4"})})]}),d.jsx("button",{onClick:he=>{he.stopPropagation(),l($.id)},className:"p-1 hover:scale-110 transition-transform shrink-0",children:d.jsx(Lo,{className:`w-5 h-5 ${$.isFavorite?"fill-yellow-400 text-yellow-400":"text-slate-600"}`})})]}),d.jsx("p",{className:"text-indigo-200 text-base mb-2 line-clamp-2",children:$.definition}),d.jsx("div",{className:"mb-3 flex-1",children:$.exampleSentence?d.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg border border-slate-700/50 text-sm cursor-text",onClick:he=>he.stopPropagation(),children:[d.jsxs("p",{className:"text-slate-300 font-medium mb-1 line-clamp-3",children:['"',$.exampleSentence,'"']}),d.jsx("p",{className:"text-slate-500 text-xs line-clamp-2",children:$.exampleTranslation})]}):d.jsx("button",{onClick:he=>{he.stopPropagation(),K($)},className:"text-xs flex items-center gap-1 text-purple-400 hover:text-purple-300 transition-colors bg-purple-900/20 px-2 py-1 rounded-md",disabled:E===$.id,children:E===$.id?d.jsxs(d.Fragment,{children:[d.jsx(Jr,{className:"w-3 h-3 animate-spin"})," ..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ul,{className:"w-3 h-3"})," AI "]})})}),d.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mt-auto pt-2 border-t border-slate-700/50",children:[$.incorrectCount>0&&d.jsxs("span",{className:"px-2 py-0.5 bg-orange-900/50 text-orange-300 rounded-full border border-orange-800 shrink-0",children:[" ",$.incorrectCount]}),d.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[d.jsx("span",{children:"LV"}),d.jsx("div",{className:"w-10 h-1 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full ${$.masteryLevel>=80?"bg-green-500":$.masteryLevel>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${$.masteryLevel}%`}})})]})]}),d.jsx("div",{className:"mt-2",onClick:he=>he.stopPropagation(),children:p===$.id?d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:g,onChange:he=>x(he.target.value),placeholder:"...",className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-2 py-1 text-xs text-white focus:border-purple-500 outline-none min-w-0",autoFocus:!0}),d.jsx("button",{onClick:()=>P($.id),className:"p-1 bg-purple-600 rounded-lg text-white hover:bg-purple-500 shrink-0",children:d.jsx(SE,{className:"w-3 h-3"})})]}):d.jsxs("div",{onClick:()=>q($),className:"group flex items-center gap-2 text-xs text-slate-500 hover:text-slate-300 cursor-pointer",children:[d.jsx(fE,{className:"w-3 h-3 opacity-50 group-hover:opacity-100"}),$.userNote?d.jsx("span",{className:"text-purple-300 line-clamp-1",children:$.userNote}):d.jsx("span",{className:"opacity-50 group-hover:opacity-100",children:"..."})]})})]})]},$.id)})})]})},my={level:1,xp:0,streak:0,totalWordsLearned:0,quizAccuracy:0,dailyGoal:10,dailyProgress:0};function B_(){const[n,e]=G.useState("DASHBOARD"),[o,l]=G.useState([]),[r,s]=G.useState(null),c=o.find(be=>be.id===r),f=(c==null?void 0:c.words)||[],[p,h]=G.useState(my),[g,x]=G.useState(!1),[b,y]=G.useState(!1),[E,w]=G.useState(""),[C,R]=G.useState(""),[U,D]=G.useState([]),[V,A]=G.useState(!1),[M,L]=G.useState([]),[I,B]=G.useState({count:10,shuffle:!0,mode:"TYPING",speedMode:!1}),[k,q]=G.useState(null),[P,H]=G.useState(0),[K,J]=G.useState(void 0);G.useEffect(()=>{const be=localStorage.getItem("aivoca_books"),Re=localStorage.getItem("aivoca_stats");if(be)try{const Le=JSON.parse(be);Array.isArray(Le)&&l(Le)}catch(Le){console.error("Failed to parse saved books",Le),l([])}if(Re)try{h(JSON.parse(Re))}catch(Le){console.error(Le)}},[]),G.useEffect(()=>{localStorage.setItem("aivoca_books",JSON.stringify(o)),localStorage.setItem("aivoca_stats",JSON.stringify(p))},[o,p]);const Y=(be,Re)=>{const Le={id:`book-${Date.now()}`,title:be||` ${new Date().toLocaleDateString()}`,createdAt:new Date().toISOString(),words:Re};return l(Oe=>[...Oe,Le]),Le.id},Z=(be,Re)=>{Re.stopPropagation(),Re.preventDefault(),setTimeout(()=>{window.confirm("   ? (  )")&&(l(Le=>Le.filter(Oe=>Oe.id!==be)),r===be&&(s(null),e("DASHBOARD")))},10)},ie=(be,Re)=>{Re.stopPropagation(),Re.preventDefault();const Le=o.find(Oe=>Oe.id===be);Le&&setTimeout(()=>{const Oe=window.prompt("   :",Le.title);Oe&&Oe.trim()&&l(Pe=>Pe.map(yt=>yt.id===be?{...yt,title:Oe.trim()}:yt))},10)},de=be=>{L(be),B({count:Math.min(20,be.length),shuffle:!0,mode:"TYPING",speedMode:!1}),A(!0)},se=()=>{let be=[...M];I.shuffle&&be.sort(()=>Math.random()-.5);const Re={queue:be,cursor:0,batchSize:I.count};q(Re),z(Re,0),A(!1),e("QUIZ")},z=(be,Re)=>{const Le=be.queue.slice(Re,Re+be.batchSize);let Oe;if(I.speedMode){let Pe=10;I.mode==="MULTIPLE_CHOICE"&&(Pe=5),I.mode==="OX"&&(Pe=3),Oe=Le.length*Pe}D(Le),J(Oe),H(Date.now())},$=()=>{if(!k)return;const be=k.cursor+k.batchSize,Re={...k,cursor:be};q(Re),z(Re,be)},ee=be=>{if(be.length===0){alert("  .");return}L(be),B({count:be.length,shuffle:!0,mode:"TYPING",speedMode:!1}),A(!0)},he=async()=>{E.trim()&&(x(!0),setTimeout(async()=>{const be=await py(E),Re=Y(C||" ",be);x(!1),y(!1),w(""),R(""),s(Re),e("WORDLIST")},100))},Se=async be=>{var rn;const Re=(rn=be.target.files)==null?void 0:rn[0];if(!Re)return;x(!0);const Le=await Re.text(),Oe=await py(Le),Pe=Re.name.replace(".txt",""),yt=Y(Pe,Oe);x(!1),s(yt),e("WORDLIST"),be.target.value=""},ce=be=>{if(!r)return[];const Re={...p};Re.totalWordsLearned+=be.correct.length;let Le=[];return l(Oe=>Oe.map(Pe=>Pe.id!==r?Pe:(Le=Pe.words.map(yt=>be.correct.includes(yt.id)?{...yt,masteryLevel:Math.min(100,(yt.masteryLevel||0)+20),incorrectCount:0,lastReviewed:new Date}:be.incorrect.includes(yt.id)?{...yt,masteryLevel:Math.max(0,(yt.masteryLevel||0)-10),incorrectCount:(yt.incorrectCount||0)+1,lastReviewed:new Date}:yt),{...Pe,words:Le}))),h(Re),Le},pe=be=>{ce(be)},ge=(be,Re)=>{const Le=ce(Re);let Oe=[];if(be==="INCORRECT")Oe=Le.filter(Pe=>Re.incorrect.includes(Pe.id));else{const Pe=U.map(yt=>yt.id);Oe=Le.filter(yt=>Pe.includes(yt.id)),Oe.sort(()=>Math.random()-.5)}if(Oe.length===0){alert("  .  ."),e("WORDLIST");return}D(Oe),J(void 0),H(Date.now())},we=(be,Re)=>{r&&l(Le=>Le.map(Oe=>Oe.id!==r?Oe:{...Oe,words:Oe.words.map(Pe=>Pe.id===be?{...Pe,...Re}:Pe)}))},Ue=be=>{r&&(l(Re=>Re.map(Le=>Le.id!==r?Le:{...Le,words:Le.words.map(Oe=>Oe.id===be?{...Oe,isFavorite:!Oe.isFavorite}:Oe)})),D(Re=>Re.map(Le=>Le.id===be?{...Le,isFavorite:!Le.isFavorite}:Le)))},_e=k?k.cursor+k.batchSize<k.queue.length:!1;return g?d.jsxs("div",{className:"min-h-screen bg-[#0f172a] flex flex-col items-center justify-center text-white animate-fade-in",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),d.jsx("p",{children:"  ..."})]}):d.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-slate-100 font-sans",children:[d.jsx("nav",{className:"bg-[#0f172a] border-b border-slate-800 p-4",children:d.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>e("DASHBOARD"),children:[d.jsx(ua,{className:"w-6 h-6 text-purple-500"}),d.jsx("span",{className:"font-bold text-lg tracking-tight",children:"AIVOCA"})]}),n!=="DASHBOARD"&&c&&d.jsxs("div",{className:"flex gap-4 text-sm font-medium",children:[d.jsx("button",{onClick:()=>de(f),className:`hover:text-white ${n==="QUIZ"?"text-purple-400":"text-slate-400"}`,children:""}),d.jsx("button",{onClick:()=>e("WORDLIST"),className:`hover:text-white ${n==="WORDLIST"?"text-purple-400":"text-slate-400"}`,children:""})]})]})}),d.jsxs("main",{className:"max-w-5xl mx-auto p-4",children:[n==="QUIZ"&&d.jsx(U_,{words:U.length>0?U:f,allWords:f,quizMode:I.mode,timeLimit:K,onSave:pe,onRetry:ge,onExit:()=>e("WORDLIST"),onToggleFavorite:Ue,hasNextBatch:_e,onNextBatch:$},P),n==="WORDLIST"&&c&&d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.title,d.jsx("button",{onClick:be=>ie(c.id,be),className:"p-2 hover:bg-slate-700 rounded-full transition-colors",children:d.jsx(Mm,{className:"w-4 h-4 text-slate-500 hover:text-white"})})]}),d.jsxs("p",{className:"text-sm text-slate-400",children:[" ",f.length,"   ",new Date(c.createdAt).toLocaleDateString()," "]})]}),d.jsxs("button",{onClick:()=>{s(null),e("DASHBOARD")},className:"px-4 py-2 bg-slate-700 rounded-lg text-sm hover:bg-slate-600 transition-colors",children:[d.jsx(Xy,{className:"inline w-4 h-4 mr-1"}),"   "]})]}),d.jsx(G_,{words:f,filterType:"ALL",onUpdateWord:we,onToggleFavorite:Ue,onStartQuizWithWords:ee,onStartFavoriteQuiz:()=>de(f.filter(be=>be.isFavorite))})]}),n==="DASHBOARD"&&d.jsxs("div",{className:"flex flex-col space-y-10 animate-fade-in py-10",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 via-purple-400 to-cyan-400",children:" "}),d.jsx("p",{className:"text-slate-400 text-lg",children:"    ."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{onClick:()=>y(!0),className:"group flex flex-col items-center justify-center p-8 bg-slate-800/30 border-2 border-dashed border-slate-700 hover:border-purple-500 rounded-2xl cursor-pointer transition-all hover:bg-slate-800/50 min-h-[200px]",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-900/30 flex items-center justify-center text-purple-400 mb-4 group-hover:scale-110 transition-transform",children:d.jsx(Tf,{className:"w-6 h-6"})}),d.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"  "}),d.jsx("p",{className:"text-sm text-slate-500",children:"    "})]}),o.map(be=>d.jsxs("div",{onClick:()=>{s(be.id),e("WORDLIST")},className:"group relative bg-slate-800 border border-slate-700 hover:border-purple-500 rounded-2xl p-6 cursor-pointer transition-all hover:shadow-lg hover:shadow-purple-500/10 min-h-[200px] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-900/30 flex items-center justify-center text-indigo-400",children:d.jsx(ua,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex gap-1 relative z-20",onClick:Re=>{Re.stopPropagation(),Re.preventDefault()},onMouseDown:Re=>{Re.stopPropagation(),Re.preventDefault()},onMouseUp:Re=>{Re.stopPropagation(),Re.preventDefault()},children:[d.jsx("button",{type:"button",onClick:Re=>ie(be.id,Re),className:"p-2 hover:bg-slate-700 rounded-full text-slate-500 hover:text-white transition-colors",title:" ",children:d.jsx(Mm,{className:"w-4 h-4 pointer-events-none"})}),d.jsx("button",{type:"button",onClick:Re=>Z(be.id,Re),className:"p-2 hover:bg-slate-700 rounded-full text-slate-500 hover:text-red-400 transition-colors",title:"",children:d.jsx(Xl,{className:"w-4 h-4 pointer-events-none"})})]})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1 group-hover:text-purple-400 transition-colors",children:be.title}),d.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-700/50 flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[d.jsx(QT,{className:"w-4 h-4"}),d.jsxs("span",{children:[be.words.length," "]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[d.jsx(uT,{className:"w-4 h-4"}),d.jsx("span",{children:new Date(be.createdAt).toLocaleDateString()})]})]})]},be.id))]}),d.jsx("div",{className:"text-center pt-10 border-t border-slate-800",children:d.jsx("button",{onClick:()=>{confirm("    ?     .")&&(localStorage.removeItem("aivoca_books"),localStorage.removeItem("aivoca_stats"),l([]),h(my),s(null),e("DASHBOARD"))},className:"text-xs text-slate-600 hover:text-red-500 underline",children:"  "})})]})]}),b&&d.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-3xl h-[85vh] rounded-2xl shadow-2xl flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-slate-800",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(Tf,{className:"text-purple-500 w-5 h-5"}),"  "]}),d.jsx("button",{onClick:()=>y(!1),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:d.jsx(rl,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-5 border-b border-slate-800 bg-slate-900",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{className:"text-sm text-slate-400",children:" "}),d.jsx("input",{type:"text",value:C,onChange:be=>R(be.target.value),placeholder:": 3  ,  ...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"})]})}),d.jsx("div",{className:"flex-1 p-5 flex flex-col min-h-0 bg-slate-900/50",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"mb-2 text-sm text-slate-400 flex justify-between items-center",children:[d.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[d.jsx(hE,{className:"w-4 h-4"}),"  "]}),E&&d.jsx("button",{onClick:()=>w(""),className:"text-xs text-red-400 hover:text-red-300",children:""})]}),d.jsx("textarea",{value:E,onChange:be=>w(be.target.value),placeholder:`  .

apple 
banana `,className:"flex-1 w-full bg-slate-950 border border-slate-700 rounded-xl p-4 text-slate-200 placeholder-slate-600 focus:border-purple-500 outline-none resize-none font-mono custom-scrollbar text-sm"})]}),d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"mb-2 text-sm text-slate-400",children:d.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[d.jsx(jE,{className:"w-4 h-4"}),"   (.txt)"]})}),d.jsx("div",{className:"flex-1 border-2 border-dashed border-slate-700 rounded-xl flex flex-col items-center justify-center p-6 text-center hover:bg-slate-800/50 hover:border-purple-500 transition-colors",children:d.jsxs("label",{className:"cursor-pointer flex flex-col items-center w-full h-full justify-center",children:[d.jsx(Qy,{className:"w-12 h-12 text-slate-500 mb-4"}),d.jsx("span",{className:"text-slate-300 font-medium mb-1",children:"   "}),d.jsx("span",{className:"text-xs text-slate-500",children:".txt  "}),d.jsx("input",{type:"file",accept:".txt",onChange:Se,className:"hidden"})]})})]})]})}),d.jsxs("div",{className:"p-5 border-t border-slate-800 flex justify-end gap-3 bg-slate-900 rounded-b-2xl",children:[d.jsx("button",{onClick:()=>y(!1),className:"px-5 py-3 text-slate-400 hover:text-white font-medium transition-colors",children:""}),d.jsxs("button",{onClick:he,disabled:!E.trim(),className:"px-8 py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-800 disabled:text-slate-600 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-all shadow-lg shadow-purple-900/20 hover:shadow-purple-500/30 flex items-center gap-2",children:[d.jsx(Tf,{className:"w-5 h-5"}),"  "]})]})]})}),V&&d.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:d.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-md rounded-2xl shadow-2xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(ua,{className:"text-purple-500 w-6 h-6"})," "]}),d.jsxs("button",{onClick:()=>B({...I,speedMode:!I.speedMode}),className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold transition-all border ${I.speedMode?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 shadow-lg shadow-yellow-500/20":"bg-slate-800 text-slate-500 border-slate-700"}`,children:[d.jsx(ns,{className:`w-3 h-3 ${I.speedMode?"fill-yellow-400":""}`})," ",I.speedMode?"ON":"OFF"]})]}),d.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-white",children:d.jsx(rl,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-slate-400 mb-3 block",children:" "}),d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("button",{onClick:()=>B({...I,mode:"TYPING"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${I.mode==="TYPING"?"bg-indigo-900/30 border-indigo-500 ring-1 ring-indigo-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[d.jsx(qT,{className:`w-6 h-6 mb-2 ${I.mode==="TYPING"?"text-indigo-400":"text-slate-500"}`}),d.jsx("div",{className:`font-bold text-sm ${I.mode==="TYPING"?"text-indigo-200":"text-slate-300"}`,children:""})]}),d.jsxs("button",{onClick:()=>B({...I,mode:"MULTIPLE_CHOICE"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${I.mode==="MULTIPLE_CHOICE"?"bg-purple-900/30 border-purple-500 ring-1 ring-purple-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[d.jsx(oE,{className:`w-6 h-6 mb-2 ${I.mode==="MULTIPLE_CHOICE"?"text-purple-400":"text-slate-500"}`}),d.jsx("div",{className:`font-bold text-sm ${I.mode==="MULTIPLE_CHOICE"?"text-purple-200":"text-slate-300"}`,children:""})]}),d.jsxs("button",{onClick:()=>B({...I,mode:"OX"}),className:`p-3 rounded-xl border text-left transition-all flex flex-col items-center justify-center ${I.mode==="OX"?"bg-cyan-900/30 border-cyan-500 ring-1 ring-cyan-500":"bg-slate-800 border-slate-700 hover:border-slate-500"}`,children:[d.jsx(yT,{className:`w-6 h-6 mb-2 ${I.mode==="OX"?"text-cyan-400":"text-slate-500"}`}),d.jsx("div",{className:`font-bold text-sm ${I.mode==="OX"?"text-cyan-200":"text-slate-300"}`,children:"OX "})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm text-slate-400 mb-3 block",children:["   ( ",M.length,")"]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[10,20,50].map(be=>d.jsxs("button",{disabled:M.length<be,onClick:()=>B({...I,count:be}),className:`py-2 rounded-lg text-sm font-medium transition-colors ${I.count===be?"bg-purple-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700 disabled:opacity-30"}`,children:[be,""]},be)),d.jsx("button",{onClick:()=>B({...I,count:M.length}),className:`py-2 rounded-lg text-sm font-medium transition-colors ${I.count===M.length?"bg-purple-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:""})]}),I.speedMode&&d.jsx("div",{className:"mt-3 text-center",children:d.jsxs("span",{className:"inline-block px-3 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 animate-pulse",children:["  : ",I.count*(I.mode==="TYPING"?10:I.mode==="MULTIPLE_CHOICE"?5:3)," ( ",I.mode==="TYPING"?"10":I.mode==="MULTIPLE_CHOICE"?"5":"3",")"]})})]}),d.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-4 rounded-xl",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(av,{className:"w-5 h-5 text-indigo-400"}),d.jsx("span",{className:"text-slate-200",children:"  "})]}),d.jsx("button",{onClick:()=>B({...I,shuffle:!I.shuffle}),className:`w-12 h-6 rounded-full transition-colors relative ${I.shuffle?"bg-indigo-500":"bg-slate-600"}`,children:d.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-sm ${I.shuffle?"left-7":"left-1"}`})})]}),d.jsxs("button",{onClick:se,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-900/20 transition-all flex items-center justify-center gap-2",children:[d.jsx(xT,{className:"w-5 h-5"}),"  (",I.count,")"]})]})]})})]})}const O_=()=>d.jsx(B_,{});var xt=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.PAUSED="PAUSED",n.STATUS_MENU="STATUS_MENU",n.GAME_OVER="GAME_OVER",n.VICTORY="VICTORY",n.TREASURE_OPENING="TREASURE_OPENING",n))(xt||{}),Ei=(n=>(n.MAGNET="MAGNET",n.BOMB="BOMB",n.GOLD="GOLD",n))(Ei||{}),ai=(n=>(n.KUNAI="KUNAI",n.SHOTGUN="SHOTGUN",n.GUARDIAN="GUARDIAN",n.BAT="BAT",n))(ai||{});const gy=6.5,V_=15,H_=60,il={ZOMBIE:"#EF4444",FAST:"#F59E0B",TANK:"#7F1D1D",GEM:"#10B981",TREASURE:"#FFD700"},ko=[{id:"skin_default",name:" ",description:"EDF   .  .",price:0,rarity:"COMMON",effectType:"NONE",primaryColor:"#3B82F6",stats:{}},{id:"skin_blade",name:" ",description:"    .   .",price:5e3,rarity:"RARE",effectType:"BLOOD",primaryColor:"#EF4444",stats:{attackBonus:.1}},{id:"skin_toxic",name:" ",description:"  .  .",price:15e3,rarity:"RARE",effectType:"TOXIC",primaryColor:"#84cc16",stats:{attackBonus:.15}},{id:"skin_gold",name:" ",description:"  .   .",price:3e4,rarity:"EPIC",effectType:"GOLD",primaryColor:"#F59E0B",stats:{critChanceBonus:.1}},{id:"skin_ice",name:" ",description:" .   20% .",price:65e3,rarity:"EPIC",effectType:"ICE",primaryColor:"#06b6d4",stats:{hpBonus:.2}},{id:"skin_cyber",name:" ",description:"   . :  ",price:8e4,rarity:"LEGENDARY",effectType:"PIXEL",primaryColor:"#22D3EE",stats:{attackSpeedBonus:.15,speedBonus:.1},activeSkill:{name:" ",description:"      .",cooldown:45,iconName:"ZapOff",visualColor:"#22D3EE"}},{id:"skin_lightning",name:" ",description:"  . :  ",price:12e4,rarity:"LEGENDARY",effectType:"LIGHTNING",primaryColor:"#facc15",stats:{speedBonus:.3},activeSkill:{name:" ",description:"     .",cooldown:30,iconName:"Zap",visualColor:"#facc15"}},{id:"skin_ghost",name:" ()",description:"  . :  ",price:15e4,rarity:"LEGENDARY",effectType:"GHOST",primaryColor:"#4ade80",stats:{critChanceBonus:.15,attackBonus:.1},activeSkill:{name:" ",description:"5        .",cooldown:60,iconName:"Ghost",visualColor:"#4ade80"}},{id:"skin_void",name:" ",description:" . : ",price:2e5,rarity:"MYTHIC",effectType:"VOID",primaryColor:"#7C3AED",stats:{attackBonus:.3},activeSkill:{name:"",description:"       .",cooldown:50,iconName:"Aperture",visualColor:"#7C3AED"}},{id:"skin_mecha",name:" ",description:" . :  ",price:35e4,rarity:"MYTHIC",effectType:"MECHA",primaryColor:"#3b82f6",stats:{hpBonus:.5,attackBonus:.2},activeSkill:{name:" ",description:"     .",cooldown:40,iconName:"Crosshair",visualColor:"#3b82f6"}},{id:"skin_fire",name:"",description:" . :  ",price:5e5,rarity:"MYTHIC",effectType:"FIRE",primaryColor:"#f97316",stats:{attackBonus:.5,critChanceBonus:.2},activeSkill:{name:" ",description:"      .",cooldown:60,iconName:"Flame",visualColor:"#f97316"}}],la=[{id:1,name:"Chapter 1:  ",description:"     .",theme:{bg:"#111827",grid:"#1f2937"}},{id:2,name:"Chapter 2:  ",description:"     .",theme:{bg:"#2a1a1a",grid:"#4f2a2a"}},{id:3,name:"Chapter 3:  ",description:"     ,  .",theme:{bg:"#1a1a2e",grid:"#2a2a4e"}},{id:4,name:"Chapter 4:  ",description:"   ,    .",theme:{bg:"#0c0c0d",grid:"#1e1e21"}}],Jl=[{id:"kunai",name:"",description:"    .",icon:"Sword",type:"WEAPON",rarity:"COMMON"},{id:"shotgun",name:"",description:"     .",icon:"Zap",type:"WEAPON",rarity:"RARE"},{id:"bat",name:"",description:"    .",icon:"Activity",type:"WEAPON",rarity:"COMMON"},{id:"guardian",name:"",description:"    .",icon:"Shield",type:"WEAPON",rarity:"EPIC"},{id:"atk_up",name:" ",description:" 20% .",icon:"Sword",type:"STAT",rarity:"COMMON"},{id:"spd_up",name:" ",description:"  15% .",icon:"Footprints",type:"STAT",rarity:"COMMON"},{id:"atk_spd_up",name:" ",description:"  15% .",icon:"Zap",type:"STAT",rarity:"RARE"},{id:"hp_up",name:" ",description:"  30% .",icon:"Heart",type:"STAT",rarity:"COMMON"},{id:"multi_shot",name:" ",description:" 1 .",icon:"Copy",type:"WEAPON",rarity:"LEGENDARY"},{id:"magnet_core",name:" ",description:"   50% .",icon:"Star",type:"STAT",rarity:"RARE"},{id:"crit_chance_up",name:" ",description:"  10% .",icon:"Activity",type:"STAT",rarity:"EPIC"},{id:"crit_damage_up",name:"",description:"  50% .",icon:"Zap",type:"STAT",rarity:"EPIC"}],Lr=["COMMON","MAGIC","EXQUISITE","RARE","EXCELLENT","EPIC","LEGEND","ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"],z_=({onMove:n,onStop:e})=>{const o=G.useRef(null),[l,r]=G.useState({x:0,y:0}),[s,c]=G.useState(!1),f=G.useRef({x:0,y:0}),p=G.useRef({x:0,y:0}),h=G.useRef(!1);G.useRef(0);const g=50,x=G.useCallback(E=>{const w=E.touches[0];if(o.current){const C=o.current.getBoundingClientRect(),R=C.left+C.width/2,U=C.top+C.height/2;f.current={x:R,y:U},h.current=!0,c(!0),b(w.clientX,w.clientY)}},[]),b=(E,w)=>{if(!h.current)return;const C=E-f.current.x,R=w-f.current.y,U=Math.sqrt(C*C+R*R),D=Math.atan2(R,C),V=Math.min(U,g),A=Math.cos(D)*V,M=Math.sin(D)*V;p.current={x:A,y:M},r({x:A,y:M}),n({x:A/g,y:M/g})};G.useEffect(()=>{const E=U=>{if(!h.current)return;const D=U.touches[0];b(D.clientX,D.clientY)},w=()=>{h.current&&(h.current=!1,c(!1),r({x:0,y:0}),e())},C=U=>{h.current&&b(U.clientX,U.clientY)},R=()=>{h.current&&(h.current=!1,c(!1),r({x:0,y:0}),e())};return window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",w),window.addEventListener("mousemove",C),window.addEventListener("mouseup",R),()=>{window.removeEventListener("touchmove",E),window.removeEventListener("touchend",w),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",R)}},[n,e]);const y=E=>{if(o.current){const w=o.current.getBoundingClientRect(),C=w.left+w.width/2,R=w.top+w.height/2;f.current={x:C,y:R},h.current=!0,c(!0),b(E.clientX,E.clientY)}};return d.jsx("div",{ref:o,onTouchStart:x,onMouseDown:y,className:"absolute bottom-10 left-1/2 -translate-x-1/2 w-48 h-48 rounded-full z-50 flex items-center justify-center pointer-events-auto touch-none select-none",style:{background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)",touchAction:"none"},children:d.jsx("div",{className:`w-32 h-32 rounded-full border-4 border-white/30 bg-black/40 backdrop-blur-sm transition-all duration-200 ${s?"opacity-100 scale-105 border-white/50":"opacity-50"}`,children:d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full shadow-[0_0_15px_rgba(59,130,246,0.5)] absolute top-1/2 left-1/2 -ml-7 -mt-7 pointer-events-none",style:{transform:`translate(${l.x}px, ${l.y}px)`,transition:s?"none":"transform 0.15s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:d.jsx("div",{className:"absolute top-2 left-2 w-4 h-4 bg-white/30 rounded-full blur-[1px]"})})})})},F_={Zap:ns,ZapOff:WE,Ghost:tv,Aperture:Jy,Crosshair:Wy,Flame:Zy},j_=({onGameOver:n,gameState:e,setGameState:o,initialStats:l,equippedWeaponName:r="Kunai",equippedSkinId:s="skin_default",onGoldGained:c,chapterTheme:f,chapterId:p})=>{const h=G.useRef(null),g=G.useRef(null),x=ko.find(N=>N.id===s)||ko[0];x.activeSkill;let b="kunai";r!=null&&r.includes("Kunai")||r!=null&&r.includes("")?b="kunai":r!=null&&r.includes("Katana")||r!=null&&r.includes("")?b="katana":r!=null&&r.includes("Shotgun")||r!=null&&r.includes("")?b="shotgun":r!=null&&r.includes("Revolver")||r!=null&&r.includes("")?b="revolver":(r!=null&&r.includes("Bat")||r!=null&&r.includes(""))&&(b="bat");const y={};y[b]=1;const E=l.hp*(1+(x.stats.hpBonus||0)),w=gy*(1+(x.stats.speedBonus||0)),C=1+(x.stats.attackBonus||0),R=.05+(x.stats.critChanceBonus||0),U=1+(x.stats.attackSpeedBonus||0),D=G.useRef({id:"player",position:{x:0,y:0},radius:V_,color:x.primaryColor,hp:E,maxHp:E,speed:w,xp:0,level:1,nextLevelXp:15,damageMulti:C,attackSpeedMulti:U,projectileCount:1,critChance:R,critDamageMulti:1.5,magnetRadius:150,weapons:[],skills:y}),V=G.useRef(0),A=G.useRef(!1),M=G.useRef(0),L=G.useRef(0),I=G.useRef(0);G.useEffect(()=>{const N=D.current,O=[];N.skills.kunai&&O.push(ai.KUNAI),N.skills.katana&&O.push(ai.KUNAI),N.skills.shotgun&&O.push(ai.SHOTGUN),N.skills.revolver&&O.push(ai.SHOTGUN),N.skills.bat&&O.push(ai.BAT),N.skills.guardian&&O.push(ai.GUARDIAN),N.weapons=O},[]);const B=G.useRef([]),k=G.useRef([]),q=G.useRef([]),P=G.useRef([]),H=G.useRef([]),K=G.useRef([]),J=G.useRef([]),Y=G.useRef([]),Z=G.useRef([]),ie=G.useRef(0),de=G.useRef(0),se=G.useRef({x:0,y:0}),z=G.useRef({x:0,y:0}),$=G.useRef({x:0,y:0}),ee=G.useRef({}),he=G.useRef({x:1,y:0}),Se=G.useRef(0),ce=G.useRef(new Set),pe=G.useRef(new Set),[ge,we]=G.useState(E),[Ue,_e]=G.useState(E),[be,Re]=G.useState(1),[Le,Oe]=G.useState(0),[Pe,yt]=G.useState(0),[rn,Vt]=G.useState("00:00"),[hi,_n]=G.useState([]),[pi,Ci]=G.useState([]),[Rt,jt]=G.useState(null),[Rn,io]=G.useState(0),[Xn,Kn]=G.useState(!1),[Ht,Ni]=G.useState(null),St=G.useCallback(N=>{if(!g.current||g.current.state==="suspended")return;const O=g.current,W=O.currentTime;switch(N){case"shoot":{const j=O.createOscillator(),Q=O.createGain();j.type="triangle",j.frequency.setValueAtTime(880,W),j.frequency.exponentialRampToValueAtTime(220,W+.1),Q.gain.setValueAtTime(.2,W),Q.gain.exponentialRampToValueAtTime(.001,W+.1),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.1);break}case"hit":{const j=O.createOscillator(),Q=O.createGain();j.type="square",j.frequency.setValueAtTime(110,W),Q.gain.setValueAtTime(.4,W),Q.gain.exponentialRampToValueAtTime(.01,W+.2),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.2);break}case"gem":{const j=O.createOscillator(),Q=O.createGain();j.type="sine",j.frequency.setValueAtTime(660,W),j.frequency.exponentialRampToValueAtTime(1320,W+.1),Q.gain.setValueAtTime(.15,W),Q.gain.exponentialRampToValueAtTime(.001,W+.1),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.1);break}case"levelup":{[600,800,1200].forEach((j,Q)=>{const ae=O.createOscillator(),X=O.createGain();ae.type="sine",ae.frequency.setValueAtTime(j,W+Q*.1),X.gain.setValueAtTime(.3,W+Q*.1),X.gain.exponentialRampToValueAtTime(.01,W+Q*.1+.2),ae.connect(X).connect(O.destination),ae.start(W+Q*.1),ae.stop(W+Q*.1+.2)});break}case"explosion":{const j=O.createOscillator(),Q=O.createGain();j.type="square",j.frequency.setValueAtTime(200,W),j.frequency.exponentialRampToValueAtTime(50,W+.3),Q.gain.setValueAtTime(.4,W),Q.gain.exponentialRampToValueAtTime(.01,W+.3),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.3);break}case"treasure_open":{[523,659,783,1046].forEach((j,Q)=>{const ae=O.createOscillator(),X=O.createGain();ae.type="triangle",ae.frequency.setValueAtTime(j,W+Q*.08),X.gain.setValueAtTime(.3,W+Q*.08),X.gain.exponentialRampToValueAtTime(.01,W+.4),ae.connect(X).connect(O.destination),ae.start(W+Q*.08),ae.stop(W+.4)});break}case"click":{const j=O.createOscillator(),Q=O.createGain();j.type="sine",j.frequency.setValueAtTime(440,W),Q.gain.setValueAtTime(.3,W),Q.gain.exponentialRampToValueAtTime(.01,W+.1),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.1);break}case"powerup":{const j=O.createOscillator(),Q=O.createGain();j.type="sawtooth",j.frequency.setValueAtTime(300,W),j.frequency.exponentialRampToValueAtTime(1200,W+.2),Q.gain.setValueAtTime(.3,W),Q.gain.exponentialRampToValueAtTime(.01,W+.2),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.2);break}case"coin":{const j=O.createOscillator(),Q=O.createGain();j.type="sine",j.frequency.setValueAtTime(1046,W),Q.gain.setValueAtTime(.2,W),Q.gain.exponentialRampToValueAtTime(.01,W+.1),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.1);break}case"skill":{const j=O.createOscillator(),Q=O.createGain();j.type="sawtooth",j.frequency.setValueAtTime(100,W),j.frequency.exponentialRampToValueAtTime(800,W+.5),Q.gain.setValueAtTime(.5,W),Q.gain.exponentialRampToValueAtTime(.01,W+1),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+1);break}case"warning":{const j=O.createOscillator(),Q=O.createGain();j.type="sawtooth",j.frequency.setValueAtTime(150,W),Q.gain.setValueAtTime(.5,W),Q.gain.exponentialRampToValueAtTime(.01,W+.5),j.connect(Q).connect(O.destination),j.start(W),j.stop(W+.5);break}}},[]);G.useEffect(()=>{const N=()=>{if(!g.current)try{g.current=new(window.AudioContext||window.webkitAudioContext)}catch{console.error("Web Audio API is not supported in this browser")}g.current&&g.current.state==="suspended"&&g.current.resume(),window.removeEventListener("click",N),window.removeEventListener("touchstart",N)};return window.addEventListener("click",N),window.addEventListener("touchstart",N),()=>{window.removeEventListener("click",N),window.removeEventListener("touchstart",N),g.current&&g.current.state!=="closed"&&g.current.close()}},[]),G.useEffect(()=>{const N=W=>{ee.current[W.key.toLowerCase()]=!0},O=W=>{ee.current[W.key.toLowerCase()]=!1};return window.addEventListener("keydown",N),window.addEventListener("keyup",O),()=>{window.removeEventListener("keydown",N),window.removeEventListener("keyup",O)}},[]),G.useEffect(()=>{D.current.hp=E,D.current.maxHp=E,D.current.color=x.primaryColor,we(E),_e(E)},[E,x]);const Bt=(N,O)=>Math.sqrt(Math.pow(N.x-O.x,2)+Math.pow(N.y-O.y,2)),bt=N=>{I.current=Math.min(I.current+N,20)},In=(N,O)=>{N.save(),N.translate(O.position.x,O.position.y);const W=1+Math.sin(ie.current*.1+O.id.charCodeAt(0))*.05;N.scale(W,W),N.fillStyle="rgba(0,0,0,0.4)",N.beginPath(),N.ellipse(0,15,18,4,0,0,Math.PI*2),N.fill(),N.fillStyle="#a16207",N.fillRect(-15,-15,30,30),N.strokeStyle="#422006",N.lineWidth=2,N.strokeRect(-15,-15,30,30),N.fillStyle="#a8a29e",N.fillRect(-17,-5,34,10),N.fillRect(-5,-17,10,34),N.fillStyle="white",N.font="bold 24px sans-serif",N.textAlign="center",N.textBaseline="middle",N.fillText("?",0,2),N.restore()},qt=(N,O)=>{N.save(),N.translate(O.position.x,O.position.y);const W=1+Math.sin(O.life*.1)*.1;N.scale(W,W);const j=20,Q=24;N.beginPath(),N.arc(0,0,Q,0,Math.PI*2),N.globalAlpha=.5+Math.sin(O.life*.1)*.2;let ae="#fff";O.type===Ei.MAGNET&&(ae="#3b82f6"),O.type===Ei.BOMB&&(ae="#ef4444"),O.type===Ei.GOLD&&(ae="#f59e0b"),N.fillStyle=ae,N.fill(),N.globalAlpha=1,N.shadowColor=ae,N.shadowBlur=15,N.fillStyle="#fff",N.beginPath(),N.arc(0,0,j,0,Math.PI*2),N.fill(),N.shadowBlur=0,N.restore()},rs=(N,O)=>{N.save(),N.translate(O.position.x,O.position.y);const W=1+Math.sin(ie.current*.1)*.05;if(N.scale(W,W),N.fillStyle="rgba(0,0,0,0.5)",N.beginPath(),N.ellipse(0,15,20,5,0,0,Math.PI*2),N.fill(),N.fillStyle="#854d0e",N.fillRect(-20,-10,40,20),N.strokeStyle="#fde047",N.lineWidth=3,N.strokeRect(-20,-10,40,20),N.fillStyle="#a16207",N.beginPath(),N.moveTo(-22,-10),N.quadraticCurveTo(0,-30,22,-10),N.closePath(),N.fill(),N.stroke(),N.fillStyle="#fbbf24",N.fillRect(-5,-5,10,10),N.fillStyle="white",ie.current%10===0){const j=Math.random()*Math.PI*2,Q=25+Math.random()*10;N.fillRect(Math.cos(j)*Q,Math.sin(j)*Q-10,3,3)}N.restore()},us=(N,O)=>{N.save(),N.translate(O.position.x,O.position.y);const W=Math.atan2(O.velocity.y,O.velocity.x);if(N.rotate(W),O.weaponId==="kunai"){const j=ie.current*.5;N.rotate(j),N.fillStyle=O.isEvo?"#a78bfa":"#cbd5e1",N.shadowColor=O.isEvo?"#8b5cf6":"#94a3b8",N.shadowBlur=O.isEvo?15:5,N.beginPath();const Q=O.isEvo?14:10;for(let ae=0;ae<4;ae++)N.lineTo(0,-Q),N.lineTo(Q/2,-Q/2),N.rotate(Math.PI/2);N.closePath(),N.fill(),N.fillStyle="#fff",N.beginPath(),N.arc(0,0,3,0,Math.PI*2),N.fill()}else O.weaponId==="katana"?(N.fillStyle=O.isEvo?"#dc2626":"#0ea5e9",N.shadowColor=O.isEvo?"#ef4444":"#38bdf8",N.shadowBlur=15,N.scale(1.5,1),N.beginPath(),N.arc(0,0,O.isEvo?25:20,Math.PI*1.2,Math.PI*2.8),N.fill(),N.fillStyle="#fff",N.globalAlpha=.7,N.beginPath(),N.arc(-5,0,O.isEvo?20:15,Math.PI*1.2,Math.PI*2.8),N.fill(),N.globalAlpha=1):O.weaponId==="revolver"?(N.strokeStyle=O.isEvo?"#ef4444":"#fcd34d",N.lineWidth=O.isEvo?4:2,N.shadowColor=O.isEvo?"#f87171":"#fef08a",N.shadowBlur=10,N.beginPath(),N.moveTo(0,0),N.lineTo(-40,0),N.stroke(),N.fillStyle="#fff",N.beginPath(),N.arc(0,0,3,0,Math.PI*2),N.fill()):O.weaponId==="shotgun"?O.isEvo?(N.fillStyle="#fca5a5",N.shadowColor="#ef4444",N.shadowBlur=5,N.fillRect(-10,-2,20,4),N.fillStyle="#fff",N.fillRect(0,-1,10,2)):(N.fillStyle="#facc15",N.shadowColor="#eab308",N.shadowBlur=3,N.beginPath(),N.arc(0,0,4,0,Math.PI*2),N.fill(),N.beginPath(),N.arc(-6,-3,3,0,Math.PI*2),N.fill(),N.beginPath(),N.arc(-6,3,3,0,Math.PI*2),N.fill()):O.weaponId==="bat"?(N.globalAlpha=.6,N.fillStyle=O.isEvo?"#ef4444":"#fff",N.beginPath(),N.arc(0,0,O.radius,Math.PI*1.2,Math.PI*2.8),N.lineTo(0,0),N.fill(),N.globalAlpha=1,N.strokeStyle=O.isEvo?"#fee2e2":"#e5e7eb",N.lineWidth=2,N.beginPath(),N.arc(0,0,O.radius,Math.PI*1.2,Math.PI*2.8),N.stroke()):(N.fillStyle="#fff",N.beginPath(),N.arc(0,0,5,0,Math.PI*2),N.fill());N.restore()},cs=(N,O,W,j)=>{N.save(),N.translate(O,W),N.rotate(ie.current*(j?.4:.2)),N.fillStyle=j?"#f43f5e":"#e5e7eb",N.shadowColor=j?"#e11d48":"#9ca3af",N.shadowBlur=j?15:5;const Q=j?16:12;for(let ae=0;ae<3;ae++)N.rotate(Math.PI*2/3),N.beginPath(),N.moveTo(0,-Q/2),N.quadraticCurveTo(Q,-Q,0,-Q*2),N.quadraticCurveTo(-Q,-Q,0,-Q/2),N.fill();N.fillStyle="#1f293b",N.beginPath(),N.arc(0,0,Q/2,0,Math.PI*2),N.fill(),N.strokeStyle=j?"#fda4af":"#6b7280",N.lineWidth=2,N.beginPath(),N.arc(0,0,Q/3,0,Math.PI*2),N.stroke(),N.restore()},Wn=(N,O)=>{Z.current.push({id:Math.random().toString(),position:{...N},velocity:{x:0,y:0},color:"white",life:20,maxLife:20,size:1,type:"SHOCKWAVE"});const W=O==="NONE"?8:16;for(let j=0;j<W;j++){const Q=Math.random()*Math.PI*2;let ae=Math.random()*4+2,X="#fff",le=30,Ee=Math.random()*4+2;O==="BLOOD"?(X=Math.random()>.5?"#991b1b":"#ef4444",Ee=Math.random()*6+2,le=45):O==="GOLD"?(X="#fbbf24",le=60,ae=Math.random()*5+2):O==="PIXEL"?(X=Math.random()>.5?"#22d3ee":"#e879f9",Ee=Math.random()*5+3,le=40):O==="VOID"?(X="#7c3aed",le=50):O==="GHOST"?(X="#4ade80",le=60,ae*=.5):O==="MECHA"?(X=Math.random()>.5?"#3b82f6":"#facc15",Ee=Math.random()*4+2,le=35):O==="FIRE"?(X=Math.random()>.5?"#f97316":"#fcd34d",Ee=Math.random()*6+2,le=40,ae*=1.2):O==="LIGHTNING"?(X="#fde047",le=30,ae*=2):O==="ICE"?(X="#a5f3fc",le=50,ae*=.8):O==="TOXIC"&&(X="#84cc16",le=45,Ee=Math.random()*5+3),Z.current.push({id:Math.random().toString(),position:{...N},velocity:{x:Math.cos(Q)*ae,y:Math.sin(Q)*ae},color:X,life:le,maxLife:le,size:Ee,type:O})}},oo=(N,O)=>{for(let W=Z.current.length-1;W>=0;W--){const j=Z.current[W];if(j.type==="SKILL_EXPLOSION"){const Q=1-j.life/j.maxLife,ae=j.size*Q;N.save(),N.beginPath(),N.arc(j.position.x,j.position.y,ae,0,Math.PI*2),N.lineWidth=50*(1-Q),N.strokeStyle=j.color,N.globalAlpha=j.life/j.maxLife,N.stroke(),N.fillStyle=j.color,N.globalAlpha=j.life/j.maxLife*.3,N.fill(),N.restore(),O||(j.life--,j.life<=0&&Z.current.splice(W,1));continue}if(j.type==="ORBITAL_LASER"){const Q=j.life/j.maxLife;N.save(),N.globalCompositeOperation="lighter",N.fillStyle=`rgba(59, 130, 246, ${Math.min(1,Q*2)})`,N.fillRect(j.position.x-j.size/2,0,j.size,window.innerHeight),N.fillStyle=`rgba(255, 255, 255, ${Math.min(1,Q*3)})`,N.fillRect(j.position.x-j.size/4,0,j.size/2,window.innerHeight),N.restore(),O||(j.life--,j.life<=0&&Z.current.splice(W,1));continue}if(j.type==="SHOCKWAVE"){const X=50*(1-j.life/j.maxLife);N.save(),N.globalAlpha=j.life/j.maxLife,N.strokeStyle="white",N.lineWidth=3*(j.life/j.maxLife),N.beginPath(),N.arc(j.position.x,j.position.y,X,0,Math.PI*2),N.stroke(),N.restore(),O||(j.life--,j.life<=0&&Z.current.splice(W,1));continue}if(N.globalAlpha=j.life/j.maxLife,N.fillStyle=j.color,j.type==="PIXEL"||j.type==="MECHA")N.fillRect(j.position.x-j.size/2,j.position.y-j.size/2,j.size,j.size);else if(j.type==="VOID"||j.type==="TOXIC")N.beginPath(),N.arc(j.position.x,j.position.y,j.size,0,Math.PI*2),j.type==="TOXIC"&&(N.globalAlpha*=.7),N.fill(),O||(j.type==="VOID"?(j.velocity.x*=.96,j.velocity.y*=.96):j.velocity.y-=.02);else if(j.type==="GOLD"){N.beginPath();const Q=4,ae=j.size,X=j.size/2;let le=Math.PI/2*3,Ee=j.position.x,Ce=j.position.y,Ne=Math.PI/Q;N.moveTo(j.position.x,j.position.y-ae);for(let Je=0;Je<Q;Je++)Ee=j.position.x+Math.cos(le)*ae,Ce=j.position.y+Math.sin(le)*ae,N.lineTo(Ee,Ce),le+=Ne,Ee=j.position.x+Math.cos(le)*X,Ce=j.position.y+Math.sin(le)*X,N.lineTo(Ee,Ce),le+=Ne;N.lineTo(j.position.x,j.position.y-ae),N.closePath(),N.fill(),O||(j.velocity.y+=.05)}else j.type==="FIRE"?(N.beginPath(),N.arc(j.position.x,j.position.y,j.size,0,Math.PI*2),N.fill(),O||(j.velocity.y-=.1,j.position.x+=Math.random()-.5)):j.type==="GHOST"||j.type==="ICE"?(N.beginPath(),N.arc(j.position.x,j.position.y,j.size,0,Math.PI*2),N.fill(),O||(j.velocity.y-=.05)):j.type==="LIGHTNING"?(N.strokeStyle=j.color,N.lineWidth=1,N.beginPath(),N.moveTo(j.position.x,j.position.y),N.lineTo(j.position.x+j.velocity.x*2,j.position.y+j.velocity.y*2),N.stroke()):(N.beginPath(),N.arc(j.position.x,j.position.y,j.size,0,Math.PI*2),N.fill());O||(j.position.x+=j.velocity.x,j.position.y+=j.velocity.y,j.life--,j.life<=0&&Z.current.splice(W,1))}N.globalAlpha=1},Ai=(N,O)=>{const W=x.effectType,{x:j,y:Q}=O.position,ae=ie.current,X=O.radius+15;if(N.save(),N.translate(j,Q),W==="BLOOD"){N.rotate(ae*.15),N.fillStyle="#991b1b";for(let le=0;le<3;le++)N.rotate(Math.PI*2/3),N.beginPath(),N.arc(0,X+5,4,0,Math.PI*2),N.fill(),N.beginPath(),N.moveTo(0,X),N.quadraticCurveTo(10,X+10,0,X+20),N.quadraticCurveTo(-5,X+10,0,X),N.fillStyle="rgba(220, 20, 60, 0.6)",N.fill();N.strokeStyle="#ef4444",N.lineWidth=1.5,N.beginPath(),N.arc(0,0,X,0,Math.PI*2),N.stroke()}else if(W==="GOLD"){N.rotate(ae*.01),N.fillStyle="rgba(255, 215, 0, 0.1)",N.beginPath();for(let le=0;le<8;le++){const Ee=le*Math.PI/4;N.moveTo(0,0),N.lineTo(Math.cos(Ee)*50,Math.sin(Ee)*50)}N.fill(),N.strokeStyle="rgba(253, 224, 71, 0.8)",N.lineWidth=2,N.beginPath(),N.arc(0,0,X+5+Math.sin(ae*.1)*2,0,Math.PI*2),N.stroke()}else if(W==="PIXEL"){N.strokeStyle="rgba(34, 211, 238, 0.5)",N.lineWidth=2;const le=50;N.setLineDash([5,5]),N.strokeRect(-le/2,-le/2,le,le),N.rotate(Math.PI/4),N.strokeRect(-le/2,-le/2,le,le),N.setLineDash([]),ae%10<5&&(N.fillStyle="#22d3ee",N.fillRect(-30,-30,5,5),N.fillRect(25,25,5,5))}else if(W==="VOID"){N.fillStyle="#000",N.beginPath(),N.arc(0,0,X+5,0,Math.PI*2),N.fill(),N.strokeStyle="#7c3aed",N.lineWidth=2;for(let le=0;le<8;le++){const Ee=Math.PI*2/8*le+ae*-.05,Ce=60-ae%30;N.beginPath(),N.moveTo(Math.cos(Ee)*Ce,Math.sin(Ee)*Ce),N.lineTo(0,0),N.stroke()}N.shadowColor="#4c1d95",N.shadowBlur=10,N.beginPath(),N.arc(0,0,X+20,0,Math.PI*2),N.stroke(),N.shadowBlur=0}else if(W==="GHOST"){N.fillStyle="rgba(74, 222, 128, 0.1)",N.beginPath(),N.arc(0,0,X+15,0,Math.PI*2),N.fill(),N.strokeStyle="#4ade80",N.lineWidth=2;for(let le=0;le<3;le++){const Ee=ae*.05+le*(Math.PI*2/3);N.beginPath(),N.arc(Math.cos(Ee)*30,Math.sin(Ee)*30,5,0,Math.PI*2),N.stroke()}}else if(W==="MECHA"){N.strokeStyle="#3b82f6",N.lineWidth=1,N.rotate(ae*.02),N.beginPath();for(let le=0;le<6;le++){const Ee=le*Math.PI/3,Ce=Math.cos(Ee)*40,Ne=Math.sin(Ee)*40;N.moveTo(Ce+20,Ne);for(let Je=1;Je<=6;Je++)N.lineTo(Ce+20*Math.cos(Je*Math.PI/3),Ne+20*Math.sin(Je*Math.PI/3))}N.stroke()}else if(W==="FIRE"){N.shadowBlur=20,N.shadowColor="#f97316",N.rotate(ae*.01),N.strokeStyle="#fbbf24",N.lineWidth=2,N.beginPath(),N.arc(0,0,X+40,0,Math.PI*2),N.stroke(),N.save(),N.rotate(ae*-.03),N.strokeStyle="#f97316",N.lineWidth=4,N.setLineDash([10,10]),N.beginPath(),N.arc(0,0,X+25,0,Math.PI*2),N.stroke(),N.restore(),N.fillStyle="rgba(234, 88, 12, 0.2)";for(let le=0;le<3;le++)N.rotate(Math.PI*2/3),N.beginPath(),N.moveTo(0,-(X+30)),N.lineTo(15,-X),N.lineTo(-15,-X),N.fill();N.shadowBlur=0}else if(W==="LIGHTNING"){if(ae%5===0){N.strokeStyle="#facc15",N.lineWidth=2,N.shadowColor="#fef08a",N.shadowBlur=10,N.beginPath();const le=Math.random()*Math.PI*2;let Ee=Math.cos(le)*20,Ce=Math.sin(le)*20;N.moveTo(Ee,Ce);for(let Ne=0;Ne<4;Ne++)Ee+=(Math.random()-.5)*30,Ce+=(Math.random()-.5)*30,N.lineTo(Ee,Ce);N.stroke(),N.shadowBlur=0}}else if(W==="ICE"){N.strokeStyle="#a5f3fc",N.lineWidth=2,N.rotate(ae*-.01);const le=6;for(let Ee=0;Ee<le;Ee++){const Ce=Math.PI*2/le*Ee;N.beginPath(),N.moveTo(0,0),N.lineTo(Math.cos(Ce)*40,Math.sin(Ce)*40),N.stroke()}}else if(W==="TOXIC"){N.fillStyle="rgba(132, 204, 22, 0.3)";for(let le=0;le<5;le++){const Ee=Math.PI*2/5*le+ae*.03,Ce=Math.sin(ae*.1+le)*5;N.beginPath(),N.arc(Math.cos(Ee)*(30+Ce),Math.sin(Ee)*(30+Ce),10,0,Math.PI*2),N.fill()}}N.restore()},Qn=(N,O)=>{const W=x.effectType,{x:j,y:Q}=O.position;O.radius;const ae=ie.current,X=Math.sin(ae*.1)*2;N.save(),N.translate(j,Q),he.current.x<0&&N.scale(-1,1),N.translate(0,X),W==="FIRE"?(N.fillStyle="#7c2d12",N.beginPath(),N.moveTo(-15,10),N.quadraticCurveTo(-30,20+Math.sin(ae*.2)*5,-40,15),N.lineTo(-20,5),N.fill(),N.fillStyle="#991b1b",N.beginPath(),N.moveTo(-15,-10),N.lineTo(15,-10),N.lineTo(10,20),N.lineTo(-10,20),N.fill(),N.fillStyle="#f97316",N.shadowColor="#f97316",N.shadowBlur=10,N.beginPath(),N.moveTo(-5,-5),N.lineTo(5,-5),N.lineTo(0,5),N.fill(),N.shadowBlur=0,N.fillStyle="#7f1d1d",N.beginPath(),N.arc(0,-15,12,0,Math.PI*2),N.fill(),N.fillStyle="#fbbf24",N.beginPath(),N.moveTo(5,-20),N.quadraticCurveTo(15,-30,10,-15),N.fill(),N.beginPath(),N.moveTo(0,-20),N.quadraticCurveTo(-10,-35,-10,-15),N.fill(),N.fillStyle="#fff",N.fillRect(2,-18,4,2)):W==="MECHA"?(N.fillStyle="#1e3a8a",N.fillRect(-10,10,8,12),N.fillRect(2,10,8,12),N.fillStyle="#3b82f6",N.beginPath(),N.moveTo(-15,-10),N.lineTo(15,-10),N.lineTo(10,15),N.lineTo(-10,15),N.fill(),N.fillStyle="#60a5fa",N.fillRect(-22,-12,10,10),N.fillRect(12,-12,10,10),N.fillStyle="#eff6ff",N.fillRect(-8,-24,16,14),N.fillStyle="#00ff00",N.shadowColor="#00ff00",N.shadowBlur=5,N.fillRect(-6,-20,12,4),N.shadowBlur=0,N.strokeStyle="#93c5fd",N.lineWidth=2,N.beginPath(),N.moveTo(-8,-20),N.lineTo(-12,-35),N.stroke()):W==="VOID"?(N.fillStyle="#000",N.beginPath(),N.moveTo(0,-25),N.bezierCurveTo(20,-20,20,20,10,30+Math.sin(ae*.1)*5),N.bezierCurveTo(0,25,-10,35,-10,30+Math.sin(ae*.1+2)*5),N.bezierCurveTo(-20,20,-20,-20,0,-25),N.fill(),N.fillStyle="#2e1065",N.beginPath(),N.arc(0,-15,14,Math.PI,0),N.lineTo(14,0),N.quadraticCurveTo(0,10,-14,0),N.fill(),N.fillStyle="#a78bfa",N.shadowColor="#8b5cf6",N.shadowBlur=10,N.beginPath(),N.arc(4,-15,3,0,Math.PI*2),N.fill(),N.beginPath(),N.arc(-2,-15,3,0,Math.PI*2),N.fill(),N.shadowBlur=0):W==="GHOST"?(N.fillStyle="rgba(134, 239, 172, 0.6)",N.beginPath(),N.arc(0,-10,12,Math.PI,0),N.lineTo(12,10),N.quadraticCurveTo(5,20+Math.sin(ae*.2)*5,0,15),N.quadraticCurveTo(-5,20+Math.sin(ae*.2+2)*5,-12,10),N.fill(),N.fillStyle="#064e3b",N.beginPath(),N.arc(4,-12,2,0,Math.PI*2),N.fill(),N.beginPath(),N.arc(-4,-12,2,0,Math.PI*2),N.fill()):W==="GOLD"?(N.fillStyle="#dc2626",N.beginPath(),N.moveTo(-10,-10),N.lineTo(10,-10),N.lineTo(15,25),N.lineTo(-15,25),N.fill(),N.fillStyle="#fcd34d",N.beginPath(),N.arc(0,0,14,0,Math.PI*2),N.fill(),N.fillStyle="#f59e0b",N.beginPath(),N.moveTo(-8,-12),N.lineTo(-8,-22),N.lineTo(-4,-18),N.lineTo(0,-24),N.lineTo(4,-18),N.lineTo(8,-22),N.lineTo(8,-12),N.fill(),N.strokeStyle="#fff",N.lineWidth=3,N.beginPath(),N.moveTo(-8,-8),N.lineTo(8,8),N.stroke()):W==="BLOOD"?(N.strokeStyle="#ef4444",N.lineWidth=4,N.beginPath(),N.moveTo(0,-10),N.quadraticCurveTo(-20,-15+Math.sin(ae*.3)*5,-30,-5),N.stroke(),N.fillStyle="#171717",N.beginPath(),N.arc(0,0,12,0,Math.PI*2),N.fill(),N.fillStyle="#ef4444",N.fillRect(-8,-5,16,3),N.strokeStyle="#525252",N.lineWidth=2,N.beginPath(),N.moveTo(-10,-10),N.lineTo(10,10),N.stroke()):W==="ICE"?(N.fillStyle="#cffafe",N.beginPath(),N.moveTo(0,-20),N.lineTo(10,-5),N.lineTo(5,10),N.lineTo(-5,10),N.lineTo(-10,-5),N.fill(),N.fillStyle="#06b6d4",N.beginPath(),N.moveTo(-10,-10),N.lineTo(-20,-15),N.lineTo(-12,0),N.fill(),N.beginPath(),N.moveTo(10,-10),N.lineTo(20,-15),N.lineTo(12,0),N.fill(),N.fillStyle="#fff",N.shadowColor="#22d3ee",N.shadowBlur=10,N.beginPath(),N.arc(0,-5,3,0,Math.PI*2),N.fill(),N.shadowBlur=0):W==="TOXIC"?(N.fillStyle="#3f6212",N.beginPath(),N.arc(0,0,14,0,Math.PI*2),N.fill(),N.fillStyle="#1a2e05",N.beginPath(),N.arc(0,-5,10,0,Math.PI*2),N.fill(),N.fillStyle="#84cc16",N.beginPath(),N.arc(-4,-8,3,0,Math.PI*2),N.fill(),N.beginPath(),N.arc(4,-8,3,0,Math.PI*2),N.fill(),N.fillStyle="#365314",N.fillRect(-3,-2,6,6)):W==="PIXEL"?(N.fillStyle="#22d3ee",N.fillRect(-10,-15,20,10),N.fillStyle="#ec4899",N.fillRect(-10,-5,20,20),ae%10<2&&(N.fillStyle="#fff",N.fillRect(10,0,5,5))):W==="LIGHTNING"?(N.fillStyle="#facc15",N.beginPath(),N.ellipse(0,0,10,15,0,0,Math.PI*2),N.fill(),N.fillStyle="#fff",N.fillRect(-8,-10,16,4),ae%5===0&&(N.strokeStyle="#fff",N.lineWidth=2,N.beginPath(),N.moveTo(10,0),N.lineTo(15,-5),N.stroke())):(N.fillStyle="#374151",N.fillRect(-12,-10,4,14),N.fillStyle="#1e3a8a",N.beginPath(),N.arc(0,0,12,0,Math.PI*2),N.fill(),N.fillStyle="#60a5fa",N.fillRect(4,-6,6,4)),N.restore()},mi=()=>{if(!x.activeSkill||M.current>0)return;const N=x.activeSkill;M.current=N.cooldown*60,St("skill"),bt(10);const O=x.effectType,W=l.attack*D.current.damageMulti;if(O==="FIRE"){Z.current.push({id:Math.random().toString(),position:{...D.current.position},velocity:{x:0,y:0},color:"#f97316",life:60,maxLife:60,size:500,type:"SKILL_EXPLOSION"}),bt(20);const j=W*500;B.current.forEach(Q=>{Q.hp-=j,Y.current.push({id:Math.random().toString(),position:Q.position,value:Math.floor(j),opacity:1,life:30,isCritical:!0})}),jt("  !"),setTimeout(()=>jt(null),2e3)}else if(O==="MECHA"){const j=W*100,Q=5;for(let ae=0;ae<Q;ae++){const X=Math.random()*window.innerWidth;setTimeout(()=>{bt(5),Z.current.push({id:Math.random().toString(),position:{x:X,y:0},velocity:{x:0,y:0},color:"blue",life:30,maxLife:30,size:150,type:"ORBITAL_LASER"}),B.current.forEach(le=>{Math.abs(le.position.x-X)<75&&(le.hp-=j,Y.current.push({id:Math.random().toString(),position:le.position,value:Math.floor(j),opacity:1,life:30,isCritical:!0}))}),St("explosion")},ae*200)}}else if(O==="VOID"){bt(8);const j=W*200,Q={x:window.innerWidth/2,y:window.innerHeight/2};B.current.forEach(ae=>{ae.position={...Q},ae.hp-=j,Y.current.push({id:Math.random().toString(),position:ae.position,value:Math.floor(j),opacity:1,life:30,isCritical:!0})}),Wn(Q,"VOID")}else if(O==="LIGHTNING"){bt(8);const j=W*50;B.current.forEach(Q=>{Q.hp-=j,Wn(Q.position,"LIGHTNING"),Y.current.push({id:Math.random().toString(),position:Q.position,value:Math.floor(j),opacity:1,life:30,isCritical:!0})})}else if(O==="GHOST")L.current=300,D.current.speed*=2,jt("  -  "),setTimeout(()=>jt(null),1e3);else if(O==="PIXEL"){bt(5);const j=W*30;k.current=[],B.current.forEach(Q=>{Q.hp-=j,Y.current.push({id:Math.random().toString(),position:Q.position,value:Math.floor(j),opacity:1,life:30,isCritical:!0})}),jt(" !"),setTimeout(()=>jt(null),1e3)}},Zn=(N=1,O=!1,W=0,j=!1)=>{for(let Q=0;Q<N;Q++){let ae=0,X=0;const le=O?100:50,Ee=Math.max(window.innerWidth,window.innerHeight)/2+le,Ce=Math.random()*Math.PI*2;ae=window.innerWidth/2+Math.cos(Ce)*Ee,X=window.innerHeight/2+Math.sin(Ce)*Ee;const Ne=Math.random();let Je="ZOMBIE";const ze=1+(p-1)*.5;let tt=800*ze,yn=3*ze,Me=1,Fe=il.ZOMBIE,it=10;O?(Je="BOSS",W===2?(tt=1e6*ze,yn=5e4*ze,Me=.8,it=80,Fe="#000"):(tt=8e4*ze,yn=5e3*ze,Me=.6,it=40,Fe="#b91c1c")):j?(Je="ZOMBIE",tt=500*ze,yn=1*ze,Me=1.2):Ne>.9?(Je="TANK",tt=4e3*ze,yn=30*ze,Me=.5,Fe=il.TANK,it=20):Ne>.7&&(Je="FAST",tt=600*ze,yn=5*ze,Me=2,Fe=il.FAST,it=8);const nn=D.current.level,Kt=O?Me:(Me+Math.min(nn,20)*.05)*(1+(p-1)*.1);let vn=1;O||(vn=1+nn*.2);const De=tt*vn,xn=(O?200:50+nn*5)*ze;B.current.push({id:Math.random().toString(),position:{x:ae,y:X},radius:it,color:Fe,hp:De,maxHp:De,speed:Kt,damage:xn,xpValue:yn,type:Je})}},fs=()=>{const N=Math.random()*Math.PI*2,O=Math.max(window.innerWidth,window.innerHeight)/2+50,W=window.innerWidth/2+Math.cos(N)*O,j=window.innerHeight/2+Math.sin(N)*O;K.current.push({id:Math.random().toString(),position:{x:W,y:j},radius:15,color:"#a16207",hp:50,maxHp:50})};G.useEffect(()=>{if(!h.current)return;const N=h.current,O=N.getContext("2d");if(!O)return;let W;const j=(X,le=!1)=>{le||St("explosion"),Wn(X.position,x.effectType),x.effectType==="GHOST"&&Math.random()<.1&&(we(Ce=>Math.min(Ue,Ce+1)),Y.current.push({id:Math.random().toString(),position:{...D.current.position},value:1,opacity:1,life:60,isCritical:!1,isGold:!1})),X.type==="BOSS"&&X.maxHp<1e6?H.current.push({id:Math.random().toString(),position:X.position,radius:20,color:il.TREASURE,life:300}):X.type!=="BOSS"&&P.current.push({id:Math.random().toString(),position:X.position,radius:5,color:il.GEM,value:X.xpValue});let Ee=100;X.type==="TANK"&&(Ee=500),X.type==="BOSS"&&(Ee=1e4),de.current+=Math.floor(Ee*(1+(p-1)*.5)),yt(de.current),X.type==="BOSS"&&X.maxHp>=1e6&&n(de.current,!0,D.current.level),X.type==="BOSS"&&Ni(null)},Q=(X,le)=>{X.save(),X.translate(le.position.x,le.position.y);const Ee=ie.current;if(p===1)if(le.type==="BOSS")X.fillStyle="#4c1d95",X.beginPath(),X.arc(0,0,le.radius,0,Math.PI*2),X.fill(),X.strokeStyle="#a855f7",X.lineWidth=3,X.stroke(),X.fillStyle="red",X.beginPath(),X.arc(-20,-10,8,0,Math.PI*2),X.fill(),X.beginPath(),X.arc(20,-10,8,0,Math.PI*2),X.fill();else{X.fillStyle=le.type==="TANK"?"#7f1d1d":le.type==="FAST"?"#d97706":"#9f1239",X.beginPath(),X.moveTo(le.radius,0);for(let Ce=0;Ce<8;Ce++){const Ne=Math.PI*2/8*Ce,Je=le.radius+Math.sin(Ne*3+Ee*.2)*2;X.lineTo(Math.cos(Ne)*Je,Math.sin(Ne)*Je)}X.closePath(),X.fill(),X.fillStyle="rgba(0,0,0,0.3)",X.beginPath(),X.arc(-3,-3,2,0,Math.PI*2),X.fill(),X.beginPath(),X.arc(4,2,3,0,Math.PI*2),X.fill()}else if(p===2)if(le.type==="BOSS")X.fillStyle="#374151",X.fillRect(-le.radius,-le.radius,le.radius*2,le.radius*2),X.strokeStyle="#f59e0b",X.lineWidth=4,X.strokeRect(-le.radius,-le.radius,le.radius*2,le.radius*2),X.fillStyle="#ef4444",X.fillRect(-30,-10,60,20);else{X.fillStyle=le.type==="TANK"?"#57534e":le.type==="FAST"?"#b45309":"#52525b";const Ce=le.radius*1.6;X.fillRect(-Ce/2,-Ce/2,Ce,Ce),X.fillStyle="#a1a1aa",X.fillRect(-Ce/2+2,-Ce/2+2,2,2),X.fillRect(Ce/2-4,-Ce/2+2,2,2),X.fillRect(-Ce/2+2,Ce/2-4,2,2),X.fillRect(Ce/2-4,Ce/2-4,2,2)}else if(p===3)if(le.type==="BOSS"){X.rotate(Ee*.01),X.fillStyle="#4c1d95",X.beginPath();for(let Ce=0;Ce<6;Ce++){const Ne=Math.PI*2/6*Ce;X.lineTo(Math.cos(Ne)*le.radius,Math.sin(Ne)*le.radius)}X.closePath(),X.fill(),X.strokeStyle="#c084fc",X.lineWidth=3,X.stroke()}else X.fillStyle=le.type==="TANK"?"#1e3a8a":le.type==="FAST"?"#8b5cf6":"#0ea5e9",X.rotate(Ee*(le.type==="FAST"?.1:.02)),X.beginPath(),X.moveTo(0,-le.radius),X.lineTo(le.radius,0),X.lineTo(0,le.radius),X.lineTo(-le.radius,0),X.closePath(),X.fill(),X.strokeStyle="rgba(255,255,255,0.5)",X.lineWidth=1,X.beginPath(),X.moveTo(0,-le.radius),X.lineTo(0,le.radius),X.stroke();else if(le.type==="BOSS")X.shadowColor="#d8b4fe",X.shadowBlur=20,X.fillStyle="#000",X.beginPath(),X.arc(0,0,le.radius,0,Math.PI*2),X.fill(),X.shadowBlur=0,X.strokeStyle="#fff",X.lineWidth=1,X.beginPath(),X.arc(0,0,le.radius-5,0,Math.PI*2),X.stroke();else{X.fillStyle="#000",X.beginPath();for(let Ce=0;Ce<=20;Ce++){const Ne=Math.PI*2/20*Ce,Je=Math.sin(Ee*.5+Ce)*3,ze=le.radius+Je;X.lineTo(Math.cos(Ne)*ze,Math.sin(Ne)*ze)}X.closePath(),X.fill(),X.fillStyle=le.type==="TANK"?"#7f1d1d":le.type==="FAST"?"#4c1d95":"#be123c",X.beginPath(),X.arc(0,0,le.radius*.5,0,Math.PI*2),X.fill()}X.restore()},ae=()=>{if(e===xt.PLAYING){ie.current++,M.current>0&&M.current--,L.current>0&&(L.current--,L.current===0&&x.effectType==="GHOST"&&(D.current.speed=w)),io(Math.ceil(M.current/60)),I.current>0&&(I.current-=.5,I.current<0&&(I.current=0));const Me=B.current.find(Fe=>Fe.type==="BOSS");Me&&!Ht&&Ni(Me),!Me&&Ht&&Ni(null)}const X=Math.floor(ie.current/60),le=Math.floor(X/60),Ee=X%60;Vt(`${le.toString().padStart(2,"0")}:${Ee.toString().padStart(2,"0")}`),X>=180&&!pe.current.has(180)&&(pe.current.add(180),jt("    !"),setTimeout(()=>jt(null),2e3)),X>=420&&!pe.current.has(420)&&(pe.current.add(420),jt("    !"),setTimeout(()=>jt(null),2e3));const Ce=Me=>{Zn(1,!0,Me),ce.current.add(X),St("boss_spawn"),Kn(!0),St("warning"),setTimeout(()=>Kn(!1),3e3)};if(!ce.current.has(X)&&X===300&&Ce(1),!ce.current.has(X)&&X===600&&Ce(2),e===xt.PLAYING){let Me=0,Fe=0;const it=ee.current;(it.w||it.arrowup||it.)&&(Fe-=1),(it.s||it.arrowdown||it.)&&(Fe+=1),(it.a||it.arrowleft||it.)&&(Me-=1),(it.d||it.arrowright||it.)&&(Me+=1);let nn=Me,Kt=Fe;nn===0&&Kt===0&&(nn=$.current.x,Kt=$.current.y);const vn=Math.sqrt(nn**2+Kt**2);vn>0?z.current={x:nn/vn,y:Kt/vn}:z.current={x:0,y:0};const De=D.current;De.position={x:window.innerWidth/2,y:window.innerHeight/2};const xn={x:-z.current.x*De.speed,y:-z.current.y*De.speed};if(se.current.x+=xn.x,se.current.y+=xn.y,z.current.x!==0||z.current.y!==0){const Ie=Math.sqrt(z.current.x**2+z.current.y**2);Ie>0&&(he.current={x:z.current.x/Ie,y:z.current.y/Ie})}const ei=x.effectType;if(ei==="LIGHTNING"&&ie.current%60===0){const Ie=B.current.filter(Te=>Bt(De.position,Te.position)<300);if(Ie.length>0){const Te=Ie[Math.floor(Math.random()*Ie.length)],Ke=l.attack*De.damageMulti*3;Te.hp-=Ke,Y.current.push({id:Math.random().toString(),position:Te.position,value:Math.floor(Ke),opacity:1,life:30,isCritical:!0}),Z.current.push({id:Math.random().toString(),position:Te.position,velocity:{x:0,y:0},color:"#facc15",life:10,maxLife:10,size:2,type:"LIGHTNING"})}}if(ei==="VOID"&&B.current.forEach(Ie=>{if(Bt(De.position,Ie.position)<150){const Ke=Math.atan2(De.position.y-Ie.position.y,De.position.x-Ie.position.x);Ie.position.x+=Math.cos(Ke)*2,Ie.position.y+=Math.sin(Ke)*2,ie.current%10===0&&(Ie.hp-=l.attack*De.damageMulti*.2)}}),ei==="MECHA"&&ie.current%300===0){const Ie=B.current;if(Ie.length>0){const Te=Ie[Math.floor(Math.random()*Ie.length)];Z.current.push({id:Math.random().toString(),position:{x:Te.position.x,y:0},velocity:{x:0,y:0},color:"blue",life:30,maxLife:30,size:100,type:"ORBITAL_LASER"}),B.current.forEach(Ke=>{Math.abs(Ke.position.x-Te.position.x)<50&&(Ke.hp-=l.attack*De.damageMulti*10,Y.current.push({id:Math.random().toString(),position:Ke.position,value:9999,opacity:1,life:40,isCritical:!0}))}),St("explosion")}}if(ei==="FIRE"){const Ie=120+Math.sin(ie.current*.05)*20;ie.current%5===0&&B.current.forEach(Te=>{const Ke=Bt(De.position,Te.position);Math.abs(Ke-Ie)<20&&(Te.hp-=l.attack*De.damageMulti*.5)})}ie.current%H_===0&&Zn(Math.min(5,1+Math.floor(de.current/2e4))),(X>=180&&X<240||X>=420&&X<480)&&ie.current%15===0&&Zn(3,!1,0,!0),ie.current>0&&ie.current%1500===0&&K.current.length<3&&fs();const Wt=De.skills.guardian||0;if(Wt>0){const Ie=Wt>=6,Te=Ie?6:Wt+1,Ke=Ie?100:70,ft=Ie?.08:.05,Ct=ie.current*ft;for(let ct=0;ct<Te;ct++){const Ln=Ct+ct*(Math.PI*2/Te),Sn=De.position.x+Math.cos(Ln)*Ke,ti=De.position.y+Math.sin(Ln)*Ke;[...B.current,...K.current].forEach(rt=>{if(Math.sqrt(Math.pow(Sn-rt.position.x,2)+Math.pow(ti-rt.position.y,2))<(Ie?25:20)+rt.radius){if("type"in rt){const ni=rt.type==="BOSS"?.5:5,_i=Math.atan2(rt.position.y-De.position.y,rt.position.x-De.position.x);rt.position.x+=Math.cos(_i)*ni,rt.position.y+=Math.sin(_i)*ni}const un=Math.random()<De.critChance,Qt=De.damageMulti*10*(Ie?2:1)*(un?De.critDamageMulti:1);rt.hp-=Qt,ie.current%5===0&&Y.current.push({id:Math.random().toString(),position:{x:rt.position.x,y:rt.position.y},value:Math.floor(Qt),opacity:1,life:30,isCritical:un})}})}}ie.current-Se.current>30/De.attackSpeedMulti&&(De.weapons.forEach(Ie=>{if(Ie===ai.GUARDIAN)return;let Te="kunai";Ie===ai.KUNAI?De.skills.katana?Te="katana":Te="kunai":Ie===ai.SHOTGUN?De.skills.revolver?Te="revolver":Te="shotgun":Ie===ai.BAT&&(Te="bat");const Ke=Te,ft=De.skills[Ke]||1,Ct=ft>=6;let ct=null,Ln=1/0;[...B.current,...K.current].forEach(Dn=>{const Pn=Bt(De.position,Dn.position);Pn<Ln&&(Ln=Pn,ct=Dn.position)});let Sn={...he.current};if(ct){const Dn=Math.atan2(ct.y-De.position.y,ct.x-De.position.x);Sn={x:Math.cos(Dn),y:Math.sin(Dn)}}const ti=l.attack*De.damageMulti;let rt=1,Oo=0,un=12,Qt=120,ni=0,_i=5,Vo="#fff",vi=ti,so=1;Te==="kunai"?(rt=1+(ft-1)+(De.skills.multi_shot||0),Ct&&(rt+=2),un=18,Vo=Ct?"#8b5cf6":"#2dd4bf",ni=3,Qt=80,so=Ct?2:1):Te==="katana"?(rt=1+(De.skills.multi_shot||0),un=10,Qt=40,_i=20,so=999,vi=ti*1.2,Ct&&(vi*=1.5,un=12)):Te==="shotgun"?(rt=3+(ft-1)+(De.skills.multi_shot||0),Ct?(rt+=5,ni=2,Oo=.1):(Oo=.2,ni=0),un=12,Qt=45,Vo=Ct?"#ef4444":"#facc15",vi=ti*.7,so=1):Te==="revolver"?(rt=1+(ft>3?1:0)+(De.skills.multi_shot||0),un=25,Qt=60,vi=ti*2,so=Ct?999:2,ni=10):Te==="bat"&&(rt=1+(ft-1)+(De.skills.multi_shot||0),Ct&&(rt=Math.floor(rt*1.5)),un=8,Qt=15,_i=30,Vo="#fff",ni=5,vi=ti*1.5,so=999),St("shoot");for(let Dn=0;Dn<rt;Dn++){let Pn={...Sn};if(Te==="shotgun"||Te==="bat"){const Ri=(Dn-(rt-1)/2)*(Te==="bat"?.3:Oo),Ii=Math.atan2(Sn.y,Sn.x);Pn={x:Math.cos(Ii+Ri),y:Math.sin(Ii+Ri)}}else if(Te==="shotgun"&&Ct){const Ri=(Math.random()-.5)*.1;Pn={x:Math.cos(Math.atan2(Sn.y,Sn.x)+Ri),y:Math.sin(Math.atan2(Sn.y,Sn.x)+Ri)}}const ii=Math.random()<De.critChance,hs=vi*(ii?De.critDamageMulti:1);q.current.push({delay:Dn*ni,velocity:{x:Pn.x*un,y:Pn.y*un},damage:hs,color:Vo,radius:_i,isEvo:Ct,duration:Qt,penetration:so,weaponId:Te})}}),Se.current=ie.current);for(let Ie=q.current.length-1;Ie>=0;Ie--){const Te=q.current[Ie];Te.delay<=0?(k.current.push({id:Math.random().toString(),position:{...De.position},velocity:Te.velocity,radius:Te.radius,color:Te.color,damage:Te.damage,duration:Te.duration,penetration:Te.penetration,isEvo:Te.isEvo,weaponId:Te.weaponId}),q.current.splice(Ie,1)):Te.delay--}[...B.current,...P.current,...k.current,...Z.current,...K.current,...J.current,...H.current,...Y.current].forEach(Ie=>{Ie.position.x+=xn.x,Ie.position.y+=xn.y});for(let Ie=k.current.length-1;Ie>=0;Ie--){const Te=k.current[Ie];if(Te.position.x+=Te.velocity.x,Te.position.y+=Te.velocity.y,Te.duration--,Te.duration<=0){k.current.splice(Ie,1);continue}for(let Ke=[...B.current,...K.current].length-1;Ke>=0;Ke--){const ft=[...B.current,...K.current][Ke];if(Bt(Te.position,ft.position)<Te.radius+ft.radius){const ct=Math.random()<De.critChance,Ln=Te.damage*(ct?De.critDamageMulti:1);if(ft.hp-=Ln,Te.penetration--,Y.current.push({id:Math.random().toString(),position:{x:ft.position.x,y:ft.position.y},value:Math.floor(Ln),opacity:1,life:30,isCritical:ct}),Te.penetration<=0){k.current.splice(Ie,1);break}}}}for(let Ie=K.current.length-1;Ie>=0;Ie--){const Te=K.current[Ie];if(Te.hp<=0){St("explosion"),bt(5),Wn(Te.position,"PIXEL");const Ke=Math.random();let ft,Ct;if(Ke<.33)ft=Ei.MAGNET;else if(Ke<.66)ft=Ei.BOMB;else{ft=Ei.GOLD;const ct=[10,50,100,250];Ct=ct[Math.floor(Math.random()*ct.length)]}J.current.push({id:Math.random().toString(),position:Te.position,radius:20,color:"white",type:ft,value:Ct,life:600}),K.current.splice(Ie,1)}}const ga=L.current>0&&x.effectType==="GHOST";A.current=ie.current-V.current<30||ga;for(let Ie=B.current.length-1;Ie>=0;Ie--){const Te=B.current[Ie],Ke=Math.atan2(De.position.y-Te.position.y,De.position.x-Te.position.x);if(Te.position.x+=Math.cos(Ke)*Te.speed,Te.position.y+=Math.sin(Ke)*Te.speed,Bt(De.position,Te.position)<De.radius+Te.radius){let ft=0;x.effectType==="PIXEL"&&(ft=.15),A.current||(Math.random()>ft?(St("hit"),bt(3),V.current=ie.current,we(Ct=>{const ct=Ct-Te.damage;return ct<=0&&n(de.current,!1,D.current.level),ct})):Y.current.push({id:Math.random().toString(),position:De.position,value:0,opacity:1,life:30,isCritical:!1}))}Te.hp<=0&&(j(Te),B.current.splice(Ie,1))}for(let Ie=J.current.length-1;Ie>=0;Ie--){const Te=J.current[Ie];Te.life--,Bt(De.position,Te.position)<De.radius+Te.radius?(Te.type===Ei.MAGNET&&(St("powerup"),P.current.forEach(Ke=>Ke.isForcePulled=!0)),Te.type===Ei.BOMB&&(St("explosion"),bt(10),B.current.forEach(Ke=>{Ke.type!=="BOSS"&&j(Ke,!0)}),B.current=B.current.filter(Ke=>Ke.type==="BOSS")),Te.type===Ei.GOLD&&Te.value&&(St("coin"),c(Te.value),Y.current.push({id:Math.random().toString(),position:Te.position,value:Te.value,opacity:1,life:60,isCritical:!1,isGold:!0})),J.current.splice(Ie,1)):Te.life<=0&&J.current.splice(Ie,1)}for(let Ie=P.current.length-1;Ie>=0;Ie--){const Te=P.current[Ie],Ke=Bt(De.position,Te.position);if(Ke<De.magnetRadius||Te.isForcePulled){const ft=Math.atan2(De.position.y-Te.position.y,De.position.x-Te.position.x),Ct=Te.isForcePulled?25:12;Te.position.x+=Math.cos(ft)*Ct,Te.position.y+=Math.sin(ft)*Ct}Ke<De.radius+Te.radius&&(St("gem"),De.xp+=Te.value,Oe(De.xp/De.nextLevelXp*100),P.current.splice(Ie,1),De.xp>=De.nextLevelXp&&(St("levelup"),De.level++,De.xp=0,De.nextLevelXp=Math.floor(De.nextLevelXp*1.25),Re(De.level),Oe(0),o(xt.PAUSED),pl()))}for(let Ie=H.current.length-1;Ie>=0;Ie--){const Te=H.current[Ie];Bt(De.position,Te.position)<De.radius+Te.radius&&(St("treasure_open"),Uo(),o(xt.TREASURE_OPENING),H.current.splice(Ie,1))}}O.fillStyle=f.bg,O.fillRect(0,0,N.width,N.height);const Ne=(Math.random()-.5)*I.current,Je=(Math.random()-.5)*I.current;O.save(),O.translate(Ne,Je);const ze=50,tt=se.current.x%ze,yn=se.current.y%ze;O.strokeStyle=f.grid,O.lineWidth=1,O.beginPath();for(let Me=tt;Me<N.width;Me+=ze)O.moveTo(Me,0),O.lineTo(Me,N.height);for(let Me=yn;Me<N.height;Me+=ze)O.moveTo(0,Me),O.lineTo(N.width,Me);if(O.stroke(),P.current.forEach(Me=>{O.fillStyle=il.GEM,O.shadowColor=il.GEM,O.shadowBlur=8,O.beginPath(),O.arc(Me.position.x,Me.position.y,4,0,Math.PI*2),O.fill(),O.shadowBlur=0}),H.current.forEach(Me=>rs(O,Me)),K.current.forEach(Me=>In(O,Me)),J.current.forEach(Me=>qt(O,Me)),k.current.forEach(Me=>{us(O,Me)}),D.current.skills.guardian>0){const Me=D.current.skills.guardian>=6,Fe=Me?6:D.current.skills.guardian+1,it=Me?100:70,nn=Me?.08:.05,Kt=ie.current*nn;for(let vn=0;vn<Fe;vn++){const De=Kt+vn*(Math.PI*2/Fe),xn=D.current.position.x+Math.cos(De)*it,ei=D.current.position.y+Math.sin(De)*it;cs(O,xn,ei,Me)}}Ai(O,D.current),(!A.current||ie.current%4<2)&&Qn(O,D.current),[...B.current,...K.current].forEach(Me=>{if("type"in Me?Q(O,Me):(O.fillStyle=Me.color,O.beginPath(),O.arc(Me.position.x,Me.position.y,Me.radius,0,Math.PI*2),O.fill()),"type"in Me&&Me.type==="BOSS"&&(O.fillStyle="white",O.font="bold 12px Arial",O.textAlign="center",O.fillText("BOSS",Me.position.x,Me.position.y-Me.radius-15)),!("type"in Me)||Me.type!=="BOSS"){const Fe="maxHp"in Me?30:20;O.fillStyle="#b91c1c",O.fillRect(Me.position.x-Fe/2,Me.position.y-Me.radius-10,Fe,4),O.fillStyle="#4ade80",O.fillRect(Me.position.x-Fe/2,Me.position.y-Me.radius-10,Fe*(Me.hp/Me.maxHp),4)}}),oo(O,e!==xt.PLAYING),O.restore(),O.textAlign="center";for(let Me=Y.current.length-1;Me>=0;Me--){const Fe=Y.current[Me];O.font=Fe.isCritical?"bold 24px Arial":"bold 16px Arial",O.fillStyle=Fe.isGold?`rgba(251, 191, 36, ${Fe.opacity})`:Fe.isCritical?`rgba(250, 204, 21, ${Fe.opacity})`:`rgba(255, 255, 255, ${Fe.opacity})`;const it=Fe.isGold?`+${Fe.value}G`:Fe.value.toString();O.fillText(it,Fe.position.x,Fe.position.y),e===xt.PLAYING&&(Fe.position.y-=.5,Fe.life--,Fe.opacity=Fe.life/30,Fe.life<=0&&Y.current.splice(Me,1))}W=requestAnimationFrame(ae)};return W=requestAnimationFrame(ae),()=>{cancelAnimationFrame(W)}},[e,l,n,x,St,f,p]);const pl=()=>{const O=[...Jl].filter(X=>(D.current.skills[X.id]||0)<6),W=["kunai","shotgun","bat"],ae=O.filter(X=>W.includes(X.id)?X.id===b:!0).sort(()=>.5-Math.random()).slice(0,3).map(X=>{const le=D.current.skills[X.id]||0;return{id:X.id,name:X.name,description:le===5?"Ultimate Upgrade!":X.description,icon:X.icon,type:X.type,rarity:X.rarity,currentLevel:le,isEvo:le===5,title:le===5?"EVOLUTION!":le===0?"NEW!":"Level Up!"}});_n(ae)},Uo=()=>{const j=[...Jl].filter(Q=>(D.current.skills[Q.id]||0)<6).sort(()=>.5-Math.random()).slice(0,5).map(Q=>({id:Q.id,name:Q.name,description:Q.description,icon:Q.icon,type:Q.type,rarity:Q.rarity,currentLevel:D.current.skills[Q.id]||0,isEvo:(D.current.skills[Q.id]||0)===5,title:"BONUS!"}));Ci(j)},gi=N=>{const O=D.current,W=O.skills[N.id]||0;if(O.skills[N.id]=W+1,N.id==="atk_up"&&(O.damageMulti+=.2),N.id==="spd_up"&&(O.speed+=gy*.15),N.id==="atk_spd_up"&&(O.attackSpeedMulti+=.15),N.id==="hp_up"){const j=O.hp/O.maxHp;O.maxHp*=1.3,O.hp=O.maxHp*j,_e(O.maxHp),we(O.hp)}N.id==="multi_shot"&&(O.projectileCount+=1),N.id==="magnet_core"&&(O.magnetRadius*=1.5),N.id==="crit_chance_up"&&(O.critChance+=.1),N.id==="crit_damage_up"&&(O.critDamageMulti+=.5)},ds=N=>{St("click"),gi(N),o(xt.PLAYING)},ml=()=>{St("click"),pi.forEach(N=>gi(N)),Ci([]),o(xt.PLAYING)},gl=N=>{$.current=N},Go=()=>{$.current={x:0,y:0}},Bo=()=>{St("click"),o(xt.STATUS_MENU)},lo=()=>{St("click"),o(xt.PLAYING)},Mi={Sword:al,Heart:iv,Zap:ns,Shield:iu,Activity:Nr,Footprints:ev,Copy:wT,Star:Lo},yl=()=>{const N=D.current,O=Object.entries(N.skills).filter(([j,Q])=>{const ae=Jl.find(X=>X.id===j);return(ae==null?void 0:ae.type)==="WEAPON"}),W=Object.entries(N.skills).filter(([j,Q])=>{const ae=Jl.find(X=>X.id===j);return(ae==null?void 0:ae.type)==="STAT"});return d.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl w-full max-w-lg border border-gray-600 shadow-2xl flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-600 pb-4",children:[d.jsx("h2",{className:"text-2xl font-black text-white italic",children:""}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:lo,className:"bg-green-600 hover:bg-green-500 text-white font-bold p-2 rounded-lg",children:d.jsx(fl,{className:"w-6 h-6 fill-current"})})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-2 uppercase tracking-wider",children:"Weapons"}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[O.map(([j,Q])=>{const ae=Jl.find(Ce=>Ce.id===j);if(!ae)return null;const X=Mi[ae.icon]||al,le=Q,Ee=le>=6;return d.jsxs("div",{className:`aspect-square rounded-xl border-2 flex flex-col items-center justify-center relative bg-gray-700 ${Ee?"border-red-500 shadow-[0_0_10px_#ef4444]":"border-gray-600"}`,children:[d.jsx(X,{className:`w-8 h-8 ${Ee?"text-red-400":"text-gray-300"}`}),Ee&&d.jsx("div",{className:"absolute -top-2 -right-2 text-[10px] font-black bg-red-600 text-white px-1.5 py-0.5 rounded-full",children:"EVO"}),d.jsx("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from({length:5}).map((Ce,Ne)=>d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ne<(Ee?5:le)?"bg-yellow-400":"bg-gray-600"}`},Ne))})]},j)}),Array.from({length:Math.max(0,6-O.length)}).map((j,Q)=>d.jsx("div",{className:"aspect-square rounded-xl border border-gray-700 bg-gray-800/50 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 text-gray-700",children:d.jsx(al,{className:"opacity-20"})})},`empty-w-${Q}`))]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-2 uppercase tracking-wider",children:"Supplies"}),d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[W.map(([j,Q])=>{const ae=Jl.find(Ee=>Ee.id===j);if(!ae)return null;const X=Mi[ae.icon]||Nr,le=Q;return d.jsxs("div",{className:"aspect-square rounded-xl border-2 border-gray-600 flex flex-col items-center justify-center relative bg-gray-700",children:[d.jsx(X,{className:"w-8 h-8 text-gray-300"}),d.jsx("div",{className:"absolute bottom-1 flex gap-0.5",children:Array.from({length:5}).map((Ee,Ce)=>d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ce<le?"bg-yellow-400":"bg-gray-600"}`},Ce))})]},j)}),Array.from({length:Math.max(0,6-W.length)}).map((j,Q)=>d.jsx("div",{className:"aspect-square rounded-xl border border-gray-700 bg-gray-800/50 flex items-center justify-center",children:d.jsx("div",{className:"w-8 h-8 text-gray-700",children:d.jsx(sl,{className:"opacity-20"})})},`empty-p-${Q}`))]})]}),d.jsxs("div",{className:"bg-gray-900/60 p-4 rounded-xl border border-gray-700",children:[d.jsx("h3",{className:"text-sm text-gray-400 font-bold mb-3 uppercase tracking-wider",children:"Current Stats"}),d.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between px-2",children:[d.jsx("span",{className:"text-gray-400",children:"ATK"})," ",d.jsx("span",{className:"font-bold text-white",children:Math.floor(l.attack*N.damageMulti)})]}),d.jsxs("div",{className:"flex justify-between px-2",children:[d.jsx("span",{className:"text-gray-400",children:"HP"})," ",d.jsxs("span",{className:"font-bold text-white",children:[Math.floor(ge)," / ",Math.floor(Ue)]})]}),d.jsxs("div",{className:"flex justify-between px-2",children:[d.jsx("span",{className:"text-gray-400",children:"Speed"})," ",d.jsx("span",{className:"font-bold text-white",children:N.speed.toFixed(1)})]}),d.jsxs("div",{className:"flex justify-between px-2",children:[d.jsx("span",{className:"text-gray-400",children:"Crit"})," ",d.jsxs("span",{className:"font-bold text-yellow-400",children:[(N.critChance*100).toFixed(0),"%"]})]})]})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 flex flex-col gap-3",children:[d.jsx("button",{onClick:lo,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all",children:""}),d.jsx("button",{onClick:()=>n(de.current,!1,be),className:"w-full bg-red-600 hover:bg-red-500 text-white font-bold py-3 rounded-xl border-b-4 border-red-800 active:border-b-0 active:translate-y-1 transition-colors",children:""})]})]})})},kn=()=>{if(!x.activeSkill)return d.jsx("div",{className:"absolute bottom-12 right-12 w-20 h-20 rounded-full bg-gray-800/80 border-2 border-gray-600 flex items-center justify-center pointer-events-none opacity-50 shadow-lg",children:d.jsx(lv,{className:"w-8 h-8 text-gray-500"})});const N=x.activeSkill,O=F_[N.iconName]||ns,W=Rn>0;return d.jsxs("div",{className:"absolute bottom-12 right-12 w-24 h-24 rounded-full flex items-center justify-center z-40 touch-none active:scale-95 transition-transform",onTouchStart:j=>{j.preventDefault(),mi()},onMouseDown:j=>{j.preventDefault(),mi()},children:[d.jsx("div",{className:"absolute inset-[-4px] rounded-full animate-pulse",style:{backgroundColor:N.visualColor,opacity:.5}}),d.jsxs("div",{className:"w-full h-full rounded-full border-4 flex items-center justify-center relative overflow-hidden bg-gray-900 shadow-2xl",style:{borderColor:N.visualColor},children:[d.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundColor:N.visualColor}}),d.jsx(O,{className:`w-12 h-12 relative z-10 transition-all ${W?"text-gray-500":"text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.8)]"}`,strokeWidth:2}),W&&d.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-20",children:d.jsx("span",{className:"text-white font-black text-2xl animate-pulse",children:Rn})})]}),d.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 whitespace-nowrap bg-black/60 px-2 py-1 rounded text-[10px] font-bold text-white border border-gray-600",children:N.name})]})};return d.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[d.jsx("canvas",{ref:h,width:window.innerWidth,height:window.innerHeight,className:"block"}),Xn&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-red-900/40 animate-[pulse_0.5s_infinite] pointer-events-none",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(wf,{className:"w-24 h-24 text-red-500 animate-bounce"}),d.jsx("h1",{className:"text-6xl font-black text-red-500 drop-shadow-[0_0_20px_rgba(220,38,38,0.8)] italic tracking-widest mt-4 animate-pulse",children:"WARNING"}),d.jsx("p",{className:"text-white font-bold text-2xl mt-2 tracking-widest uppercase",children:"Boss Approaching"})]})}),Ht&&d.jsxs("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 w-[80%] max-w-2xl z-40 flex flex-col items-center pointer-events-none animate-in slide-in-from-top-10 fade-in duration-500",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(md,{className:"w-6 h-6 text-red-500"}),d.jsx("span",{className:"font-black text-red-500 text-xl drop-shadow-md",children:"BOSS"})]}),d.jsxs("div",{className:"w-full h-6 bg-black/80 rounded-full border-2 border-red-900 overflow-hidden relative shadow-2xl",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-800 via-red-600 to-red-500 transition-all duration-200",style:{width:`${Ht.hp/Ht.maxHp*100}%`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent"})]}),d.jsxs("span",{className:"text-white font-bold text-sm mt-1 drop-shadow-lg",children:[(Ht.hp/Ht.maxHp*100).toFixed(1),"%"]})]}),Rt&&d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-40 pointer-events-none",children:d.jsxs("div",{className:"bg-black/80 text-white font-black text-2xl md:text-3xl px-8 py-4 rounded-xl border-2 border-yellow-500 shadow-lg flex items-center gap-4",style:{animation:"pulse-and-fade 2s ease-out forwards"},children:[d.jsx(wf,{className:"w-8 h-8 text-yellow-500"})," ",Rt," ",d.jsx(wf,{className:"w-8 h-8 text-yellow-500"})]})}),d.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start pointer-events-none",children:[d.jsxs("div",{className:"flex flex-col gap-1 w-1/3",children:[d.jsxs("div",{className:"h-4 bg-gray-800 rounded-full border border-gray-600 overflow-hidden relative",children:[d.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500 transition-all duration-300",style:{width:`${ge/Ue*100}%`}}),d.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[10px] font-bold text-white drop-shadow",children:[Math.ceil(ge)," / ",Math.ceil(Ue)]})]}),d.jsx("div",{className:"h-2 bg-gray-800 rounded-full border border-gray-600 overflow-hidden relative mt-1",children:d.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-500 transition-all duration-300",style:{width:`${Le}%`}})}),d.jsxs("div",{className:"text-white font-bold text-sm drop-shadow-md",children:["LV. ",be]})]}),d.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 mt-2 flex items-center gap-1 bg-black/40 px-3 py-1 rounded-full border border-gray-500",children:[d.jsx(dd,{className:"w-4 h-4 text-white"}),d.jsx("span",{className:"font-mono text-xl font-bold text-white tracking-widest",children:rn})]}),d.jsxs("div",{className:"flex items-center gap-2 pointer-events-auto",children:[d.jsx("div",{className:"text-white font-black text-xl drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] hidden sm:block",children:Pe.toLocaleString()}),d.jsx("button",{onClick:Bo,className:"bg-gray-800/80 hover:bg-gray-700 text-white p-2 rounded-lg backdrop-blur-sm border border-gray-600 transition-colors",children:d.jsx(sv,{className:"w-6 h-6 fill-current"})})]})]}),d.jsxs("div",{className:"absolute top-20 left-4 bg-black/40 p-2 rounded-lg border border-gray-600 pointer-events-none",children:[d.jsx(al,{className:"w-6 h-6 text-white"}),d.jsx("span",{className:"text-[10px] text-white font-bold block text-center mt-1",children:b.toUpperCase()})]}),e===xt.STATUS_MENU&&yl(),e===xt.PAUSED&&d.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center z-50 animate-in fade-in zoom-in duration-200",children:d.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl max-w-md w-full border border-gray-600 shadow-2xl",children:[d.jsx("h2",{className:"text-2xl font-black text-yellow-400 text-center mb-6 italic",children:"LEVEL UP!"}),d.jsx("div",{className:"space-y-3",children:hi.map((N,O)=>{const W=Mi[N.icon]||Nr;return d.jsxs("div",{onClick:()=>ds(N),className:`p-4 rounded-xl border-2 cursor-pointer transition-transform hover:scale-105 active:scale-95 flex items-center gap-4 ${N.isEvo?"bg-purple-900/50 border-purple-400":"bg-gray-700 hover:bg-gray-600 border-gray-500"}`,children:[d.jsx("div",{className:`w-14 h-14 rounded-lg flex items-center justify-center ${N.isEvo?"bg-purple-600 text-white shadow-[0_0_15px_#a855f7]":"bg-gray-800 text-gray-300"}`,children:d.jsx(W,{})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("h3",{className:`font-bold ${N.isEvo?"text-purple-300":"text-white"}`,children:N.name}),N.isEvo?d.jsxs("div",{className:"flex items-center gap-1 text-purple-400 text-xs font-black",children:[d.jsx(Lo,{className:"w-3 h-3 fill-current"})," EVO"]}):d.jsxs("div",{className:"flex gap-0.5",children:[Array.from({length:5}).map((j,Q)=>d.jsx("div",{className:`w-2 h-2 rounded-full ${Q<N.currentLevel?"bg-yellow-400":"bg-gray-600"}`},Q)),d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse ml-1"})]})]}),d.jsx("p",{className:"text-xs text-gray-400",children:N.description})]})]},O)})})]})}),e===xt.TREASURE_OPENING&&d.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center z-50 animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl max-w-lg w-full border-2 border-yellow-500 shadow-2xl shadow-yellow-500/20",children:[d.jsxs("div",{className:"flex flex-col items-center mb-6",children:[d.jsx(nv,{className:"w-16 h-16 text-yellow-400 drop-shadow-[0_0_10px_#facc15]"}),d.jsx("h2",{className:"text-3xl font-black text-yellow-300 text-center italic mt-2",children:"TREASURE!"}),d.jsx("p",{className:"text-yellow-500 text-sm",children:"   !"})]}),d.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:pi.map((N,O)=>{const W=Mi[N.icon]||Nr;return d.jsxs("div",{className:"p-3 rounded-xl bg-gray-700 border border-gray-600 flex flex-col items-center gap-2 text-center animate-in zoom-in-50 slide-in-from-bottom-5 duration-500",style:{animationDelay:`${O*100}ms`},children:[d.jsx("div",{className:"w-12 h-12 bg-gray-800 rounded-lg flex items-center justify-center text-gray-300",children:d.jsx(W,{})}),d.jsx("h3",{className:"font-bold text-white text-xs",children:N.name})]},O)})}),d.jsx("button",{onClick:ml,className:"w-full py-3 bg-yellow-600 hover:bg-yellow-500 text-white font-bold rounded-lg transition-colors border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1",children:" "})]})}),d.jsx(z_,{onMove:gl,onStop:Go}),d.jsx(kn,{})]})},q_=({chapterId:n})=>{const e=G.useRef(null);return G.useEffect(()=>{const o=e.current;if(!o)return;const l=o.getContext("2d");if(!l)return;let r;const s=o.width,c=o.height,f=(y,E,w,C)=>{y.fillStyle="#0f172a",y.fillRect(0,0,E,w),y.fillStyle="white";for(let U=0;U<50;U++){const D=(Math.random()*E*2+C*.01)%E,V=Math.random()*w*.6,A=Math.random()*1.5;y.globalAlpha=Math.random(),y.fillRect(D,V,A,A)}y.globalAlpha=1,y.fillStyle="#1e293b",y.beginPath(),y.moveTo(0,w),y.lineTo(E*.2,w*.7),y.lineTo(E*.8,w*.7),y.lineTo(E,w),y.fill(),y.strokeStyle="#f59e0b",y.lineWidth=3,y.setLineDash([20,25]),y.beginPath(),y.moveTo(E*.5,w),y.lineTo(E*.5,w*.7),y.stroke(),y.setLineDash([]),[{x:.05,h:.6,w:.15,c:"#1e293b"},{x:.2,h:.4,w:.2,c:"#334155"},{x:.6,h:.5,w:.1,c:"#1e293b"},{x:.75,h:.7,w:.2,c:"#334155"}].forEach(U=>{y.fillStyle=U.c,y.fillRect(E*U.x,w*.7-w*U.h,E*U.w,w*U.h),y.fillStyle="#f59e0b";for(let D=w*.7-w*U.h+10;D<w*.7-10;D+=15)for(let V=E*U.x+10;V<E*U.x+E*U.w-10;V+=15)Math.random()>.6&&y.fillRect(V,D,5,5)})},p=(y,E,w,C)=>{y.fillStyle="#2a1a1a",y.fillRect(0,0,E,w),y.fillStyle="#4f2a2a",y.fillRect(0,w*.8,E,w*.2),y.fillStyle="#1a0f0f",y.beginPath(),y.moveTo(E*.1,w*.8),y.lineTo(E*.1,w*.3),y.lineTo(E*.3,w*.3),y.lineTo(E*.35,w*.1),y.lineTo(E*.4,w*.1),y.lineTo(E*.45,w*.3),y.lineTo(E*.7,w*.3),y.lineTo(E*.7,w*.8),y.fill(),y.fillStyle="rgba(255, 255, 255, 0.1)";const R=E*.375;for(let D=0;D<5;D++){const V=w*.1-(C*.1+D*20)%100,A=10+(C*.1+D*20)%100*.2;y.beginPath(),y.arc(R,V,A,0,Math.PI*2),y.fill()}y.fillStyle="#3a2a2a";const U=(D,V,A,M)=>{y.beginPath();const L=Math.PI*2/(M*2);for(let I=0;I<M*2;I++){const B=I%2===0?A:A*.8,k=I*L+C*.005;y.lineTo(D+Math.cos(k)*B,V+Math.sin(k)*B)}y.closePath(),y.fill()};U(E*.8,w*.6,40,8),U(E*.9,w*.85,30,6)},h=(y,E,w,C)=>{y.fillStyle="#1a1a2e",y.fillRect(0,0,E,w);const R=[{x:.2,y:.8,s:80,c:"#4a4ae6"},{x:.8,y:.7,s:100,c:"#a262e6"},{x:.5,y:.9,s:50,c:"#62e6e6"},{x:.3,y:.3,s:40,c:"#e662e6"}],U=(D,V,A,M,L)=>{y.save(),y.translate(D,V),y.fillStyle=M,y.globalAlpha=.5+Math.sin(L*.002+D)*.2,y.shadowColor=M,y.shadowBlur=20,y.beginPath(),y.moveTo(0,-A),y.lineTo(A/2,0),y.lineTo(0,A),y.lineTo(-A/2,0),y.closePath(),y.fill(),y.shadowBlur=0,y.globalAlpha=1,y.restore()};R.forEach(D=>{U(E*D.x,w*D.y,D.s,D.c,C)})},g=(y,E,w,C)=>{y.fillStyle="#0c0c0d",y.fillRect(0,0,E,w),y.strokeStyle="#a855f7",y.lineWidth=2,y.shadowColor="#d8b4fe",y.shadowBlur=15;const R=(U,D,V)=>{y.beginPath(),y.moveTo(U,D);let A=D;for(;A<D+V;){const M=A+Math.random()*20+5,L=U+(Math.random()-.5)*30;y.lineTo(L,M),A=M,U=L}y.stroke()};Math.random()>.95&&R(Math.random()*E,0,w),y.fillStyle="#d8b4fe",y.shadowBlur=0;for(let U=0;U<10;U++){const D=Math.random()*E,V=w-(C*.2+U*50)%w;y.globalAlpha=Math.random()*.5,y.fillRect(D,V,2,2)}y.globalAlpha=1};let x=0;const b=()=>{switch(x++,l.clearRect(0,0,s,c),n){case 1:f(l,s,c,x);break;case 2:p(l,s,c,x);break;case 3:h(l,s,c,x);break;case 4:g(l,s,c,x);break;default:f(l,s,c,x);break}r=requestAnimationFrame(b)};return b(),()=>{cancelAnimationFrame(r)}},[n]),d.jsx("canvas",{ref:e,width:500,height:300,className:"max-w-full max-h-full object-contain drop-shadow-[0_10px_15px_rgba(0,0,0,0.5)]"})},yy={"Baseball Bat":{path:"M20,80 C15,85 10,95 15,100 C20,105 30,100 35,95 L80,20 C85,15 95,5 90,0 C85,-5 75,5 70,10 Z M30,80 L40,70 M50,60 L60,50 M25,85 L35,75",viewBox:"0 0 100 100",color:"#8D6E63",accent:"#BDBDBD"},Katana:{path:"M10,90 L20,80 L30,85 L20,95 Z M25,75 Q50,50 90,10 L95,5 L85,15 Q45,55 20,80 Z",viewBox:"0 0 100 100",color:"#E0E0E0",accent:"#212121"},Shotgun:{path:"M10,60 L30,60 L35,50 L90,50 L90,65 L35,65 L30,75 L10,75 Z M40,65 L85,65 M40,55 L85,55",viewBox:"0 0 100 100",color:"#424242",accent:"#8D6E63"},Revolver:{path:"M10,70 L25,70 C30,60 35,60 40,55 L80,55 L80,45 L40,45 L35,35 L20,40 L25,50 L10,70 Z M45,50 A5,5 0 1,0 45,60 A5,5 0 1,0 45,50",viewBox:"0 0 100 100",color:"#B0BEC5",accent:"#5D4037"},Kunai:{path:"M50,10 L65,50 L50,90 L35,50 Z M45,85 L55,85 L55,95 L45,95 Z M50,95 A5,5 0 1,0 50,105 A5,5 0 1,0 50,95",viewBox:"0 0 100 120",color:"#212121",accent:"#E0E0E0"},"Magic Staff":{path:"M45,95 L55,95 L52,30 L48,30 Z M50,10 L35,25 L50,40 L65,25 Z",viewBox:"0 0 100 100",color:"#FFD700",accent:"#9C27B0"},"Emerald Necklace":{path:"M30,30 Q50,70 70,30 M50,70 L40,85 L50,100 L60,85 Z",viewBox:"0 0 100 100",color:"#50C878",accent:"#FFD700"},"Thorn Necklace":{path:"M20,20 Q50,80 80,20 M30,50 L20,60 M70,50 L80,60 M50,75 L50,90 L40,80 L60,80 Z",viewBox:"0 0 100 100",color:"#5D4037",accent:"#8D6E63"},"Metal Necklace":{path:"M25,25 Q50,75 75,25 M45,75 A10,10 0 1,0 55,75 M40,75 L60,75",viewBox:"0 0 100 100",color:"#B0BEC5",accent:"#607D8B"},"Bone Necklace":{path:"M20,20 Q50,70 80,20 M45,70 A5,5 0 1,0 55,70 L52,90 A3,3 0 1,0 48,90 Z",viewBox:"0 0 100 100",color:"#FFF8E1",accent:"#D7CCC8"},"Crystal Talisman":{path:"M30,30 Q50,60 70,30 M50,60 L40,70 L50,95 L60,70 Z",viewBox:"0 0 100 100",color:"#00BCD4",accent:"#E0F7FA"},"Golden Chain":{path:"M20,20 C30,40 40,60 50,80 C60,60 70,40 80,20 M45,80 L55,80 L55,90 L45,90 Z",viewBox:"0 0 100 100",color:"#FFC107",accent:"#FFA000"},"Leather Gloves":{path:"M30,80 L30,40 L40,30 L50,30 L60,40 L70,30 L70,80 Z M30,80 L70,80",viewBox:"0 0 100 100",color:"#795548",accent:"#3E2723"},"Shining Gloves":{path:"M30,85 L25,45 L35,35 L50,25 L65,35 L75,45 L70,85 Z M40,50 L60,50 M50,30 L50,50",viewBox:"0 0 100 100",color:"#FFFFFF",accent:"#E1F5FE"},"Destroyer Gloves":{path:"M25,85 L25,45 L35,35 L50,30 L65,35 L75,45 L75,85 Z M35,45 L30,40 M50,40 L50,35 M65,45 L70,40",viewBox:"0 0 100 100",color:"#212121",accent:"#F44336"},"Military Gloves":{path:"M25,80 L25,50 L40,40 L60,40 L75,50 L75,80 Z M30,60 H70 M30,70 H70",viewBox:"0 0 100 100",color:"#558B2F",accent:"#33691E"},"Ruler's Gloves":{path:"M30,90 L25,50 L40,30 L60,30 L75,50 L70,90 Z M50,50 A10,10 0 1,0 50,70 A10,10 0 1,0 50,50",viewBox:"0 0 100 100",color:"#7B1FA2",accent:"#FFD700"},"Void Gauntlets":{path:"M30,90 L25,40 L40,20 L60,20 L75,40 L70,90 Z M40,50 L60,50 M50,30 L50,90",viewBox:"0 0 100 100",color:"#311B92",accent:"#000000"},"Metal Suit":{path:"M20,20 L80,20 L90,40 L80,90 L20,90 L10,40 Z M40,40 L60,40 L60,60 L40,60 Z",viewBox:"0 0 100 100",color:"#90A4AE",accent:"#37474F"},"Traveler Cloak":{path:"M30,20 L70,20 L80,90 L20,90 Z M40,20 L40,90 M60,20 L60,90",viewBox:"0 0 100 100",color:"#D7CCC8",accent:"#8D6E63"},"Bulletproof Vest":{path:"M25,20 L75,20 L85,40 L80,85 L20,85 L15,40 Z M35,40 H65 M35,55 H65 M35,70 H65",viewBox:"0 0 100 100",color:"#212121",accent:"#424242"},"Military Uniform":{path:"M20,20 L80,20 L90,45 L85,90 L15,90 L10,45 Z M50,20 L50,90 M30,30 H70",viewBox:"0 0 100 100",color:"#33691E",accent:"#1B5E20"},"Shadow Tunic":{path:"M25,20 L75,20 L85,35 L80,90 L20,90 L15,35 Z M50,40 L60,50 L50,60 L40,50 Z",viewBox:"0 0 100 100",color:"#1A237E",accent:"#000000"},"Full Plate":{path:"M15,15 L85,15 L95,40 L80,95 L20,95 L5,40 Z M30,40 L70,40 M50,15 L50,95",viewBox:"0 0 100 100",color:"#CFD8DC",accent:"#B0BEC5"},"Energy Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M40,40 L40,60 M60,40 L60,60 M45,45 H55 V55 H45 Z",viewBox:"0 0 100 100",color:"#2979FF",accent:"#80D8FF"},"Leather Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M30,40 L30,60 M45,42 H55 V58 H45 Z",viewBox:"0 0 100 100",color:"#795548",accent:"#FFD700"},"Fashion Belt":{path:"M10,42 L90,42 L90,58 L10,58 Z M40,35 L50,65 L60,35",viewBox:"0 0 100 100",color:"#F48FB1",accent:"#E91E63"},"Military Belt":{path:"M10,40 L90,40 L90,60 L10,60 Z M20,40 V60 M35,40 V60 M65,40 V60 M80,40 V60",viewBox:"0 0 100 100",color:"#33691E",accent:"#1B5E20"},"Champion Belt":{path:"M5,35 L95,35 L90,65 L10,65 Z M35,35 L35,65 M65,35 L65,65 M50,40 A10,10 0 1,0 50,60 A10,10 0 1,0 50,40",viewBox:"0 0 100 100",color:"#FFC107",accent:"#FF6F00"},"Assassin Sash":{path:"M10,45 L90,45 L85,60 L15,60 Z M40,45 L40,75 M55,45 L50,75",viewBox:"0 0 100 100",color:"#D32F2F",accent:"#B71C1C"},"Military Boots":{path:"M20,90 L20,50 L50,50 L50,80 L80,80 L80,90 Z M25,55 H45 M25,65 H45 M25,75 H45",viewBox:"0 0 100 100",color:"#212121",accent:"#616161"},"Energy Runners":{path:"M15,90 L20,60 L50,55 L85,75 L85,90 Z M30,90 L40,80 L60,80 L70,90",viewBox:"0 0 100 100",color:"#C6FF00",accent:"#76FF03"},"Prosthetic Leg":{path:"M30,90 L30,40 L50,40 L50,90 Z M30,60 H50 M30,75 H50",viewBox:"0 0 100 100",color:"#BDBDBD",accent:"#757575"},"High Boots":{path:"M25,90 L25,30 L50,30 L55,80 L80,80 L80,90 Z M25,30 L50,35",viewBox:"0 0 100 100",color:"#5D4037",accent:"#3E2723"},"Ninja Tabi":{path:"M20,90 L25,60 L50,60 L80,85 L80,90 Z M80,85 L80,60",viewBox:"0 0 100 100",color:"#212121",accent:"#424242"},"Iron Greaves":{path:"M25,90 L20,40 L55,40 L60,80 L85,80 L85,90 Z M30,50 L50,50 M30,70 L55,70",viewBox:"0 0 100 100",color:"#90A4AE",accent:"#546E7A"}},Y_={COMMON:{color:"#9E9E9E",bgGradient:"linear-gradient(135deg, #424242 0%, #212121 100%)",border:"1px solid #616161",boxShadow:"none"},MAGIC:{color:"#66BB6A",bgGradient:"linear-gradient(135deg, #1B5E20 0%, #004D40 100%)",border:"1px solid #4CAF50",boxShadow:"0 0 5px rgba(76, 175, 80, 0.3)"},EXQUISITE:{color:"#42A5F5",bgGradient:"linear-gradient(135deg, #0D47A1 0%, #01579B 100%)",border:"1px solid #2196F3",boxShadow:"0 0 8px rgba(33, 150, 243, 0.4)"},RARE:{color:"#AB47BC",bgGradient:"linear-gradient(135deg, #4A148C 0%, #311B92 100%)",border:"2px solid #9C27B0",boxShadow:"0 0 10px rgba(156, 39, 176, 0.5)"},EXCELLENT:{color:"#FFA726",bgGradient:"linear-gradient(135deg, #E65100 0%, #BF360C 100%)",border:"2px solid #FF9800",boxShadow:"0 0 12px rgba(255, 152, 0, 0.6)",animation:"pulse 2s infinite"},EPIC:{color:"#FF5722",bgGradient:"linear-gradient(135deg, #BF360C 0%, #880E4F 100%)",border:"2px solid #F4511E",boxShadow:"0 0 15px rgba(244, 81, 30, 0.7)",animation:"pulse 1.5s infinite"},LEGEND:{color:"#F44336",bgGradient:"linear-gradient(135deg, #B71C1C 0%, #880E4F 100%)",border:"2px solid #D32F2F",boxShadow:"0 0 20px rgba(211, 47, 47, 0.8)",animation:"breathing 2s infinite alternate"},ETERNAL:{color:"#F50057",bgGradient:"linear-gradient(135deg, #880E4F 0%, #4A148C 100%)",border:"2px solid #C51162",boxShadow:"0 0 25px rgba(245, 0, 87, 0.8), 0 0 10px #FF4081 inset",animation:"pulse 1s infinite"},TRANSCENDENT:{color:"#00E5FF",bgGradient:"linear-gradient(135deg, #006064 0%, #1A237E 100%)",border:"2px solid #00B8D4",boxShadow:"0 0 30px rgba(0, 229, 255, 0.8), 0 0 15px #18FFFF inset",animation:"electric 0.5s infinite alternate"},GOLDEN:{color:"#FFD700",bgGradient:"linear-gradient(135deg, #FF6F00 0%, #FFD700 50%, #FF6F00 100%)",border:"2px solid #FFD700",boxShadow:"0 0 40px rgba(255, 215, 0, 0.9), 0 0 20px #FFF59D inset",animation:"shine 2s infinite linear"},FOREVER:{color:"#FFFFFF",bgGradient:"conic-gradient(from 0deg, #FF0000, #FF7F00, #FFFF00, #00FF00, #0000FF, #4B0082, #9400D3, #FF0000)",border:"3px solid #FFFFFF",boxShadow:"0 0 50px rgba(255, 255, 255, 1), 0 0 30px rgba(255,255,255,0.8) inset",animation:"rotate-bg 3s linear infinite"}},ll=({name:n,rarity:e,size:o="md",className:l="",onClick:r,showName:s=!1,count:c})=>{const f=yy[n]||yy.Kunai,p=Y_[e],h={sm:"w-10 h-10",md:"w-14 h-14 sm:w-16 sm:h-16",lg:"w-20 h-20"},g=["LEGEND","ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"].includes(e),x=["GOLDEN","FOREVER"].includes(e);return d.jsxs("div",{onClick:r,className:`relative rounded-xl flex items-center justify-center transition-transform hover:scale-105 active:scale-95 cursor-pointer overflow-hidden group ${h[o]} ${l}`,style:{background:p.bgGradient,border:p.border,boxShadow:p.boxShadow},children:[e==="GOLDEN"&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent skew-x-12 animate-[shine_2s_infinite]"}),d.jsxs("svg",{viewBox:f.viewBox,className:`w-[70%] h-[70%] z-10 drop-shadow-md transition-all duration-300 group-hover:scale-110 ${p.animation?`animate-${p.animation}`:""}`,style:{filter:g?"drop-shadow(0 0 5px rgba(255,255,255,0.5))":"none"},children:[d.jsx("path",{d:f.path,fill:f.color,stroke:g?"#FFF":"#000",strokeWidth:g?.5:1}),d.jsx("path",{d:f.path,fill:"none",stroke:f.accent,strokeWidth:2,opacity:.6})]}),g&&d.jsx(ul,{className:"absolute top-1 right-1 w-3 h-3 text-white animate-spin-slow opacity-80"}),x&&d.jsx(hd,{className:"absolute bottom-1 w-4 h-4 text-white fill-current animate-bounce"}),c&&c>1&&d.jsxs("div",{className:"absolute top-0 right-0 bg-black/60 text-white text-[10px] font-bold px-1.5 rounded-bl-lg backdrop-blur-sm border-l border-b border-white/20",children:["x",c]}),d.jsx("div",{className:"absolute top-1 left-1 w-2 h-2 rounded-full shadow-sm",style:{backgroundColor:p.color}}),s&&d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 backdrop-blur-[2px] text-center py-0.5",children:d.jsx("span",{className:"text-[9px] text-white font-bold tracking-tight px-1 block truncate",style:{color:p.color},children:n})}),d.jsx("style",{children:`
        @keyframes shine {
          0% { transform: translateX(-150%) skewX(-12deg); }
          50%, 100% { transform: translateX(150%) skewX(-12deg); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.05); opacity: 0.9; }
        }
        @keyframes breathing {
          0% { box-shadow: 0 0 10px ${p.color}; }
          100% { box-shadow: 0 0 25px ${p.color}; }
        }
        @keyframes rotate-bg {
          0% { filter: hue-rotate(0deg); }
          100% { filter: hue-rotate(360deg); }
        }
        @keyframes electric {
          0% { opacity: 0.8; }
          100% { opacity: 1; filter: brightness(1.5); }
        }
      `})]})},$_=n=>{const o={WEAPON:["Baseball Bat","Katana","Shotgun","Revolver","Kunai","Magic Staff"],NECKLACE:["Emerald Necklace","Thorn Necklace","Metal Necklace","Bone Necklace","Crystal Talisman","Golden Chain"],GLOVES:["Leather Gloves","Shining Gloves","Destroyer Gloves","Military Gloves","Ruler's Gloves","Void Gauntlets"],SUIT:["Metal Suit","Traveler Cloak","Bulletproof Vest","Military Uniform","Shadow Tunic","Full Plate"],BELT:["Energy Belt","Leather Belt","Fashion Belt","Military Belt","Champion Belt","Assassin Sash"],BOOTS:["Military Boots","Energy Runners","Prosthetic Leg","High Boots","Ninja Tabi","Iron Greaves"]}[n]||[];return o[Math.floor(Math.random()*o.length)]||"Unknown"},vy=({skinId:n})=>{const e=ko.find(l=>l.id===n)||ko[0],o=()=>{const l=e.effectType;return l==="FIRE"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-orange-500 blur-[60px] opacity-40 animate-pulse"}),d.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center animate-[bounce_3s_infinite]",children:[d.jsx(Zy,{className:"w-full h-full text-orange-500 fill-yellow-500 drop-shadow-[0_0_25px_rgba(234,88,12,0.8)] filter contrast-125",strokeWidth:1}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-20 h-20 bg-yellow-200 rounded-full blur-xl opacity-50 animate-pulse"})})]}),d.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping"}),d.jsx("div",{className:"absolute bottom-10 left-0 w-2 h-2 bg-red-500 rounded-full animate-ping delay-150"}),d.jsx("div",{className:"absolute inset-[-20px] border-t-4 border-orange-600 rounded-full animate-[spin_3s_linear_infinite] opacity-60"})]}):l==="ICE"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cyan-400 blur-[50px] opacity-30"}),d.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[d.jsx(Rm,{className:"w-full h-full text-cyan-200 drop-shadow-[0_0_20px_rgba(34,211,238,0.8)] animate-[spin_10s_linear_infinite]",strokeWidth:1}),d.jsx(Rm,{className:"absolute w-20 h-20 text-white opacity-80 animate-[spin_5s_linear_infinite_reverse]",strokeWidth:2})]}),d.jsx("div",{className:"absolute inset-[-10px] border-2 border-cyan-300 rounded-full opacity-40 animate-pulse"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[140%] h-[2px] bg-gradient-to-r from-transparent via-cyan-200 to-transparent rotate-45"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[140%] h-[2px] bg-gradient-to-r from-transparent via-cyan-200 to-transparent -rotate-45"})]}):l==="VOID"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-purple-900 blur-[60px] opacity-50"}),d.jsxs("div",{className:"relative z-10 w-36 h-36 bg-black rounded-full flex items-center justify-center shadow-[0_0_50px_#7c3aed] border-4 border-purple-800 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[conic-gradient(from_0deg,transparent_0_340deg,white_360deg)] opacity-20 animate-[spin_4s_linear_infinite]"}),d.jsx(Jy,{className:"w-24 h-24 text-purple-500 animate-[spin_8s_linear_infinite]",strokeWidth:1}),d.jsx("div",{className:"absolute w-10 h-10 bg-black rounded-full shadow-[0_0_20px_#000]"})]}),d.jsx("div",{className:"absolute inset-[-30px] border border-purple-500/30 rounded-full animate-ping"})]}):l==="MECHA"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-[40px] opacity-20"}),d.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center",children:[d.jsx(Wy,{className:"w-full h-full text-blue-400 drop-shadow-[0_0_10px_#3b82f6] animate-[spin_20s_linear_infinite]",strokeWidth:.5}),d.jsx("div",{className:"absolute inset-0 border-4 border-dashed border-blue-300 rounded-full animate-[spin_10s_linear_infinite_reverse] opacity-50"}),d.jsx("div",{className:"absolute inset-[20%] border-2 border-cyan-400 rounded-lg animate-pulse"}),d.jsx(iu,{className:"absolute w-16 h-16 text-white fill-blue-900/50"})]}),d.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",children:d.jsx("div",{className:"w-full h-1 bg-cyan-400 blur-sm animate-[ping_2s_infinite]"})})]}):l==="GHOST"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-green-500 blur-[50px] opacity-30"}),d.jsx("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center animate-[bounce_2s_infinite]",children:d.jsx(tv,{className:"w-full h-full text-green-400 fill-green-900/50 drop-shadow-[0_0_15px_#4ade80]",strokeWidth:1.5})}),d.jsx("div",{className:"absolute bottom-0 w-24 h-4 bg-green-500/50 blur-lg rounded-[100%] animate-pulse"}),d.jsx("div",{className:"absolute -top-4 -right-4 w-4 h-4 bg-green-300 rounded-full animate-ping"})]}):l==="GOLD"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-yellow-500 blur-[50px] opacity-40"}),d.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 border-[6px] border-yellow-300 rounded-full border-t-transparent animate-[spin_2s_linear_infinite]"}),d.jsx(hd,{className:"w-24 h-24 text-yellow-300 fill-yellow-500 drop-shadow-[0_0_20px_#facc15]",strokeWidth:2})]}),d.jsx(ul,{className:"absolute top-0 right-0 w-8 h-8 text-yellow-100 animate-pulse"}),d.jsx(ul,{className:"absolute bottom-0 left-0 w-6 h-6 text-yellow-200 animate-pulse delay-75"})]}):l==="BLOOD"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-red-900 blur-[60px] opacity-60"}),d.jsxs("div",{className:"relative z-10 w-40 h-40 flex items-center justify-center",children:[d.jsx(al,{className:"w-32 h-32 text-red-600 fill-red-900 rotate-45 drop-shadow-[0_0_15px_#dc2626]",strokeWidth:1}),d.jsx(al,{className:"absolute w-32 h-32 text-red-600 fill-red-900 -rotate-45 drop-shadow-[0_0_15px_#dc2626] opacity-70",strokeWidth:1})]}),d.jsx("div",{className:"absolute inset-0 border-2 border-red-500 rounded-full animate-ping opacity-30"})]}):l==="LIGHTNING"?null:l==="PIXEL"?d.jsxs("div",{className:"relative flex items-center justify-center group",children:[d.jsx("div",{className:"absolute inset-0 bg-pink-500 blur-[40px] opacity-30"}),d.jsxs("div",{className:"relative z-10 w-32 h-32 bg-gray-900 border-4 border-cyan-400 flex items-center justify-center shadow-[5px_5px_0px_#ec4899]",children:[d.jsx(fa,{className:"w-20 h-20 text-cyan-400"}),d.jsx("div",{className:"absolute inset-0 bg-scanline opacity-10 pointer-events-none"})]}),d.jsx("div",{className:"absolute -top-4 -left-4 w-4 h-4 bg-yellow-400 animate-bounce"}),d.jsx("div",{className:"absolute -bottom-4 -right-4 w-4 h-4 bg-green-400 animate-bounce delay-75"})]}):l==="TOXIC"?d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-lime-500 blur-[50px] opacity-40"}),d.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center animate-[pulse_3s_infinite]",children:[d.jsx("div",{className:"absolute inset-0 bg-lime-900/50 rounded-full blur-md"}),d.jsx(md,{className:"w-24 h-24 text-lime-400 drop-shadow-[0_0_15px_#a3e635]"})]}),d.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:d.jsx("div",{className:"w-40 h-40 border-4 border-dotted border-lime-600 rounded-full animate-[spin_10s_linear_infinite]"})}),d.jsx("div",{className:"absolute top-0 w-3 h-3 bg-lime-300 rounded-full animate-ping"})]}):d.jsxs("div",{className:"relative flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-[40px] opacity-30"}),d.jsxs("div",{className:"relative z-10 w-36 h-36 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-800 rounded-full border-4 border-gray-600"}),d.jsx(fa,{className:"relative z-10 w-24 h-24 text-gray-300"})]})]})};return d.jsxs("div",{className:"relative w-48 h-48 sm:w-64 sm:h-64 flex items-center justify-center transition-all duration-300",children:[o(),d.jsx("div",{className:`absolute -bottom-4 px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-wider shadow-lg transform translate-y-2 border z-20 ${e.rarity==="MYTHIC"?"bg-purple-900 text-purple-100 border-purple-500 shadow-purple-500/50":e.rarity==="LEGENDARY"?"bg-red-900 text-red-100 border-red-500 shadow-red-500/50":e.rarity==="EPIC"?"bg-yellow-900 text-yellow-100 border-yellow-500 shadow-yellow-500/50":"bg-gray-800 text-gray-300 border-gray-600"}`,children:e.name})]})},J_=({slotType:n,item:e,onUnequip:o})=>{let l=sl;return n==="WEAPON"&&(l=al),n==="NECKLACE"&&(l=Wi),n==="GLOVES"&&(l=GT),n==="SUIT"&&(l=Hf),n==="BELT"&&(l=iu),n==="BOOTS"&&(l=ev),e?d.jsx(ll,{name:e.name,rarity:e.rarity,size:"md",onClick:()=>o(n),showName:!0}):d.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-xl border-2 border-gray-700 bg-gray-800/50 flex items-center justify-center shadow-inner",children:d.jsx(l,{className:"w-6 h-6 text-gray-600"})})},Dr=({item:n,onClick:e,isSelected:o})=>d.jsxs("div",{className:"relative",onClick:e,children:[d.jsx(ll,{name:n.name,rarity:n.rarity,size:"md"}),o&&d.jsx("div",{className:"absolute inset-0 border-2 border-red-500 rounded-xl bg-red-500/20 z-20 flex items-center justify-center",children:d.jsx($r,{className:"w-6 h-6 text-red-500 fill-white"})})]}),X_=({currentUser:n,keys:e,gold:o,gems:l,onAddCurrency:r})=>n?d.jsxs("div",{className:"p-3 flex justify-between items-center bg-gray-800 flex-shrink-0 border-b border-gray-700/50 shadow-md z-30 relative",children:[d.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-xl flex items-center gap-2 border border-gray-600",children:[d.jsx(fa,{className:"w-6 h-6 text-blue-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-sm text-white",children:n.username}),d.jsxs("div",{className:"text-[10px] text-gray-400",children:["LV.",n.accountLevel," Survivor"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[d.jsx(ov,{className:"w-4 h-4 text-purple-400"}),d.jsx("span",{className:"font-bold text-sm text-white",children:e})]}),d.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[d.jsx(aa,{className:"w-4 h-4 text-yellow-400"}),d.jsx("span",{className:"font-bold text-sm text-white",children:o.toLocaleString()}),d.jsx("button",{onClick:r,className:"w-4 h-4 bg-green-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-green-400",children:"+"})]}),d.jsxs("div",{className:"bg-gray-900/80 px-3 py-1.5 rounded-lg flex items-center gap-1.5 border border-gray-600",children:[d.jsx(Wi,{className:"w-4 h-4 text-green-400"}),d.jsx("span",{className:"font-bold text-sm text-white",children:l.toLocaleString()}),d.jsx("button",{onClick:r,className:"w-4 h-4 bg-green-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-green-400",children:"+"})]})]})]}):null,K_=()=>{var N;const[n,e]=G.useState(null),[o,l]=G.useState(xt.MENU),[r,s]=G.useState("HOME"),[c,f]=G.useState(0),[p,h]=G.useState("NONE"),[g,x]=G.useState(1),[b,y]=G.useState(1),[E,w]=G.useState(5e4),[C,R]=G.useState(1250),[U,D]=G.useState(3),[V,A]=G.useState([]),[M,L]=G.useState(1),[I,B]=G.useState(0),[k,q]=G.useState(null),P=G.useRef(null),[H,K]=G.useState([]),[J,Y]=G.useState(new Set),[Z,ie]=G.useState(!1),[de,se]=G.useState(null),[z,$]=G.useState(null),[ee,he]=G.useState(["skin_default"]),[Se,ce]=G.useState("skin_default"),[pe,ge]=G.useState({WEAPON:{id:"init_w",type:"WEAPON",rarity:"COMMON",name:"Kunai"},NECKLACE:null,GLOVES:null,SUIT:{id:"init_s",type:"SUIT",rarity:"COMMON",name:"Traveler Cloak"},BELT:null,BOOTS:null}),[we,Ue]=G.useState(100),[_e,be]=G.useState(null),Re=20,Le=G.useRef(null);G.useEffect(()=>{const O=()=>{if(!Le.current)try{Le.current=new(window.AudioContext||window.webkitAudioContext)}catch{console.error("Web Audio API is not supported")}Le.current&&Le.current.state==="suspended"&&Le.current.resume(),window.removeEventListener("click",O),window.removeEventListener("touchstart",O)};return window.addEventListener("click",O),window.addEventListener("touchstart",O),()=>{window.removeEventListener("click",O),window.removeEventListener("touchstart",O),Le.current&&Le.current.state!=="closed"&&(Le.current.close().catch(console.error),Le.current=null)}},[]);const Oe=O=>{$(O),setTimeout(()=>$(null),3e3)},Pe=O=>{if(!Le.current)return;const W=Le.current,j=W.currentTime;switch(O){case"click":{const Q=W.createOscillator(),ae=W.createGain();Q.type="sine",Q.frequency.setValueAtTime(440,j),ae.gain.setValueAtTime(.2,j),ae.gain.exponentialRampToValueAtTime(.01,j+.1),Q.connect(ae).connect(W.destination),Q.start(j),Q.stop(j+.1);break}case"purchase":{const Q=W.createOscillator(),ae=W.createGain();Q.type="sine",Q.frequency.setValueAtTime(1046,j),ae.gain.setValueAtTime(.2,j),ae.gain.exponentialRampToValueAtTime(.01,j+.1),Q.connect(ae).connect(W.destination),Q.start(j),Q.stop(j+.1);break}case"free_claim":{[523,659,783].forEach((Q,ae)=>{const X=W.createOscillator(),le=W.createGain();X.type="sine",X.frequency.setValueAtTime(Q,j+ae*.08),le.gain.setValueAtTime(.2,j+ae*.08),le.gain.exponentialRampToValueAtTime(.01,j+.3),X.connect(le).connect(W.destination),X.start(j+ae*.08),X.stop(j+.3)});break}}};G.useEffect(()=>{const O=JSON.parse(localStorage.getItem("survivor_users")||"{}"),W="Player";let j=O[W];j||(j={username:W,highScore:0,gold:5e3,gems:300,keys:1,accountLevel:1,accountXp:0,gachaLevel:1,gachaXp:0,inventory:[],equipped:{WEAPON:{id:"init_w",type:"WEAPON",rarity:"COMMON",name:"Kunai"},NECKLACE:null,GLOVES:null,SUIT:{id:"init_s",type:"SUIT",rarity:"COMMON",name:"Traveler Cloak"},BELT:null,BOOTS:null},ownedSkins:["skin_default"],equippedSkinId:"skin_default",purchasedDaily:[],unlockedChapter:1},O[W]=j,localStorage.setItem("survivor_users",JSON.stringify(O))),yt(j)},[]);const yt=O=>{e(O),w(O.gold),R(O.gems),D(O.keys),K(O.inventory),ge(O.equipped),he(O.ownedSkins),ce(O.equippedSkinId),A(O.purchasedDaily||[]),L(O.gachaLevel||1),B(O.gachaXp||0),y(O.unlockedChapter||1),x(O.unlockedChapter||1)},rn=()=>{if(!n)return;const O={...n,gold:E,gems:C,keys:U,inventory:H,equipped:pe,ownedSkins:ee,equippedSkinId:Se,purchasedDaily:V,gachaLevel:M,gachaXp:I,unlockedChapter:b},W=JSON.parse(localStorage.getItem("survivor_users")||"{}");W[n.username]=O,localStorage.setItem("survivor_users",JSON.stringify(W)),e(O)},Vt=G.useRef(!0);G.useEffect(()=>{if(Vt.current){Vt.current=!1;return}const O=setTimeout(()=>{rn()},1e3);return()=>{clearTimeout(O)}},[E,C,U,H,pe,ee,Se,V,M,I,b,n]);const hi=()=>{let O=1250,W=5400;const j={WEAPON:{atk:300,hp:0},NECKLACE:{atk:150,hp:150},GLOVES:{atk:250,hp:0},SUIT:{atk:0,hp:1e3},BELT:{atk:0,hp:600},BOOTS:{atk:0,hp:400}},Q={COMMON:1,MAGIC:2,EXQUISITE:4,RARE:8,EXCELLENT:15,EPIC:25,LEGEND:50,ETERNAL:100,TRANSCENDENT:200,GOLDEN:500,FOREVER:1e3};return Object.values(pe).forEach(ae=>{if(!ae)return;const X=j[ae.type],le=Q[ae.rarity];O+=X.atk*le,W+=X.hp*le}),{totalAttack:Math.floor(O),totalHp:Math.floor(W)}},{totalAttack:_n,totalHp:pi}=hi(),Ci=()=>{l(xt.PLAYING)},Rt=(O,W=!1,j=1)=>{f(O),l(W?xt.VICTORY:xt.GAME_OVER);const Q=j*50,ae=1+(g-1)*.5,X=Math.floor((Math.floor(O/10)+Q+(W?5e3+g*5e3:0))*ae);w(Ee=>Ee+X);const le=W?20+g*10:0;if(le>0&&R(Ee=>Ee+le),W){const Ee=g+1;Ee>b&&la.find(Ce=>Ce.id===Ee)&&y(Ee)}if(n){const Ee=Math.max(n.highScore,O),Ce=Math.floor(O/50);let Ne=n.accountLevel||1,Je=(n.accountXp||0)+Ce,ze=Ne*1e3;for(;Je>=ze;)Je-=ze,Ne++,ze=Ne*1e3;e(tt=>tt?{...tt,highScore:Ee,accountLevel:Ne,accountXp:Je}:null)}},jt=()=>{l(xt.MENU),s("HOME"),x(b),rn()},Rn=O=>{w(W=>W+O)},io=()=>{confirm("  ?")&&(localStorage.removeItem("survivor_users"),location.reload())},Xn=(O,W)=>{const j=["WEAPON","NECKLACE","GLOVES","SUIT","BELT","BOOTS"],Q=j[Math.floor(Math.random()*j.length)];let ae="COMMON";if(W)ae=W;else{const le=(O-1)*.002,Ee=Math.random();Ee>.999?ae="LEGEND":Ee>.99?ae="EPIC":Ee>.97?ae="EXCELLENT":Ee>.9-le?ae="RARE":Ee>.75-le*2?ae="EXQUISITE":Ee>.5-le*3?ae="MAGIC":ae="COMMON"}const X=$_(Q);return{id:Math.random().toString(36).substr(2,9),type:Q,rarity:ae,name:X}},Kn=O=>{K(W=>[O,...W])},Ht=O=>{const W=Lr.indexOf(O);return W>-1&&W<Lr.length-1?Lr[W+1]:null},Ni=O=>{const W=["TRANSCENDENT","GOLDEN"],j=["EPIC","LEGEND","ETERNAL"];return W.includes(O)?7:j.includes(O)?5:3},St=(O,W,j,Q)=>{if(Pe("click"),V.includes(O))return;const ae=()=>{if(A(X=>[...X,O]),O.includes("equip")||O.includes("scroll")||O.includes("design")||O.includes("blueprint")){const X=Xn(M,"COMMON");Kn(X),Oe(`${Q}  !`)}else Oe(`${Q}  !`)};if(W==="FREE"){w(X=>X+j),Pe("free_claim"),ae();return}W==="GOLD"?E>=j?(w(X=>X-j),Pe("purchase"),ae()):alert(" !"):W==="GEM"&&(C>=j?(R(X=>X-j),Pe("purchase"),ae()):alert(" !"))},Bt=(O,W,j=1)=>{Pe("click"),P.current={type:O,costPerUnit:W,count:j};let Q=[];const ae=W*j;if(O==="GEM"){if(C<ae){alert(" !");return}R(Ne=>Ne-ae)}else{if(U<ae){alert(" !");return}D(Ne=>Ne-ae)}Pe("purchase");for(let Ne=0;Ne<j;Ne++)Q.push(Xn(M));const X=j*10;let le=I+X,Ee=M,Ce=Ee*50+100;for(;le>=Ce;)le-=Ce,Ee++,Ce=Ee*50+100;L(Ee),B(le),K(Ne=>[...Q,...Ne]),q(Q)},bt=()=>{Pe("click");const O=we,W=Math.floor(O/Re);if(O<2e3){alert(" 2,000 (100 )  .");return}be({gems:W,price:` ${O.toLocaleString()}`})},In=(O,W)=>{Pe("click"),be({gems:O,price:W})},qt=()=>{_e&&(Pe("purchase"),R(O=>O+_e.gems),Oe(`${_e.gems.toLocaleString()}   !`),be(null))},rs=O=>{Pe("click"),E>=O.price?(w(W=>W-O.price),he(W=>[...W,O.id]),Pe("purchase"),Oe(`${O.name}  !`)):alert(" .")},us=O=>{Pe("click"),ce(O)},cs=O=>{Pe("click");const W=O.type,j=pe[W],Q=H.filter(ae=>ae.id!==O.id);j&&Q.push(j),K(Q),ge(ae=>({...ae,[W]:O}))},Wn=O=>{Pe("click");const W=pe[O];W&&(ge(j=>({...j,[O]:null})),K(j=>[W,...j]))},oo=()=>{Pe("click");const O=[...H,...Object.values(pe).filter(le=>le!==null)],W=["WEAPON","NECKLACE","GLOVES","SUIT","BELT","BOOTS"],j={...pe},Q=[],ae=new Set,X=le=>({FOREVER:11,GOLDEN:10,TRANSCENDENT:9,ETERNAL:8,LEGEND:7,EPIC:6,EXCELLENT:5,RARE:4,EXQUISITE:3,MAGIC:2,COMMON:1})[le.rarity]*1e3;W.forEach(le=>{const Ee=O.filter(Ce=>Ce.type===le);if(Ee.length>0){Ee.sort((Ne,Je)=>X(Je)-X(Ne));const Ce=Ee[0];j[le]=Ce,ae.add(Ce.id)}else j[le]=null}),O.forEach(le=>{ae.has(le.id)||Q.push(le)}),ge(j),K(Q)},Ai=O=>{const W={};return O.forEach(j=>{const Q=`${j.name}|${j.rarity}|${j.type}`;W[Q]||(W[Q]=[]),W[Q].push(j)}),W},Qn=()=>{Pe("click");let O=[],W=!1;K(j=>{let Q=[...j],ae=!0;for(;ae;){ae=!1;const X=Ai(Q);let le=[],Ee=new Set,Ce=[];Object.values(X).forEach(Ne=>{const Je=Ne[0],{name:ze,rarity:tt,type:yn}=Je,Me=Ni(tt);if(Ne.length<Me)return;const Fe=Ht(tt);if(!Fe)return;ae=!0,W=!0;const it=Math.floor(Ne.length/Me);Ne.slice(0,it*Me).forEach(Kt=>Ee.add(Kt.id));const nn={id:"",type:yn,name:ze,rarity:Fe};for(let Kt=0;Kt<it;Kt++)le.push({...nn,id:Math.random().toString(36).substr(2,9)});Ce.push({from:Je,to:nn,count:it})}),ae&&(Q=[...Q.filter(Ne=>!Ee.has(Ne.id)),...le],O.push(...Ce))}return Q}),W?(Pe("purchase"),se(O)):alert("   .")},mi=O=>({COMMON:100,MAGIC:200,EXQUISITE:400,RARE:800,EXCELLENT:2e3,EPIC:5e3,LEGEND:15e3,ETERNAL:5e4,TRANSCENDENT:15e4,GOLDEN:5e5,FOREVER:15e5})[O.rarity]||0,Zn=()=>{Pe("purchase");const O=H.filter(j=>J.has(j.id));if(O.length===0){ie(!1);return}const W=O.reduce((j,Q)=>j+mi(Q),0);K(j=>j.filter(Q=>!J.has(Q.id))),w(j=>j+W),Oe(`${O.length}   ! +${W.toLocaleString()} `),Y(new Set),ie(!1),h("NONE")},fs=()=>de?d.jsxs("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-in fade-in zoom-in duration-300",children:[" ",d.jsxs("div",{className:"w-full max-w-lg flex flex-col items-center bg-[#1F2937] rounded-2xl border border-gray-600 shadow-2xl overflow-hidden max-h-[90vh]",children:[" ",d.jsx("h2",{className:"text-2xl font-black text-white p-4 drop-shadow-lg w-full text-center border-b border-gray-700",children:"   "})," ",d.jsxs("div",{className:"flex-1 w-full overflow-y-auto custom-scrollbar p-4 space-y-3",children:[" ",de.map((O,W)=>d.jsxs("div",{className:"bg-gray-800/50 p-3 rounded-xl flex items-center justify-between gap-2",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(ll,{name:O.from.name,rarity:O.from.rarity,size:"sm"})," ",d.jsx("div",{className:"font-bold text-sm text-gray-300",children:O.from.name})," "]})," ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(Vr,{className:"w-5 h-5 text-green-500"})," ",d.jsxs("div",{className:"bg-green-600 text-white font-bold text-xs px-2 py-1 rounded-full",children:[" x",O.count," "]})," ",d.jsx(ll,{name:O.to.name,rarity:O.to.rarity,size:"sm"})," "]})," "]},W))," "]})," ",d.jsxs("div",{className:"p-4 bg-gray-800/50 w-full border-t border-gray-700",children:[" ",d.jsx("button",{onClick:()=>{Pe("click"),se(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white text-lg font-bold py-3 rounded-xl shadow-lg border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all",children:"  "})," "]})," "]})," "]}):null,pl=()=>{var O,W,j;return d.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in zoom-in duration-200",children:[" ",d.jsxs("div",{className:"bg-[#1F2937] w-full max-w-md rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col h-[80vh]",children:[" ",d.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(Hf,{className:"w-5 h-5 text-purple-400"})," ",d.jsx("h2",{className:"font-bold text-lg text-white",children:""})," "]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",d.jsx(rl,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",d.jsxs("div",{className:"p-6 flex flex-col items-center justify-center bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] border-b border-gray-700 relative overflow-hidden h-64",children:[" ",d.jsx("div",{className:`absolute inset-0 opacity-20 ${((O=ko.find(Q=>Q.id===Se))==null?void 0:O.rarity)==="MYTHIC"?"bg-yellow-500 animate-pulse":((W=ko.find(Q=>Q.id===Se))==null?void 0:W.rarity)==="LEGENDARY"?"bg-red-500 animate-pulse":"bg-transparent"}`})," ",d.jsx(vy,{skinId:Se})," ",d.jsx("h3",{className:"text-xl font-bold mt-4 text-white z-10",children:(j=ko.find(Q=>Q.id===Se))==null?void 0:j.name})," "]})," ",d.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1 bg-gray-900",children:[" ",d.jsxs("div",{className:"space-y-3",children:[" ",ko.map(Q=>d.jsxs("div",{className:`p-3 rounded-xl border flex flex-col gap-2 transition-all ${Se===Q.id?"ring-2 ring-green-500 bg-gray-800":"bg-gray-700 border-gray-600"}`,children:[" ",d.jsxs("div",{className:"flex items-center justify-between",children:[" ",d.jsxs("div",{className:"flex items-center gap-4",children:[" ",d.jsxs("div",{className:"w-12 h-12 rounded-lg bg-black/40 flex items-center justify-center border border-gray-600 relative overflow-hidden",children:[" ",d.jsx(fa,{className:"w-8 h-8 relative z-10",style:{color:Q.primaryColor}})," "]})," ",d.jsxs("div",{children:[" ",d.jsx("h4",{className:"font-bold text-gray-100",children:Q.name})," ",d.jsx("span",{className:"text-[9px] px-1.5 rounded font-bold uppercase bg-black/30 text-gray-400",children:Q.rarity})," "]})," "]})," ",ee.includes(Q.id)?d.jsx("button",{onClick:()=>us(Q.id),disabled:Se===Q.id,className:`px-3 py-1.5 rounded-lg text-xs font-bold whitespace-nowrap ${Se===Q.id?"bg-green-600 text-white cursor-default":"bg-gray-600 hover:bg-gray-500 text-white"}`,children:Se===Q.id?" ":""}):d.jsxs("button",{onClick:()=>rs(Q),className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-yellow-600 hover:bg-yellow-500 text-white flex items-center gap-1",children:[d.jsx(aa,{className:"w-3 h-3"}),Q.price.toLocaleString()]})," "]})," ",d.jsx("p",{className:"text-[10px] text-gray-400 italic px-1",children:Q.description})," "]},Q.id))," "]})," "]})," "]})," "]})},Uo=()=>{const O=Ai(H),W=Object.keys(O).filter(j=>{const Q=O[j],{rarity:ae}=Q[0],X=Ni(ae);return!(Q.length<X||ae==="FOREVER")});return d.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",d.jsxs("div",{className:"bg-[#1F2937] w-full max-w-sm rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[" ",d.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(bf,{className:"w-5 h-5 text-yellow-400"})," ",d.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",d.jsx(rl,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",d.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1",children:[" ",W.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500 gap-2",children:[" ",d.jsx(sl,{className:"w-12 h-16 opacity-20"})," ",d.jsx("p",{children:"   ."})," "]}):d.jsxs("div",{className:"space-y-3",children:[" ",W.map(j=>{const Q=O[j][0],ae=Ht(Q.rarity);if(!ae)return null;const X={...Q,rarity:ae},le=Ni(Q.rarity);return d.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-xl border border-gray-700 flex items-center justify-between",children:[" ",d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[" ",d.jsx(ll,{name:Q.name,rarity:Q.rarity,size:"sm"})," ",d.jsxs("div",{className:"flex flex-col",children:[" ",d.jsx("span",{className:"font-bold text-gray-200 text-sm truncate",children:Q.name})," ",d.jsxs("span",{className:"text-gray-400 text-xs",children:["x ",le]})," "]})," "]})," ",d.jsx(Vr,{className:"w-6 h-6 text-green-500 mx-2 shrink-0"})," ",d.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[" ",d.jsxs("div",{className:"flex flex-col text-right",children:[" ",d.jsx("span",{className:"font-bold text-white text-sm truncate",children:X.name})," ",d.jsx("span",{className:"text-green-400 text-xs",children:" !"})," "]})," ",d.jsx(ll,{name:X.name,rarity:X.rarity,size:"sm"})," "]})," "]},j)})," "]})," "]})," ",d.jsxs("div",{className:"p-4 bg-gray-800 border-t border-gray-700",children:[" ",d.jsxs("button",{onClick:Qn,disabled:W.length===0,className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all ${W.length===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-yellow-600 hover:bg-yellow-500 text-white border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1"}`,children:[" ",d.jsx(bf,{className:"w-4 h-4"}),"   "]})," "]})," "]})," "]})},gi=()=>{const O=Object.values(pe),W=new Set(O.filter(Ne=>Ne!==null).map(Ne=>Ne.id)),j=["ETERNAL","TRANSCENDENT","GOLDEN","FOREVER"],Q=H.filter(Ne=>!W.has(Ne.id)&&!j.includes(Ne.rarity)),ae=Ne=>{ie(!1),Y(Je=>{const ze=new Set(Je);return ze.has(Ne)?ze.delete(Ne):ze.add(Ne),ze})},X=Ne=>{Pe("click"),ie(!1);const Je=Q.filter(ze=>ze.rarity===Ne).map(ze=>ze.id);Y(ze=>new Set([...ze,...Je]))},le=()=>{Pe("click"),ie(!1),J.size>=Q.length&&Q.length>0?Y(new Set):Y(new Set(Q.map(Ne=>Ne.id)))},Ee=Array.from(J).reduce((Ne,Je)=>{const ze=H.find(tt=>tt.id===Je);return Ne+(ze?mi(ze):0)},0),Ce=J.size>=Q.length&&Q.length>0;return d.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",d.jsxs("div",{className:"bg-[#181f2a] w-full max-w-lg rounded-2xl border border-gray-700 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[" ",d.jsxs("div",{className:"p-4 bg-gray-800/20 border-b border-gray-700/50 flex justify-between items-center flex-shrink-0",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(Xl,{className:"w-5 h-5 text-red-400"})," ",d.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("NONE"),Y(new Set),ie(!1)},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",d.jsx(rl,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",d.jsx("div",{className:"p-2 bg-red-900/80 text-center text-sm text-red-200 flex-shrink-0",children:" :     . "})," ",d.jsxs("div",{className:"p-2 flex-shrink-0 border-b border-gray-700/50 flex items-center gap-2",children:[" ",d.jsx("span",{className:"text-xs text-gray-400",children:" :"})," ",["COMMON","MAGIC","EXQUISITE","RARE"].map(Ne=>d.jsxs("button",{onClick:()=>X(Ne),className:"text-xs font-bold px-2 py-1 rounded border",style:{color:{COMMON:"#a0aec0",MAGIC:"#4ade80",EXQUISITE:"#60a5fa",RARE:"#a78bfa"}[Ne],borderColor:{COMMON:"#a0aec0",MAGIC:"#4ade80",EXQUISITE:"#60a5fa",RARE:"#a78bfa"}[Ne]},children:[" ",Ne," "]},Ne))," "]})," ",d.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[" ",Q.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2",children:[" ",d.jsx(sl,{className:"w-16 h-16 opacity-20"})," ",d.jsx("p",{className:"font-bold",children:"  ."})," "]}):d.jsxs("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 lg:grid-cols-8 gap-2",children:[" ",Q.map(Ne=>d.jsx(Dr,{item:Ne,onClick:()=>ae(Ne.id),isSelected:J.has(Ne.id)},Ne.id))," "]})," "]})," ",d.jsxs("div",{className:"p-4 bg-gray-800/30 border-t border-gray-700/50 flex-shrink-0",children:[" ",d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[" ",d.jsxs("div",{className:"text-sm text-gray-400",children:[" ",J.size>0?d.jsxs("span",{className:"text-white font-bold",children:[J.size," "]}):d.jsx("span",{children:" "})," "]})," ",d.jsxs("button",{onClick:le,className:"text-xs font-bold text-gray-300 hover:text-white bg-gray-700 hover:bg-gray-600 px-3 py-1.5 rounded-lg transition-colors border border-gray-600",children:[" ",Ce?" ":" "," "]})," "]})," ",Z?d.jsxs("div",{className:"flex flex-col gap-3 animate-in slide-in-from-bottom-2 fade-in duration-200",children:[" ",d.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-3 text-center mb-1",children:[" ",d.jsx("p",{className:"text-red-400 font-bold text-sm mb-1",children:" ?"})," ",d.jsx("p",{className:"text-xs text-gray-400",children:"    ."})," "]})," ",d.jsxs("div",{className:"flex gap-2",children:[" ",d.jsx("button",{onClick:()=>ie(!1),className:"flex-1 py-4 rounded-xl font-bold bg-gray-700 hover:bg-gray-600 text-gray-300 transition-all",children:"  "})," ",d.jsxs("button",{onClick:Zn,className:"flex-[2] py-4 rounded-xl font-black flex items-center justify-center gap-2 shadow-lg shadow-red-900/50 transition-all bg-red-600 hover:bg-red-500 text-white border-b-4 border-red-800 active:border-b-0 active:translate-y-1",children:[" ",d.jsx(Xl,{className:"w-5 h-5"})," ",d.jsx("span",{children:""})," "]})," "]})," "]}):d.jsxs("button",{onClick:()=>{J.size>0&&(Pe("click"),ie(!0))},disabled:J.size===0,className:`w-full relative overflow-hidden group py-4 px-5 rounded-2xl font-bold shadow-xl transition-all duration-300 border-b-4 active:border-b-0 active:translate-y-1 ${J.size===0?"bg-gray-800 border-gray-900 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-rose-600 border-red-900 hover:from-red-500 hover:to-rose-500 text-white shadow-red-900/30"}`,children:[" ",d.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[" ",d.jsxs("div",{className:"flex items-center gap-3",children:[" ",d.jsxs("div",{className:`p-2.5 rounded-xl ${J.size>0?"bg-black/20":"bg-gray-700/50"}`,children:[" ",d.jsx(Xl,{className:`w-6 h-6 ${J.size>0?"text-white":"text-gray-500"}`})," "]})," ",d.jsxs("div",{className:"flex flex-col items-start",children:[" ",d.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${J.size>0?"text-red-200":"text-gray-500"}`,children:"Dismantle"})," ",d.jsx("span",{className:`text-lg font-black ${J.size>0?"text-white":"text-gray-500"}`,children:""})," "]})," "]})," ",J.size>0?d.jsxs("div",{className:"flex items-center gap-3 bg-black/30 px-4 py-2 rounded-xl border border-white/10 backdrop-blur-sm",children:[" ",d.jsxs("div",{className:"text-right",children:[" ",d.jsx("span",{className:"text-[10px] text-yellow-200 block font-bold",children:"ESTIMATED"})," ",d.jsxs("div",{className:"flex items-center justify-end gap-1",children:[" ",d.jsxs("span",{className:"text-yellow-400 font-black text-xl",children:["+",Ee.toLocaleString()]})," "]})," "]})," ",d.jsxs("div",{className:"bg-yellow-500/20 p-1.5 rounded-full border border-yellow-500/50",children:[" ",d.jsx(aa,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," "]})," "]}):d.jsx("div",{className:"text-gray-600 font-bold text-sm bg-gray-900/30 px-3 py-1.5 rounded-lg",children:"   "})," "]})," "]})," "]})," "]})," "]})},ds=()=>d.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:[" ",d.jsxs("div",{className:"bg-[#1F2937] w-full max-w-xs rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[" ",d.jsxs("div",{className:"p-4 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(Vf,{className:"w-5 h-5 text-blue-400"})," ",d.jsx("h2",{className:"font-bold text-lg text-white",children:" "})," "]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("NONE")},className:"p-1 hover:bg-gray-700 rounded-full",children:[" ",d.jsx(rl,{className:"w-5 h-5 text-gray-400"})," "]})," "]})," ",d.jsxs("div",{className:"p-4 overflow-y-auto custom-scrollbar flex-1 space-y-2",children:[" ",Lr.map(O=>d.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-800/50 rounded-lg border border-gray-700",children:[" ",d.jsxs("div",{className:"w-8 h-8 flex-shrink-0 rounded-md flex items-center justify-center",children:[" ",d.jsx(ll,{name:"Kunai",rarity:O,size:"sm"})," "]})," ",d.jsx("span",{className:"font-bold text-white",children:O})," "]},O))," "]})," ",d.jsxs("div",{className:"p-4 bg-gray-800 border-t border-gray-700",children:[" ",d.jsx("button",{onClick:()=>{Pe("click"),h("NONE")},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""})," "]})," "]})," "]}),ml=()=>{const O=[{name:"UnknownUser",score:999999},{name:"SlayerX",score:540200},{name:"ZombieKing",score:480100},{name:"Swift",score:320500},{name:"Rookie",score:150200},{name:"Survivor",score:80400}],W=[{name:(n==null?void 0:n.username)||"Player",score:(n==null?void 0:n.highScore)||0},...O].sort((j,Q)=>Q.score-j.score);return d.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-2xl mx-auto flex flex-col",children:[" ",d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[" ",d.jsx(Hr,{className:"w-8 h-8 text-yellow-400"})," ",d.jsx("h1",{className:"text-3xl font-black text-white",children:""})," "]})," ",d.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 shadow-lg flex-1 overflow-y-auto custom-scrollbar",children:[" ",W.map((j,Q)=>d.jsxs("div",{className:`flex items-center p-3 gap-4 border-b border-gray-700 last:border-b-0 ${j.name===(n==null?void 0:n.username)?"bg-blue-900/30":""}`,children:[" ",d.jsx("span",{className:`w-8 text-center text-lg font-bold ${Q===0?"text-yellow-400":Q===1?"text-gray-300":Q===2?"text-yellow-600":"text-gray-500"}`,children:Q+1})," ",d.jsxs("div",{className:"flex items-center gap-3",children:[" ",Q<3?d.jsx(hd,{className:`w-5 h-5 ${Q===0?"text-yellow-400":Q===1?"text-gray-300":"text-yellow-600"}`}):d.jsx(fa,{className:"w-5 h-5 text-gray-500"})," ",d.jsx("span",{className:"font-semibold text-white",children:j.name})," "]})," ",d.jsx("span",{className:"ml-auto font-mono text-xl text-yellow-300",children:j.score.toLocaleString()})," "]},Q))," "]})," "]})},gl=()=>d.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-2xl mx-auto flex flex-col h-full",children:[" ",d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[" ",d.jsx(_m,{className:"w-8 h-8 text-gray-400"})," ",d.jsx("h1",{className:"text-3xl font-black text-white",children:""})," "]})," ",d.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700 space-y-4",children:[" ",d.jsx("h3",{className:"font-bold text-lg text-white",children:" "})," ",d.jsx("p",{className:"text-sm text-gray-400",children:"       . "})," ",d.jsx("button",{onClick:io,className:"w-full py-4 bg-red-900/30 hover:bg-red-900/50 text-red-400 border border-red-800/50 rounded-xl font-bold transition-colors",children:"   "})," "]})," "]}),Go=O=>O>=1e6?(O/1e6).toFixed(1)+"M":O>=1e3?(O/1e3).toFixed(1)+"K":O.toString(),Bo=()=>{const O=[{count:1,cost:300,icon:sl,tag:null,color:"from-purple-800/80 to-indigo-900/80",borderColor:"border-purple-600/50"},{count:10,cost:3e3,icon:$T,tag:null,color:"from-purple-800/80 to-indigo-900/80",borderColor:"border-purple-600/50"},{count:100,cost:3e4,icon:sl,tag:"FLEX",color:"from-yellow-500/80 to-orange-700/80",borderColor:"border-yellow-400"},{count:1e3,cost:3e5,icon:Lo,tag:"GOD",color:"from-red-500/80 to-pink-700/80",borderColor:"border-red-400"},{count:1e4,cost:3e6,icon:ul,tag:"UNIVERSE",color:"from-cyan-400/80 to-blue-600/80",borderColor:"border-cyan-300"}],W=[{id:"daily_free_gold",title:" ",icon:nv,cost:5e3,costType:"FREE",buttonText:"FREE",buttonColor:"bg-green-600 hover:bg-green-500 border-b-2 border-green-800"},{id:"daily_scroll",title:" ",icon:TE,cost:3e3,costType:"GOLD",buttonText:"3000",buttonColor:"bg-yellow-700 hover:bg-yellow-600 border-b-2 border-yellow-900"},{id:"daily_random_equip",title:" ",icon:Qy,cost:200,costType:"GEM",buttonText:"200",buttonColor:"bg-teal-600 hover:bg-teal-500 border-b-2 border-teal-800"}],j=[{gems:500},{gems:1200},{gems:2500},{gems:6500}],Q=M*50+100,ae=I/Q*100;return d.jsxs("div",{className:"p-4 sm:p-6 w-full max-w-4xl mx-auto flex flex-col bg-gray-900",children:[" ",d.jsxs("div",{className:"bg-black/30 p-4 rounded-2xl border border-purple-500/30 mb-8",children:[" ",d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[" ",d.jsxs("div",{children:[" ",d.jsx("h1",{className:"text-3xl font-black text-white tracking-wider",children:"EDF SUPPLY"})," ",d.jsx("p",{className:"text-yellow-300 font-bold",children:"S    UP!"})," "]})," ",d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[" ",d.jsx(Xl,{className:"w-4 h-4"}),"   "]})," "]})," ",d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-4",children:[" ",O.map(X=>{const le=X.icon;return d.jsxs("button",{onClick:()=>Bt("GEM",X.cost/X.count,X.count),className:`relative group p-4 bg-gradient-to-br ${X.color} rounded-lg text-white font-bold flex flex-col items-center justify-center gap-2 border-2 ${X.borderColor} transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20`,children:[" ",X.tag&&d.jsx("div",{className:`absolute -top-2 text-xs px-3 py-0.5 rounded-full font-black ${X.tag==="FLEX"?"bg-yellow-400 text-black":X.tag==="GOD"?"bg-red-400 text-white":"bg-cyan-300 text-black"}`,children:X.tag})," ",d.jsx(le,{className:`w-10 h-10 mb-2 transition-transform group-hover:rotate-12 ${X.icon===ul||X.icon===Lo?"text-yellow-200":"text-white/80"}`,strokeWidth:1.5})," ",d.jsxs("span",{className:"text-lg",children:[X.count," "]})," ",d.jsxs("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded-full",children:[" ",d.jsx(Wi,{className:"w-4 h-4 text-green-300"})," ",d.jsx("span",{children:Go(X.cost)})," "]})," "]},X.count)})," "]})," ",d.jsxs("div",{className:"bg-black/20 p-2 rounded-lg flex items-center gap-3 mb-4",children:[" ",d.jsxs("span",{className:"font-bold text-sm text-white flex-shrink-0",children:["Lv.",M]})," ",d.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-5 relative overflow-hidden",children:[" ",d.jsx("div",{className:"absolute inset-0 bg-purple-600 h-full transition-all duration-300",style:{width:`${ae}%`}})," ",d.jsxs("span",{className:"absolute inset-0 text-white text-xs font-bold flex items-center justify-center drop-shadow-md",children:[" ",I," / ",Q," "]})," "]})," ",d.jsx("button",{className:"w-5 h-5 bg-gray-600 text-white rounded-full text-xs font-bold flex-shrink-0 hover:bg-gray-500",children:"i"})," "]})," ",d.jsxs("div",{className:"bg-black/20 p-3 rounded-lg flex items-center justify-between",children:[" ",d.jsxs("div",{className:"flex items-center gap-2",children:[" ",d.jsx(ov,{className:"w-6 h-6 text-yellow-400"})," ",d.jsxs("span",{className:"font-bold text-lg text-white",children:[" : ",U]})," "]})," ",d.jsx("button",{onClick:()=>Bt("KEY",1,1),disabled:U<1,className:"bg-yellow-600 hover:bg-yellow-500 text-black font-bold px-8 py-2 rounded-lg disabled:bg-gray-600 disabled:cursor-not-allowed",children:"   "})," "]})," "]})," ",d.jsxs("div",{className:"mb-8",children:[" ",d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[" ",d.jsx(dd,{className:"w-5 h-5 text-gray-400"})," ",d.jsx("h2",{className:"text-xl font-bold text-white",children:" "})," "]})," ",d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[" ",W.map(X=>{const le=X.icon,Ee=V.includes(X.id);return d.jsxs("div",{className:"bg-gray-800/70 p-4 rounded-xl border border-gray-700 flex flex-col items-center text-center",children:[" ",d.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-900/50 flex items-center justify-center mb-3 border-2 border-gray-600",children:[" ",d.jsx(le,{className:"w-8 h-8 text-gray-300"})," "]})," ",d.jsx("h3",{className:"font-bold text-white mb-4 flex-1",children:X.title})," ",d.jsxs("button",{onClick:()=>{X.costType==="GOLD"&&St(X.id,"GOLD",X.cost,X.title),X.costType==="GEM"&&St(X.id,"GEM",X.cost,X.title),X.costType==="FREE"&&St(X.id,"FREE",X.cost,X.title)},disabled:Ee,className:`w-full py-2 rounded-lg font-bold text-white transition-colors ${X.buttonColor} ${Ee?"bg-gray-600 !border-gray-600 cursor-not-allowed":""}`,children:[" ",Ee?" ":d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[" ",X.costType==="GOLD"&&d.jsx(aa,{className:"w-4 h-4"})," ",X.costType==="GEM"&&d.jsx(Wi,{className:"w-4 h-4"})," ",X.costType==="FREE"&&d.jsx("span",{children:"FREE"})," ",X.costType!=="FREE"&&d.jsx("span",{children:Go(X.cost)})," "]})," "]})," "]},X.id)})," "]})," "]})," ",d.jsxs("div",{className:"mt-8",children:[" ",d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[" ",d.jsx(Wi,{className:"w-5 h-5 text-green-400"})," ",d.jsx("h2",{className:"text-xl font-bold text-white",children:" "})," "]})," ",d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[" ",j.map(X=>{const le=X.gems*Re;return d.jsxs("button",{onClick:()=>In(X.gems,` ${le.toLocaleString()}`),className:"bg-gray-800/70 p-4 rounded-xl border border-gray-700 hover:border-green-500 transition-colors flex flex-col items-center text-center gap-2",children:[" ",d.jsx(Wi,{className:"w-10 h-10 text-green-400 drop-shadow-[0_0_10px_rgba(74,222,128,0.5)]"})," ",d.jsx("h3",{className:"font-bold text-white text-lg",children:X.gems.toLocaleString()})," ",d.jsxs("div",{className:"mt-auto w-full py-2 rounded-lg font-bold text-white bg-green-700 hover:bg-green-600 transition-colors",children:["  ",le.toLocaleString()," "]})," "]},X.gems)})," "]})," ",d.jsxs("div",{className:"mt-8",children:[" ",d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[" ",d.jsx(aT,{className:"w-5 h-5 text-gray-400"})," ",d.jsx("h2",{className:"text-lg font-bold text-white",children:"   "})," "]})," ",d.jsxs("div",{className:"flex items-center bg-gray-800 border border-gray-700 rounded-lg p-1",children:[" ",d.jsxs("div",{className:"flex-1 flex items-center px-4 py-2 gap-3",children:[" ",d.jsx("span",{className:"text-gray-500 font-bold",children:"$"})," ",d.jsx("input",{type:"number",value:we,onChange:X=>Ue(Math.max(0,parseInt(X.target.value)||0)),className:"bg-transparent border-none focus:outline-none text-white w-full font-bold text-lg placeholder-gray-600",placeholder:"  (KRW)"})," ",d.jsxs("span",{className:"text-gray-400 text-sm whitespace-nowrap flex items-center gap-1",children:[" ",d.jsx(Wi,{className:"w-3 h-3 text-green-400"})," ",Math.floor(we/Re).toLocaleString(),"  "]})," "]})," ",d.jsx("button",{onClick:bt,className:"bg-green-600 hover:bg-green-500 text-white font-bold px-6 py-3 rounded-md transition-colors",children:"  "})," "]})," ",d.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-1",children:"* 20 1  ."})," "]})," "]})," "]})},lo=()=>{const W=Q=>({FOREVER:11,GOLDEN:10,TRANSCENDENT:9,ETERNAL:8,LEGEND:7,EPIC:6,EXCELLENT:5,RARE:4,EXQUISITE:3,MAGIC:2,COMMON:1})[Q.rarity],j=[...H].sort((Q,ae)=>W(ae)-W(Q));return d.jsxs("div",{className:"w-full flex flex-col sm:flex-row gap-4 p-4",children:[" ",d.jsxs("div",{className:"w-full sm:w-1/3 flex flex-col gap-4",children:[" ",d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex flex-col items-center flex-shrink-0 relative z-0",children:[" ",d.jsx(vy,{skinId:Se})," ",d.jsxs("button",{onClick:Q=>{Q.stopPropagation(),Pe("click"),h("WARDROBE")},className:"mt-4 bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold px-4 py-2 rounded-lg flex items-center gap-2 transition-colors relative z-20 shadow-lg active:scale-95",children:[" ",d.jsx(Hf,{className:"w-4 h-4"}),"   "]})," "]})," ",d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex-shrink-0",children:[" ",d.jsx("h3",{className:"text-lg font-bold mb-3 text-white",children:""})," ",d.jsxs("div",{className:"space-y-2 text-sm",children:[" ",d.jsxs("div",{className:"flex justify-between",children:[" ",d.jsx("span",{className:"text-gray-400",children:""})," ",d.jsx("span",{className:"font-bold text-white",children:_n.toLocaleString()})," "]})," ",d.jsxs("div",{className:"flex justify-between",children:[" ",d.jsx("span",{className:"text-gray-400",children:" HP"})," ",d.jsx("span",{className:"font-bold text-white",children:pi.toLocaleString()})," "]})," "]})," "]})," ",d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex-1 sm:flex-auto",children:[" ",d.jsx("h3",{className:"text-lg font-bold mb-3 text-white",children:" "})," ",d.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-8",children:[" ",Object.keys(pe).map(Q=>d.jsx(J_,{slotType:Q,item:pe[Q],onUnequip:Wn},Q))," "]})," "]})," "]})," ",d.jsxs("div",{className:"w-full sm:w-2/3 bg-gray-800/50 p-4 rounded-xl border border-gray-700 flex flex-col",children:[" ",d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[" ",d.jsxs("h2",{className:"text-xl font-bold text-white",children:[" (",H.length,")"]})," ",d.jsxs("div",{className:"flex gap-2",children:[" ",d.jsxs("button",{onClick:()=>{Pe("click"),h("RARITY_GUIDE")},className:"bg-gray-600 hover:bg-gray-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[d.jsx(Vf,{className:"w-3 h-3"}),""]})," ",d.jsxs("button",{onClick:oo,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[d.jsx(ul,{className:"w-3 h-3"})," "]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("MERGE")},className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[d.jsx(bf,{className:"w-3 h-3"}),""]})," ",d.jsxs("button",{onClick:()=>{Pe("click"),h("DISMANTLE")},className:"bg-red-600 hover:bg-red-500 text-white px-3 py-1.5 text-xs font-bold rounded-lg flex items-center gap-1",children:[d.jsx(Xl,{className:"w-3 h-3"}),""]})," "]})," "]})," ",d.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2",children:[" ",H.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-600",children:[" ",d.jsx(rE,{className:"w-16 h-16"})," ",d.jsx("p",{children:"  ."})," "]}):d.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8 gap-2",children:[" ",j.slice(0,240).map(Q=>d.jsx(Dr,{item:Q,onClick:()=>cs(Q)},Q.id))," ",H.length>240&&d.jsxs("div",{className:"col-span-full text-center py-4 text-gray-500",children:[" ...   ",H.length-240,"  "]})," "]})," "]})," "]})," "]})},Mi=()=>{if(!n)return null;const O=la.find(W=>W.id===g)||la[0];return d.jsxs("div",{className:"w-full flex-1 flex flex-col justify-center items-center p-4 relative text-center",children:[" ",d.jsx("div",{className:"absolute inset-0 bg-gray-900 z-0"})," ",d.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-4xl relative z-10",children:[" ",d.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white drop-shadow-lg mb-2",children:O.name})," ",d.jsx("p",{className:"text-sm md:text-base text-gray-300 mb-6 max-w-md",children:O.description})," ",d.jsxs("div",{className:"w-full h-1/2 min-h-[200px] max-h-[40vh] mb-6 flex items-center justify-center",children:[" ",d.jsx(q_,{chapterId:g})," "]})," ",d.jsxs("button",{onClick:Ci,className:"bg-blue-600 hover:bg-blue-500 text-white text-xl font-bold py-4 px-16 rounded-full shadow-lg border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-3 animate-pulse",children:[" START ",d.jsx(fl,{className:"w-6 h-6 fill-current"})," "]})," "]})," ",d.jsxs("button",{onClick:()=>x(W=>Math.max(1,W-1)),className:"absolute left-4 md:left-10 top-1/2 -translate-y-1/2 bg-black/30 p-3 rounded-full hover:bg-white/20 transition-colors z-20",children:[" ",d.jsx(Xy,{className:"w-6 h-6 text-white"})," "]})," ",d.jsxs("button",{onClick:()=>x(W=>Math.min(b,W+1)),className:"absolute right-4 md:right-10 top-1/2 -translate-y-1/2 bg-black/30 p-3 rounded-full hover:bg-white/20 transition-colors z-20",children:[" ",g<b?d.jsx(Vr,{className:"w-6 h-6 text-white"}):d.jsx(lv,{className:"w-6 h-6 text-gray-500"})," "]})," "]})},yl=()=>{switch(r){case"SHOP":return Bo();case"EQUIPMENT":return lo();case"RANKING":return ml();case"SETTINGS":return gl();case"HOME":default:return Mi()}};if(o===xt.PLAYING||o===xt.PAUSED||o===xt.TREASURE_OPENING||o===xt.STATUS_MENU){const O=la.find(W=>W.id===g)||la[0];return d.jsx("div",{className:"w-full h-full relative overflow-hidden bg-black",children:d.jsx(j_,{onGameOver:Rt,gameState:o,setGameState:l,initialStats:{hp:pi,attack:_n},equippedWeaponName:(N=pe.WEAPON)==null?void 0:N.name,equippedSkinId:Se,onGoldGained:Rn,chapterTheme:O.theme,chapterId:O.id})})}if(o===xt.GAME_OVER||o===xt.VICTORY){const O=o===xt.VICTORY,W=Math.floor(c/10),j=O?5e3+g*5e3:0,Q=W+j,ae=O?20+g*10:0;return d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-900 text-white p-4 animate-in fade-in",children:[" ",d.jsxs("div",{className:"bg-gray-800/50 p-8 rounded-2xl border border-gray-700 text-center max-w-sm w-full",children:[" ",O?d.jsxs(d.Fragment,{children:[" ",d.jsx(Hr,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4 drop-shadow-[0_0_10px_#facc15]"})," ",d.jsx("h1",{className:"text-4xl font-black text-yellow-300 mb-2",children:"VICTORY"})," ",d.jsx("p",{className:"text-yellow-500 mb-6",children:" !"})," "]}):d.jsxs(d.Fragment,{children:[" ",d.jsx(md,{className:"w-16 h-16 text-red-500 mx-auto mb-4"})," ",d.jsx("h1",{className:"text-4xl font-black text-red-400 mb-2",children:"GAME OVER"})," ",d.jsx("p",{className:"text-gray-400 mb-6",children:" ."})," "]})," ",d.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl space-y-3 mb-8",children:[" ",d.jsxs("div",{className:"flex justify-between text-lg",children:[" ",d.jsx("span",{children:" :"})," ",d.jsx("span",{className:"font-bold text-white",children:c.toLocaleString()})," "]})," ",d.jsxs("div",{className:"flex justify-between items-center text-lg",children:[" ",d.jsx("span",{children:" :"})," ",d.jsxs("div",{className:"flex items-center gap-1 font-bold text-yellow-400",children:[" ",d.jsx(aa,{className:"w-5 h-5"})," ",d.jsxs("span",{children:["+",Q.toLocaleString(),"+"]})," "]})," "]})," ",O&&d.jsxs("div",{className:"flex justify-between items-center text-lg",children:[" ",d.jsx("span",{children:" :"})," ",d.jsxs("div",{className:"flex items-center gap-1 font-bold text-green-400",children:[" ",d.jsx(Wi,{className:"w-5 h-5"})," ",d.jsxs("span",{children:["+",ae.toLocaleString()]})," "]})," "]})," "]})," ",d.jsx("button",{onClick:jt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-lg text-lg",children:"  "})," "]})," "]})}const kn=o===xt.MENU;return d.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-900 overflow-hidden relative",children:[z&&d.jsxs("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-[100] bg-black/80 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-5 fade-in duration-300",children:[d.jsx($r,{className:"w-5 h-5 text-green-400"}),d.jsx("span",{className:"font-bold text-sm",children:z})]}),kn&&d.jsx(X_,{currentUser:n,keys:U,gold:E,gems:C,onAddCurrency:()=>s("SHOP")}),d.jsx("main",{className:"flex-1 overflow-y-auto flex",children:yl()}),d.jsxs("footer",{className:"w-full flex justify-around items-center bg-gray-800 border-t-2 border-gray-700 p-2 flex-shrink-0 relative z-30",children:[" ",[{id:"SHOP",label:"",icon:_E},{id:"EQUIPMENT",label:"",icon:iu},{id:"HOME",label:"",icon:fl,isCentral:!0},{id:"RANKING",label:"",icon:Hr},{id:"SETTINGS",label:"",icon:_m}].map(({id:O,label:W,icon:j,isCentral:Q})=>d.jsxs("button",{onClick:()=>{Pe("click"),s(O)},className:`flex flex-col items-center justify-center transition-colors text-xs ${Q?"w-16 h-16":"w-16 h-14"} ${r===O?"text-yellow-400":"text-gray-400 hover:text-white"}`,children:[" ",Q?d.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transform -translate-y-4 shadow-lg border-2 border-gray-900 ${r===O?"bg-yellow-500":"bg-blue-600"} `,children:[" ",d.jsx(j,{className:"w-8 h-8 text-white fill-current"})," "]}):d.jsxs(d.Fragment,{children:[" ",d.jsx(j,{className:"w-6 h-6 mb-1"})," ",d.jsx("span",{children:W})," "]})," "]},O))," "]}),k&&d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-in fade-in zoom-in duration-200",children:d.jsxs("div",{className:"bg-[#1F2937] w-full max-w-2xl rounded-2xl border border-gray-600 shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsx("h2",{className:"text-center p-3 text-2xl font-black text-yellow-300 border-b border-gray-700 bg-gray-800",children:" "}),k.length<100?d.jsx("div",{className:"p-4 grid grid-cols-5 sm:grid-cols-8 gap-2 overflow-y-auto custom-scrollbar",children:k.map((O,W)=>d.jsx(Dr,{item:O},W))}):d.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[d.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:" "}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 text-center",children:["LEGEND","EPIC","EXCELLENT","RARE","EXQUISITE","MAGIC","COMMON"].map(O=>{const W=k.filter(j=>j.rarity===O).length;return W===0?null:d.jsxs("div",{className:"bg-gray-900 p-2 rounded-lg",children:[d.jsx("p",{className:"font-bold text-sm",style:{color:{LEGEND:"#ef4444",EPIC:"#f97316",EXCELLENT:"#ca8a04",RARE:"#a855f7",EXQUISITE:"#3b82f6",MAGIC:"#84cc16",COMMON:"#9ca3af"}[O]},children:O}),d.jsxs("p",{className:"text-white text-lg font-mono",children:[W,""]})]},O)}).filter(Boolean)})]}),d.jsx("h3",{className:"text-md font-bold text-gray-300 mb-2 text-center",children:"   (EPIC )"}),d.jsx("div",{className:"p-2 grid grid-cols-5 sm:grid-cols-8 gap-2",children:k.filter(O=>["EPIC","LEGEND"].includes(O.rarity)).map((O,W)=>d.jsx(Dr,{item:O},W))})]}),d.jsxs("div",{className:"p-3 bg-gray-800 border-t border-gray-700 flex gap-3",children:[d.jsx("button",{onClick:()=>{Pe("click"),q(null)},className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""}),P.current&&d.jsxs("button",{onClick:()=>Bt(P.current.type,P.current.costPerUnit,P.current.count),className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg",children:["  (",P.current.count,")"]})]})]})}),p==="DISMANTLE"&&gi()," ",p==="MERGE"&&Uo()," ",p==="WARDROBE"&&pl()," ",p==="RARITY_GUIDE"&&ds()," ",de&&fs(),_e&&d.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in zoom-in duration-200",children:d.jsxs("div",{className:"bg-[#1F2937] w-full max-w-xs rounded-2xl border border-gray-600 shadow-2xl p-6 text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:" "}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-2xl font-bold text-green-400 my-4",children:[d.jsx(Wi,{className:"w-7 h-7"}),d.jsx("span",{children:_e.gems.toLocaleString()})]}),d.jsxs("p",{className:"text-gray-400 mb-6",children:["  ",d.jsx("span",{className:"font-bold text-white",children:_e.price})," ?"]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{Pe("click"),be(null)},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 rounded-lg",children:""}),d.jsx("button",{onClick:qt,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg",children:""})]})]})})]})},W_=()=>d.jsx("div",{className:"w-full h-[calc(100vh-80px)] bg-gray-900 overflow-hidden relative",children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:d.jsx(K_,{})})});var qr={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Q_=qr.exports,xy;function Z_(){return xy||(xy=1,(function(n,e){(function(l,r){n.exports=r()})(Q_,function(){return(function(o){var l={};function r(s){if(l[s])return l[s].exports;var c=l[s]={i:s,l:!1,exports:{}};return o[s].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=o,r.c=l,r.d=function(s,c,f){r.o(s,c)||Object.defineProperty(s,c,{enumerable:!0,get:f})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,c){if(c&1&&(s=r(s)),c&8||c&4&&typeof s=="object"&&s&&s.__esModule)return s;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),c&2&&typeof s!="string")for(var p in s)r.d(f,p,(function(h){return s[h]}).bind(null,p));return f},r.n=function(s){var c=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(c,"a",c),c},r.o=function(s,c){return Object.prototype.hasOwnProperty.call(s,c)},r.p="",r(r.s=20)})([(function(o,l){var r={};o.exports=r,(function(){r._baseDelta=1e3/60,r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r._warnedOnce={},r._decomp=null,r.extend=function(c,f){var p,h;typeof f=="boolean"?(p=2,h=f):(p=1,h=!0);for(var g=p;g<arguments.length;g++){var x=arguments[g];if(x)for(var b in x)h&&x[b]&&x[b].constructor===Object&&(!c[b]||c[b].constructor===Object)?(c[b]=c[b]||{},r.extend(c[b],h,x[b])):c[b]=x[b]}return c},r.clone=function(c,f){return r.extend({},f,c)},r.keys=function(c){if(Object.keys)return Object.keys(c);var f=[];for(var p in c)f.push(p);return f},r.values=function(c){var f=[];if(Object.keys){for(var p=Object.keys(c),h=0;h<p.length;h++)f.push(c[p[h]]);return f}for(var g in c)f.push(c[g]);return f},r.get=function(c,f,p,h){f=f.split(".").slice(p,h);for(var g=0;g<f.length;g+=1)c=c[f[g]];return c},r.set=function(c,f,p,h,g){var x=f.split(".").slice(h,g);return r.get(c,f,0,-1)[x[x.length-1]]=p,p},r.shuffle=function(c){for(var f=c.length-1;f>0;f--){var p=Math.floor(r.random()*(f+1)),h=c[f];c[f]=c[p],c[p]=h}return c},r.choose=function(c){return c[Math.floor(r.random()*c.length)]},r.isElement=function(c){return typeof HTMLElement<"u"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},r.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},r.isFunction=function(c){return typeof c=="function"},r.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},r.isString=function(c){return toString.call(c)==="[object String]"},r.clamp=function(c,f,p){return c<f?f:c>p?p:c},r.sign=function(c){return c<0?-1:1},r.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-r._nowStartTime},r.random=function(c,f){return c=typeof c<"u"?c:0,f=typeof f<"u"?f:1,c+s()*(f-c)};var s=function(){return r._seed=(r._seed*9301+49297)%233280,r._seed/233280};r.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");r._warnedOnce[c]||(r.warn(c),r._warnedOnce[c]=!0)},r.deprecated=function(c,f,p){c[f]=r.chain(function(){r.warnOnce(" deprecated ",p)},c[f])},r.nextId=function(){return r._nextId++},r.indexOf=function(c,f){if(c.indexOf)return c.indexOf(f);for(var p=0;p<c.length;p++)if(c[p]===f)return p;return-1},r.map=function(c,f){if(c.map)return c.map(f);for(var p=[],h=0;h<c.length;h+=1)p.push(f(c[h]));return p},r.topologicalSort=function(c){var f=[],p=[],h=[];for(var g in c)!p[g]&&!h[g]&&r._topologicalSort(g,p,h,c,f);return f},r._topologicalSort=function(c,f,p,h,g){var x=h[c]||[];p[c]=!0;for(var b=0;b<x.length;b+=1){var y=x[b];p[y]||f[y]||r._topologicalSort(y,f,p,h,g)}p[c]=!1,f[c]=!0,g.push(c)},r.chain=function(){for(var c=[],f=0;f<arguments.length;f+=1){var p=arguments[f];p._chained?c.push.apply(c,p._chained):c.push(p)}var h=function(){for(var g,x=new Array(arguments.length),b=0,y=arguments.length;b<y;b++)x[b]=arguments[b];for(b=0;b<c.length;b+=1){var E=c[b].apply(g,x);typeof E<"u"&&(g=E)}return g};return h._chained=c,h},r.chainPathBefore=function(c,f,p){return r.set(c,f,r.chain(p,r.get(c,f)))},r.chainPathAfter=function(c,f,p){return r.set(c,f,r.chain(r.get(c,f),p))},r.setDecomp=function(c){r._decomp=c},r.getDecomp=function(){var c=r._decomp;try{!c&&typeof window<"u"&&(c=window.decomp),!c&&typeof am<"u"&&(c=am.decomp)}catch{c=null}return c}})()}),(function(o,l){var r={};o.exports=r,(function(){r.create=function(s){var c={min:{x:0,y:0},max:{x:0,y:0}};return s&&r.update(c,s),c},r.update=function(s,c,f){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var p=0;p<c.length;p++){var h=c[p];h.x>s.max.x&&(s.max.x=h.x),h.x<s.min.x&&(s.min.x=h.x),h.y>s.max.y&&(s.max.y=h.y),h.y<s.min.y&&(s.min.y=h.y)}f&&(f.x>0?s.max.x+=f.x:s.min.x+=f.x,f.y>0?s.max.y+=f.y:s.min.y+=f.y)},r.contains=function(s,c){return c.x>=s.min.x&&c.x<=s.max.x&&c.y>=s.min.y&&c.y<=s.max.y},r.overlaps=function(s,c){return s.min.x<=c.max.x&&s.max.x>=c.min.x&&s.max.y>=c.min.y&&s.min.y<=c.max.y},r.translate=function(s,c){s.min.x+=c.x,s.max.x+=c.x,s.min.y+=c.y,s.max.y+=c.y},r.shift=function(s,c){var f=s.max.x-s.min.x,p=s.max.y-s.min.y;s.min.x=c.x,s.max.x=c.x+f,s.min.y=c.y,s.max.y=c.y+p}})()}),(function(o,l){var r={};o.exports=r,(function(){r.create=function(s,c){return{x:s||0,y:c||0}},r.clone=function(s){return{x:s.x,y:s.y}},r.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},r.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},r.rotate=function(s,c,f){var p=Math.cos(c),h=Math.sin(c);f||(f={});var g=s.x*p-s.y*h;return f.y=s.x*h+s.y*p,f.x=g,f},r.rotateAbout=function(s,c,f,p){var h=Math.cos(c),g=Math.sin(c);p||(p={});var x=f.x+((s.x-f.x)*h-(s.y-f.y)*g);return p.y=f.y+((s.x-f.x)*g+(s.y-f.y)*h),p.x=x,p},r.normalise=function(s){var c=r.magnitude(s);return c===0?{x:0,y:0}:{x:s.x/c,y:s.y/c}},r.dot=function(s,c){return s.x*c.x+s.y*c.y},r.cross=function(s,c){return s.x*c.y-s.y*c.x},r.cross3=function(s,c,f){return(c.x-s.x)*(f.y-s.y)-(c.y-s.y)*(f.x-s.x)},r.add=function(s,c,f){return f||(f={}),f.x=s.x+c.x,f.y=s.y+c.y,f},r.sub=function(s,c,f){return f||(f={}),f.x=s.x-c.x,f.y=s.y-c.y,f},r.mult=function(s,c){return{x:s.x*c,y:s.y*c}},r.div=function(s,c){return{x:s.x/c,y:s.y/c}},r.perp=function(s,c){return c=c===!0?-1:1,{x:c*-s.y,y:c*s.x}},r.neg=function(s){return{x:-s.x,y:-s.y}},r.angle=function(s,c){return Math.atan2(c.y-s.y,c.x-s.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]})()}),(function(o,l,r){var s={};o.exports=s;var c=r(2),f=r(0);(function(){s.create=function(p,h){for(var g=[],x=0;x<p.length;x++){var b=p[x],y={x:b.x,y:b.y,index:x,body:h,isInternal:!1};g.push(y)}return g},s.fromPath=function(p,h){var g=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,x=[];return p.replace(g,function(b,y,E){x.push({x:parseFloat(y),y:parseFloat(E)})}),s.create(x,h)},s.centre=function(p){for(var h=s.area(p,!0),g={x:0,y:0},x,b,y,E=0;E<p.length;E++)y=(E+1)%p.length,x=c.cross(p[E],p[y]),b=c.mult(c.add(p[E],p[y]),x),g=c.add(g,b);return c.div(g,6*h)},s.mean=function(p){for(var h={x:0,y:0},g=0;g<p.length;g++)h.x+=p[g].x,h.y+=p[g].y;return c.div(h,p.length)},s.area=function(p,h){for(var g=0,x=p.length-1,b=0;b<p.length;b++)g+=(p[x].x-p[b].x)*(p[x].y+p[b].y),x=b;return h?g/2:Math.abs(g)/2},s.inertia=function(p,h){for(var g=0,x=0,b=p,y,E,w=0;w<b.length;w++)E=(w+1)%b.length,y=Math.abs(c.cross(b[E],b[w])),g+=y*(c.dot(b[E],b[E])+c.dot(b[E],b[w])+c.dot(b[w],b[w])),x+=y;return h/6*(g/x)},s.translate=function(p,h,g){g=typeof g<"u"?g:1;var x=p.length,b=h.x*g,y=h.y*g,E;for(E=0;E<x;E++)p[E].x+=b,p[E].y+=y;return p},s.rotate=function(p,h,g){if(h!==0){var x=Math.cos(h),b=Math.sin(h),y=g.x,E=g.y,w=p.length,C,R,U,D;for(D=0;D<w;D++)C=p[D],R=C.x-y,U=C.y-E,C.x=y+(R*x-U*b),C.y=E+(R*b+U*x);return p}},s.contains=function(p,h){for(var g=h.x,x=h.y,b=p.length,y=p[b-1],E,w=0;w<b;w++){if(E=p[w],(g-y.x)*(E.y-y.y)+(x-y.y)*(y.x-E.x)>0)return!1;y=E}return!0},s.scale=function(p,h,g,x){if(h===1&&g===1)return p;x=x||s.centre(p);for(var b,y,E=0;E<p.length;E++)b=p[E],y=c.sub(b,x),p[E].x=x.x+y.x*h,p[E].y=x.y+y.y*g;return p},s.chamfer=function(p,h,g,x,b){typeof h=="number"?h=[h]:h=h||[8],g=typeof g<"u"?g:-1,x=x||2,b=b||14;for(var y=[],E=0;E<p.length;E++){var w=p[E-1>=0?E-1:p.length-1],C=p[E],R=p[(E+1)%p.length],U=h[E<h.length?E:h.length-1];if(U===0){y.push(C);continue}var D=c.normalise({x:C.y-w.y,y:w.x-C.x}),V=c.normalise({x:R.y-C.y,y:C.x-R.x}),A=Math.sqrt(2*Math.pow(U,2)),M=c.mult(f.clone(D),U),L=c.normalise(c.mult(c.add(D,V),.5)),I=c.sub(C,c.mult(L,A)),B=g;g===-1&&(B=Math.pow(U,.32)*1.75),B=f.clamp(B,x,b),B%2===1&&(B+=1);for(var k=Math.acos(c.dot(D,V)),q=k/B,P=0;P<B;P++)y.push(c.add(c.rotate(M,q*P),I))}return y},s.clockwiseSort=function(p){var h=s.mean(p);return p.sort(function(g,x){return c.angle(h,g)-c.angle(h,x)}),p},s.isConvex=function(p){var h=0,g=p.length,x,b,y,E;if(g<3)return null;for(x=0;x<g;x++)if(b=(x+1)%g,y=(x+2)%g,E=(p[b].x-p[x].x)*(p[y].y-p[b].y),E-=(p[b].y-p[x].y)*(p[y].x-p[b].x),E<0?h|=1:E>0&&(h|=2),h===3)return!1;return h!==0?!0:null},s.hull=function(p){var h=[],g=[],x,b;for(p=p.slice(0),p.sort(function(y,E){var w=y.x-E.x;return w!==0?w:y.y-E.y}),b=0;b<p.length;b+=1){for(x=p[b];g.length>=2&&c.cross3(g[g.length-2],g[g.length-1],x)<=0;)g.pop();g.push(x)}for(b=p.length-1;b>=0;b-=1){for(x=p[b];h.length>=2&&c.cross3(h[h.length-2],h[h.length-1],x)<=0;)h.pop();h.push(x)}return h.pop(),g.pop(),h.concat(g)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(2),p=r(7),h=r(0),g=r(1),x=r(11);(function(){s._timeCorrection=!0,s._inertiaScale=4,s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,s._baseDelta=1e3/60,s.create=function(y){var E={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:c.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},w=h.extend(E,y);return b(w,y),w},s.nextGroup=function(y){return y?s._nextNonCollidingGroupId--:s._nextCollidingGroupId++},s.nextCategory=function(){return s._nextCategory=s._nextCategory<<1,s._nextCategory};var b=function(y,E){E=E||{},s.set(y,{bounds:y.bounds||g.create(y.vertices),positionPrev:y.positionPrev||f.clone(y.position),anglePrev:y.anglePrev||y.angle,vertices:y.vertices,parts:y.parts||[y],isStatic:y.isStatic,isSleeping:y.isSleeping,parent:y.parent||y}),c.rotate(y.vertices,y.angle,y.position),x.rotate(y.axes,y.angle),g.update(y.bounds,y.vertices,y.velocity),s.set(y,{axes:E.axes||y.axes,area:E.area||y.area,mass:E.mass||y.mass,inertia:E.inertia||y.inertia});var w=y.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),C=y.isStatic?"#555":"#ccc",R=y.isStatic&&y.render.fillStyle===null?1:0;y.render.fillStyle=y.render.fillStyle||w,y.render.strokeStyle=y.render.strokeStyle||C,y.render.lineWidth=y.render.lineWidth||R,y.render.sprite.xOffset+=-(y.bounds.min.x-y.position.x)/(y.bounds.max.x-y.bounds.min.x),y.render.sprite.yOffset+=-(y.bounds.min.y-y.position.y)/(y.bounds.max.y-y.bounds.min.y)};s.set=function(y,E,w){var C;typeof E=="string"&&(C=E,E={},E[C]=w);for(C in E)if(Object.prototype.hasOwnProperty.call(E,C))switch(w=E[C],C){case"isStatic":s.setStatic(y,w);break;case"isSleeping":p.set(y,w);break;case"mass":s.setMass(y,w);break;case"density":s.setDensity(y,w);break;case"inertia":s.setInertia(y,w);break;case"vertices":s.setVertices(y,w);break;case"position":s.setPosition(y,w);break;case"angle":s.setAngle(y,w);break;case"velocity":s.setVelocity(y,w);break;case"angularVelocity":s.setAngularVelocity(y,w);break;case"speed":s.setSpeed(y,w);break;case"angularSpeed":s.setAngularSpeed(y,w);break;case"parts":s.setParts(y,w);break;case"centre":s.setCentre(y,w);break;default:y[C]=w}},s.setStatic=function(y,E){for(var w=0;w<y.parts.length;w++){var C=y.parts[w];E?(C.isStatic||(C._original={restitution:C.restitution,friction:C.friction,mass:C.mass,inertia:C.inertia,density:C.density,inverseMass:C.inverseMass,inverseInertia:C.inverseInertia}),C.restitution=0,C.friction=1,C.mass=C.inertia=C.density=1/0,C.inverseMass=C.inverseInertia=0,C.positionPrev.x=C.position.x,C.positionPrev.y=C.position.y,C.anglePrev=C.angle,C.angularVelocity=0,C.speed=0,C.angularSpeed=0,C.motion=0):C._original&&(C.restitution=C._original.restitution,C.friction=C._original.friction,C.mass=C._original.mass,C.inertia=C._original.inertia,C.density=C._original.density,C.inverseMass=C._original.inverseMass,C.inverseInertia=C._original.inverseInertia,C._original=null),C.isStatic=E}},s.setMass=function(y,E){var w=y.inertia/(y.mass/6);y.inertia=w*(E/6),y.inverseInertia=1/y.inertia,y.mass=E,y.inverseMass=1/y.mass,y.density=y.mass/y.area},s.setDensity=function(y,E){s.setMass(y,E*y.area),y.density=E},s.setInertia=function(y,E){y.inertia=E,y.inverseInertia=1/y.inertia},s.setVertices=function(y,E){E[0].body===y?y.vertices=E:y.vertices=c.create(E,y),y.axes=x.fromVertices(y.vertices),y.area=c.area(y.vertices),s.setMass(y,y.density*y.area);var w=c.centre(y.vertices);c.translate(y.vertices,w,-1),s.setInertia(y,s._inertiaScale*c.inertia(y.vertices,y.mass)),c.translate(y.vertices,y.position),g.update(y.bounds,y.vertices,y.velocity)},s.setParts=function(y,E,w){var C;for(E=E.slice(0),y.parts.length=0,y.parts.push(y),y.parent=y,C=0;C<E.length;C++){var R=E[C];R!==y&&(R.parent=y,y.parts.push(R))}if(y.parts.length!==1){if(w=typeof w<"u"?w:!0,w){var U=[];for(C=0;C<E.length;C++)U=U.concat(E[C].vertices);c.clockwiseSort(U);var D=c.hull(U),V=c.centre(D);s.setVertices(y,D),c.translate(y.vertices,V)}var A=s._totalProperties(y);y.area=A.area,y.parent=y,y.position.x=A.centre.x,y.position.y=A.centre.y,y.positionPrev.x=A.centre.x,y.positionPrev.y=A.centre.y,s.setMass(y,A.mass),s.setInertia(y,A.inertia),s.setPosition(y,A.centre)}},s.setCentre=function(y,E,w){w?(y.positionPrev.x+=E.x,y.positionPrev.y+=E.y,y.position.x+=E.x,y.position.y+=E.y):(y.positionPrev.x=E.x-(y.position.x-y.positionPrev.x),y.positionPrev.y=E.y-(y.position.y-y.positionPrev.y),y.position.x=E.x,y.position.y=E.y)},s.setPosition=function(y,E,w){var C=f.sub(E,y.position);w?(y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.velocity.x=C.x,y.velocity.y=C.y,y.speed=f.magnitude(C)):(y.positionPrev.x+=C.x,y.positionPrev.y+=C.y);for(var R=0;R<y.parts.length;R++){var U=y.parts[R];U.position.x+=C.x,U.position.y+=C.y,c.translate(U.vertices,C),g.update(U.bounds,U.vertices,y.velocity)}},s.setAngle=function(y,E,w){var C=E-y.angle;w?(y.anglePrev=y.angle,y.angularVelocity=C,y.angularSpeed=Math.abs(C)):y.anglePrev+=C;for(var R=0;R<y.parts.length;R++){var U=y.parts[R];U.angle+=C,c.rotate(U.vertices,C,y.position),x.rotate(U.axes,C),g.update(U.bounds,U.vertices,y.velocity),R>0&&f.rotateAbout(U.position,C,y.position,U.position)}},s.setVelocity=function(y,E){var w=y.deltaTime/s._baseDelta;y.positionPrev.x=y.position.x-E.x*w,y.positionPrev.y=y.position.y-E.y*w,y.velocity.x=(y.position.x-y.positionPrev.x)/w,y.velocity.y=(y.position.y-y.positionPrev.y)/w,y.speed=f.magnitude(y.velocity)},s.getVelocity=function(y){var E=s._baseDelta/y.deltaTime;return{x:(y.position.x-y.positionPrev.x)*E,y:(y.position.y-y.positionPrev.y)*E}},s.getSpeed=function(y){return f.magnitude(s.getVelocity(y))},s.setSpeed=function(y,E){s.setVelocity(y,f.mult(f.normalise(s.getVelocity(y)),E))},s.setAngularVelocity=function(y,E){var w=y.deltaTime/s._baseDelta;y.anglePrev=y.angle-E*w,y.angularVelocity=(y.angle-y.anglePrev)/w,y.angularSpeed=Math.abs(y.angularVelocity)},s.getAngularVelocity=function(y){return(y.angle-y.anglePrev)*s._baseDelta/y.deltaTime},s.getAngularSpeed=function(y){return Math.abs(s.getAngularVelocity(y))},s.setAngularSpeed=function(y,E){s.setAngularVelocity(y,h.sign(s.getAngularVelocity(y))*E)},s.translate=function(y,E,w){s.setPosition(y,f.add(y.position,E),w)},s.rotate=function(y,E,w,C){if(!w)s.setAngle(y,y.angle+E,C);else{var R=Math.cos(E),U=Math.sin(E),D=y.position.x-w.x,V=y.position.y-w.y;s.setPosition(y,{x:w.x+(D*R-V*U),y:w.y+(D*U+V*R)},C),s.setAngle(y,y.angle+E,C)}},s.scale=function(y,E,w,C){var R=0,U=0;C=C||y.position;for(var D=0;D<y.parts.length;D++){var V=y.parts[D];c.scale(V.vertices,E,w,C),V.axes=x.fromVertices(V.vertices),V.area=c.area(V.vertices),s.setMass(V,y.density*V.area),c.translate(V.vertices,{x:-V.position.x,y:-V.position.y}),s.setInertia(V,s._inertiaScale*c.inertia(V.vertices,V.mass)),c.translate(V.vertices,{x:V.position.x,y:V.position.y}),D>0&&(R+=V.area,U+=V.inertia),V.position.x=C.x+(V.position.x-C.x)*E,V.position.y=C.y+(V.position.y-C.y)*w,g.update(V.bounds,V.vertices,y.velocity)}y.parts.length>1&&(y.area=R,y.isStatic||(s.setMass(y,y.density*R),s.setInertia(y,U))),y.circleRadius&&(E===w?y.circleRadius*=E:y.circleRadius=null)},s.update=function(y,E){E=(typeof E<"u"?E:1e3/60)*y.timeScale;var w=E*E,C=s._timeCorrection?E/(y.deltaTime||E):1,R=1-y.frictionAir*(E/h._baseDelta),U=(y.position.x-y.positionPrev.x)*C,D=(y.position.y-y.positionPrev.y)*C;y.velocity.x=U*R+y.force.x/y.mass*w,y.velocity.y=D*R+y.force.y/y.mass*w,y.positionPrev.x=y.position.x,y.positionPrev.y=y.position.y,y.position.x+=y.velocity.x,y.position.y+=y.velocity.y,y.deltaTime=E,y.angularVelocity=(y.angle-y.anglePrev)*R*C+y.torque/y.inertia*w,y.anglePrev=y.angle,y.angle+=y.angularVelocity;for(var V=0;V<y.parts.length;V++){var A=y.parts[V];c.translate(A.vertices,y.velocity),V>0&&(A.position.x+=y.velocity.x,A.position.y+=y.velocity.y),y.angularVelocity!==0&&(c.rotate(A.vertices,y.angularVelocity,y.position),x.rotate(A.axes,y.angularVelocity),V>0&&f.rotateAbout(A.position,y.angularVelocity,y.position,A.position)),g.update(A.bounds,A.vertices,y.velocity)}},s.updateVelocities=function(y){var E=s._baseDelta/y.deltaTime,w=y.velocity;w.x=(y.position.x-y.positionPrev.x)*E,w.y=(y.position.y-y.positionPrev.y)*E,y.speed=Math.sqrt(w.x*w.x+w.y*w.y),y.angularVelocity=(y.angle-y.anglePrev)*E,y.angularSpeed=Math.abs(y.angularVelocity)},s.applyForce=function(y,E,w){var C={x:E.x-y.position.x,y:E.y-y.position.y};y.force.x+=w.x,y.force.y+=w.y,y.torque+=C.x*w.y-C.y*w.x},s._totalProperties=function(y){for(var E={mass:0,area:0,inertia:0,centre:{x:0,y:0}},w=y.parts.length===1?0:1;w<y.parts.length;w++){var C=y.parts[w],R=C.mass!==1/0?C.mass:1;E.mass+=R,E.area+=C.area,E.inertia+=C.inertia,E.centre=f.add(E.centre,f.mult(C.position,R))}return E.centre=f.div(E.centre,E.mass),E}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(0);(function(){s.on=function(f,p,h){for(var g=p.split(" "),x,b=0;b<g.length;b++)x=g[b],f.events=f.events||{},f.events[x]=f.events[x]||[],f.events[x].push(h);return h},s.off=function(f,p,h){if(!p){f.events={};return}typeof p=="function"&&(h=p,p=c.keys(f.events).join(" "));for(var g=p.split(" "),x=0;x<g.length;x++){var b=f.events[g[x]],y=[];if(h&&b)for(var E=0;E<b.length;E++)b[E]!==h&&y.push(b[E]);f.events[g[x]]=y}},s.trigger=function(f,p,h){var g,x,b,y,E=f.events;if(E&&c.keys(E).length>0){h||(h={}),g=p.split(" ");for(var w=0;w<g.length;w++)if(x=g[w],b=E[x],b){y=c.clone(h,!1),y.name=x,y.source=f;for(var C=0;C<b.length;C++)b[C].apply(f,[y])}}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(5),f=r(0),p=r(1),h=r(4);(function(){s.create=function(g){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},g)},s.setModified=function(g,x,b,y){if(g.isModified=x,x&&g.cache&&(g.cache.allBodies=null,g.cache.allConstraints=null,g.cache.allComposites=null),b&&g.parent&&s.setModified(g.parent,x,b,y),y)for(var E=0;E<g.composites.length;E++){var w=g.composites[E];s.setModified(w,x,b,y)}},s.add=function(g,x){var b=[].concat(x);c.trigger(g,"beforeAdd",{object:x});for(var y=0;y<b.length;y++){var E=b[y];switch(E.type){case"body":if(E.parent!==E){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}s.addBody(g,E);break;case"constraint":s.addConstraint(g,E);break;case"composite":s.addComposite(g,E);break;case"mouseConstraint":s.addConstraint(g,E.constraint);break}}return c.trigger(g,"afterAdd",{object:x}),g},s.remove=function(g,x,b){var y=[].concat(x);c.trigger(g,"beforeRemove",{object:x});for(var E=0;E<y.length;E++){var w=y[E];switch(w.type){case"body":s.removeBody(g,w,b);break;case"constraint":s.removeConstraint(g,w,b);break;case"composite":s.removeComposite(g,w,b);break;case"mouseConstraint":s.removeConstraint(g,w.constraint);break}}return c.trigger(g,"afterRemove",{object:x}),g},s.addComposite=function(g,x){return g.composites.push(x),x.parent=g,s.setModified(g,!0,!0,!1),g},s.removeComposite=function(g,x,b){var y=f.indexOf(g.composites,x);if(y!==-1){var E=s.allBodies(x);s.removeCompositeAt(g,y);for(var w=0;w<E.length;w++)E[w].sleepCounter=0}if(b)for(var w=0;w<g.composites.length;w++)s.removeComposite(g.composites[w],x,!0);return g},s.removeCompositeAt=function(g,x){return g.composites.splice(x,1),s.setModified(g,!0,!0,!1),g},s.addBody=function(g,x){return g.bodies.push(x),s.setModified(g,!0,!0,!1),g},s.removeBody=function(g,x,b){var y=f.indexOf(g.bodies,x);if(y!==-1&&(s.removeBodyAt(g,y),x.sleepCounter=0),b)for(var E=0;E<g.composites.length;E++)s.removeBody(g.composites[E],x,!0);return g},s.removeBodyAt=function(g,x){return g.bodies.splice(x,1),s.setModified(g,!0,!0,!1),g},s.addConstraint=function(g,x){return g.constraints.push(x),s.setModified(g,!0,!0,!1),g},s.removeConstraint=function(g,x,b){var y=f.indexOf(g.constraints,x);if(y!==-1&&s.removeConstraintAt(g,y),b)for(var E=0;E<g.composites.length;E++)s.removeConstraint(g.composites[E],x,!0);return g},s.removeConstraintAt=function(g,x){return g.constraints.splice(x,1),s.setModified(g,!0,!0,!1),g},s.clear=function(g,x,b){if(b)for(var y=0;y<g.composites.length;y++)s.clear(g.composites[y],x,!0);return x?g.bodies=g.bodies.filter(function(E){return E.isStatic}):g.bodies.length=0,g.constraints.length=0,g.composites.length=0,s.setModified(g,!0,!0,!1),g},s.allBodies=function(g){if(g.cache&&g.cache.allBodies)return g.cache.allBodies;for(var x=[].concat(g.bodies),b=0;b<g.composites.length;b++)x=x.concat(s.allBodies(g.composites[b]));return g.cache&&(g.cache.allBodies=x),x},s.allConstraints=function(g){if(g.cache&&g.cache.allConstraints)return g.cache.allConstraints;for(var x=[].concat(g.constraints),b=0;b<g.composites.length;b++)x=x.concat(s.allConstraints(g.composites[b]));return g.cache&&(g.cache.allConstraints=x),x},s.allComposites=function(g){if(g.cache&&g.cache.allComposites)return g.cache.allComposites;for(var x=[].concat(g.composites),b=0;b<g.composites.length;b++)x=x.concat(s.allComposites(g.composites[b]));return g.cache&&(g.cache.allComposites=x),x},s.get=function(g,x,b){var y,E;switch(b){case"body":y=s.allBodies(g);break;case"constraint":y=s.allConstraints(g);break;case"composite":y=s.allComposites(g).concat(g);break}return y?(E=y.filter(function(w){return w.id.toString()===x.toString()}),E.length===0?null:E[0]):null},s.move=function(g,x,b){return s.remove(g,x),s.add(b,x),g},s.rebase=function(g){for(var x=s.allBodies(g).concat(s.allConstraints(g)).concat(s.allComposites(g)),b=0;b<x.length;b++)x[b].id=f.nextId();return g},s.translate=function(g,x,b){for(var y=b?s.allBodies(g):g.bodies,E=0;E<y.length;E++)h.translate(y[E],x);return g},s.rotate=function(g,x,b,y){for(var E=Math.cos(x),w=Math.sin(x),C=y?s.allBodies(g):g.bodies,R=0;R<C.length;R++){var U=C[R],D=U.position.x-b.x,V=U.position.y-b.y;h.setPosition(U,{x:b.x+(D*E-V*w),y:b.y+(D*w+V*E)}),h.rotate(U,x)}return g},s.scale=function(g,x,b,y,E){for(var w=E?s.allBodies(g):g.bodies,C=0;C<w.length;C++){var R=w[C],U=R.position.x-y.x,D=R.position.y-y.y;h.setPosition(R,{x:y.x+U*x,y:y.y+D*b}),h.scale(R,x,b)}return g},s.bounds=function(g){for(var x=s.allBodies(g),b=[],y=0;y<x.length;y+=1){var E=x[y];b.push(E.bounds.min,E.bounds.max)}return p.create(b)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(4),f=r(5),p=r(0);(function(){s._motionWakeThreshold=.18,s._motionSleepThreshold=.08,s._minBias=.9,s.update=function(h,g){for(var x=g/p._baseDelta,b=s._motionSleepThreshold,y=0;y<h.length;y++){var E=h[y],w=c.getSpeed(E),C=c.getAngularSpeed(E),R=w*w+C*C;if(E.force.x!==0||E.force.y!==0){s.set(E,!1);continue}var U=Math.min(E.motion,R),D=Math.max(E.motion,R);E.motion=s._minBias*U+(1-s._minBias)*D,E.sleepThreshold>0&&E.motion<b?(E.sleepCounter+=1,E.sleepCounter>=E.sleepThreshold/x&&s.set(E,!0)):E.sleepCounter>0&&(E.sleepCounter-=1)}},s.afterCollisions=function(h){for(var g=s._motionSleepThreshold,x=0;x<h.length;x++){var b=h[x];if(b.isActive){var y=b.collision,E=y.bodyA.parent,w=y.bodyB.parent;if(!(E.isSleeping&&w.isSleeping||E.isStatic||w.isStatic)&&(E.isSleeping||w.isSleeping)){var C=E.isSleeping&&!E.isStatic?E:w,R=C===E?w:E;!C.isStatic&&R.motion>g&&s.set(C,!1)}}}},s.set=function(h,g){var x=h.isSleeping;g?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,x||f.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,x&&f.trigger(h,"sleepEnd"))}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(9);(function(){var p=[],h={overlap:0,axis:null},g={overlap:0,axis:null};s.create=function(x,b){return{pair:null,collided:!1,bodyA:x,bodyB:b,parentA:x.parent,parentB:b.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},s.collides=function(x,b,y){if(s._overlapAxes(h,x.vertices,b.vertices,x.axes),h.overlap<=0||(s._overlapAxes(g,b.vertices,x.vertices,b.axes),g.overlap<=0))return null;var E=y&&y.table[f.id(x,b)],w;E?w=E.collision:(w=s.create(x,b),w.collided=!0,w.bodyA=x.id<b.id?x:b,w.bodyB=x.id<b.id?b:x,w.parentA=w.bodyA.parent,w.parentB=w.bodyB.parent),x=w.bodyA,b=w.bodyB;var C;h.overlap<g.overlap?C=h:C=g;var R=w.normal,U=w.tangent,D=w.penetration,V=w.supports,A=C.overlap,M=C.axis,L=M.x,I=M.y,B=b.position.x-x.position.x,k=b.position.y-x.position.y;L*B+I*k>=0&&(L=-L,I=-I),R.x=L,R.y=I,U.x=-I,U.y=L,D.x=L*A,D.y=I*A,w.depth=A;var q=s._findSupports(x,b,R,1),P=0;if(c.contains(x.vertices,q[0])&&(V[P++]=q[0]),c.contains(x.vertices,q[1])&&(V[P++]=q[1]),P<2){var H=s._findSupports(b,x,R,-1);c.contains(b.vertices,H[0])&&(V[P++]=H[0]),P<2&&c.contains(b.vertices,H[1])&&(V[P++]=H[1])}return P===0&&(V[P++]=q[0]),w.supportCount=P,w},s._overlapAxes=function(x,b,y,E){var w=b.length,C=y.length,R=b[0].x,U=b[0].y,D=y[0].x,V=y[0].y,A=E.length,M=Number.MAX_VALUE,L=0,I,B,k,q,P,H;for(P=0;P<A;P++){var K=E[P],J=K.x,Y=K.y,Z=R*J+U*Y,ie=D*J+V*Y,de=Z,se=ie;for(H=1;H<w;H+=1)q=b[H].x*J+b[H].y*Y,q>de?de=q:q<Z&&(Z=q);for(H=1;H<C;H+=1)q=y[H].x*J+y[H].y*Y,q>se?se=q:q<ie&&(ie=q);if(B=de-ie,k=se-Z,I=B<k?B:k,I<M&&(M=I,L=P,I<=0))break}x.axis=E[L],x.overlap=M},s._findSupports=function(x,b,y,E){var w=b.vertices,C=w.length,R=x.position.x,U=x.position.y,D=y.x*E,V=y.y*E,A=w[0],M=A,L=D*(R-M.x)+V*(U-M.y),I,B,k;for(k=1;k<C;k+=1)M=w[k],B=D*(R-M.x)+V*(U-M.y),B<L&&(L=B,A=M);return I=w[(C+A.index-1)%C],L=D*(R-I.x)+V*(U-I.y),M=w[(A.index+1)%C],D*(R-M.x)+V*(U-M.y)<L?(p[0]=A,p[1]=M,p):(p[0]=A,p[1]=I,p)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(16);(function(){s.create=function(f,p){var h=f.bodyA,g=f.bodyB,x={id:s.id(h,g),bodyA:h,bodyB:g,collision:f,contacts:[c.create(),c.create()],contactCount:0,separation:0,isActive:!0,isSensor:h.isSensor||g.isSensor,timeCreated:p,timeUpdated:p,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return s.update(x,f,p),x},s.update=function(f,p,h){var g=p.supports,x=p.supportCount,b=f.contacts,y=p.parentA,E=p.parentB;f.isActive=!0,f.timeUpdated=h,f.collision=p,f.separation=p.depth,f.inverseMass=y.inverseMass+E.inverseMass,f.friction=y.friction<E.friction?y.friction:E.friction,f.frictionStatic=y.frictionStatic>E.frictionStatic?y.frictionStatic:E.frictionStatic,f.restitution=y.restitution>E.restitution?y.restitution:E.restitution,f.slop=y.slop>E.slop?y.slop:E.slop,f.contactCount=x,p.pair=f;var w=g[0],C=b[0],R=g[1],U=b[1];(U.vertex===w||C.vertex===R)&&(b[1]=C,b[0]=C=U,U=b[1]),C.vertex=w,U.vertex=R},s.setActive=function(f,p,h){p?(f.isActive=!0,f.timeUpdated=h):(f.isActive=!1,f.contactCount=0)},s.id=function(f,p){return f.id<p.id?f.id.toString(36)+":"+p.id.toString(36):p.id.toString(36)+":"+f.id.toString(36)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(2),p=r(7),h=r(1),g=r(11),x=r(0);(function(){s._warming=.4,s._torqueDampen=1,s._minLength=1e-6,s.create=function(b){var y=b;y.bodyA&&!y.pointA&&(y.pointA={x:0,y:0}),y.bodyB&&!y.pointB&&(y.pointB={x:0,y:0});var E=y.bodyA?f.add(y.bodyA.position,y.pointA):y.pointA,w=y.bodyB?f.add(y.bodyB.position,y.pointB):y.pointB,C=f.magnitude(f.sub(E,w));y.length=typeof y.length<"u"?y.length:C,y.id=y.id||x.nextId(),y.label=y.label||"Constraint",y.type="constraint",y.stiffness=y.stiffness||(y.length>0?1:.7),y.damping=y.damping||0,y.angularStiffness=y.angularStiffness||0,y.angleA=y.bodyA?y.bodyA.angle:y.angleA,y.angleB=y.bodyB?y.bodyB.angle:y.angleB,y.plugin={};var R={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return y.length===0&&y.stiffness>.1?(R.type="pin",R.anchors=!1):y.stiffness<.9&&(R.type="spring"),y.render=x.extend(R,y.render),y},s.preSolveAll=function(b){for(var y=0;y<b.length;y+=1){var E=b[y],w=E.constraintImpulse;E.isStatic||w.x===0&&w.y===0&&w.angle===0||(E.position.x+=w.x,E.position.y+=w.y,E.angle+=w.angle)}},s.solveAll=function(b,y){for(var E=x.clamp(y/x._baseDelta,0,1),w=0;w<b.length;w+=1){var C=b[w],R=!C.bodyA||C.bodyA&&C.bodyA.isStatic,U=!C.bodyB||C.bodyB&&C.bodyB.isStatic;(R||U)&&s.solve(b[w],E)}for(w=0;w<b.length;w+=1)C=b[w],R=!C.bodyA||C.bodyA&&C.bodyA.isStatic,U=!C.bodyB||C.bodyB&&C.bodyB.isStatic,!R&&!U&&s.solve(b[w],E)},s.solve=function(b,y){var E=b.bodyA,w=b.bodyB,C=b.pointA,R=b.pointB;if(!(!E&&!w)){E&&!E.isStatic&&(f.rotate(C,E.angle-b.angleA,C),b.angleA=E.angle),w&&!w.isStatic&&(f.rotate(R,w.angle-b.angleB,R),b.angleB=w.angle);var U=C,D=R;if(E&&(U=f.add(E.position,C)),w&&(D=f.add(w.position,R)),!(!U||!D)){var V=f.sub(U,D),A=f.magnitude(V);A<s._minLength&&(A=s._minLength);var M=(A-b.length)/A,L=b.stiffness>=1||b.length===0,I=L?b.stiffness*y:b.stiffness*y*y,B=b.damping*y,k=f.mult(V,M*I),q=(E?E.inverseMass:0)+(w?w.inverseMass:0),P=(E?E.inverseInertia:0)+(w?w.inverseInertia:0),H=q+P,K,J,Y,Z,ie;if(B>0){var de=f.create();Y=f.div(V,A),ie=f.sub(w&&f.sub(w.position,w.positionPrev)||de,E&&f.sub(E.position,E.positionPrev)||de),Z=f.dot(Y,ie)}E&&!E.isStatic&&(J=E.inverseMass/q,E.constraintImpulse.x-=k.x*J,E.constraintImpulse.y-=k.y*J,E.position.x-=k.x*J,E.position.y-=k.y*J,B>0&&(E.positionPrev.x-=B*Y.x*Z*J,E.positionPrev.y-=B*Y.y*Z*J),K=f.cross(C,k)/H*s._torqueDampen*E.inverseInertia*(1-b.angularStiffness),E.constraintImpulse.angle-=K,E.angle-=K),w&&!w.isStatic&&(J=w.inverseMass/q,w.constraintImpulse.x+=k.x*J,w.constraintImpulse.y+=k.y*J,w.position.x+=k.x*J,w.position.y+=k.y*J,B>0&&(w.positionPrev.x+=B*Y.x*Z*J,w.positionPrev.y+=B*Y.y*Z*J),K=f.cross(R,k)/H*s._torqueDampen*w.inverseInertia*(1-b.angularStiffness),w.constraintImpulse.angle+=K,w.angle+=K)}}},s.postSolveAll=function(b){for(var y=0;y<b.length;y++){var E=b[y],w=E.constraintImpulse;if(!(E.isStatic||w.x===0&&w.y===0&&w.angle===0)){p.set(E,!1);for(var C=0;C<E.parts.length;C++){var R=E.parts[C];c.translate(R.vertices,w),C>0&&(R.position.x+=w.x,R.position.y+=w.y),w.angle!==0&&(c.rotate(R.vertices,w.angle,E.position),g.rotate(R.axes,w.angle),C>0&&f.rotateAbout(R.position,w.angle,E.position,R.position)),h.update(R.bounds,R.vertices,E.velocity)}w.angle*=s._warming,w.x*=s._warming,w.y*=s._warming}}},s.pointAWorld=function(b){return{x:(b.bodyA?b.bodyA.position.x:0)+(b.pointA?b.pointA.x:0),y:(b.bodyA?b.bodyA.position.y:0)+(b.pointA?b.pointA.y:0)}},s.pointBWorld=function(b){return{x:(b.bodyB?b.bodyB.position.x:0)+(b.pointB?b.pointB.x:0),y:(b.bodyB?b.bodyB.position.y:0)+(b.pointB?b.pointB.y:0)}},s.currentLength=function(b){var y=(b.bodyA?b.bodyA.position.x:0)+(b.pointA?b.pointA.x:0),E=(b.bodyA?b.bodyA.position.y:0)+(b.pointA?b.pointA.y:0),w=(b.bodyB?b.bodyB.position.x:0)+(b.pointB?b.pointB.x:0),C=(b.bodyB?b.bodyB.position.y:0)+(b.pointB?b.pointB.y:0),R=y-w,U=E-C;return Math.sqrt(R*R+U*U)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(2),f=r(0);(function(){s.fromVertices=function(p){for(var h={},g=0;g<p.length;g++){var x=(g+1)%p.length,b=c.normalise({x:p[x].y-p[g].y,y:p[g].x-p[x].x}),y=b.y===0?1/0:b.x/b.y;y=y.toFixed(3).toString(),h[y]=b}return f.values(h)},s.rotate=function(p,h){if(h!==0)for(var g=Math.cos(h),x=Math.sin(h),b=0;b<p.length;b++){var y=p[b],E;E=y.x*g-y.y*x,y.y=y.x*x+y.y*g,y.x=E}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(0),p=r(4),h=r(1),g=r(2);(function(){s.rectangle=function(x,b,y,E,w){w=w||{};var C={label:"Rectangle Body",position:{x,y:b},vertices:c.fromPath("L 0 0 L "+y+" 0 L "+y+" "+E+" L 0 "+E)};if(w.chamfer){var R=w.chamfer;C.vertices=c.chamfer(C.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete w.chamfer}return p.create(f.extend({},C,w))},s.trapezoid=function(x,b,y,E,w,C){C=C||{},w>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),w*=.5;var R=(1-w*2)*y,U=y*w,D=U+R,V=D+U,A;w<.5?A="L 0 0 L "+U+" "+-E+" L "+D+" "+-E+" L "+V+" 0":A="L 0 0 L "+D+" "+-E+" L "+V+" 0";var M={label:"Trapezoid Body",position:{x,y:b},vertices:c.fromPath(A)};if(C.chamfer){var L=C.chamfer;M.vertices=c.chamfer(M.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete C.chamfer}return p.create(f.extend({},M,C))},s.circle=function(x,b,y,E,w){E=E||{};var C={label:"Circle Body",circleRadius:y};w=w||25;var R=Math.ceil(Math.max(10,Math.min(w,y)));return R%2===1&&(R+=1),s.polygon(x,b,R,y,f.extend({},C,E))},s.polygon=function(x,b,y,E,w){if(w=w||{},y<3)return s.circle(x,b,E,w);for(var C=2*Math.PI/y,R="",U=C*.5,D=0;D<y;D+=1){var V=U+D*C,A=Math.cos(V)*E,M=Math.sin(V)*E;R+="L "+A.toFixed(3)+" "+M.toFixed(3)+" "}var L={label:"Polygon Body",position:{x,y:b},vertices:c.fromPath(R)};if(w.chamfer){var I=w.chamfer;L.vertices=c.chamfer(L.vertices,I.radius,I.quality,I.qualityMin,I.qualityMax),delete w.chamfer}return p.create(f.extend({},L,w))},s.fromVertices=function(x,b,y,E,w,C,R,U){var D=f.getDecomp(),V,A,M,L,I,B,k,q,P,H,K;for(V=!!(D&&D.quickDecomp),E=E||{},M=[],w=typeof w<"u"?w:!1,C=typeof C<"u"?C:.01,R=typeof R<"u"?R:10,U=typeof U<"u"?U:.01,f.isArray(y[0])||(y=[y]),H=0;H<y.length;H+=1)if(B=y[H],L=c.isConvex(B),I=!L,I&&!V&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),L||!V)L?B=c.clockwiseSort(B):B=c.hull(B),M.push({position:{x,y:b},vertices:B});else{var J=B.map(function(ce){return[ce.x,ce.y]});D.makeCCW(J),C!==!1&&D.removeCollinearPoints(J,C),U!==!1&&D.removeDuplicatePoints&&D.removeDuplicatePoints(J,U);var Y=D.quickDecomp(J);for(k=0;k<Y.length;k++){var Z=Y[k],ie=Z.map(function(ce){return{x:ce[0],y:ce[1]}});R>0&&c.area(ie)<R||M.push({position:c.centre(ie),vertices:ie})}}for(k=0;k<M.length;k++)M[k]=p.create(f.extend(M[k],E));if(w){var de=5;for(k=0;k<M.length;k++){var se=M[k];for(q=k+1;q<M.length;q++){var z=M[q];if(h.overlaps(se.bounds,z.bounds)){var $=se.vertices,ee=z.vertices;for(P=0;P<se.vertices.length;P++)for(K=0;K<z.vertices.length;K++){var he=g.magnitudeSquared(g.sub($[(P+1)%$.length],ee[K])),Se=g.magnitudeSquared(g.sub($[P],ee[(K+1)%ee.length]));he<de&&Se<de&&($[P].isInternal=!0,ee[K].isInternal=!0)}}}}}return M.length>1?(A=p.create(f.extend({parts:M.slice(0)},E)),p.setPosition(A,{x,y:b}),A):M[0]}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(0),f=r(8);(function(){s.create=function(p){var h={bodies:[],collisions:[],pairs:null};return c.extend(h,p)},s.setBodies=function(p,h){p.bodies=h.slice(0)},s.clear=function(p){p.bodies=[],p.collisions=[]},s.collisions=function(p){var h=p.pairs,g=p.bodies,x=g.length,b=s.canCollide,y=f.collides,E=p.collisions,w=0,C,R;for(g.sort(s._compareBoundsX),C=0;C<x;C++){var U=g[C],D=U.bounds,V=U.bounds.max.x,A=U.bounds.max.y,M=U.bounds.min.y,L=U.isStatic||U.isSleeping,I=U.parts.length,B=I===1;for(R=C+1;R<x;R++){var k=g[R],q=k.bounds;if(q.min.x>V)break;if(!(A<q.min.y||M>q.max.y)&&!(L&&(k.isStatic||k.isSleeping))&&b(U.collisionFilter,k.collisionFilter)){var P=k.parts.length;if(B&&P===1){var H=y(U,k,h);H&&(E[w++]=H)}else for(var K=I>1?1:0,J=P>1?1:0,Y=K;Y<I;Y++)for(var Z=U.parts[Y],D=Z.bounds,ie=J;ie<P;ie++){var de=k.parts[ie],q=de.bounds;if(!(D.min.x>q.max.x||D.max.x<q.min.x||D.max.y<q.min.y||D.min.y>q.max.y)){var H=y(Z,de,h);H&&(E[w++]=H)}}}}}return E.length!==w&&(E.length=w),E},s.canCollide=function(p,h){return p.group===h.group&&p.group!==0?p.group>0:(p.mask&h.category)!==0&&(h.mask&p.category)!==0},s._compareBoundsX=function(p,h){return p.bounds.min.x-h.bounds.min.x}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(0);(function(){s.create=function(f){var p={};return f||c.log("Mouse.create: element was undefined, defaulting to document.body","warn"),p.element=f||document.body,p.absolute={x:0,y:0},p.position={x:0,y:0},p.mousedownPosition={x:0,y:0},p.mouseupPosition={x:0,y:0},p.offset={x:0,y:0},p.scale={x:1,y:1},p.wheelDelta=0,p.button=-1,p.pixelRatio=parseInt(p.element.getAttribute("data-pixel-ratio"),10)||1,p.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},p.mousemove=function(h){var g=s._getRelativeMousePosition(h,p.element,p.pixelRatio),x=h.changedTouches;x&&(p.button=0,h.preventDefault()),p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.sourceEvents.mousemove=h},p.mousedown=function(h){var g=s._getRelativeMousePosition(h,p.element,p.pixelRatio),x=h.changedTouches;x?(p.button=0,h.preventDefault()):p.button=h.button,p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.mousedownPosition.x=p.position.x,p.mousedownPosition.y=p.position.y,p.sourceEvents.mousedown=h},p.mouseup=function(h){var g=s._getRelativeMousePosition(h,p.element,p.pixelRatio),x=h.changedTouches;x&&h.preventDefault(),p.button=-1,p.absolute.x=g.x,p.absolute.y=g.y,p.position.x=p.absolute.x*p.scale.x+p.offset.x,p.position.y=p.absolute.y*p.scale.y+p.offset.y,p.mouseupPosition.x=p.position.x,p.mouseupPosition.y=p.position.y,p.sourceEvents.mouseup=h},p.mousewheel=function(h){p.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault(),p.sourceEvents.mousewheel=h},s.setElement(p,p.element),p},s.setElement=function(f,p){f.element=p,p.addEventListener("mousemove",f.mousemove,{passive:!0}),p.addEventListener("mousedown",f.mousedown,{passive:!0}),p.addEventListener("mouseup",f.mouseup,{passive:!0}),p.addEventListener("wheel",f.mousewheel,{passive:!1}),p.addEventListener("touchmove",f.mousemove,{passive:!1}),p.addEventListener("touchstart",f.mousedown,{passive:!1}),p.addEventListener("touchend",f.mouseup,{passive:!1})},s.clearSourceEvents=function(f){f.sourceEvents.mousemove=null,f.sourceEvents.mousedown=null,f.sourceEvents.mouseup=null,f.sourceEvents.mousewheel=null,f.wheelDelta=0},s.setOffset=function(f,p){f.offset.x=p.x,f.offset.y=p.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},s.setScale=function(f,p){f.scale.x=p.x,f.scale.y=p.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},s._getRelativeMousePosition=function(f,p,h){var g=p.getBoundingClientRect(),x=document.documentElement||document.body.parentNode||document.body,b=window.pageXOffset!==void 0?window.pageXOffset:x.scrollLeft,y=window.pageYOffset!==void 0?window.pageYOffset:x.scrollTop,E=f.changedTouches,w,C;return E?(w=E[0].pageX-g.left-b,C=E[0].pageY-g.top-y):(w=f.pageX-g.left-b,C=f.pageY-g.top-y),{x:w/(p.clientWidth/(p.width||p.clientWidth)*h),y:C/(p.clientHeight/(p.height||p.clientHeight)*h)}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(0);(function(){s._registry={},s.register=function(f){if(s.isPlugin(f)||c.warn("Plugin.register:",s.toString(f),"does not implement all required fields."),f.name in s._registry){var p=s._registry[f.name],h=s.versionParse(f.version).number,g=s.versionParse(p.version).number;h>g?(c.warn("Plugin.register:",s.toString(p),"was upgraded to",s.toString(f)),s._registry[f.name]=f):h<g?c.warn("Plugin.register:",s.toString(p),"can not be downgraded to",s.toString(f)):f!==p&&c.warn("Plugin.register:",s.toString(f),"is already registered to different plugin object")}else s._registry[f.name]=f;return f},s.resolve=function(f){return s._registry[s.dependencyParse(f).name]},s.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},s.isPlugin=function(f){return f&&f.name&&f.version&&f.install},s.isUsed=function(f,p){return f.used.indexOf(p)>-1},s.isFor=function(f,p){var h=f.for&&s.dependencyParse(f.for);return!f.for||p.name===h.name&&s.versionSatisfies(p.version,h.range)},s.use=function(f,p){if(f.uses=(f.uses||[]).concat(p||[]),f.uses.length===0){c.warn("Plugin.use:",s.toString(f),"does not specify any dependencies to install.");return}for(var h=s.dependencies(f),g=c.topologicalSort(h),x=[],b=0;b<g.length;b+=1)if(g[b]!==f.name){var y=s.resolve(g[b]);if(!y){x.push(" "+g[b]);continue}s.isUsed(f,y.name)||(s.isFor(y,f)||(c.warn("Plugin.use:",s.toString(y),"is for",y.for,"but installed on",s.toString(f)+"."),y._warned=!0),y.install?y.install(f):(c.warn("Plugin.use:",s.toString(y),"does not specify an install function."),y._warned=!0),y._warned?(x.push(" "+s.toString(y)),delete y._warned):x.push(" "+s.toString(y)),f.used.push(y.name))}x.length>0&&c.info(x.join("  "))},s.dependencies=function(f,p){var h=s.dependencyParse(f),g=h.name;if(p=p||{},!(g in p)){f=s.resolve(f)||f,p[g]=c.map(f.uses||[],function(b){s.isPlugin(b)&&s.register(b);var y=s.dependencyParse(b),E=s.resolve(b);return E&&!s.versionSatisfies(E.version,y.range)?(c.warn("Plugin.dependencies:",s.toString(E),"does not satisfy",s.toString(y),"used by",s.toString(h)+"."),E._warned=!0,f._warned=!0):E||(c.warn("Plugin.dependencies:",s.toString(b),"used by",s.toString(h),"could not be resolved."),f._warned=!0),y.name});for(var x=0;x<p[g].length;x+=1)s.dependencies(p[g][x],p);return p}},s.dependencyParse=function(f){if(c.isString(f)){var p=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return p.test(f)||c.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},s.versionParse=function(f){var p=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;p.test(f)||c.warn("Plugin.versionParse:",f,"is not a valid version or range.");var h=p.exec(f),g=Number(h[4]),x=Number(h[5]),b=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:f,operator:h[1]||h[2]||"",major:g,minor:x,patch:b,parts:[g,x,b],prerelease:h[7],number:g*1e8+x*1e4+b}},s.versionSatisfies=function(f,p){p=p||"*";var h=s.versionParse(p),g=s.versionParse(f);if(h.isRange){if(h.operator==="*"||f==="*")return!0;if(h.operator===">")return g.number>h.number;if(h.operator===">=")return g.number>=h.number;if(h.operator==="~")return g.major===h.major&&g.minor===h.minor&&g.patch>=h.patch;if(h.operator==="^")return h.major>0?g.major===h.major&&g.number>=h.number:h.minor>0?g.minor===h.minor&&g.patch>=h.patch:g.patch===h.patch}return f===p||f==="*"}})()}),(function(o,l){var r={};o.exports=r,(function(){r.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(7),f=r(18),p=r(13),h=r(19),g=r(5),x=r(6),b=r(10),y=r(0),E=r(4);(function(){s._deltaMax=1e3/60,s.create=function(w){w=w||{};var C={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},R=y.extend(C,w);return R.world=w.world||x.create({label:"World"}),R.pairs=w.pairs||h.create(),R.detector=w.detector||p.create(),R.detector.pairs=R.pairs,R.grid={buckets:[]},R.world.gravity=R.gravity,R.broadphase=R.grid,R.metrics={},R},s.update=function(w,C){var R=y.now(),U=w.world,D=w.detector,V=w.pairs,A=w.timing,M=A.timestamp,L;C>s._deltaMax&&y.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",s._deltaMax.toFixed(3),"ms."),C=typeof C<"u"?C:y._baseDelta,C*=A.timeScale,A.timestamp+=C,A.lastDelta=C;var I={timestamp:A.timestamp,delta:C};g.trigger(w,"beforeUpdate",I);var B=x.allBodies(U),k=x.allConstraints(U);for(U.isModified&&(p.setBodies(D,B),x.setModified(U,!1,!1,!0)),w.enableSleeping&&c.update(B,C),s._bodiesApplyGravity(B,w.gravity),C>0&&s._bodiesUpdate(B,C),g.trigger(w,"beforeSolve",I),b.preSolveAll(B),L=0;L<w.constraintIterations;L++)b.solveAll(k,C);b.postSolveAll(B);var q=p.collisions(D);h.update(V,q,M),w.enableSleeping&&c.afterCollisions(V.list),V.collisionStart.length>0&&g.trigger(w,"collisionStart",{pairs:V.collisionStart,timestamp:A.timestamp,delta:C});var P=y.clamp(20/w.positionIterations,0,1);for(f.preSolvePosition(V.list),L=0;L<w.positionIterations;L++)f.solvePosition(V.list,C,P);for(f.postSolvePosition(B),b.preSolveAll(B),L=0;L<w.constraintIterations;L++)b.solveAll(k,C);for(b.postSolveAll(B),f.preSolveVelocity(V.list),L=0;L<w.velocityIterations;L++)f.solveVelocity(V.list,C);return s._bodiesUpdateVelocities(B),V.collisionActive.length>0&&g.trigger(w,"collisionActive",{pairs:V.collisionActive,timestamp:A.timestamp,delta:C}),V.collisionEnd.length>0&&g.trigger(w,"collisionEnd",{pairs:V.collisionEnd,timestamp:A.timestamp,delta:C}),s._bodiesClearForces(B),g.trigger(w,"afterUpdate",I),w.timing.lastElapsed=y.now()-R,w},s.merge=function(w,C){if(y.extend(w,C),C.world){w.world=C.world,s.clear(w);for(var R=x.allBodies(w.world),U=0;U<R.length;U++){var D=R[U];c.set(D,!1),D.id=y.nextId()}}},s.clear=function(w){h.clear(w.pairs),p.clear(w.detector)},s._bodiesClearForces=function(w){for(var C=w.length,R=0;R<C;R++){var U=w[R];U.force.x=0,U.force.y=0,U.torque=0}},s._bodiesApplyGravity=function(w,C){var R=typeof C.scale<"u"?C.scale:.001,U=w.length;if(!(C.x===0&&C.y===0||R===0))for(var D=0;D<U;D++){var V=w[D];V.isStatic||V.isSleeping||(V.force.y+=V.mass*C.y*R,V.force.x+=V.mass*C.x*R)}},s._bodiesUpdate=function(w,C){for(var R=w.length,U=0;U<R;U++){var D=w[U];D.isStatic||D.isSleeping||E.update(D,C)}},s._bodiesUpdateVelocities=function(w){for(var C=w.length,R=0;R<C;R++)E.updateVelocities(w[R])}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(0),p=r(1);(function(){s._restingThresh=2,s._restingThreshTangent=Math.sqrt(6),s._positionDampen=.9,s._positionWarming=.8,s._frictionNormalMultiplier=5,s._frictionMaxStatic=Number.MAX_VALUE,s.preSolvePosition=function(h){var g,x,b,y=h.length;for(g=0;g<y;g++)x=h[g],x.isActive&&(b=x.contactCount,x.collision.parentA.totalContacts+=b,x.collision.parentB.totalContacts+=b)},s.solvePosition=function(h,g,x){var b,y,E,w,C,R,U,D,V=s._positionDampen*(x||1),A=f.clamp(g/f._baseDelta,0,1),M=h.length;for(b=0;b<M;b++)y=h[b],!(!y.isActive||y.isSensor)&&(E=y.collision,w=E.parentA,C=E.parentB,R=E.normal,y.separation=E.depth+R.x*(C.positionImpulse.x-w.positionImpulse.x)+R.y*(C.positionImpulse.y-w.positionImpulse.y));for(b=0;b<M;b++)y=h[b],!(!y.isActive||y.isSensor)&&(E=y.collision,w=E.parentA,C=E.parentB,R=E.normal,D=y.separation-y.slop*A,(w.isStatic||C.isStatic)&&(D*=2),w.isStatic||w.isSleeping||(U=V/w.totalContacts,w.positionImpulse.x+=R.x*D*U,w.positionImpulse.y+=R.y*D*U),C.isStatic||C.isSleeping||(U=V/C.totalContacts,C.positionImpulse.x-=R.x*D*U,C.positionImpulse.y-=R.y*D*U))},s.postSolvePosition=function(h){for(var g=s._positionWarming,x=h.length,b=c.translate,y=p.update,E=0;E<x;E++){var w=h[E],C=w.positionImpulse,R=C.x,U=C.y,D=w.velocity;if(w.totalContacts=0,R!==0||U!==0){for(var V=0;V<w.parts.length;V++){var A=w.parts[V];b(A.vertices,C),y(A.bounds,A.vertices,D),A.position.x+=R,A.position.y+=U}w.positionPrev.x+=R,w.positionPrev.y+=U,R*D.x+U*D.y<0?(C.x=0,C.y=0):(C.x*=g,C.y*=g)}}},s.preSolveVelocity=function(h){var g=h.length,x,b;for(x=0;x<g;x++){var y=h[x];if(!(!y.isActive||y.isSensor)){var E=y.contacts,w=y.contactCount,C=y.collision,R=C.parentA,U=C.parentB,D=C.normal,V=C.tangent;for(b=0;b<w;b++){var A=E[b],M=A.vertex,L=A.normalImpulse,I=A.tangentImpulse;if(L!==0||I!==0){var B=D.x*L+V.x*I,k=D.y*L+V.y*I;R.isStatic||R.isSleeping||(R.positionPrev.x+=B*R.inverseMass,R.positionPrev.y+=k*R.inverseMass,R.anglePrev+=R.inverseInertia*((M.x-R.position.x)*k-(M.y-R.position.y)*B)),U.isStatic||U.isSleeping||(U.positionPrev.x-=B*U.inverseMass,U.positionPrev.y-=k*U.inverseMass,U.anglePrev-=U.inverseInertia*((M.x-U.position.x)*k-(M.y-U.position.y)*B))}}}}},s.solveVelocity=function(h,g){var x=g/f._baseDelta,b=x*x,y=b*x,E=-s._restingThresh*x,w=s._restingThreshTangent,C=s._frictionNormalMultiplier*x,R=s._frictionMaxStatic,U=h.length,D,V,A,M;for(A=0;A<U;A++){var L=h[A];if(!(!L.isActive||L.isSensor)){var I=L.collision,B=I.parentA,k=I.parentB,q=I.normal.x,P=I.normal.y,H=I.tangent.x,K=I.tangent.y,J=L.inverseMass,Y=L.friction*L.frictionStatic*C,Z=L.contacts,ie=L.contactCount,de=1/ie,se=B.position.x-B.positionPrev.x,z=B.position.y-B.positionPrev.y,$=B.angle-B.anglePrev,ee=k.position.x-k.positionPrev.x,he=k.position.y-k.positionPrev.y,Se=k.angle-k.anglePrev;for(M=0;M<ie;M++){var ce=Z[M],pe=ce.vertex,ge=pe.x-B.position.x,we=pe.y-B.position.y,Ue=pe.x-k.position.x,_e=pe.y-k.position.y,be=se-we*$,Re=z+ge*$,Le=ee-_e*Se,Oe=he+Ue*Se,Pe=be-Le,yt=Re-Oe,rn=q*Pe+P*yt,Vt=H*Pe+K*yt,hi=L.separation+rn,_n=Math.min(hi,1);_n=hi<0?0:_n;var pi=_n*Y;Vt<-pi||Vt>pi?(V=Vt>0?Vt:-Vt,D=L.friction*(Vt>0?1:-1)*y,D<-V?D=-V:D>V&&(D=V)):(D=Vt,V=R);var Ci=ge*P-we*q,Rt=Ue*P-_e*q,jt=de/(J+B.inverseInertia*Ci*Ci+k.inverseInertia*Rt*Rt),Rn=(1+L.restitution)*rn*jt;if(D*=jt,rn<E)ce.normalImpulse=0;else{var io=ce.normalImpulse;ce.normalImpulse+=Rn,ce.normalImpulse>0&&(ce.normalImpulse=0),Rn=ce.normalImpulse-io}if(Vt<-w||Vt>w)ce.tangentImpulse=0;else{var Xn=ce.tangentImpulse;ce.tangentImpulse+=D,ce.tangentImpulse<-V&&(ce.tangentImpulse=-V),ce.tangentImpulse>V&&(ce.tangentImpulse=V),D=ce.tangentImpulse-Xn}var Kn=q*Rn+H*D,Ht=P*Rn+K*D;B.isStatic||B.isSleeping||(B.positionPrev.x+=Kn*B.inverseMass,B.positionPrev.y+=Ht*B.inverseMass,B.anglePrev+=(ge*Ht-we*Kn)*B.inverseInertia),k.isStatic||k.isSleeping||(k.positionPrev.x-=Kn*k.inverseMass,k.positionPrev.y-=Ht*k.inverseMass,k.anglePrev-=(Ue*Ht-_e*Kn)*k.inverseInertia)}}}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(9),f=r(0);(function(){s.create=function(p){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},p)},s.update=function(p,h,g){var x=c.update,b=c.create,y=c.setActive,E=p.table,w=p.list,C=w.length,R=C,U=p.collisionStart,D=p.collisionEnd,V=p.collisionActive,A=h.length,M=0,L=0,I=0,B,k,q;for(q=0;q<A;q++)B=h[q],k=B.pair,k?(k.isActive&&(V[I++]=k),x(k,B,g)):(k=b(B,g),E[k.id]=k,U[M++]=k,w[R++]=k);for(R=0,C=w.length,q=0;q<C;q++)k=w[q],k.timeUpdated>=g?w[R++]=k:(y(k,!1,g),k.collision.bodyA.sleepCounter>0&&k.collision.bodyB.sleepCounter>0?w[R++]=k:(D[L++]=k,delete E[k.id]));w.length!==R&&(w.length=R),U.length!==M&&(U.length=M),D.length!==L&&(D.length=L),V.length!==I&&(V.length=I)},s.clear=function(p){return p.table={},p.list.length=0,p.collisionStart.length=0,p.collisionActive.length=0,p.collisionEnd.length=0,p}})()}),(function(o,l,r){var s=o.exports=r(21);s.Axes=r(11),s.Bodies=r(12),s.Body=r(4),s.Bounds=r(1),s.Collision=r(8),s.Common=r(0),s.Composite=r(6),s.Composites=r(22),s.Constraint=r(10),s.Contact=r(16),s.Detector=r(13),s.Engine=r(17),s.Events=r(5),s.Grid=r(23),s.Mouse=r(14),s.MouseConstraint=r(24),s.Pair=r(9),s.Pairs=r(19),s.Plugin=r(15),s.Query=r(25),s.Render=r(26),s.Resolver=r(18),s.Runner=r(27),s.SAT=r(28),s.Sleeping=r(7),s.Svg=r(29),s.Vector=r(2),s.Vertices=r(3),s.World=r(30),s.Engine.run=s.Runner.run,s.Common.deprecated(s.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")}),(function(o,l,r){var s={};o.exports=s;var c=r(15),f=r(0);(function(){s.name="matter-js",s.version="0.20.0",s.uses=[],s.used=[],s.use=function(){c.use(s,Array.prototype.slice.call(arguments))},s.before=function(p,h){return p=p.replace(/^Matter./,""),f.chainPathBefore(s,p,h)},s.after=function(p,h){return p=p.replace(/^Matter./,""),f.chainPathAfter(s,p,h)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(6),f=r(10),p=r(0),h=r(4),g=r(12),x=p.deprecated;(function(){s.stack=function(b,y,E,w,C,R,U){for(var D=c.create({label:"Stack"}),V=b,A=y,M,L=0,I=0;I<w;I++){for(var B=0,k=0;k<E;k++){var q=U(V,A,k,I,M,L);if(q){var P=q.bounds.max.y-q.bounds.min.y,H=q.bounds.max.x-q.bounds.min.x;P>B&&(B=P),h.translate(q,{x:H*.5,y:P*.5}),V=q.bounds.max.x+C,c.addBody(D,q),M=q,L+=1}else V+=C}A+=B+R,V=b}return D},s.chain=function(b,y,E,w,C,R){for(var U=b.bodies,D=1;D<U.length;D++){var V=U[D-1],A=U[D],M=V.bounds.max.y-V.bounds.min.y,L=V.bounds.max.x-V.bounds.min.x,I=A.bounds.max.y-A.bounds.min.y,B=A.bounds.max.x-A.bounds.min.x,k={bodyA:V,pointA:{x:L*y,y:M*E},bodyB:A,pointB:{x:B*w,y:I*C}},q=p.extend(k,R);c.addConstraint(b,f.create(q))}return b.label+=" Chain",b},s.mesh=function(b,y,E,w,C){var R=b.bodies,U,D,V,A,M;for(U=0;U<E;U++){for(D=1;D<y;D++)V=R[D-1+U*y],A=R[D+U*y],c.addConstraint(b,f.create(p.extend({bodyA:V,bodyB:A},C)));if(U>0)for(D=0;D<y;D++)V=R[D+(U-1)*y],A=R[D+U*y],c.addConstraint(b,f.create(p.extend({bodyA:V,bodyB:A},C))),w&&D>0&&(M=R[D-1+(U-1)*y],c.addConstraint(b,f.create(p.extend({bodyA:M,bodyB:A},C)))),w&&D<y-1&&(M=R[D+1+(U-1)*y],c.addConstraint(b,f.create(p.extend({bodyA:M,bodyB:A},C))))}return b.label+=" Mesh",b},s.pyramid=function(b,y,E,w,C,R,U){return s.stack(b,y,E,w,C,R,function(D,V,A,M,L,I){var B=Math.min(w,Math.ceil(E/2)),k=L?L.bounds.max.x-L.bounds.min.x:0;if(!(M>B)){M=B-M;var q=M,P=E-1-M;if(!(A<q||A>P)){I===1&&h.translate(L,{x:(A+(E%2===1?1:-1))*k,y:0});var H=L?A*k:0;return U(b+H+A*C,V,A,M,L,I)}}})},s.newtonsCradle=function(b,y,E,w,C){for(var R=c.create({label:"Newtons Cradle"}),U=0;U<E;U++){var D=1.9,V=g.circle(b+U*(w*D),y+C,w,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),A=f.create({pointA:{x:b+U*(w*D),y},bodyB:V});c.addBody(R,V),c.addConstraint(R,A)}return R},x(s,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),s.car=function(b,y,E,w,C){var R=h.nextGroup(!0),U=20,D=-E*.5+U,V=E*.5-U,A=0,M=c.create({label:"Car"}),L=g.rectangle(b,y,E,w,{collisionFilter:{group:R},chamfer:{radius:w*.5},density:2e-4}),I=g.circle(b+D,y+A,C,{collisionFilter:{group:R},friction:.8}),B=g.circle(b+V,y+A,C,{collisionFilter:{group:R},friction:.8}),k=f.create({bodyB:L,pointB:{x:D,y:A},bodyA:I,stiffness:1,length:0}),q=f.create({bodyB:L,pointB:{x:V,y:A},bodyA:B,stiffness:1,length:0});return c.addBody(M,L),c.addBody(M,I),c.addBody(M,B),c.addConstraint(M,k),c.addConstraint(M,q),M},x(s,"car","Composites.car  moved to car example"),s.softBody=function(b,y,E,w,C,R,U,D,V,A){V=p.extend({inertia:1/0},V),A=p.extend({stiffness:.2,render:{type:"line",anchors:!1}},A);var M=s.stack(b,y,E,w,C,R,function(L,I){return g.circle(L,I,D,V)});return s.mesh(M,E,w,U,A),M.label="Soft Body",M},x(s,"softBody","Composites.softBody  moved to softBody and cloth examples")})()}),(function(o,l,r){var s={};o.exports=s;var c=r(9),f=r(0),p=f.deprecated;(function(){s.create=function(h){var g={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return f.extend(g,h)},s.update=function(h,g,x,b){var y,E,w,C=x.world,R=h.buckets,U,D,V=!1;for(y=0;y<g.length;y++){var A=g[y];if(!(A.isSleeping&&!b)&&!(C.bounds&&(A.bounds.max.x<C.bounds.min.x||A.bounds.min.x>C.bounds.max.x||A.bounds.max.y<C.bounds.min.y||A.bounds.min.y>C.bounds.max.y))){var M=s._getRegion(h,A);if(!A.region||M.id!==A.region.id||b){(!A.region||b)&&(A.region=M);var L=s._regionUnion(M,A.region);for(E=L.startCol;E<=L.endCol;E++)for(w=L.startRow;w<=L.endRow;w++){D=s._getBucketId(E,w),U=R[D];var I=E>=M.startCol&&E<=M.endCol&&w>=M.startRow&&w<=M.endRow,B=E>=A.region.startCol&&E<=A.region.endCol&&w>=A.region.startRow&&w<=A.region.endRow;!I&&B&&B&&U&&s._bucketRemoveBody(h,U,A),(A.region===M||I&&!B||b)&&(U||(U=s._createBucket(R,D)),s._bucketAddBody(h,U,A))}A.region=M,V=!0}}}V&&(h.pairsList=s._createActivePairsList(h))},p(s,"update","Grid.update  replaced by Matter.Detector"),s.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},p(s,"clear","Grid.clear  replaced by Matter.Detector"),s._regionUnion=function(h,g){var x=Math.min(h.startCol,g.startCol),b=Math.max(h.endCol,g.endCol),y=Math.min(h.startRow,g.startRow),E=Math.max(h.endRow,g.endRow);return s._createRegion(x,b,y,E)},s._getRegion=function(h,g){var x=g.bounds,b=Math.floor(x.min.x/h.bucketWidth),y=Math.floor(x.max.x/h.bucketWidth),E=Math.floor(x.min.y/h.bucketHeight),w=Math.floor(x.max.y/h.bucketHeight);return s._createRegion(b,y,E,w)},s._createRegion=function(h,g,x,b){return{id:h+","+g+","+x+","+b,startCol:h,endCol:g,startRow:x,endRow:b}},s._getBucketId=function(h,g){return"C"+h+"R"+g},s._createBucket=function(h,g){var x=h[g]=[];return x},s._bucketAddBody=function(h,g,x){var b=h.pairs,y=c.id,E=g.length,w;for(w=0;w<E;w++){var C=g[w];if(!(x.id===C.id||x.isStatic&&C.isStatic)){var R=y(x,C),U=b[R];U?U[2]+=1:b[R]=[x,C,1]}}g.push(x)},s._bucketRemoveBody=function(h,g,x){var b=h.pairs,y=c.id,E;g.splice(f.indexOf(g,x),1);var w=g.length;for(E=0;E<w;E++){var C=b[y(x,g[E])];C&&(C[2]-=1)}},s._createActivePairsList=function(h){var g,x=h.pairs,b=f.keys(x),y=b.length,E=[],w;for(w=0;w<y;w++)g=x[b[w]],g[2]>0?E.push(g):delete x[b[w]];return E}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(3),f=r(7),p=r(14),h=r(5),g=r(13),x=r(10),b=r(6),y=r(0),E=r(1);(function(){s.create=function(w,C){var R=(w?w.mouse:null)||(C?C.mouse:null);R||(w&&w.render&&w.render.canvas?R=p.create(w.render.canvas):C&&C.element?R=p.create(C.element):(R=p.create(),y.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var U=x.create({label:"Mouse Constraint",pointA:R.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),D={type:"mouseConstraint",mouse:R,element:null,body:null,constraint:U,collisionFilter:{category:1,mask:4294967295,group:0}},V=y.extend(D,C);return h.on(w,"beforeUpdate",function(){var A=b.allBodies(w.world);s.update(V,A),s._triggerEvents(V)}),V},s.update=function(w,C){var R=w.mouse,U=w.constraint,D=w.body;if(R.button===0){if(U.bodyB)f.set(U.bodyB,!1),U.pointA=R.position;else for(var V=0;V<C.length;V++)if(D=C[V],E.contains(D.bounds,R.position)&&g.canCollide(D.collisionFilter,w.collisionFilter))for(var A=D.parts.length>1?1:0;A<D.parts.length;A++){var M=D.parts[A];if(c.contains(M.vertices,R.position)){U.pointA=R.position,U.bodyB=w.body=D,U.pointB={x:R.position.x-D.position.x,y:R.position.y-D.position.y},U.angleB=D.angle,f.set(D,!1),h.trigger(w,"startdrag",{mouse:R,body:D});break}}}else U.bodyB=w.body=null,U.pointB=null,D&&h.trigger(w,"enddrag",{mouse:R,body:D})},s._triggerEvents=function(w){var C=w.mouse,R=C.sourceEvents;R.mousemove&&h.trigger(w,"mousemove",{mouse:C}),R.mousedown&&h.trigger(w,"mousedown",{mouse:C}),R.mouseup&&h.trigger(w,"mouseup",{mouse:C}),p.clearSourceEvents(C)}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(2),f=r(8),p=r(1),h=r(12),g=r(3);(function(){s.collides=function(x,b){for(var y=[],E=b.length,w=x.bounds,C=f.collides,R=p.overlaps,U=0;U<E;U++){var D=b[U],V=D.parts.length,A=V===1?0:1;if(R(D.bounds,w))for(var M=A;M<V;M++){var L=D.parts[M];if(R(L.bounds,w)){var I=C(L,x);if(I){y.push(I);break}}}}return y},s.ray=function(x,b,y,E){E=E||1e-100;for(var w=c.angle(b,y),C=c.magnitude(c.sub(b,y)),R=(y.x+b.x)*.5,U=(y.y+b.y)*.5,D=h.rectangle(R,U,C,E,{angle:w}),V=s.collides(D,x),A=0;A<V.length;A+=1){var M=V[A];M.body=M.bodyB=M.bodyA}return V},s.region=function(x,b,y){for(var E=[],w=0;w<x.length;w++){var C=x[w],R=p.overlaps(C.bounds,b);(R&&!y||!R&&y)&&E.push(C)}return E},s.point=function(x,b){for(var y=[],E=0;E<x.length;E++){var w=x[E];if(p.contains(w.bounds,b))for(var C=w.parts.length===1?0:1;C<w.parts.length;C++){var R=w.parts[C];if(p.contains(R.bounds,b)&&g.contains(R.vertices,b)){y.push(w);break}}}return y}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(4),f=r(0),p=r(6),h=r(1),g=r(5),x=r(2),b=r(14);(function(){var y,E;typeof window<"u"&&(y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(A){window.setTimeout(function(){A(f.now())},1e3/60)},E=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),s._goodFps=30,s._goodDelta=1e3/60,s.create=function(A){var M={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!A.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},L=f.extend(M,A);return L.canvas&&(L.canvas.width=L.options.width||L.canvas.width,L.canvas.height=L.options.height||L.canvas.height),L.mouse=A.mouse,L.engine=A.engine,L.canvas=L.canvas||R(L.options.width,L.options.height),L.context=L.canvas.getContext("2d"),L.textures={},L.bounds=L.bounds||{min:{x:0,y:0},max:{x:L.canvas.width,y:L.canvas.height}},L.controller=s,L.options.showBroadphase=!1,L.options.pixelRatio!==1&&s.setPixelRatio(L,L.options.pixelRatio),f.isElement(L.element)&&L.element.appendChild(L.canvas),L},s.run=function(A){(function M(L){A.frameRequestId=y(M),w(A,L),s.world(A,L),A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0),(A.options.showStats||A.options.showDebug)&&s.stats(A,A.context,L),(A.options.showPerformance||A.options.showDebug)&&s.performance(A,A.context,L),A.context.setTransform(1,0,0,1,0,0)})()},s.stop=function(A){E(A.frameRequestId)},s.setPixelRatio=function(A,M){var L=A.options,I=A.canvas;M==="auto"&&(M=U(I)),L.pixelRatio=M,I.setAttribute("data-pixel-ratio",M),I.width=L.width*M,I.height=L.height*M,I.style.width=L.width+"px",I.style.height=L.height+"px"},s.setSize=function(A,M,L){A.options.width=M,A.options.height=L,A.bounds.max.x=A.bounds.min.x+M,A.bounds.max.y=A.bounds.min.y+L,A.options.pixelRatio!==1?s.setPixelRatio(A,A.options.pixelRatio):(A.canvas.width=M,A.canvas.height=L)},s.lookAt=function(A,M,L,I){I=typeof I<"u"?I:!0,M=f.isArray(M)?M:[M],L=L||{x:0,y:0};for(var B={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},k=0;k<M.length;k+=1){var q=M[k],P=q.bounds?q.bounds.min:q.min||q.position||q,H=q.bounds?q.bounds.max:q.max||q.position||q;P&&H&&(P.x<B.min.x&&(B.min.x=P.x),H.x>B.max.x&&(B.max.x=H.x),P.y<B.min.y&&(B.min.y=P.y),H.y>B.max.y&&(B.max.y=H.y))}var K=B.max.x-B.min.x+2*L.x,J=B.max.y-B.min.y+2*L.y,Y=A.canvas.height,Z=A.canvas.width,ie=Z/Y,de=K/J,se=1,z=1;de>ie?z=de/ie:se=ie/de,A.options.hasBounds=!0,A.bounds.min.x=B.min.x,A.bounds.max.x=B.min.x+K*se,A.bounds.min.y=B.min.y,A.bounds.max.y=B.min.y+J*z,I&&(A.bounds.min.x+=K*.5-K*se*.5,A.bounds.max.x+=K*.5-K*se*.5,A.bounds.min.y+=J*.5-J*z*.5,A.bounds.max.y+=J*.5-J*z*.5),A.bounds.min.x-=L.x,A.bounds.max.x-=L.x,A.bounds.min.y-=L.y,A.bounds.max.y-=L.y,A.mouse&&(b.setScale(A.mouse,{x:(A.bounds.max.x-A.bounds.min.x)/A.canvas.width,y:(A.bounds.max.y-A.bounds.min.y)/A.canvas.height}),b.setOffset(A.mouse,A.bounds.min))},s.startViewTransform=function(A){var M=A.bounds.max.x-A.bounds.min.x,L=A.bounds.max.y-A.bounds.min.y,I=M/A.options.width,B=L/A.options.height;A.context.setTransform(A.options.pixelRatio/I,0,0,A.options.pixelRatio/B,0,0),A.context.translate(-A.bounds.min.x,-A.bounds.min.y)},s.endViewTransform=function(A){A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0)},s.world=function(A,M){var L=f.now(),I=A.engine,B=I.world,k=A.canvas,q=A.context,P=A.options,H=A.timing,K=p.allBodies(B),J=p.allConstraints(B),Y=P.wireframes?P.wireframeBackground:P.background,Z=[],ie=[],de,se={timestamp:I.timing.timestamp};if(g.trigger(A,"beforeRender",se),A.currentBackground!==Y&&V(A,Y),q.globalCompositeOperation="source-in",q.fillStyle="transparent",q.fillRect(0,0,k.width,k.height),q.globalCompositeOperation="source-over",P.hasBounds){for(de=0;de<K.length;de++){var z=K[de];h.overlaps(z.bounds,A.bounds)&&Z.push(z)}for(de=0;de<J.length;de++){var $=J[de],ee=$.bodyA,he=$.bodyB,Se=$.pointA,ce=$.pointB;ee&&(Se=x.add(ee.position,$.pointA)),he&&(ce=x.add(he.position,$.pointB)),!(!Se||!ce)&&(h.contains(A.bounds,Se)||h.contains(A.bounds,ce))&&ie.push($)}s.startViewTransform(A),A.mouse&&(b.setScale(A.mouse,{x:(A.bounds.max.x-A.bounds.min.x)/A.options.width,y:(A.bounds.max.y-A.bounds.min.y)/A.options.height}),b.setOffset(A.mouse,A.bounds.min))}else ie=J,Z=K,A.options.pixelRatio!==1&&A.context.setTransform(A.options.pixelRatio,0,0,A.options.pixelRatio,0,0);!P.wireframes||I.enableSleeping&&P.showSleeping?s.bodies(A,Z,q):(P.showConvexHulls&&s.bodyConvexHulls(A,Z,q),s.bodyWireframes(A,Z,q)),P.showBounds&&s.bodyBounds(A,Z,q),(P.showAxes||P.showAngleIndicator)&&s.bodyAxes(A,Z,q),P.showPositions&&s.bodyPositions(A,Z,q),P.showVelocity&&s.bodyVelocity(A,Z,q),P.showIds&&s.bodyIds(A,Z,q),P.showSeparations&&s.separations(A,I.pairs.list,q),P.showCollisions&&s.collisions(A,I.pairs.list,q),P.showVertexNumbers&&s.vertexNumbers(A,Z,q),P.showMousePosition&&s.mousePosition(A,A.mouse,q),s.constraints(ie,q),P.hasBounds&&s.endViewTransform(A),g.trigger(A,"afterRender",se),H.lastElapsed=f.now()-L},s.stats=function(A,M,L){for(var I=A.engine,B=I.world,k=p.allBodies(B),q=0,P=55,H=44,K=0,J=0,Y=0;Y<k.length;Y+=1)q+=k[Y].parts.length;var Z={Part:q,Body:k.length,Cons:p.allConstraints(B).length,Comp:p.allComposites(B).length,Pair:I.pairs.list.length};M.fillStyle="#0e0f19",M.fillRect(K,J,P*5.5,H),M.font="12px Arial",M.textBaseline="top",M.textAlign="right";for(var ie in Z){var de=Z[ie];M.fillStyle="#aaa",M.fillText(ie,K+P,J+8),M.fillStyle="#eee",M.fillText(de,K+P,J+26),K+=P}},s.performance=function(A,M){var L=A.engine,I=A.timing,B=I.deltaHistory,k=I.elapsedHistory,q=I.timestampElapsedHistory,P=I.engineDeltaHistory,H=I.engineUpdatesHistory,K=I.engineElapsedHistory,J=L.timing.lastUpdatesPerFrame,Y=L.timing.lastDelta,Z=C(B),ie=C(k),de=C(P),se=C(H),z=C(K),$=C(q),ee=$/Z||0,he=Math.round(Z/Y),Se=1e3/Z||0,ce=4,pe=12,ge=60,we=34,Ue=10,_e=69;M.fillStyle="#0e0f19",M.fillRect(0,50,pe*5+ge*6+22,we),s.status(M,Ue,_e,ge,ce,B.length,Math.round(Se)+" fps",Se/s._goodFps,function(be){return B[be]/Z-1}),s.status(M,Ue+pe+ge,_e,ge,ce,P.length,Y.toFixed(2)+" dt",s._goodDelta/Y,function(be){return P[be]/de-1}),s.status(M,Ue+(pe+ge)*2,_e,ge,ce,H.length,J+" upf",Math.pow(f.clamp(se/he||1,0,1),4),function(be){return H[be]/se-1}),s.status(M,Ue+(pe+ge)*3,_e,ge,ce,K.length,z.toFixed(2)+" ut",1-J*z/s._goodFps,function(be){return K[be]/z-1}),s.status(M,Ue+(pe+ge)*4,_e,ge,ce,k.length,ie.toFixed(2)+" rt",1-ie/s._goodFps,function(be){return k[be]/ie-1}),s.status(M,Ue+(pe+ge)*5,_e,ge,ce,q.length,ee.toFixed(2)+" x",ee*ee*ee,function(be){return(q[be]/B[be]/ee||0)-1})},s.status=function(A,M,L,I,B,k,q,P,H){A.strokeStyle="#888",A.fillStyle="#444",A.lineWidth=1,A.fillRect(M,L+7,I,1),A.beginPath(),A.moveTo(M,L+7-B*f.clamp(.4*H(0),-2,2));for(var K=0;K<I;K+=1)A.lineTo(M+K,L+7-(K<k?B*f.clamp(.4*H(K),-2,2):0));A.stroke(),A.fillStyle="hsl("+f.clamp(25+95*P,0,120)+",100%,60%)",A.fillRect(M,L-7,4,4),A.font="12px Arial",A.textBaseline="middle",A.textAlign="right",A.fillStyle="#eee",A.fillText(q,M+I,L-5)},s.constraints=function(A,M){for(var L=M,I=0;I<A.length;I++){var B=A[I];if(!(!B.render.visible||!B.pointA||!B.pointB)){var k=B.bodyA,q=B.bodyB,P,H;if(k?P=x.add(k.position,B.pointA):P=B.pointA,B.render.type==="pin")L.beginPath(),L.arc(P.x,P.y,3,0,2*Math.PI),L.closePath();else{if(q?H=x.add(q.position,B.pointB):H=B.pointB,L.beginPath(),L.moveTo(P.x,P.y),B.render.type==="spring")for(var K=x.sub(H,P),J=x.perp(x.normalise(K)),Y=Math.ceil(f.clamp(B.length/5,12,20)),Z,ie=1;ie<Y;ie+=1)Z=ie%2===0?1:-1,L.lineTo(P.x+K.x*(ie/Y)+J.x*Z*4,P.y+K.y*(ie/Y)+J.y*Z*4);L.lineTo(H.x,H.y)}B.render.lineWidth&&(L.lineWidth=B.render.lineWidth,L.strokeStyle=B.render.strokeStyle,L.stroke()),B.render.anchors&&(L.fillStyle=B.render.strokeStyle,L.beginPath(),L.arc(P.x,P.y,3,0,2*Math.PI),L.arc(H.x,H.y,3,0,2*Math.PI),L.closePath(),L.fill())}}},s.bodies=function(A,M,L){var I=L;A.engine;var B=A.options,k=B.showInternalEdges||!B.wireframes,q,P,H,K;for(H=0;H<M.length;H++)if(q=M[H],!!q.render.visible){for(K=q.parts.length>1?1:0;K<q.parts.length;K++)if(P=q.parts[K],!!P.render.visible){if(B.showSleeping&&q.isSleeping?I.globalAlpha=.5*P.render.opacity:P.render.opacity!==1&&(I.globalAlpha=P.render.opacity),P.render.sprite&&P.render.sprite.texture&&!B.wireframes){var J=P.render.sprite,Y=D(A,J.texture);I.translate(P.position.x,P.position.y),I.rotate(P.angle),I.drawImage(Y,Y.width*-J.xOffset*J.xScale,Y.height*-J.yOffset*J.yScale,Y.width*J.xScale,Y.height*J.yScale),I.rotate(-P.angle),I.translate(-P.position.x,-P.position.y)}else{if(P.circleRadius)I.beginPath(),I.arc(P.position.x,P.position.y,P.circleRadius,0,2*Math.PI);else{I.beginPath(),I.moveTo(P.vertices[0].x,P.vertices[0].y);for(var Z=1;Z<P.vertices.length;Z++)!P.vertices[Z-1].isInternal||k?I.lineTo(P.vertices[Z].x,P.vertices[Z].y):I.moveTo(P.vertices[Z].x,P.vertices[Z].y),P.vertices[Z].isInternal&&!k&&I.moveTo(P.vertices[(Z+1)%P.vertices.length].x,P.vertices[(Z+1)%P.vertices.length].y);I.lineTo(P.vertices[0].x,P.vertices[0].y),I.closePath()}B.wireframes?(I.lineWidth=1,I.strokeStyle=A.options.wireframeStrokeStyle,I.stroke()):(I.fillStyle=P.render.fillStyle,P.render.lineWidth&&(I.lineWidth=P.render.lineWidth,I.strokeStyle=P.render.strokeStyle,I.stroke()),I.fill())}I.globalAlpha=1}}},s.bodyWireframes=function(A,M,L){var I=L,B=A.options.showInternalEdges,k,q,P,H,K;for(I.beginPath(),P=0;P<M.length;P++)if(k=M[P],!!k.render.visible)for(K=k.parts.length>1?1:0;K<k.parts.length;K++){for(q=k.parts[K],I.moveTo(q.vertices[0].x,q.vertices[0].y),H=1;H<q.vertices.length;H++)!q.vertices[H-1].isInternal||B?I.lineTo(q.vertices[H].x,q.vertices[H].y):I.moveTo(q.vertices[H].x,q.vertices[H].y),q.vertices[H].isInternal&&!B&&I.moveTo(q.vertices[(H+1)%q.vertices.length].x,q.vertices[(H+1)%q.vertices.length].y);I.lineTo(q.vertices[0].x,q.vertices[0].y)}I.lineWidth=1,I.strokeStyle=A.options.wireframeStrokeStyle,I.stroke()},s.bodyConvexHulls=function(A,M,L){var I=L,B,k,q;for(I.beginPath(),k=0;k<M.length;k++)if(B=M[k],!(!B.render.visible||B.parts.length===1)){for(I.moveTo(B.vertices[0].x,B.vertices[0].y),q=1;q<B.vertices.length;q++)I.lineTo(B.vertices[q].x,B.vertices[q].y);I.lineTo(B.vertices[0].x,B.vertices[0].y)}I.lineWidth=1,I.strokeStyle="rgba(255,255,255,0.2)",I.stroke()},s.vertexNumbers=function(A,M,L){var I=L,B,k,q;for(B=0;B<M.length;B++){var P=M[B].parts;for(q=P.length>1?1:0;q<P.length;q++){var H=P[q];for(k=0;k<H.vertices.length;k++)I.fillStyle="rgba(255,255,255,0.2)",I.fillText(B+"_"+k,H.position.x+(H.vertices[k].x-H.position.x)*.8,H.position.y+(H.vertices[k].y-H.position.y)*.8)}}},s.mousePosition=function(A,M,L){var I=L;I.fillStyle="rgba(255,255,255,0.8)",I.fillText(M.position.x+"  "+M.position.y,M.position.x+5,M.position.y-5)},s.bodyBounds=function(A,M,L){var I=L;A.engine;var B=A.options;I.beginPath();for(var k=0;k<M.length;k++){var q=M[k];if(q.render.visible)for(var P=M[k].parts,H=P.length>1?1:0;H<P.length;H++){var K=P[H];I.rect(K.bounds.min.x,K.bounds.min.y,K.bounds.max.x-K.bounds.min.x,K.bounds.max.y-K.bounds.min.y)}}B.wireframes?I.strokeStyle="rgba(255,255,255,0.08)":I.strokeStyle="rgba(0,0,0,0.1)",I.lineWidth=1,I.stroke()},s.bodyAxes=function(A,M,L){var I=L;A.engine;var B=A.options,k,q,P,H;for(I.beginPath(),q=0;q<M.length;q++){var K=M[q],J=K.parts;if(K.render.visible)if(B.showAxes)for(P=J.length>1?1:0;P<J.length;P++)for(k=J[P],H=0;H<k.axes.length;H++){var Y=k.axes[H];I.moveTo(k.position.x,k.position.y),I.lineTo(k.position.x+Y.x*20,k.position.y+Y.y*20)}else for(P=J.length>1?1:0;P<J.length;P++)for(k=J[P],H=0;H<k.axes.length;H++)I.moveTo(k.position.x,k.position.y),I.lineTo((k.vertices[0].x+k.vertices[k.vertices.length-1].x)/2,(k.vertices[0].y+k.vertices[k.vertices.length-1].y)/2)}B.wireframes?(I.strokeStyle="indianred",I.lineWidth=1):(I.strokeStyle="rgba(255, 255, 255, 0.4)",I.globalCompositeOperation="overlay",I.lineWidth=2),I.stroke(),I.globalCompositeOperation="source-over"},s.bodyPositions=function(A,M,L){var I=L;A.engine;var B=A.options,k,q,P,H;for(I.beginPath(),P=0;P<M.length;P++)if(k=M[P],!!k.render.visible)for(H=0;H<k.parts.length;H++)q=k.parts[H],I.arc(q.position.x,q.position.y,3,0,2*Math.PI,!1),I.closePath();for(B.wireframes?I.fillStyle="indianred":I.fillStyle="rgba(0,0,0,0.5)",I.fill(),I.beginPath(),P=0;P<M.length;P++)k=M[P],k.render.visible&&(I.arc(k.positionPrev.x,k.positionPrev.y,2,0,2*Math.PI,!1),I.closePath());I.fillStyle="rgba(255,165,0,0.8)",I.fill()},s.bodyVelocity=function(A,M,L){var I=L;I.beginPath();for(var B=0;B<M.length;B++){var k=M[B];if(k.render.visible){var q=c.getVelocity(k);I.moveTo(k.position.x,k.position.y),I.lineTo(k.position.x+q.x,k.position.y+q.y)}}I.lineWidth=3,I.strokeStyle="cornflowerblue",I.stroke()},s.bodyIds=function(A,M,L){var I=L,B,k;for(B=0;B<M.length;B++)if(M[B].render.visible){var q=M[B].parts;for(k=q.length>1?1:0;k<q.length;k++){var P=q[k];I.font="12px Arial",I.fillStyle="rgba(255,255,255,0.5)",I.fillText(P.id,P.position.x+10,P.position.y-10)}}},s.collisions=function(A,M,L){var I=L,B=A.options,k,q,P,H;for(I.beginPath(),P=0;P<M.length;P++)if(k=M[P],!!k.isActive)for(q=k.collision,H=0;H<k.contactCount;H++){var K=k.contacts[H],J=K.vertex;I.rect(J.x-1.5,J.y-1.5,3.5,3.5)}for(B.wireframes?I.fillStyle="rgba(255,255,255,0.7)":I.fillStyle="orange",I.fill(),I.beginPath(),P=0;P<M.length;P++)if(k=M[P],!!k.isActive&&(q=k.collision,k.contactCount>0)){var Y=k.contacts[0].vertex.x,Z=k.contacts[0].vertex.y;k.contactCount===2&&(Y=(k.contacts[0].vertex.x+k.contacts[1].vertex.x)/2,Z=(k.contacts[0].vertex.y+k.contacts[1].vertex.y)/2),q.bodyB===q.supports[0].body||q.bodyA.isStatic===!0?I.moveTo(Y-q.normal.x*8,Z-q.normal.y*8):I.moveTo(Y+q.normal.x*8,Z+q.normal.y*8),I.lineTo(Y,Z)}B.wireframes?I.strokeStyle="rgba(255,165,0,0.7)":I.strokeStyle="orange",I.lineWidth=1,I.stroke()},s.separations=function(A,M,L){var I=L,B=A.options,k,q,P,H,K;for(I.beginPath(),K=0;K<M.length;K++)if(k=M[K],!!k.isActive){q=k.collision,P=q.bodyA,H=q.bodyB;var J=1;!H.isStatic&&!P.isStatic&&(J=.5),H.isStatic&&(J=0),I.moveTo(H.position.x,H.position.y),I.lineTo(H.position.x-q.penetration.x*J,H.position.y-q.penetration.y*J),J=1,!H.isStatic&&!P.isStatic&&(J=.5),P.isStatic&&(J=0),I.moveTo(P.position.x,P.position.y),I.lineTo(P.position.x+q.penetration.x*J,P.position.y+q.penetration.y*J)}B.wireframes?I.strokeStyle="rgba(255,165,0,0.5)":I.strokeStyle="orange",I.stroke()},s.inspector=function(A,M){A.engine;var L=A.selected,I=A.render,B=I.options,k;if(B.hasBounds){var q=I.bounds.max.x-I.bounds.min.x,P=I.bounds.max.y-I.bounds.min.y,H=q/I.options.width,K=P/I.options.height;M.scale(1/H,1/K),M.translate(-I.bounds.min.x,-I.bounds.min.y)}for(var J=0;J<L.length;J++){var Y=L[J].data;switch(M.translate(.5,.5),M.lineWidth=1,M.strokeStyle="rgba(255,165,0,0.9)",M.setLineDash([1,2]),Y.type){case"body":k=Y.bounds,M.beginPath(),M.rect(Math.floor(k.min.x-3),Math.floor(k.min.y-3),Math.floor(k.max.x-k.min.x+6),Math.floor(k.max.y-k.min.y+6)),M.closePath(),M.stroke();break;case"constraint":var Z=Y.pointA;Y.bodyA&&(Z=Y.pointB),M.beginPath(),M.arc(Z.x,Z.y,10,0,2*Math.PI),M.closePath(),M.stroke();break}M.setLineDash([]),M.translate(-.5,-.5)}A.selectStart!==null&&(M.translate(.5,.5),M.lineWidth=1,M.strokeStyle="rgba(255,165,0,0.6)",M.fillStyle="rgba(255,165,0,0.1)",k=A.selectBounds,M.beginPath(),M.rect(Math.floor(k.min.x),Math.floor(k.min.y),Math.floor(k.max.x-k.min.x),Math.floor(k.max.y-k.min.y)),M.closePath(),M.stroke(),M.fill(),M.translate(-.5,-.5)),B.hasBounds&&M.setTransform(1,0,0,1,0,0)};var w=function(A,M){var L=A.engine,I=A.timing,B=I.historySize,k=L.timing.timestamp;I.delta=M-I.lastTime||s._goodDelta,I.lastTime=M,I.timestampElapsed=k-I.lastTimestamp||0,I.lastTimestamp=k,I.deltaHistory.unshift(I.delta),I.deltaHistory.length=Math.min(I.deltaHistory.length,B),I.engineDeltaHistory.unshift(L.timing.lastDelta),I.engineDeltaHistory.length=Math.min(I.engineDeltaHistory.length,B),I.timestampElapsedHistory.unshift(I.timestampElapsed),I.timestampElapsedHistory.length=Math.min(I.timestampElapsedHistory.length,B),I.engineUpdatesHistory.unshift(L.timing.lastUpdatesPerFrame),I.engineUpdatesHistory.length=Math.min(I.engineUpdatesHistory.length,B),I.engineElapsedHistory.unshift(L.timing.lastElapsed),I.engineElapsedHistory.length=Math.min(I.engineElapsedHistory.length,B),I.elapsedHistory.unshift(I.lastElapsed),I.elapsedHistory.length=Math.min(I.elapsedHistory.length,B)},C=function(A){for(var M=0,L=0;L<A.length;L+=1)M+=A[L];return M/A.length||0},R=function(A,M){var L=document.createElement("canvas");return L.width=A,L.height=M,L.oncontextmenu=function(){return!1},L.onselectstart=function(){return!1},L},U=function(A){var M=A.getContext("2d"),L=window.devicePixelRatio||1,I=M.webkitBackingStorePixelRatio||M.mozBackingStorePixelRatio||M.msBackingStorePixelRatio||M.oBackingStorePixelRatio||M.backingStorePixelRatio||1;return L/I},D=function(A,M){var L=A.textures[M];return L||(L=A.textures[M]=new Image,L.src=M,L)},V=function(A,M){var L=M;/(jpg|gif|png)$/.test(M)&&(L="url("+M+")"),A.canvas.style.background=L,A.canvas.style.backgroundSize="contain",A.currentBackground=M}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(5),f=r(17),p=r(0);(function(){s._maxFrameDelta=1e3/15,s._frameDeltaFallback=1e3/60,s._timeBufferMargin=1.5,s._elapsedNextEstimate=1,s._smoothingLowerBound=.1,s._smoothingUpperBound=.9,s.create=function(g){var x={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},b=p.extend(x,g);return b.fps=0,b},s.run=function(g,x){return g.timeBuffer=s._frameDeltaFallback,(function b(y){g.frameRequestId=s._onNextFrame(g,b),y&&g.enabled&&s.tick(g,x,y)})(),g},s.tick=function(g,x,b){var y=p.now(),E=g.delta,w=0,C=b-g.timeLastTick;if((!C||!g.timeLastTick||C>Math.max(s._maxFrameDelta,g.maxFrameTime))&&(C=g.frameDelta||s._frameDeltaFallback),g.frameDeltaSmoothing){g.frameDeltaHistory.push(C),g.frameDeltaHistory=g.frameDeltaHistory.slice(-g.frameDeltaHistorySize);var R=g.frameDeltaHistory.slice(0).sort(),U=g.frameDeltaHistory.slice(R.length*s._smoothingLowerBound,R.length*s._smoothingUpperBound),D=h(U);C=D||C}g.frameDeltaSnapping&&(C=1e3/Math.round(1e3/C)),g.frameDelta=C,g.timeLastTick=b,g.timeBuffer+=g.frameDelta,g.timeBuffer=p.clamp(g.timeBuffer,0,g.frameDelta+E*s._timeBufferMargin),g.lastUpdatesDeferred=0;var V=g.maxUpdates||Math.ceil(g.maxFrameTime/E),A={timestamp:x.timing.timestamp};c.trigger(g,"beforeTick",A),c.trigger(g,"tick",A);for(var M=p.now();E>0&&g.timeBuffer>=E*s._timeBufferMargin;){c.trigger(g,"beforeUpdate",A),f.update(x,E),c.trigger(g,"afterUpdate",A),g.timeBuffer-=E,w+=1;var L=p.now()-y,I=p.now()-M,B=L+s._elapsedNextEstimate*I/w;if(w>=V||B>g.maxFrameTime){g.lastUpdatesDeferred=Math.round(Math.max(0,g.timeBuffer/E-s._timeBufferMargin));break}}x.timing.lastUpdatesPerFrame=w,c.trigger(g,"afterTick",A),g.frameDeltaHistory.length>=100&&(g.lastUpdatesDeferred&&Math.round(g.frameDelta/E)>V?p.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):g.lastUpdatesDeferred&&p.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof g.isFixed<"u"&&p.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(g.deltaMin||g.deltaMax)&&p.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),g.fps!==0&&p.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},s.stop=function(g){s._cancelNextFrame(g)},s._onNextFrame=function(g,x){if(typeof window<"u"&&window.requestAnimationFrame)g.frameRequestId=window.requestAnimationFrame(x);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return g.frameRequestId},s._cancelNextFrame=function(g){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(g.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var h=function(g){for(var x=0,b=g.length,y=0;y<b;y+=1)x+=g[y];return x/b||0}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(8),f=r(0),p=f.deprecated;(function(){s.collides=function(h,g){return c.collides(h,g)},p(s,"collides","SAT.collides  replaced by Collision.collides")})()}),(function(o,l,r){var s={};o.exports=s,r(1);var c=r(0);(function(){s.pathToVertices=function(f,p){typeof window<"u"&&!("SVGPathSeg"in window)&&c.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,g,x,b,y,E,w,C,R,U,D=[],V,A,M=0,L=0,I=0;p=p||15;var B=function(q,P,H){var K=H%2===1&&H>1;if(!R||q!=R.x||P!=R.y){R&&K?(V=R.x,A=R.y):(V=0,A=0);var J={x:V+q,y:A+P};(K||!R)&&(R=J),D.push(J),L=V+q,I=A+P}},k=function(q){var P=q.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":L=q.x,I=q.y;break;case"H":L=q.x;break;case"V":I=q.y;break}B(L,I,q.pathSegType)}};for(s._svgPathToAbsolute(f),x=f.getTotalLength(),E=[],h=0;h<f.pathSegList.numberOfItems;h+=1)E.push(f.pathSegList.getItem(h));for(w=E.concat();M<x;){if(U=f.getPathSegAtLength(M),y=E[U],y!=C){for(;w.length&&w[0]!=y;)k(w.shift());C=y}switch(y.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":b=f.getPointAtLength(M),B(b.x,b.y,0);break}M+=p}for(h=0,g=w.length;h<g;++h)k(w[h]);return D},s._svgPathToAbsolute=function(f){for(var p,h,g,x,b,y,E=f.pathSegList,w=0,C=0,R=E.numberOfItems,U=0;U<R;++U){var D=E.getItem(U),V=D.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(V))"x"in D&&(w=D.x),"y"in D&&(C=D.y);else switch("x1"in D&&(g=w+D.x1),"x2"in D&&(b=w+D.x2),"y1"in D&&(x=C+D.y1),"y2"in D&&(y=C+D.y2),"x"in D&&(w+=D.x),"y"in D&&(C+=D.y),V){case"m":E.replaceItem(f.createSVGPathSegMovetoAbs(w,C),U);break;case"l":E.replaceItem(f.createSVGPathSegLinetoAbs(w,C),U);break;case"h":E.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(w),U);break;case"v":E.replaceItem(f.createSVGPathSegLinetoVerticalAbs(C),U);break;case"c":E.replaceItem(f.createSVGPathSegCurvetoCubicAbs(w,C,g,x,b,y),U);break;case"s":E.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(w,C,b,y),U);break;case"q":E.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(w,C,g,x),U);break;case"t":E.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(w,C),U);break;case"a":E.replaceItem(f.createSVGPathSegArcAbs(w,C,D.r1,D.r2,D.angle,D.largeArcFlag,D.sweepFlag),U);break;case"z":case"Z":w=p,C=h;break}(V=="M"||V=="m")&&(p=w,h=C)}}})()}),(function(o,l,r){var s={};o.exports=s;var c=r(6);r(0),(function(){s.create=c.create,s.add=c.add,s.remove=c.remove,s.clear=c.clear,s.addComposite=c.addComposite,s.addBody=c.addBody,s.addConstraint=c.addConstraint})()})])})})(qr)),qr.exports}var eR=Z_();const je=ld(eR);var Lt=(n=>(n.PLANNING="PLANNING",n.RUNNING="RUNNING",n.WON="WON",n.LOST="LOST",n))(Lt||{});const qn={CLIFF:"#334155",BRIDGE:"#f59e0b",CAR_CHASSIS:"#3b82f6",CAR_WHEEL:"#1e293b",CARGO:"#ef4444",GOAL:"#10b981",OBSTACLE:"#475569"},Pr={CAR_WIDTH:130,CAR_HEIGHT:25,WHEEL_SIZE:15},Rf=[{level:1,title:"First Steps",description:"A simple gap. Draw a straight bridge.",terrainType:"DEFAULT",inkLimit:300,gapWidth:150,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.9},{level:2,title:"Stepping Down",description:"The destination is lower. Mind the drop.",terrainType:"DEFAULT",inkLimit:400,gapWidth:200,heightDiff:-80,hasCargo:!1,obstacles:[],carStability:.9},{level:3,title:"The Ramp",description:"Climb the slope! Build a ramp.",terrainType:"RAMP_UP",inkLimit:600,gapWidth:250,heightDiff:100,hasCargo:!1,obstacles:[],carStability:.8},{level:4,title:"Slippery Slope",description:"Start on a downhill slope. Control your speed!",terrainType:"RAMP_DOWN",inkLimit:500,gapWidth:300,heightDiff:-150,hasCargo:!1,obstacles:[],carStability:.8},{level:5,title:"Stairway to Heaven",description:"The terrain is stepped. Smooth it out.",terrainType:"STAIRS",inkLimit:700,gapWidth:300,heightDiff:120,hasCargo:!1,obstacles:[],carStability:.8},{level:6,title:"The Needle",description:"Land on the narrow peak in the middle.",terrainType:"NARROW_PEAK",inkLimit:700,gapWidth:400,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.7},{level:7,title:"Floating Isles",description:"Bridge across the floating island.",terrainType:"ISLAND",inkLimit:800,gapWidth:500,heightDiff:0,hasCargo:!1,obstacles:[],carStability:.7},{level:8,title:"Jagged Peaks",description:"Rough terrain ahead. Careful with the cargo.",terrainType:"JAGGED",inkLimit:800,gapWidth:350,heightDiff:50,hasCargo:!0,obstacles:[],carStability:.6},{level:9,title:"The Great Wall",description:"A massive obstacle blocks the path.",terrainType:"DEFAULT",inkLimit:1e3,gapWidth:300,heightDiff:0,hasCargo:!0,obstacles:[{x:0,y:-100,w:30,h:200,isStatic:!0}],carStability:.5},{level:10,title:"Impossible Mission",description:"Long gap, high climb, fragile cargo.",terrainType:"RAMP_UP",inkLimit:1200,gapWidth:500,heightDiff:200,hasCargo:!0,obstacles:[{x:0,y:0,w:60,h:60,rotation:.78}],carStability:.4}],Io=n=>{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const o=new e,l=o.createOscillator(),r=o.createGain();l.connect(r),r.connect(o.destination);const s=o.currentTime;switch(n){case"draw":l.type="sine",l.frequency.setValueAtTime(400,s),l.frequency.exponentialRampToValueAtTime(600,s+.1),r.gain.setValueAtTime(.1,s),r.gain.exponentialRampToValueAtTime(.01,s+.1),l.start(s),l.stop(s+.1);break;case"start":l.type="sawtooth",l.frequency.setValueAtTime(100,s),l.frequency.linearRampToValueAtTime(200,s+.5),r.gain.setValueAtTime(.2,s),r.gain.linearRampToValueAtTime(0,s+1),l.start(s),l.stop(s+1);break;case"win":l.type="triangle",l.frequency.setValueAtTime(400,s),l.frequency.setValueAtTime(600,s+.1),l.frequency.setValueAtTime(1e3,s+.2),r.gain.setValueAtTime(.2,s),r.gain.exponentialRampToValueAtTime(.01,s+1),l.start(s),l.stop(s+1);break;case"lose":l.type="sawtooth",l.frequency.setValueAtTime(300,s),l.frequency.linearRampToValueAtTime(50,s+.5),r.gain.setValueAtTime(.2,s),r.gain.linearRampToValueAtTime(.01,s+.5),l.start(s),l.stop(s+.5);break;case"click":l.type="sine",l.frequency.setValueAtTime(800,s),r.gain.setValueAtTime(.1,s),r.gain.exponentialRampToValueAtTime(.01,s+.1),l.start(s),l.stop(s+.1);break}},tR=({levelConfig:n,status:e,setStatus:o,onInkUpdate:l,gameKey:r})=>{const s=G.useRef(null),c=G.useRef(null),f=G.useRef(null),p=G.useRef(null),h=G.useRef(null),g=G.useRef(null),x=G.useRef(!1),b=G.useRef(null),y=G.useRef(0),E=G.useRef(e);G.useEffect(()=>{E.current=e},[e]);const w=(V,A)=>{const M=je.Body.nextGroup(!0),L=je.Bodies.rectangle(V,A,Pr.CAR_WIDTH,Pr.CAR_HEIGHT,{collisionFilter:{group:M},chamfer:{radius:4},render:{fillStyle:qn.CAR_CHASSIS},density:.002,friction:.8,label:"CarChassis"}),I=20,B=je.Bodies.circle(V-45,A+I,Pr.WHEEL_SIZE,{collisionFilter:{group:M},friction:.8,restitution:.1,render:{fillStyle:qn.CAR_WHEEL},label:"CarWheel"}),k=je.Bodies.circle(V+45,A+I,Pr.WHEEL_SIZE,{collisionFilter:{group:M},friction:.8,restitution:.1,render:{fillStyle:qn.CAR_WHEEL},label:"CarWheel"}),q=je.Constraint.create({bodyA:L,bodyB:B,pointB:{x:0,y:0},pointA:{x:-45,y:I},stiffness:n.carStability,damping:.2,length:0}),P=je.Constraint.create({bodyA:L,bodyB:k,pointB:{x:0,y:0},pointA:{x:45,y:I},stiffness:n.carStability,damping:.2,length:0});return je.Composite.create({bodies:[L,B,k],constraints:[q,P]})},C=(V,A)=>{const M=[],L=V/2,I=A-150,B=250,k=n.gapWidth/2;let q=L-k;q<B&&(q=B);const P=q+n.gapWidth,H=I,K=I-n.heightDiff,J=qn.CLIFF,Y=je.Bodies.rectangle(B/2,H+500,B,1e3,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(Y);const Z=q-B;if(Z>0){const ee=B+Z/2;if(n.terrainType==="RAMP_DOWN"){const he=je.Bodies.trapezoid(ee,H+50,Z,100,.8,{isStatic:!0,angle:Math.PI/12,render:{fillStyle:J},label:"Ground"}),Se=je.Bodies.rectangle(ee,H+550,Z,900,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(he,Se)}else if(n.terrainType==="JAGGED"){const he=je.Bodies.polygon(ee,H,5,Z/2,{isStatic:!0,render:{fillStyle:J},label:"Ground"}),Se=je.Bodies.rectangle(ee,H+500,Z,1e3,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(he,Se)}else{const he=je.Bodies.rectangle(ee,H+500,Z,1e3,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(he)}}const ie=V-P,de=P+ie/2,se=je.Bodies.rectangle(de,K+600,ie,1e3,{isStatic:!0,render:{fillStyle:J},label:"Ground"});if(M.push(se),n.terrainType==="RAMP_UP"){const ee=je.Bodies.rectangle(P+150,K+50,300,40,{isStatic:!0,angle:-.3,render:{fillStyle:J},label:"Ground"}),he=je.Bodies.rectangle(de,K+100,ie,200,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(ee,he)}else if(n.terrainType==="STAIRS")for(let Se=0;Se<4;Se++){const ce=P+Se*100+50,pe=K+100-Se*60;M.push(je.Bodies.rectangle(ce,pe,100,40,{isStatic:!0,render:{fillStyle:J},label:"Ground"})),M.push(je.Bodies.rectangle(ce,pe+270,100,500,{isStatic:!0,render:{fillStyle:J},label:"Ground"}))}else{const ee=je.Bodies.rectangle(de,K+100,ie,200,{isStatic:!0,render:{fillStyle:J},label:"Ground"});M.push(ee)}if(n.terrainType==="ISLAND"){const ee=je.Bodies.rectangle(L,I,180,60,{isStatic:!0,chamfer:{radius:10},render:{fillStyle:qn.OBSTACLE},label:"Ground"});M.push(ee)}else if(n.terrainType==="NARROW_PEAK"){je.Bodies.polygon(L,A,3,A-I-50,{isStatic:!0,render:{fillStyle:qn.OBSTACLE},label:"Ground"});const ee=je.Bodies.rectangle(L,A-200,40,400,{isStatic:!0,render:{fillStyle:qn.OBSTACLE},label:"Ground"}),he=je.Bodies.polygon(L,I,3,60,{isStatic:!0,angle:Math.PI/6,render:{fillStyle:qn.OBSTACLE},label:"Ground"});M.push(ee,he)}const z=n.terrainType==="STAIRS"?K-180:K-80,$=je.Bodies.rectangle(V-50,z,20,160,{isStatic:!0,isSensor:!0,render:{fillStyle:qn.GOAL,opacity:.5},label:"Goal"});return M.push($),M};G.useEffect(()=>{if(!s.current)return;f.current&&(je.Render.stop(f.current),f.current.canvas&&f.current.canvas.remove()),p.current&&je.Runner.stop(p.current),c.current&&je.Engine.clear(c.current);const V=je.Engine.create(),A=V.world;c.current=V;const M=s.current.clientWidth,L=s.current.clientHeight,I=je.Render.create({element:s.current,engine:V,options:{width:M,height:L,wireframes:!1,background:"#0f172a",pixelRatio:window.devicePixelRatio}});f.current=I;const B=je.Runner.create();p.current=B;const k=C(M,L),q=n.obstacles.map(Y=>je.Bodies.rectangle(M/2+Y.x,L-150+Y.y,Y.w,Y.h,{isStatic:Y.isStatic??!0,angle:Y.rotation??0,render:{fillStyle:qn.OBSTACLE},label:"Obstacle"}));je.World.add(A,[...k,...q]);const P=100,K=L-150-100,J=w(P,K);if(h.current=J,je.World.add(A,J),n.hasCargo){const Y=je.Bodies.rectangle(P,K-40,40,40,{render:{fillStyle:qn.CARGO},friction:.9,density:.005,label:"Cargo"});g.current=Y,je.World.add(A,Y)}else g.current=null;return je.Render.run(I),je.Runner.run(B,V),je.Events.on(B,"beforeUpdate",()=>{E.current===Lt.RUNNING&&h.current&&h.current.bodies.forEach(Y=>{Y.label==="CarWheel"&&je.Body.setAngularVelocity(Y,.15)})}),je.Events.on(B,"afterUpdate",()=>{if(!h.current)return;const Y=E.current,Z=h.current.bodies.find(ie=>ie.label==="CarChassis");if(Z){if(Z.position.x>M-80&&Y===Lt.RUNNING){if(n.hasCargo&&g.current&&(Math.abs(g.current.position.x-Z.position.x)>250||g.current.position.y>L))return;o(Lt.WON),Io("win"),B.enabled=!1}Z.position.y>L+200&&Y===Lt.RUNNING&&(o(Lt.LOST),Io("lose"),B.enabled=!1),n.hasCargo&&g.current&&Y===Lt.RUNNING&&g.current.position.y>L+100&&(o(Lt.LOST),Io("lose"),B.enabled=!1)}}),y.current=0,l(0,n.inkLimit),()=>{je.Render.stop(I),je.Runner.stop(B),c.current&&je.Engine.clear(c.current),I.canvas&&I.canvas.remove()}},[r,n]),G.useEffect(()=>{e===Lt.RUNNING&&Io("start")},[e]);const R=V=>{if(e!==Lt.PLANNING)return;x.current=!0,b.current=null,V.target.setPointerCapture(V.pointerId);const A=V.target.getBoundingClientRect(),M=V.clientX-A.left,L=V.clientY-A.top;b.current={x:M,y:L}},U=V=>{if(!x.current||e!==Lt.PLANNING||!c.current)return;const A=V.target.getBoundingClientRect(),M=V.clientX-A.left,L=V.clientY-A.top;if(y.current>=n.inkLimit)return;const I=15,B=b.current;if(B){const k=Math.hypot(M-B.x,L-B.y);if(k>I){const q=(M+B.x)/2,P=(L+B.y)/2,H=Math.atan2(L-B.y,M-B.x),K=je.Bodies.rectangle(q,P,k+2,12,{isStatic:!0,angle:H,render:{fillStyle:qn.BRIDGE},chamfer:{radius:3},label:"BridgeNode"});je.World.add(c.current.world,K),y.current+=k,l(y.current,n.inkLimit),b.current={x:M,y:L},Io("draw")}}else b.current={x:M,y:L}},D=V=>{x.current=!1,b.current=null,V.target.releasePointerCapture(V.pointerId)};return d.jsx("div",{ref:s,className:"w-full h-full cursor-crosshair touch-none",onPointerDown:R,onPointerMove:U,onPointerUp:D,onPointerLeave:D})},nR=({status:n,levelConfig:e,inkCurrent:o,inkMax:l,onStart:r,onReset:s,onNextLevel:c,isLastLevel:f})=>{const p=Math.max(0,100-o/l*100),h=p<20,g=()=>{Io("click"),r()},x=()=>{Io("click"),s()},b=()=>{Io("click"),c()};return d.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between p-4 z-10",children:[d.jsxs("div",{className:"flex justify-between items-start pointer-events-auto w-full max-w-4xl mx-auto",children:[d.jsxs("div",{className:"bg-slate-800/90 backdrop-blur rounded-2xl p-4 border border-slate-700 shadow-xl min-w-[200px]",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("span",{className:"bg-amber-500 text-slate-900 text-xs font-black px-2 py-0.5 rounded",children:["LVL ",e.level]}),d.jsx("h2",{className:"text-white font-bold text-sm leading-tight",children:e.title})]}),d.jsx("p",{className:"text-slate-400 text-xs",children:e.description}),e.hasCargo&&d.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-400 text-xs font-bold",children:[d.jsx(sl,{size:12})," CARGO MISSION"]})]}),d.jsxs("div",{className:"bg-slate-800/90 backdrop-blur rounded-2xl p-4 border border-slate-700 shadow-xl min-w-[180px]",children:[d.jsxs("div",{className:"flex justify-between text-xs text-slate-300 font-medium mb-1",children:[d.jsx("span",{children:"INK"}),d.jsxs("span",{children:[Math.round(p),"%"]})]}),d.jsx("div",{className:"w-full h-3 bg-slate-700 rounded-full overflow-hidden border border-slate-600",children:d.jsx("div",{className:`h-full transition-all duration-300 ${h?"bg-red-500":"bg-emerald-400"}`,style:{width:`${p}%`}})})]})]}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[n===Lt.WON&&d.jsxs("div",{className:"bg-emerald-500 text-white p-8 rounded-3xl shadow-2xl flex flex-col items-center animate-bounce z-50",children:[d.jsx(mT,{size:64,className:"mb-4"}),d.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider",children:"Cleared!"}),d.jsx("p",{className:"font-medium mt-2 text-emerald-100",children:"Excellent Design"})]}),n===Lt.LOST&&d.jsxs("div",{className:"bg-rose-600 text-white p-8 rounded-3xl shadow-2xl flex flex-col items-center animate-pulse z-50",children:[d.jsx(Ky,{size:64,className:"mb-4"}),d.jsx("h2",{className:"text-4xl font-black uppercase tracking-wider",children:"Crashed!"}),d.jsx("p",{className:"font-medium mt-2 text-rose-100",children:"Structure Failed"})]})]}),d.jsxs("div",{className:"flex justify-center gap-4 pointer-events-auto mb-6",children:[n===Lt.PLANNING&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:x,className:"flex items-center justify-center w-16 h-16 bg-slate-700 hover:bg-slate-600 transition-all text-white rounded-full shadow-lg border-2 border-slate-600 group","aria-label":"Clear Canvas",children:d.jsx(Ef,{size:24,className:"group-active:-rotate-180 transition-transform duration-500"})}),d.jsxs("button",{onClick:g,className:"flex items-center gap-3 bg-amber-500 hover:bg-amber-400 active:scale-95 transition-all text-slate-900 px-10 py-4 rounded-full font-black text-2xl shadow-xl border-b-4 border-amber-700",children:[d.jsx(fl,{fill:"currentColor",size:28})," DRIVE"]})]}),n===Lt.RUNNING&&d.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-slate-900",children:[d.jsx(Ef,{})," STOP & RETRY"]}),(n===Lt.WON||n===Lt.LOST)&&d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-slate-900",children:[d.jsx(Ef,{})," RETRY LEVEL"]}),n===Lt.WON&&!f&&d.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-400 active:scale-95 transition-all text-white px-8 py-4 rounded-full font-bold text-xl shadow-xl border-b-4 border-emerald-700",children:["NEXT LEVEL ",d.jsx(fT,{})]})]})]})]})},iR=()=>{const[n,e]=G.useState(0),[o,l]=G.useState(Lt.PLANNING),[r,s]=G.useState(0),[c,f]=G.useState({current:0,max:100}),p=Rf[n],h=(b,y)=>{f({current:b,max:y})},g=()=>{l(Lt.PLANNING),s(b=>b+1),f(b=>({...b,current:0}))},x=()=>{n<Rf.length-1&&(e(b=>b+1),g())};return d.jsxs("div",{className:"relative w-full h-screen bg-slate-900 overflow-hidden select-none",children:[d.jsx(tR,{levelConfig:p,status:o,setStatus:l,onInkUpdate:h,gameKey:r}),d.jsx(nR,{status:o,levelConfig:p,inkCurrent:c.current,inkMax:c.max,onStart:()=>l(Lt.RUNNING),onReset:g,onNextLevel:x,isLastLevel:n===Rf.length-1})]})},oR=()=>d.jsx(iR,{});var sn=(n=>(n.MENU="MENU",n.PLAYING="PLAYING",n.SHOP="SHOP",n.GAME_OVER="GAME_OVER",n))(sn||{}),id=(n=>(n[n.LEFT=-1]="LEFT",n[n.CENTER=0]="CENTER",n[n.RIGHT=1]="RIGHT",n))(id||{}),Ki=(n=>(n.TRAIN="TRAIN",n.COIN="COIN",n))(Ki||{});const Ur=800,If=600,Xi=160,Sy=250,kf=300,lR=.9,sR=-17,by=18,aR=50,rR=.005,uR=40,cR=40,Ty={d:80},fR=18,od=[{id:"default",name:"GHOST WALKER",price:0,color:"#e2e8f0",accentColor:"#94a3b8"},{id:"neon_samurai",name:"NEON SAMURAI",price:200,color:"#06b6d4",accentColor:"#cffafe"},{id:"dragon_fire",name:"DRAGON FIRE",price:600,color:"#dc2626",accentColor:"#f59e0b"},{id:"void_god",name:"VOID GOD",price:1500,color:"#020617",accentColor:"#7c3aed"}];let dR=class{constructor(){this.ctx=null}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext))}playCoin(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(1200,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(2e3,this.ctx.currentTime+.1),o.gain.setValueAtTime(.3,this.ctx.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}playJump(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="square",e.frequency.setValueAtTime(300,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(500,this.ctx.currentTime+.1),o.gain.setValueAtTime(.1,this.ctx.currentTime),o.gain.linearRampToValueAtTime(.01,this.ctx.currentTime+.1),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.1)}playCrash(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sawtooth",e.frequency.setValueAtTime(100,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(10,this.ctx.currentTime+.3),o.gain.setValueAtTime(.5,this.ctx.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}};const Lf=new dR,hR=({gameState:n,selectedSkin:e,onGameOver:o,onCoinCollected:l,setDistance:r})=>{const s=G.useRef(null),c=G.useRef(),f=G.useRef({lane:id.CENTER,y:0,dy:0,isJumping:!1,skinId:e,runAnimFrame:0}),p=G.useRef([]),h=G.useRef([]),g=G.useRef([]),x=G.useRef(by),b=G.useRef(0),y=G.useRef(!1);G.useEffect(()=>{g.current=Array.from({length:80},()=>({x:Math.random()*Ur,y:Math.random()*Sy,size:Math.random()*2,speed:Math.random()*.2+.05}))},[]);const E=G.useCallback(()=>{f.current={lane:id.CENTER,y:0,dy:0,isJumping:!1,skinId:e,runAnimFrame:0},p.current=[],h.current=[],x.current=by,b.current=0,y.current=!0,r(0)},[e,r]);G.useEffect(()=>{n===sn.PLAYING?E():y.current=!1},[n,E]),G.useEffect(()=>{f.current.skinId=e},[e]),G.useEffect(()=>{const M=L=>{if(n!==sn.PLAYING)return;const I=f.current;switch(L.key){case"ArrowLeft":I.lane>-1&&I.lane--;break;case"ArrowRight":I.lane<1&&I.lane++;break;case"ArrowUp":case" ":I.isJumping||(I.dy=sR,I.isJumping=!0,Lf.playJump(),w(I.lane*Xi,0,0,"#ffffff",5,"dust"));break}};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[n]);const w=(M,L,I,B,k,q="spark")=>{for(let P=0;P<k;P++){let H,K,J,Y;q==="fire"?(H=(Math.random()-.5)*5,K=Math.random()*-5-2,J=Math.random()*20+10,Y=Math.random()*8+4):q==="void"?(H=(Math.random()-.5)*2,K=(Math.random()-.5)*2,J=Math.random()*30+20,Y=Math.random()*6+2):(H=(Math.random()-.5)*15,K=(Math.random()-.5)*15,J=Math.random()*10+10,Y=Math.random()*3+1),h.current.push({x:M+(Math.random()-.5)*20,y:L+(Math.random()-.5)*20,z:I+(Math.random()-.5)*20,vx:H,vy:K,life:J,maxLife:J,color:B,size:Y,type:q})}},C=(M,L,I)=>{if(I+kf<=0)return{x:0,y:0,scale:0,visible:!1};const k=kf/(kf+I),q=Ur/2+M*Xi*k,P=Sy+(L+110)*k;return{x:q,y:P,scale:k,visible:!0}},R=(M,L,I,B=null)=>{if(!L.some(k=>!k.visible)){M.beginPath(),M.moveTo(L[0].x,L[0].y);for(let k=1;k<L.length;k++)M.lineTo(L[k].x,L[k].y);M.closePath(),B&&(M.shadowBlur=15,M.shadowColor=B),M.fillStyle=I,M.fill(),M.shadowBlur=0}},U=M=>{const L=M.createLinearGradient(0,0,0,If);L.addColorStop(0,"#000000"),L.addColorStop(1,"#1a1a1a"),M.fillStyle=L,M.fillRect(0,0,Ur,If),M.fillStyle="#ffffff",g.current.forEach(B=>{M.globalAlpha=Math.random()*.5+.3,M.beginPath(),M.arc(B.x,B.y,B.size,0,Math.PI*2),M.fill()}),M.globalAlpha=1,M.strokeStyle="rgba(255,255,255,0.05)",M.lineWidth=1;const I=b.current*10%500;for(let B=0;B<4e3;B+=500){const k=B-I;if(k<=0)continue;const q=C(-5,0,k),P=C(5,0,k);M.beginPath(),M.moveTo(q.x,q.y),M.lineTo(P.x,P.y),M.stroke()}[-1.5,-.5,.5,1.5].forEach(B=>{const k=C(B,0,0),q=C(B,0,4e3);M.beginPath(),M.moveTo(k.x,k.y),M.lineTo(q.x,q.y),M.stroke()})},D=(M,L,I)=>{const k=Ty.d,q=C(L-.5/2,0,I),P=C(L+.5/2,0,I),H=C(L-.5/4,-70,I),K=C(L+.5/4,-70,I),J=C(L-.5/4,-70,I+k),Y=C(L+.5/4,-70,I+k);if(!q.visible)return;M.fillStyle="rgba(0,0,0,0.5)";const Z=C(L,0,I+k/2);M.beginPath(),M.ellipse(Z.x,Z.y,40*Z.scale,15*Z.scale,0,0,Math.PI*2),M.fill();const ie="#171717",de="#ef4444";if(R(M,[q,P,K,H],ie),L<0){const se=C(L+.25,0,I+k);R(M,[P,se,Y,K],"#262626")}else{const se=C(L-.25,0,I+k);R(M,[q,se,J,H],"#262626")}R(M,[H,K,Y,J],"#404040"),M.strokeStyle=de,M.lineWidth=2*q.scale,M.shadowBlur=10,M.shadowColor=de,M.beginPath(),M.moveTo(q.x,q.y),M.lineTo(H.x,H.y),M.lineTo(K.x,K.y),M.lineTo(P.x,P.y),M.stroke(),M.shadowBlur=0},V=(M,L)=>{const I=od.find(J=>J.id===L.skinId)||od[0],{lane:B,y:k,runAnimFrame:q}=L,P=k,H=0;if(P<0){M.fillStyle="rgba(255,255,255,0.1)";const J=C(B,0,H+20);M.beginPath(),M.ellipse(J.x,J.y,25*J.scale,8*J.scale,0,0,Math.PI*2),M.fill()}const K=C(B,P,H).scale;if(I.id==="dragon_fire"){const J=Math.sin(q),Y=P-30+J*5,Z=C(B-.4,Y,H+20),ie=C(B+.4,Y,H+20),de=C(B,P-20,H);M.fillStyle="#7f1d1d",M.beginPath(),M.moveTo(de.x,de.y),M.lineTo(Z.x,Z.y),M.lineTo(Z.x,Z.y-30*K),M.fill(),M.beginPath(),M.moveTo(de.x,de.y),M.lineTo(ie.x,ie.y),M.lineTo(ie.x,ie.y-30*K),M.fill();const se=P-40+J*2,z=C(B,se,H);M.shadowBlur=30,M.shadowColor="#f59e0b",M.fillStyle="#ef4444",M.beginPath(),M.moveTo(z.x,z.y-25*K),M.lineTo(z.x+15*K,z.y),M.lineTo(z.x,z.y+25*K),M.lineTo(z.x-15*K,z.y),M.fill(),M.shadowBlur=0,M.fillStyle="#fbbf24",M.fillRect(z.x-5*K,z.y-5*K,10*K,4*K)}else if(I.id==="neon_samurai"){const J=C(B,P,H),Y=C(B,P-50,H),Z=C(B-.25,P-25,H),ie=C(B+.25,P-25,H);M.shadowBlur=20,M.shadowColor="#06b6d4",M.fillStyle="#0891b2",M.beginPath(),M.moveTo(Y.x,Y.y),M.lineTo(ie.x,ie.y),M.lineTo(J.x,J.y),M.lineTo(Z.x,Z.y),M.closePath(),M.fill(),M.strokeStyle="#cffafe",M.lineWidth=2,M.beginPath(),M.moveTo(Y.x,Y.y),M.lineTo(J.x,J.y),M.stroke(),M.shadowBlur=0}else if(I.id==="void_god"){const J=C(B,P-30,H),Z=(20+Math.sin(q*.5)*5)*K,ie=M.createRadialGradient(J.x,J.y,Z*.5,J.x,J.y,Z*2.5);ie.addColorStop(0,"rgba(124, 58, 237, 0.8)"),ie.addColorStop(1,"rgba(0, 0, 0, 0)"),M.fillStyle=ie,M.beginPath(),M.arc(J.x,J.y,Z*3,0,Math.PI*2),M.fill(),M.fillStyle="#000000",M.strokeStyle="#7c3aed",M.lineWidth=2,M.beginPath(),M.arc(J.x,J.y,Z,0,Math.PI*2),M.fill(),M.stroke()}else{const Y=uR,Z=C(B-.3/2,P,H),ie=C(B+.3/2,P,H),de=C(B-.3/2,P-Y,H),se=C(B+.3/2,P-Y,H),z=40,$=C(B-.3/2,P-Y,H+z),ee=C(B+.3/2,P-Y,H+z);R(M,[Z,ie,se,de],I.color),R(M,[de,se,ee,$],I.color),M.fillStyle=I.accentColor;const he=(Z.x+ie.x)/2,Se=(Z.y+de.y)/2;M.fillRect(he-2*K,Se-10*K,4*K,20*K)}},A=G.useCallback(M=>{if(!s.current||!y.current)return;const L=s.current.getContext("2d");if(!L)return;const I=f.current,B=x.current;y.current&&(I.skinId==="dragon_fire"?(w(I.lane*Xi,I.y-20,0,"#f97316",2,"fire"),w(I.lane*Xi,I.y-20,0,"#ef4444",1,"fire")):I.skinId==="neon_samurai"?Math.random()<.5&&w(I.lane*Xi,I.y-20,0,"#06b6d4",1,"spark"):I.skinId==="void_god"&&w(I.lane*Xi,I.y-30,0,"#7c3aed",1,"void")),I.isJumping&&(I.y+=I.dy,I.dy+=lR,I.y>=0&&(I.y=0,I.dy=0,I.isJumping=!1,w(I.lane*Xi,0,0,"#ffffff",5,"dust"))),I.runAnimFrame+=.2,p.current.forEach(K=>K.z-=B),p.current=p.current.filter(K=>K.z>-300);const k=2500;if(Math.max(0,...p.current.map(K=>K.z))<k-600)if(Math.random()<.45){const J=Math.floor(Math.random()*3)-1;p.current.push({id:Date.now(),type:Ki.TRAIN,lane:J,z:k,active:!0})}else{const J=Math.floor(Math.random()*3)-1;for(let Y=0;Y<4;Y++)p.current.push({id:Date.now()+Y,type:Ki.COIN,lane:J,z:k+Y*150,active:!0})}x.current<aR&&(x.current+=rR),b.current+=x.current*.1,r(Math.floor(b.current));const P={lane:I.lane,y:I.y};p.current.forEach(K=>{if(!K.active)return;const J=K.z;let Y=K.type===Ki.TRAIN?Ty.d:fR,Z=K.type===Ki.TRAIN?.6:.4;J<cR&&J+Y>0&&Math.abs(K.lane-P.lane)<Z&&(K.type===Ki.COIN?P.y>-60&&(K.active=!1,Lf.playCoin(),l(),w(K.lane*Xi,-40,0,"#fbbf24",5,"spark")):K.type===Ki.TRAIN&&P.y>-70&&(y.current=!1,Lf.playCrash(),o(Math.floor(b.current),0)))}),U(L);const H=[...p.current];H.push({id:-999,type:"PLAYER",lane:I.lane,z:0,active:!0}),H.sort((K,J)=>J.z-K.z),H.forEach(K=>{if(K.active){if(K.type==="PLAYER")V(L,I);else if(K.type===Ki.TRAIN)D(L,K.lane,K.z);else if(K.type===Ki.COIN){const J=C(K.lane,-40,K.z);J.visible&&(L.shadowBlur=10,L.shadowColor="#fbbf24",L.fillStyle="#ffffff",L.beginPath(),L.moveTo(J.x,J.y-15*J.scale),L.lineTo(J.x+10*J.scale,J.y),L.lineTo(J.x,J.y+15*J.scale),L.lineTo(J.x-10*J.scale,J.y),L.fill(),L.shadowBlur=0)}}}),h.current.forEach(K=>{const J=C(K.x/Xi,K.y,K.z);J.visible&&(L.fillStyle=K.color,L.globalAlpha=K.life/K.maxLife,L.beginPath(),K.type==="fire"?L.ellipse(J.x,J.y,K.size*J.scale,K.size*2*J.scale,0,0,Math.PI*2):L.arc(J.x,J.y,K.size*J.scale,0,Math.PI*2),L.fill(),K.x+=K.vx,K.y+=K.vy,K.z-=B,K.life-=1,K.type==="fire"&&(K.size*=.95))}),L.globalAlpha=1,h.current=h.current.filter(K=>K.life>0&&K.z>-200),c.current=requestAnimationFrame(A)},[n,e,o,l,r]);return G.useEffect(()=>(c.current=requestAnimationFrame(A),()=>{c.current&&cancelAnimationFrame(c.current)}),[A]),d.jsx("canvas",{ref:s,width:Ur,height:If,className:"w-full h-full object-contain bg-black shadow-2xl rounded-none border border-slate-800"})},pR=({setGameState:n,highScore:e})=>d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm z-20",children:[d.jsxs("div",{className:"mb-16 text-center tracking-widest",children:[d.jsx("h1",{className:"text-8xl font-bold text-white mb-2 uppercase",style:{textShadow:"0 0 30px rgba(255,255,255,0.2)"},children:"VOID WALKER"}),d.jsx("div",{className:"h-1 w-32 bg-red-600 mx-auto"}),d.jsx("p",{className:"text-slate-500 mt-4 text-xl uppercase font-light",children:"Survive the Abyss"})]}),d.jsxs("div",{className:"flex flex-col gap-6 w-80",children:[d.jsxs("button",{onClick:()=>n(sn.PLAYING),className:"group relative bg-transparent border border-white/20 hover:border-white text-white py-4 px-8 transition-all duration-300 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 w-0 bg-white transition-all duration-[250ms] ease-out group-hover:w-full opacity-10"}),d.jsx("span",{className:"relative text-3xl font-bold uppercase tracking-widest",children:"Initiate Run"})]}),d.jsx("button",{onClick:()=>n(sn.SHOP),className:"group relative bg-transparent border border-white/20 hover:border-white text-slate-300 hover:text-white py-3 px-8 transition-all duration-300",children:d.jsx("span",{className:"text-2xl font-light uppercase tracking-widest",children:"Customize Core"})})]}),d.jsxs("div",{className:"absolute bottom-10 right-10 flex flex-col items-end",children:[d.jsx("span",{className:"text-slate-600 uppercase text-sm tracking-widest",children:"Personal Best"}),d.jsx("span",{className:"text-4xl text-white font-bold",children:e.toString().padStart(6,"0")})]})]}),mR=({score:n,coins:e})=>d.jsxs("div",{className:"absolute top-0 left-0 w-full p-8 flex justify-between items-start pointer-events-none z-10 text-white select-none",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-slate-500 text-sm font-light uppercase tracking-[0.3em] mb-1",children:"Distance"}),d.jsx("span",{className:"text-5xl font-bold tracking-widest",style:{textShadow:"0 0 10px rgba(255,255,255,0.3)"},children:n.toString().padStart(5,"0")})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"text-slate-500 text-sm font-light uppercase tracking-[0.3em] mb-1",children:"Energy"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rotate-45 animate-pulse"}),d.jsx("span",{className:"text-4xl font-bold tracking-widest",children:e})]})]})]}),gR=({coins:n,unlockedSkins:e,selectedSkin:o,onBuy:l,onSelect:r,onClose:s})=>d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/95 z-30 text-white",children:[d.jsxs("div",{className:"absolute top-8 right-8 flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-red-500 rotate-45"}),d.jsx("span",{className:"text-2xl font-bold tracking-widest",children:n})]}),d.jsx("h2",{className:"text-5xl font-bold mb-12 uppercase tracking-[0.2em] text-white",children:"Core Selection"}),d.jsx("div",{className:"flex gap-8 mb-16 overflow-x-auto p-4 w-full justify-center",children:od.map(c=>{const f=e.includes(c.id),p=o===c.id,h=n>=c.price;return d.jsxs("div",{className:`
                relative w-64 h-80 bg-[#0a0a0a] border flex flex-col items-center justify-between p-6 transition-all duration-300 group
                ${p?"border-white shadow-[0_0_30px_rgba(255,255,255,0.1)]":"border-white/10 hover:border-white/50"}
                ${!f&&!h?"opacity-50":"opacity-100"}
              `,children:[d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsx("div",{className:"w-24 h-24 transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12",style:{backgroundColor:c.color,boxShadow:`0 0 20px ${c.accentColor}`}})}),d.jsxs("div",{className:"w-full text-center",children:[d.jsx("h3",{className:"text-2xl font-bold uppercase mb-1",children:c.name}),!f&&d.jsxs("p",{className:"text-slate-500 text-sm mb-4",children:["REQ: ",c.price," ENERGY"]}),f?d.jsx("button",{onClick:()=>r(c.id),className:`
                      w-full py-3 text-lg font-bold uppercase tracking-widest border transition-colors
                      ${p?"bg-white text-black border-white":"bg-transparent text-white border-white/20 hover:border-white"}
                    `,children:p?"ACTIVE":"EQUIP"}):d.jsx("button",{onClick:()=>l(c.id,c.price),disabled:!h,className:`
                      w-full py-3 text-lg font-bold uppercase tracking-widest border
                      ${h?"border-red-500 text-red-500 hover:bg-red-500 hover:text-black":"border-slate-800 text-slate-800 cursor-not-allowed"}
                    `,children:"UNLOCK"})]})]},c.id)})}),d.jsx("button",{onClick:s,className:"text-slate-500 hover:text-white text-xl uppercase tracking-widest transition-colors",children:"Return to Void"})]}),yR=({score:n,coinsEarned:e,totalCoins:o,onRestart:l,onGoToShop:r})=>d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/90 z-40 backdrop-blur-xl",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-7xl font-bold text-red-600 mb-2 tracking-[0.2em] uppercase",style:{textShadow:"0 0 20px rgba(220, 38, 38, 0.5)"},children:"SYNC LOST"}),d.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-red-900 to-transparent mb-12"}),d.jsxs("div",{className:"flex gap-12 mb-16",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-widest mb-2",children:"Distance Traveled"}),d.jsx("p",{className:"text-6xl text-white font-bold",children:n})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-slate-500 text-sm uppercase tracking-widest mb-2",children:"Energy Collected"}),d.jsxs("p",{className:"text-6xl text-white font-bold",children:["+",e]})]})]}),d.jsxs("div",{className:"flex flex-col gap-4 w-80 mx-auto",children:[d.jsx("button",{onClick:l,className:"bg-white text-black font-bold py-4 text-xl uppercase tracking-widest hover:bg-slate-200 transition-colors",children:"Re-Initialize"}),d.jsx("button",{onClick:r,className:"border border-white/20 text-slate-400 font-bold py-3 text-lg uppercase tracking-widest hover:text-white hover:border-white transition-all",children:"Access Shop"})]})]})}),ix="traffic_runner_save_v1",Df={coins:0,unlockedSkins:["default"],selectedSkin:"default",highScore:0},vR=n=>{try{localStorage.setItem(ix,JSON.stringify(n))}catch(e){console.error("Failed to save game data",e)}},Ey=()=>{try{const n=localStorage.getItem(ix);return n?{...Df,...JSON.parse(n)}:Df}catch(n){return console.error("Failed to load game data",n),Df}},xR=()=>{const[n,e]=G.useState(sn.MENU),[o,l]=G.useState(Ey()),[r,s]=G.useState(0),[c,f]=G.useState(0);G.useEffect(()=>{l(Ey())},[]),G.useEffect(()=>{vR(o)},[o]);const p=()=>{s(0),f(0),e(sn.PLAYING)},h=y=>{s(y),l(E=>({...E,coins:E.coins+c,highScore:Math.max(E.highScore,y)})),e(sn.GAME_OVER)},g=()=>{f(y=>y+10),l(y=>({...y,coins:y.coins+10}))},x=(y,E)=>{o.coins>=E&&l(w=>({...w,coins:w.coins-E,unlockedSkins:[...w.unlockedSkins,y],selectedSkin:y}))},b=y=>{o.unlockedSkins.includes(y)&&l(E=>({...E,selectedSkin:y}))};return d.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center font-sans overflow-hidden p-0 sm:p-4 select-none",children:d.jsxs("div",{className:"relative w-full max-w-[900px] aspect-video border border-slate-800 bg-black overflow-hidden shadow-2xl",children:[d.jsx(hR,{gameState:n,selectedSkin:o.selectedSkin,onGameOver:h,onCoinCollected:g,setDistance:s}),n===sn.MENU&&d.jsx(pR,{setGameState:y=>{y===sn.PLAYING?p():e(y)},highScore:o.highScore}),n===sn.PLAYING&&d.jsx(mR,{score:r,coins:o.coins}),n===sn.SHOP&&d.jsx(gR,{coins:o.coins,unlockedSkins:o.unlockedSkins,selectedSkin:o.selectedSkin,onBuy:x,onSelect:b,onClose:()=>e(sn.MENU)}),n===sn.GAME_OVER&&d.jsx(yR,{score:r,coinsEarned:c,totalCoins:o.coins,onRestart:p,onGoToShop:()=>e(sn.SHOP)})]})})},SR=()=>d.jsx(xR,{});var Wl=(n=>(n.FRUIT="FRUIT",n.BOMB="BOMB",n))(Wl||{}),Nt=(n=>(n.WATERMELON="WATERMELON",n.ORANGE="ORANGE",n.KIWI="KIWI",n.LEMON="LEMON",n.GOLDEN="GOLDEN",n.ICE="ICE",n))(Nt||{});let bR=class{constructor(){this.ctx=null;try{this.ctx=new(window.AudioContext||window.webkitAudioContext)}catch{console.warn("Web Audio API not supported")}}ensureContext(){this.ctx&&this.ctx.state==="suspended"&&this.ctx.resume()}playSlice(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sawtooth",e.frequency.setValueAtTime(800,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(100,this.ctx.currentTime+.1),o.gain.setValueAtTime(.3,this.ctx.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.1),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.1)}playExplosion(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="square",e.frequency.setValueAtTime(100,this.ctx.currentTime),e.frequency.exponentialRampToValueAtTime(10,this.ctx.currentTime+.5),o.gain.setValueAtTime(.5,this.ctx.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.5),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.5)}playThrow(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(200,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(300,this.ctx.currentTime+.2),o.gain.setValueAtTime(.05,this.ctx.currentTime),o.gain.linearRampToValueAtTime(0,this.ctx.currentTime+.3),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.3)}playCombo(e){if(this.ensureContext(),!this.ctx)return;const o=400+e*100,l=this.ctx.createOscillator(),r=this.ctx.createGain();l.type="triangle",l.frequency.setValueAtTime(o,this.ctx.currentTime),l.frequency.linearRampToValueAtTime(o+200,this.ctx.currentTime+.2),r.gain.setValueAtTime(.2,this.ctx.currentTime),r.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),l.connect(r),r.connect(this.ctx.destination),l.start(),l.stop(this.ctx.currentTime+.3)}playFreeze(){if(this.ensureContext(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sine",e.frequency.setValueAtTime(1200,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(600,this.ctx.currentTime+.5),o.gain.setValueAtTime(.3,this.ctx.currentTime),o.gain.linearRampToValueAtTime(0,this.ctx.currentTime+.5),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.5)}};const sa=new bR,Pf=.4,TR=10,ER=15,Uf={[Nt.WATERMELON]:{skin:"#2E7D32",flesh:"#FF1744",seed:"#000"},[Nt.ORANGE]:{skin:"#EF6C00",flesh:"#FF9800",seed:"#FFF3E0"},[Nt.KIWI]:{skin:"#795548",flesh:"#76FF03",seed:"#212121"},[Nt.LEMON]:{skin:"#FBC02D",flesh:"#FFEB3B",seed:"#FFF"},[Nt.GOLDEN]:{skin:"#FFD700",flesh:"#FFFF00",seed:"#FFF"},[Nt.ICE]:{skin:"#00BCD4",flesh:"#E0F7FA",seed:"#FFF"}},wR=({onGameOver:n,onScoreUpdate:e,gameActive:o,onRestart:l})=>{const r=G.useRef(null),s=G.useRef(0),c=G.useRef(3),f=G.useRef([]),p=G.useRef([]),h=G.useRef([]),g=G.useRef([]),x=G.useRef([]),b=G.useRef(0),y=G.useRef(1),E=G.useRef(0),w=G.useRef(0),C=G.useRef(0),R=G.useRef(0),U=(V,A)=>Math.random()*(A-V)+V,D=()=>{s.current=0,c.current=3,f.current=[],p.current=[],h.current=[],g.current=[],x.current=[],y.current=1,C.current=0,R.current=0,e(0,3)};return G.useEffect(()=>{o&&D()},[o]),G.useEffect(()=>{const V=r.current;if(!V)return;const A=V.getContext("2d");if(!A)return;let M;const L=()=>{V.parentElement?(V.width=V.parentElement.clientWidth,V.height=V.parentElement.clientHeight):(V.width=window.innerWidth,V.height=window.innerHeight)};window.addEventListener("resize",L),L();const I=(se,z)=>{const $=V.getBoundingClientRect();return{x:se-$.left,y:z-$.top}},B=(se,z)=>{f.current.push({x:se,y:z,life:TR})},k=se=>{const{x:z,y:$}=I(se.clientX,se.clientY);B(z,$)},q=se=>{se.preventDefault();const z=se.touches[0],{x:$,y:ee}=I(z.clientX,z.clientY);B($,ee)};window.addEventListener("mousemove",k),V.addEventListener("touchmove",q,{passive:!1});const P=()=>{const se=Math.random()<.12+y.current*.02;let z=35,$=Wl.FRUIT,ee=Nt.WATERMELON;if(se)$=Wl.BOMB,z=30;else{const ge=Math.random();ge<.05?ee=Nt.GOLDEN:ge<.1?ee=Nt.ICE:ge<.3?ee=Nt.WATERMELON:ge<.5?ee=Nt.ORANGE:ge<.75?ee=Nt.KIWI:ee=Nt.LEMON}const he=U(z,V.width-z),Se=V.height+z,ce=(V.width/2-he)*U(.005,.015)+U(-1,1),pe=U(-14,-18)-y.current*.5;p.current.push({id:Date.now()+Math.random(),type:$,fruitType:ee,x:he,y:Se,vx:ce,vy:pe,radius:z,rotation:0,rotationSpeed:U(-.2,.2),isSliced:!1}),se||sa.playThrow()},H=(se,z,$)=>{for(let he=0;he<12;he++)h.current.push({x:se,y:z,vx:U(-6,6),vy:U(-6,6),life:U(20,40),color:$,size:U(2,6)})},K=se=>{[0,Math.PI].forEach($=>{g.current.push({x:se.x,y:se.y,vx:se.vx+($===0?-4:4),vy:se.vy,radius:se.radius,fruitType:se.fruitType,rotation:se.rotation,rotationSpeed:se.rotationSpeed+($===0?-.1:.1),startAngle:$,endAngle:$+Math.PI,life:60})})},J=(se,z,$)=>{const ee=Uf[$];if(se.beginPath(),se.arc(0,0,z,0,Math.PI*2),se.fillStyle=ee.skin,se.fill(),se.beginPath(),se.arc(0,0,z-4,0,Math.PI*2),se.fillStyle=ee.flesh,se.fill(),$===Nt.ORANGE||$===Nt.LEMON){se.strokeStyle=ee.skin,se.globalAlpha=.3,se.lineWidth=2,se.beginPath();for(let he=0;he<8;he++)se.moveTo(0,0),se.lineTo(Math.cos(he*Math.PI/4)*(z-4),Math.sin(he*Math.PI/4)*(z-4));se.stroke(),se.globalAlpha=1}else if($===Nt.WATERMELON||$===Nt.KIWI||$===Nt.GOLDEN){se.fillStyle=ee.seed;for(let he=0;he<6;he++){const Se=he*Math.PI/3,ce=z*.5;se.beginPath(),se.arc(Math.cos(Se)*ce,Math.sin(Se)*ce,2,0,Math.PI*2),se.fill()}}($===Nt.GOLDEN||$===Nt.ICE)&&(se.shadowBlur=20,se.shadowColor=ee.skin,se.strokeStyle="#FFF",se.lineWidth=2,se.stroke(),se.shadowBlur=0)},Y=(se,z,$)=>{const ee=z.x-se.x,he=z.y-se.y,Se=ee*ee+he*he,ce=(($.x-se.x)*ee+($.y-se.y)*he)/Math.max(Se,1e-4);let pe,ge;return ce<0?(pe=se.x,ge=se.y):ce>1?(pe=z.x,ge=z.y):(pe=se.x+ce*ee,ge=se.y+ce*he),($.x-pe)**2+($.y-ge)**2<$.radius**2},Z=()=>{if(!o)return;b.current++,y.current=1+Math.floor(s.current/100)*.1;let se=1;C.current>0&&(se=.4,C.current--);for(let $=f.current.length-1;$>=0;$--)f.current[$].life--,f.current[$].life<=0&&f.current.splice($,1);b.current-E.current>ER&&(w.current=0),R.current>0&&R.current--;const z=Math.max(20,60-Math.floor(s.current/20));b.current%Math.floor(z/(se>.5?1:.5))===0&&P();for(let $=p.current.length-1;$>=0;$--){const ee=p.current[$];if(ee.x+=ee.vx*se,ee.y+=ee.vy*se,ee.vy+=Pf*se,ee.rotation+=ee.rotationSpeed*se,ee.y>V.height+ee.radius+10){if(ee.type===Wl.FRUIT&&!ee.isSliced&&(c.current--,e(s.current,c.current),c.current<=0)){n(s.current);return}p.current.splice($,1);continue}if(f.current.length>=2){const he=Math.min(f.current.length-1,5);let Se=!1;for(let ce=0;ce<he;ce++){const pe=f.current[f.current.length-1-ce],ge=f.current[f.current.length-2-ce];if(Y(pe,ge,ee)){Se=!0;break}}if(Se)if(ee.isSliced=!0,ee.type===Wl.BOMB){sa.playExplosion(),n(s.current);return}else{E.current=b.current,w.current++;let ce=10,pe=!1;ee.fruitType===Nt.GOLDEN?(ce=50,R.current=10):ee.fruitType===Nt.ICE&&(C.current=180,sa.playFreeze(),R.current=20),w.current>1?(ce+=w.current*5,pe=!0,R.current=5,sa.playCombo(w.current),x.current.push({x:ee.x,y:ee.y-50,text:`${w.current} COMBO!`,life:40,color:"#FFD700",size:24+w.current*2})):sa.playSlice(),s.current+=ce,e(s.current,c.current);const ge=Uf[ee.fruitType];H(ee.x,ee.y,ge.flesh),K(ee),x.current.push({x:ee.x,y:ee.y,text:`+${ce}`,life:30,color:"#FFF",size:pe?30:20}),p.current.splice($,1)}}}for(let $=h.current.length-1;$>=0;$--){const ee=h.current[$];ee.x+=ee.vx*se,ee.y+=ee.vy*se,ee.vy+=Pf*.5*se,ee.life--,ee.life<=0&&h.current.splice($,1)}for(let $=g.current.length-1;$>=0;$--){const ee=g.current[$];ee.x+=ee.vx*se,ee.y+=ee.vy*se,ee.vy+=Pf*se,ee.rotation+=ee.rotationSpeed*se,ee.life--,ee.y>V.height+100&&g.current.splice($,1)}for(let $=x.current.length-1;$>=0;$--){const ee=x.current[$];ee.y-=1,ee.life--,ee.life<=0&&x.current.splice($,1)}},ie=()=>{let se="#222";if(R.current>0&&(C.current>0?se="#003344":w.current>4?se="#441111":se="#333"),A.fillStyle=se,A.fillRect(0,0,V.width,V.height),C.current>0&&(A.fillStyle="rgba(0, 255, 255, 0.05)",A.fillRect(0,0,V.width,V.height)),p.current.forEach(z=>{A.save(),A.translate(z.x,z.y),A.rotate(z.rotation),z.type===Wl.BOMB?(A.beginPath(),A.arc(0,0,z.radius,0,Math.PI*2),A.fillStyle="#111",A.fill(),A.strokeStyle="#F00",A.lineWidth=3,A.stroke(),A.beginPath(),A.moveTo(-z.radius/2,-z.radius/2),A.lineTo(z.radius/2,z.radius/2),A.moveTo(z.radius/2,-z.radius/2),A.lineTo(-z.radius/2,z.radius/2),A.strokeStyle="#F00",A.stroke(),A.shadowBlur=20,A.shadowColor="#F00"):J(A,z.radius,z.fruitType),A.restore()}),g.current.forEach(z=>{A.save(),A.translate(z.x,z.y),A.rotate(z.rotation);const $=Uf[z.fruitType];A.beginPath(),A.arc(0,0,z.radius,z.startAngle,z.endAngle),A.lineTo(0,0),A.fillStyle=$.skin,A.fill(),A.beginPath(),A.arc(0,0,z.radius-4,z.startAngle,z.endAngle),A.lineTo(0,0),A.fillStyle=$.flesh,A.fill(),A.restore()}),h.current.forEach(z=>{A.fillStyle=z.color,A.globalAlpha=z.life/30,A.beginPath(),A.arc(z.x,z.y,z.size,0,Math.PI*2),A.fill(),A.globalAlpha=1}),x.current.forEach(z=>{A.font=`bold ${z.size}px Arial`,A.fillStyle=z.color,A.textAlign="center",A.strokeStyle="black",A.lineWidth=3,A.globalAlpha=Math.min(1,z.life/10),A.strokeText(z.text,z.x,z.y),A.fillText(z.text,z.x,z.y),A.globalAlpha=1}),f.current.length>1){A.beginPath(),A.moveTo(f.current[0].x,f.current[0].y);for(let z=1;z<f.current.length;z++){const $=f.current[z];A.lineTo($.x,$.y)}C.current>0?(A.strokeStyle="#00FFFF",A.shadowColor="#00FFFF"):w.current>3?(A.strokeStyle="#FFD700",A.shadowColor="#FFD700"):(A.strokeStyle="#FFF",A.shadowColor="#0FF"),A.lineWidth=5,A.lineCap="round",A.lineJoin="round",A.shadowBlur=15,A.stroke(),A.lineWidth=2,A.shadowBlur=0,A.stroke()}},de=()=>{Z(),ie(),M=requestAnimationFrame(de)};return de(),()=>{cancelAnimationFrame(M),window.removeEventListener("mousemove",k),V.removeEventListener("touchmove",q),window.removeEventListener("resize",L)}},[o,n,e]),d.jsx("canvas",{ref:r,className:"absolute inset-0 z-0 cursor-none"})},CR=()=>{const[n,e]=G.useState(0),[o,l]=G.useState(0),[r,s]=G.useState(3),c=()=>{l(0),s(3),e(1)},f=G.useCallback(h=>{l(h),e(2)},[]),p=G.useCallback((h,g)=>{l(h),s(g)},[]);return d.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-[#222] select-none font-sans text-white",children:[d.jsx(wR,{gameActive:n===1,onGameOver:f,onScoreUpdate:p,onRestart:c}),n===1&&d.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 flex justify-between items-start pointer-events-none z-10",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-4xl font-bold text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]",children:o}),d.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Score"})]}),d.jsx("div",{className:"flex gap-1 text-3xl filter drop-shadow-[0_0_5px_rgba(255,0,0,0.5)]",children:[...Array(3)].map((h,g)=>d.jsx("span",{className:g<r?"opacity-100":"opacity-20 grayscale",children:""},g))})]}),n===0&&d.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm",children:[d.jsxs("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500 drop-shadow-[0_0_15px_rgba(34,211,238,0.5)] mb-8 text-center",children:["NEON",d.jsx("br",{}),"BLADE"]}),d.jsx("p",{className:"mb-8 text-gray-300 text-lg",children:"Slice fruits. Avoid bombs. Don't drop them!"}),d.jsx("button",{onClick:c,className:"px-8 py-4 bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-2xl rounded-full shadow-[0_0_20px_rgba(6,182,212,0.6)] transition-all transform hover:scale-110 active:scale-95",children:"GAME START"})]}),n===2&&d.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in",children:[d.jsx("h2",{className:"text-6xl font-black text-red-500 drop-shadow-[0_0_20px_rgba(239,68,68,0.8)] mb-4",children:"GAME OVER"}),d.jsxs("div",{className:"flex flex-col items-center mb-8",children:[d.jsx("span",{className:"text-xl text-gray-400",children:"FINAL SCORE"}),d.jsx("span",{className:"text-7xl font-bold text-white",children:o})]}),d.jsx("button",{onClick:c,className:"px-10 py-4 bg-yellow-500 hover:bg-yellow-400 text-black font-bold text-2xl rounded-full shadow-[0_0_20px_rgba(234,179,8,0.6)] transition-all transform hover:scale-110 active:scale-95",children:"RETRY"})]})]})};var Yn=(n=>(n.START="START",n.PLAYING="PLAYING",n.GAMEOVER="GAMEOVER",n))(Yn||{});const wy=40,NR=150,AR=150,Cy=3.5,MR=4,_R=Math.cos(Math.PI/6),RR=Math.sin(Math.PI/6),Ny=200,Ay=10,IR=3;let kR=class{constructor(){this.ctx=null}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext)),this.ctx.state==="suspended"&&this.ctx.resume()}playPop(e=1){if(this.init(),!this.ctx)return;const o=this.ctx.createOscillator(),l=this.ctx.createGain();o.type="sine",o.frequency.setValueAtTime(200*e,this.ctx.currentTime),o.frequency.exponentialRampToValueAtTime(50*e,this.ctx.currentTime+.1),l.gain.setValueAtTime(.3,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.1),o.connect(l),l.connect(this.ctx.destination),o.start(),o.stop(this.ctx.currentTime+.1)}playPerfect(e){if(this.init(),!this.ctx)return;const o=440*Math.pow(1.059,e),l=this.ctx.createOscillator(),r=this.ctx.createGain();l.type="triangle",l.frequency.setValueAtTime(o,this.ctx.currentTime),l.frequency.exponentialRampToValueAtTime(o*1.5,this.ctx.currentTime+.2),r.gain.setValueAtTime(.2,this.ctx.currentTime),r.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.3),l.connect(r),r.connect(this.ctx.destination),l.start(),l.stop(this.ctx.currentTime+.3)}playGameOver(){if(this.init(),!this.ctx)return;const e=this.ctx.createOscillator(),o=this.ctx.createGain();e.type="sawtooth",e.frequency.setValueAtTime(150,this.ctx.currentTime),e.frequency.linearRampToValueAtTime(40,this.ctx.currentTime+.5),o.gain.setValueAtTime(.2,this.ctx.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+.5),e.connect(o),o.connect(this.ctx.destination),e.start(),e.stop(this.ctx.currentTime+.5)}};const Gf=new kR,LR=()=>{const n=G.useRef(null),e=G.useRef([]),o=G.useRef([]),l=G.useRef([]),r=G.useRef(null),s=G.useRef(Yn.START),c=G.useRef(0),f=G.useRef(parseInt(localStorage.getItem("neon-stack-best")||"0")),p=G.useRef(0),h=G.useRef("x"),g=G.useRef(0),x=G.useRef(0),b=G.useRef(200),y=G.useRef(0),[E,w]=G.useState(0),[C,R]=G.useState(Yn.START),[U,D]=G.useState(f.current),V=G.useCallback(()=>{e.current=[{id:"base",pos:{x:0,y:0,z:0},width:NR,depth:AR,color:`hsl(${b.current}, 70%, 60%)`,hue:b.current}],o.current=[],l.current=[],c.current=0,p.current=0,b.current=Math.random()*360,g.current=0,x.current=0,A(),s.current=Yn.PLAYING,R(Yn.PLAYING),w(0)},[]),A=()=>{const P=e.current[e.current.length-1],H=P.pos.y+wy;h.current=h.current==="x"?"z":"x",b.current=(b.current+5)%360;const K={...P.pos,y:H};h.current==="x"?K.x=-400:K.z=-400,r.current={id:Math.random().toString(),pos:K,width:P.width,depth:P.depth,color:`hsl(${b.current}, 70%, 60%)`,hue:b.current},x.current=H},M=G.useCallback(()=>{if(s.current===Yn.START){V();return}if(s.current===Yn.GAMEOVER){V();return}if(!r.current)return;const P=e.current[e.current.length-1],H=h.current==="x"?r.current.pos.x-P.pos.x:r.current.pos.z-P.pos.z;if(Math.abs(H)<MR)r.current.pos.x=P.pos.x,r.current.pos.z=P.pos.z,p.current++,c.current++,y.current=.5,Gf.playPerfect(p.current),p.current>=IR&&(r.current.width=Math.min(Ny,r.current.width+Ay),r.current.depth=Math.min(Ny,r.current.depth+Ay)),I(r.current);else{p.current=0;const J=h.current==="x"?r.current.width-Math.abs(H):r.current.depth-Math.abs(H);if(J<=0){B();return}const Y=h.current==="x"?J:r.current.width,Z=h.current==="z"?J:r.current.depth;L(r.current,P,H),r.current.width=Y,r.current.depth=Z,h.current==="x"?r.current.pos.x=P.pos.x+H/2:r.current.pos.z=P.pos.z+H/2,c.current++,Gf.playPop(1+c.current*.01)}e.current.push(r.current),w(c.current),A()},[V]),L=(P,H,K)=>{const J=h.current==="x",Y=J?Math.abs(K):P.width,Z=J?P.depth:Math.abs(K);let ie=P.pos.x,de=P.pos.z;J?ie=K>0?H.pos.x+H.width/2+Y/2:H.pos.x-H.width/2-Y/2:de=K>0?H.pos.z+H.depth/2+Z/2:H.pos.z-H.depth/2-Z/2,o.current.push({id:Math.random().toString(),pos:{x:ie,y:P.pos.y,z:de},width:Y,depth:Z,color:P.color,velocity:{x:J?K*.1:0,y:0,z:J?0:K*.1},rotation:0,rotationVel:(Math.random()-.5)*.2,opacity:1})},I=P=>{for(let H=0;H<8;H++)l.current.push({x:(Math.random()-.5)*P.width,y:P.pos.y,size:Math.random()*5+2,color:"#fff",life:1,maxLife:1})},B=()=>{s.current=Yn.GAMEOVER,R(Yn.GAMEOVER),Gf.playGameOver(),c.current>f.current&&(f.current=c.current,D(c.current),localStorage.setItem("neon-stack-best",c.current.toString())),r.current&&(o.current.push({id:"failed-block",pos:{...r.current.pos},width:r.current.width,depth:r.current.depth,color:r.current.color,velocity:{x:0,y:0,z:0},rotation:0,rotationVel:.05,opacity:1}),r.current=null)},k=(P,H,K,J,Y)=>{const Z=J/2+(P-K)*_R,ie=Y*.75+(P+K)*RR-H+g.current;return{x:Z,y:ie}},q=(P,H,K=!1)=>{const{x:J,y:Y,z:Z}=H.pos,ie=H.width/2,de=H.depth/2,se=wy,z=P.canvas,$=[k(J-ie,Y,Z-de,z.width,z.height),k(J+ie,Y,Z-de,z.width,z.height),k(J+ie,Y,Z+de,z.width,z.height),k(J-ie,Y,Z+de,z.width,z.height)],ee=[k(J-ie,Y,Z+de,z.width,z.height),k(J+ie,Y,Z+de,z.width,z.height),k(J+ie,Y-se,Z+de,z.width,z.height),k(J-ie,Y-se,Z+de,z.width,z.height)],he=[k(J+ie,Y,Z+de,z.width,z.height),k(J+ie,Y,Z-de,z.width,z.height),k(J+ie,Y-se,Z-de,z.width,z.height),k(J+ie,Y-se,Z+de,z.width,z.height)],Se=H.color.match(/hsl\((\d+\.?\d*),\s*(\d+)%,\s*(\d+)%\)/),ce=Se?Se[1]:"0",pe=Se?Se[2]:"70",ge=Se?Se[3]:"60";P.globalAlpha=K?H.opacity:1,P.fillStyle=`hsl(${ce}, ${pe}%, ${ge}%)`,P.beginPath(),P.moveTo($[0].x,$[0].y),$.forEach(we=>P.lineTo(we.x,we.y)),P.closePath(),P.fill(),P.fillStyle=`hsl(${ce}, ${pe}%, ${parseInt(ge)-20}%)`,P.beginPath(),P.moveTo(ee[0].x,ee[0].y),ee.forEach(we=>P.lineTo(we.x,we.y)),P.closePath(),P.fill(),P.fillStyle=`hsl(${ce}, ${pe}%, ${parseInt(ge)-40}%)`,P.beginPath(),P.moveTo(he[0].x,he[0].y),he.forEach(we=>P.lineTo(we.x,we.y)),P.closePath(),P.fill(),P.globalAlpha=1};return G.useEffect(()=>{const P=n.current;if(!P)return;const H=P.getContext("2d");if(!H)return;let K;const J=()=>{P.width=window.innerWidth,P.height=window.innerHeight};window.addEventListener("resize",J),J();const Y=()=>{H.clearRect(0,0,P.width,P.height);const Z=(b.current+180)%360,ie=H.createLinearGradient(0,0,0,P.height);ie.addColorStop(0,`hsl(${Z}, 20%, 10%)`),ie.addColorStop(1,`hsl(${Z}, 30%, 5%)`),H.fillStyle=ie,H.fillRect(0,0,P.width,P.height),g.current+=(x.current-g.current)*.1,s.current===Yn.PLAYING&&r.current&&(h.current==="x"?(r.current.pos.x+=Cy,r.current.pos.x>400&&(r.current.pos.x=-400)):(r.current.pos.z+=Cy,r.current.pos.z>400&&(r.current.pos.z=-400))),o.current.forEach((de,se)=>{de.velocity.y-=.5,de.pos.x+=de.velocity.x,de.pos.y+=de.velocity.y,de.pos.z+=de.velocity.z,de.opacity-=.015,de.opacity<=0&&o.current.splice(se,1)}),l.current.forEach((de,se)=>{de.life-=.02,de.life<=0&&l.current.splice(se,1)}),e.current.forEach(de=>q(H,de)),o.current.forEach(de=>q(H,de,!0)),r.current&&q(H,r.current),y.current>0&&(H.fillStyle=`rgba(255, 255, 255, ${y.current})`,H.fillRect(0,0,P.width,P.height),y.current-=.05),l.current.forEach(de=>{const se=k(de.x,de.y,0,P.width,P.height);H.strokeStyle=`rgba(255,255,255,${de.life})`,H.lineWidth=2;const z=(1-de.life)*100;H.strokeRect(se.x-z/2,se.y-z/2,z,z)}),K=requestAnimationFrame(Y)};return Y(),()=>{cancelAnimationFrame(K),window.removeEventListener("resize",J)}},[]),G.useEffect(()=>{const P=H=>{H.code==="Space"&&M()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[M]),d.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden select-none touch-none",onClick:M,children:[d.jsx("canvas",{ref:n,className:"w-full h-full cursor-pointer"}),d.jsxs("div",{className:"absolute top-12 left-0 w-full flex flex-col items-center pointer-events-none",children:[d.jsx("h1",{className:"text-white text-8xl font-thin tracking-widest drop-shadow-2xl",children:E}),p.current>1&&d.jsxs("div",{className:"text-blue-300 text-xl font-light mt-2 animate-bounce",children:["COMBO x",p.current]})]}),C===Yn.START&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm transition-opacity",children:d.jsxs("div",{className:"text-center p-8",children:[d.jsx("h2",{className:"text-white text-5xl font-bold mb-4 tracking-tighter",children:"NEON STACK"}),d.jsx("p",{className:"text-gray-300 text-lg mb-8 font-light",children:"  "}),d.jsx("div",{className:"w-12 h-12 border-t-2 border-white rounded-full animate-spin mx-auto"})]})}),C===Yn.GAMEOVER&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-md animate-in fade-in duration-500",children:d.jsxs("div",{className:"bg-white/10 p-12 rounded-3xl border border-white/20 text-center backdrop-blur-xl shadow-2xl",children:[d.jsx("h2",{className:"text-red-400 text-4xl font-black mb-2 uppercase tracking-widest",children:"GAME OVER"}),d.jsxs("div",{className:"space-y-1 mb-8",children:[d.jsx("p",{className:"text-gray-400 text-sm uppercase",children:"Score"}),d.jsx("p",{className:"text-white text-6xl font-thin",children:E}),d.jsx("p",{className:"text-blue-400 text-sm mt-4 uppercase",children:"Best"}),d.jsx("p",{className:"text-blue-200 text-2xl font-light",children:U})]}),d.jsx("button",{className:"bg-white text-black px-12 py-4 rounded-full font-bold hover:bg-gray-200 active:scale-95 transition-all shadow-xl",onClick:P=>{P.stopPropagation(),V()},children:"TRY AGAIN"})]})}),d.jsx("div",{className:"absolute bottom-8 right-8 text-white/30 text-xs font-light pointer-events-none",children:"SPACE OR CLICK TO STACK"})]})},DR=()=>d.jsx(LR,{});class My{constructor(){this.p=new Array(512);const e=Array.from({length:256},(o,l)=>l).sort(()=>Math.random()-.5);for(let o=0;o<256;o++)this.p[o]=this.p[o+256]=e[o]}fade(e){return e*e*e*(e*(e*6-15)+10)}lerp(e,o,l){return o+e*(l-o)}grad(e,o,l){const r=e&15,s=r<8?o:l,c=r<4?l:r===12||r===14?o:0;return((r&1)===0?s:-s)+((r&2)===0?c:-c)}noise2D(e,o){const l=Math.floor(e)&255,r=Math.floor(o)&255;e-=Math.floor(e),o-=Math.floor(o);const s=this.fade(e),c=this.fade(o),f=this.p[l]+r,p=this.p[f],h=this.p[f+1],g=this.p[l+1]+r,x=this.p[g],b=this.p[g+1];return this.lerp(c,this.lerp(s,this.grad(this.p[p],e,o),this.grad(this.p[x],e-1,o)),this.lerp(s,this.grad(this.p[h],e,o-1),this.grad(this.p[b],e-1,o-1)))}}class PR{constructor(){this.ctx=null,this.masterGain=null,this.oscillator=null}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.gain.setValueAtTime(0,this.ctx.currentTime),this.masterGain.connect(this.ctx.destination))}startAmbient(){if(!this.ctx||!this.masterGain)return;this.oscillator=this.ctx.createOscillator(),this.oscillator.type="sine",this.oscillator.frequency.setValueAtTime(110,this.ctx.currentTime);const e=this.ctx.createBiquadFilter();e.type="lowpass",e.frequency.setValueAtTime(400,this.ctx.currentTime),this.oscillator.connect(e),e.connect(this.masterGain),this.oscillator.start(),this.masterGain.gain.linearRampToValueAtTime(.05,this.ctx.currentTime+2)}playInteraction(e){if(!this.ctx||!this.masterGain)return;const o=this.ctx.createOscillator(),l=this.ctx.createGain();o.type="triangle",o.frequency.setValueAtTime(e,this.ctx.currentTime),l.gain.setValueAtTime(.1,this.ctx.currentTime),l.gain.exponentialRampToValueAtTime(1e-4,this.ctx.currentTime+1.5),o.connect(l),l.connect(this.masterGain),o.start(),o.stop(this.ctx.currentTime+1.5)}updateModulation(e,o){if(!this.oscillator||!this.ctx)return;const l=110+e/o*55;this.oscillator.frequency.setTargetAtTime(l,this.ctx.currentTime,.1)}}const Gr=new PR;let UR=class{constructor(e,o){this.color="",this.x=Math.random()*e,this.y=Math.random()*o,this.prevX=this.x,this.prevY=this.y,this.velX=0,this.velY=0,this.accX=0,this.accY=0,this.maxSpeed=1.5+Math.random()*2}update(e,o,l,r){this.prevX=this.x,this.prevY=this.y;const s=.005,c=e.noise2D(this.x*s,this.y*s)*Math.PI*2*4;this.accX=Math.cos(c)*.1,this.accY=Math.sin(c)*.1;const f=this.x-o,p=this.y-l,h=Math.sqrt(f*f+p*p);if(h<150){const x=(150-h)/150,b=Math.atan2(p,f),y=r?x*.5:-x*.5;this.accX+=Math.cos(b)*y,this.accY+=Math.sin(b)*y}this.velX+=this.accX,this.velY+=this.accY;const g=Math.sqrt(this.velX*this.velX+this.velY*this.velY);g>this.maxSpeed&&(this.velX=this.velX/g*this.maxSpeed,this.velY=this.velY/g*this.maxSpeed),this.x+=this.velX,this.y+=this.velY,(this.x<0||this.x>window.innerWidth||this.y<0||this.y>window.innerHeight)&&(this.x=Math.random()*window.innerWidth,this.y=Math.random()*window.innerHeight,this.prevX=this.x,this.prevY=this.y,this.velX=0,this.velY=0)}draw(e,o){const r=(200+Math.sqrt(this.velX*this.velX+this.velY*this.velY)*20+o)%360;e.strokeStyle=`hsla(${r}, 80%, 60%, 0.5)`,e.lineWidth=.5,e.beginPath(),e.moveTo(this.prevX,this.prevY),e.lineTo(this.x,this.y),e.stroke()}};const GR=()=>{const n=G.useRef(null),e=G.useRef([]),o=G.useRef(new My),l=G.useRef({x:-1e3,y:-1e3}),[r,s]=G.useState(0),[c,f]=G.useState(!1),p=G.useCallback((x,b)=>{const y=[];for(let E=0;E<3e3;E++)y.push(new UR(x,b));e.current=y},[]);G.useEffect(()=>{const x=n.current;if(!x)return;const b=x.getContext("2d");if(!b)return;const y=()=>{x.width=window.innerWidth,x.height=window.innerHeight,p(x.width,x.height)};window.addEventListener("resize",y),y();let E;const w=()=>{b.fillStyle="rgba(0, 0, 0, 0.05)",b.fillRect(0,0,x.width,x.height),e.current.forEach(C=>{C.update(o.current,l.current.x,l.current.y,!1),C.draw(b,r)}),E=requestAnimationFrame(w)};return w(),()=>{window.removeEventListener("resize",y),cancelAnimationFrame(E)}},[p,r]);const h=x=>{l.current={x:x.clientX,y:x.clientY},c&&Gr.updateModulation(x.clientX,window.innerWidth)},g=()=>{c||(Gr.init(),Gr.startAmbient(),f(!0)),s(x=>x+60),o.current=new My,Gr.playInteraction(220+Math.random()*440)};return d.jsxs("div",{className:"relative w-full h-screen bg-black cursor-none select-none overflow-hidden",onMouseMove:h,onClick:g,children:[d.jsx("canvas",{ref:n,className:"block w-full h-full"}),!c&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/30 text-sm animate-pulse",children:"Click to start the experience"})]})},BR=()=>d.jsx("div",{className:"w-full h-[calc(100vh-80px)] bg-black overflow-hidden relative",children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:d.jsx(GR,{})})});var cl=(n=>(n.LIQUID="Liquid",n.EXPLOSIVE="Explosive",n.SNOW="Snow",n))(cl||{});const OR=({settings:n,onSettingsChange:e,onPresetSelect:o})=>{const[l,r]=G.useState(!0);return d.jsxs("div",{className:`fixed top-6 right-6 z-50 transition-all duration-300 ${l?"w-80":"w-12 h-12 overflow-hidden"}`,children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl p-6 text-white overflow-hidden relative",children:[d.jsx("button",{onClick:()=>r(!l),className:"absolute top-4 right-4 text-white/50 hover:text-white transition-colors",children:l?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),l&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-xl font-bold tracking-tight mb-4",children:"Studio Controls"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>o(cl.LIQUID),className:"flex-1 py-2 px-3 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-medium transition-all active:scale-95",children:"Liquid"}),d.jsx("button",{onClick:()=>o(cl.EXPLOSIVE),className:"flex-1 py-2 px-3 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-medium transition-all active:scale-95",children:"Explosive"}),d.jsx("button",{onClick:()=>o(cl.SNOW),className:"flex-1 py-2 px-3 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-medium transition-all active:scale-95",children:"Snow"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("label",{className:"text-[10px] uppercase tracking-widest text-white/50 font-bold",children:"Text Content"}),d.jsx("input",{type:"text",value:n.text,onChange:s=>e({text:s.target.value}),className:"bg-black/20 border border-white/10 rounded-lg px-3 py-2 focus:outline-none focus:border-white/30 transition-colors"})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"text-[10px] uppercase tracking-widest text-white/50 font-bold",children:"Particle Size"}),d.jsxs("span",{className:"text-xs text-white/80",children:[n.particleSize,"px"]})]}),d.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:n.particleSize,onChange:s=>e({particleSize:parseFloat(s.target.value)}),className:"w-full accent-white"})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"text-[10px] uppercase tracking-widest text-white/50 font-bold",children:"Repulsion Radius"}),d.jsx("span",{className:"text-xs text-white/80",children:n.repulsionRadius})]}),d.jsx("input",{type:"range",min:"50",max:"300",value:n.repulsionRadius,onChange:s=>e({repulsionRadius:parseInt(s.target.value)}),className:"w-full accent-white"})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"text-[10px] uppercase tracking-widest text-white/50 font-bold",children:"Return Speed"}),d.jsxs("span",{className:"text-xs text-white/80",children:[(n.returnSpeed*100).toFixed(1),"%"]})]}),d.jsx("input",{type:"range",min:"0.01",max:"0.5",step:"0.01",value:n.returnSpeed,onChange:s=>e({returnSpeed:parseFloat(s.target.value)}),className:"w-full accent-white"})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("label",{className:"text-[10px] uppercase tracking-widest text-white/50 font-bold",children:"Color"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"color",value:n.color,onChange:s=>e({color:s.target.value}),className:"h-10 w-10 rounded-lg overflow-hidden bg-transparent cursor-pointer"}),d.jsx("span",{className:"text-xs font-mono uppercase text-white/70",children:n.color})]})]})]}),d.jsx("p",{className:"text-[10px] text-white/30 text-center pt-4",children:" Kinetic Typo Studio"})]})]}),!l&&d.jsx("button",{onClick:()=>r(!0),className:"w-12 h-12 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/20 shadow-xl hover:bg-white/20 transition-all",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})})]})};class VR{constructor(e,o,l,r){this.vx=0,this.vy=0,this.x=Math.random()*window.innerWidth,this.y=Math.random()*window.innerHeight,this.originX=e,this.originY=o,this.size=l,this.color=r}update(e,o,l){const r=e-this.x,s=o-this.y,c=Math.sqrt(r*r+s*s);if(c<l.repulsionRadius){const h=(l.repulsionRadius-c)/l.repulsionRadius,g=Math.atan2(s,r),x=l.friction<.9?15:8;this.vx-=Math.cos(g)*h*x,this.vy-=Math.sin(g)*h*x}const f=this.originX-this.x,p=this.originY-this.y;this.vx+=f*l.returnSpeed,this.vy+=p*l.returnSpeed,this.vx*=l.friction,this.vy*=l.friction,this.x+=this.vx,this.y+=this.vy}draw(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2),e.fill()}}class HR{constructor(){this.ctx=null}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext))}playInteractionSound(e=440,o="sine",l=.1){if(this.init(),!this.ctx)return;const r=this.ctx.createOscillator(),s=this.ctx.createGain();r.type=o,r.frequency.setValueAtTime(e,this.ctx.currentTime),r.frequency.exponentialRampToValueAtTime(e*.5,this.ctx.currentTime+l),s.gain.setValueAtTime(.1,this.ctx.currentTime),s.gain.exponentialRampToValueAtTime(.001,this.ctx.currentTime+l),r.connect(s),s.connect(this.ctx.destination),r.start(),r.stop(this.ctx.currentTime+l)}playPresetChange(){this.playInteractionSound(880,"triangle",.2),setTimeout(()=>this.playInteractionSound(660,"triangle",.15),50)}}const _y=new HR,zR=()=>{const n=G.useRef(null),e=G.useRef(null),o=G.useRef([]),l=G.useRef({x:-1e3,y:-1e3}),r=G.useRef(),[s,c]=G.useState({text:"HELLO",particleSize:2.5,repulsionRadius:120,returnSpeed:.1,color:"#FFFFFF",density:4,friction:.95}),f=G.useCallback(()=>{const x=e.current;if(!x||x.width===0||x.height===0||!x.getContext("2d",{willReadFrequently:!0}))return;o.current=[];const y=document.createElement("canvas"),E=y.getContext("2d",{willReadFrequently:!0});if(!E)return;y.width=x.width,y.height=x.height;const w=Math.min(x.width/(s.text.length||1),x.height*.6);E.fillStyle="#ffffff",E.font=`900 ${w}px Inter, -apple-system, sans-serif`,E.textAlign="center",E.textBaseline="middle",E.fillText(s.text.toUpperCase(),y.width/2,y.height/2);const C=E.getImageData(0,0,y.width,y.height).data,R=s.density;for(let U=0;U<y.height;U+=R)for(let D=0;D<y.width;D+=R){const V=(U*y.width+D)*4;C[V+3]>128&&o.current.push(new VR(D,U,s.particleSize,s.color))}},[s.text,s.density,s.particleSize,s.color]);G.useEffect(()=>{const x=e.current,b=n.current;if(!x||!b)return;const y=()=>{x.width=b.clientWidth,x.height=b.clientHeight,f()},E=new ResizeObserver(()=>y());E.observe(b);const w=()=>{const C=x.getContext("2d");C&&(C.clearRect(0,0,x.width,x.height),o.current.forEach(R=>{R.update(l.current.x,l.current.y,s),R.draw(C)}),r.current=requestAnimationFrame(w))};return w(),()=>{E.disconnect(),r.current&&cancelAnimationFrame(r.current)}},[f,s]);const p=x=>{const b=e.current;if(!b)return;const y=b.getBoundingClientRect();l.current.x=x.clientX-y.left,l.current.y=x.clientY-y.top,Math.random()>.98&&_y.playInteractionSound(Math.random()*200+400,"sine",.05)},h=()=>{l.current.x=-1e3,l.current.y=-1e3},g=x=>{switch(_y.playPresetChange(),x){case cl.LIQUID:c(b=>({...b,particleSize:4,repulsionRadius:150,returnSpeed:.05,friction:.98,density:6}));break;case cl.EXPLOSIVE:c(b=>({...b,particleSize:3,repulsionRadius:200,returnSpeed:.2,friction:.85,density:4}));break;case cl.SNOW:c(b=>({...b,particleSize:1.5,repulsionRadius:80,returnSpeed:.08,friction:.96,density:3}));break}};return d.jsxs("div",{ref:n,className:"w-full h-[calc(100vh-120px)] min-h-[500px] bg-black overflow-hidden select-none relative rounded-3xl shadow-2xl",children:[d.jsx("canvas",{ref:e,onMouseMove:p,onMouseLeave:h,className:"block w-full h-full"}),d.jsx(OR,{settings:s,onSettingsChange:x=>c(b=>({...b,...x})),onPresetSelect:g}),d.jsx("div",{className:"fixed bottom-10 left-10 text-white/20 text-[10px] uppercase tracking-[0.3em] font-medium pointer-events-none z-0",children:"Move mouse over the text"})]})},FR=()=>d.jsx(zR,{});function jR(){return d.jsx(Yb,{children:d.jsx(Ub,{basename:"/251031-test-my-React-Project/",children:d.jsx(hb,{children:d.jsxs(Mn,{path:"/",element:d.jsx(t2,{}),children:[d.jsx(Mn,{index:!0,element:d.jsx(u2,{})}),d.jsx(Mn,{path:"neonbreaker",element:d.jsx(d2,{})}),d.jsx(Mn,{path:"virtual-try-on",element:d.jsx(L_,{})}),d.jsx(Mn,{path:"aivoca",element:d.jsx(O_,{})}),d.jsx(Mn,{path:"survivor-game",element:d.jsx(W_,{})}),d.jsx(Mn,{path:"drawbridgegame",element:d.jsx(oR,{})}),d.jsx(Mn,{path:"subway-runner",element:d.jsx(SR,{})}),d.jsx(Mn,{path:"slice-game",element:d.jsx(CR,{})}),d.jsx(Mn,{path:"neon-stack",element:d.jsx(DR,{})}),d.jsx(Mn,{path:"generative-art",element:d.jsx(BR,{})}),d.jsx(Mn,{path:"/kinetic-typo",element:d.jsx(FR,{})})]})})})})}const ox=document.getElementById("root");if(!ox)throw new Error("Root element not found");vS.createRoot(ox).render(d.jsx(cS.StrictMode,{children:d.jsx(jR,{})}));
